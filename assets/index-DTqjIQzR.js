var Tj=Object.defineProperty;var wj=(t,e,n)=>e in t?Tj(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var py=(t,e,n)=>wj(t,typeof e!="symbol"?e+"":e,n);function Aj(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var Mj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Os(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var my={exports:{}},y0={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZO;function Cj(){if(ZO)return y0;ZO=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,a){var s=null;if(a!==void 0&&(s=""+a),i.key!==void 0&&(s=""+i.key),"key"in i){a={};for(var l in i)l!=="key"&&(a[l]=i[l])}else a=i;return i=a.ref,{$$typeof:t,type:r,key:s,ref:i!==void 0?i:null,props:a}}return y0.Fragment=e,y0.jsx=n,y0.jsxs=n,y0}var JO;function EI(){return JO||(JO=1,my.exports=Cj()),my.exports}var L=EI(),vy={exports:{}},Xt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QO;function Rj(){if(QO)return Xt;QO=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),m=Symbol.iterator;function g(z){return z===null||typeof z!="object"?null:(z=m&&z[m]||z["@@iterator"],typeof z=="function"?z:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,y={};function E(z,I,V){this.props=z,this.context=I,this.refs=y,this.updater=V||_}E.prototype.isReactComponent={},E.prototype.setState=function(z,I){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,I,"setState")},E.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function w(){}w.prototype=E.prototype;function b(z,I,V){this.props=z,this.context=I,this.refs=y,this.updater=V||_}var M=b.prototype=new w;M.constructor=b,x(M,E.prototype),M.isPureReactComponent=!0;var A=Array.isArray;function C(){}var R={H:null,A:null,T:null,S:null},F=Object.prototype.hasOwnProperty;function O(z,I,V){var X=V.ref;return{$$typeof:t,type:z,key:I,ref:X!==void 0?X:null,props:V}}function k(z,I){return O(z.type,I,z.props)}function D(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function U(z){var I={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(V){return I[V]})}var Z=/\/+/g;function se(z,I){return typeof z=="object"&&z!==null&&z.key!=null?U(""+z.key):I.toString(36)}function oe(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(C,C):(z.status="pending",z.then(function(I){z.status==="pending"&&(z.status="fulfilled",z.value=I)},function(I){z.status==="pending"&&(z.status="rejected",z.reason=I)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function G(z,I,V,X,te){var J=typeof z;(J==="undefined"||J==="boolean")&&(z=null);var fe=!1;if(z===null)fe=!0;else switch(J){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(z.$$typeof){case t:case e:fe=!0;break;case h:return fe=z._init,G(fe(z._payload),I,V,X,te)}}if(fe)return te=te(z),fe=X===""?"."+se(z,0):X,A(te)?(V="",fe!=null&&(V=fe.replace(Z,"$&/")+"/"),G(te,I,V,"",function(de){return de})):te!=null&&(D(te)&&(te=k(te,V+(te.key==null||z&&z.key===te.key?"":(""+te.key).replace(Z,"$&/")+"/")+fe)),I.push(te)),1;fe=0;var ae=X===""?".":X+":";if(A(z))for(var Q=0;Q<z.length;Q++)X=z[Q],J=ae+se(X,Q),fe+=G(X,I,V,J,te);else if(Q=g(z),typeof Q=="function")for(z=Q.call(z),Q=0;!(X=z.next()).done;)X=X.value,J=ae+se(X,Q++),fe+=G(X,I,V,J,te);else if(J==="object"){if(typeof z.then=="function")return G(oe(z),I,V,X,te);throw I=String(z),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.")}return fe}function W(z,I,V){if(z==null)return z;var X=[],te=0;return G(z,X,"","",function(J){return I.call(V,J,te++)}),X}function ee(z){if(z._status===-1){var I=z._result;I=I(),I.then(function(V){(z._status===0||z._status===-1)&&(z._status=1,z._result=V)},function(V){(z._status===0||z._status===-1)&&(z._status=2,z._result=V)}),z._status===-1&&(z._status=0,z._result=I)}if(z._status===1)return z._result.default;throw z._result}var Y=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var I=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(I))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},pe={map:W,forEach:function(z,I,V){W(z,function(){I.apply(this,arguments)},V)},count:function(z){var I=0;return W(z,function(){I++}),I},toArray:function(z){return W(z,function(I){return I})||[]},only:function(z){if(!D(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return Xt.Activity=p,Xt.Children=pe,Xt.Component=E,Xt.Fragment=n,Xt.Profiler=i,Xt.PureComponent=b,Xt.StrictMode=r,Xt.Suspense=u,Xt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Xt.__COMPILER_RUNTIME={__proto__:null,c:function(z){return R.H.useMemoCache(z)}},Xt.cache=function(z){return function(){return z.apply(null,arguments)}},Xt.cacheSignal=function(){return null},Xt.cloneElement=function(z,I,V){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var X=x({},z.props),te=z.key;if(I!=null)for(J in I.key!==void 0&&(te=""+I.key),I)!F.call(I,J)||J==="key"||J==="__self"||J==="__source"||J==="ref"&&I.ref===void 0||(X[J]=I[J]);var J=arguments.length-2;if(J===1)X.children=V;else if(1<J){for(var fe=Array(J),ae=0;ae<J;ae++)fe[ae]=arguments[ae+2];X.children=fe}return O(z.type,te,X)},Xt.createContext=function(z){return z={$$typeof:s,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:a,_context:z},z},Xt.createElement=function(z,I,V){var X,te={},J=null;if(I!=null)for(X in I.key!==void 0&&(J=""+I.key),I)F.call(I,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(te[X]=I[X]);var fe=arguments.length-2;if(fe===1)te.children=V;else if(1<fe){for(var ae=Array(fe),Q=0;Q<fe;Q++)ae[Q]=arguments[Q+2];te.children=ae}if(z&&z.defaultProps)for(X in fe=z.defaultProps,fe)te[X]===void 0&&(te[X]=fe[X]);return O(z,J,te)},Xt.createRef=function(){return{current:null}},Xt.forwardRef=function(z){return{$$typeof:l,render:z}},Xt.isValidElement=D,Xt.lazy=function(z){return{$$typeof:h,_payload:{_status:-1,_result:z},_init:ee}},Xt.memo=function(z,I){return{$$typeof:f,type:z,compare:I===void 0?null:I}},Xt.startTransition=function(z){var I=R.T,V={};R.T=V;try{var X=z(),te=R.S;te!==null&&te(V,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(C,Y)}catch(J){Y(J)}finally{I!==null&&V.types!==null&&(I.types=V.types),R.T=I}},Xt.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Xt.use=function(z){return R.H.use(z)},Xt.useActionState=function(z,I,V){return R.H.useActionState(z,I,V)},Xt.useCallback=function(z,I){return R.H.useCallback(z,I)},Xt.useContext=function(z){return R.H.useContext(z)},Xt.useDebugValue=function(){},Xt.useDeferredValue=function(z,I){return R.H.useDeferredValue(z,I)},Xt.useEffect=function(z,I){return R.H.useEffect(z,I)},Xt.useEffectEvent=function(z){return R.H.useEffectEvent(z)},Xt.useId=function(){return R.H.useId()},Xt.useImperativeHandle=function(z,I,V){return R.H.useImperativeHandle(z,I,V)},Xt.useInsertionEffect=function(z,I){return R.H.useInsertionEffect(z,I)},Xt.useLayoutEffect=function(z,I){return R.H.useLayoutEffect(z,I)},Xt.useMemo=function(z,I){return R.H.useMemo(z,I)},Xt.useOptimistic=function(z,I){return R.H.useOptimistic(z,I)},Xt.useReducer=function(z,I,V){return R.H.useReducer(z,I,V)},Xt.useRef=function(z){return R.H.useRef(z)},Xt.useState=function(z){return R.H.useState(z)},Xt.useSyncExternalStore=function(z,I,V){return R.H.useSyncExternalStore(z,I,V)},Xt.useTransition=function(){return R.H.useTransition()},Xt.version="19.2.3",Xt}var e3;function uc(){return e3||(e3=1,vy.exports=Rj()),vy.exports}var P=uc();const nh=Os(P),Oj=Aj({__proto__:null,default:nh},[P]);var gy={exports:{}},E0={},xy={exports:{}},_y={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t3;function Pj(){return t3||(t3=1,(function(t){function e(G,W){var ee=G.length;G.push(W);e:for(;0<ee;){var Y=ee-1>>>1,pe=G[Y];if(0<i(pe,W))G[Y]=W,G[ee]=pe,ee=Y;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var W=G[0],ee=G.pop();if(ee!==W){G[0]=ee;e:for(var Y=0,pe=G.length,z=pe>>>1;Y<z;){var I=2*(Y+1)-1,V=G[I],X=I+1,te=G[X];if(0>i(V,ee))X<pe&&0>i(te,V)?(G[Y]=te,G[X]=ee,Y=X):(G[Y]=V,G[I]=ee,Y=I);else if(X<pe&&0>i(te,ee))G[Y]=te,G[X]=ee,Y=X;else break e}}return W}function i(G,W){var ee=G.sortIndex-W.sortIndex;return ee!==0?ee:G.id-W.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],f=[],h=1,p=null,m=3,g=!1,_=!1,x=!1,y=!1,E=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;function M(G){for(var W=n(f);W!==null;){if(W.callback===null)r(f);else if(W.startTime<=G)r(f),W.sortIndex=W.expirationTime,e(u,W);else break;W=n(f)}}function A(G){if(x=!1,M(G),!_)if(n(u)!==null)_=!0,C||(C=!0,U());else{var W=n(f);W!==null&&oe(A,W.startTime-G)}}var C=!1,R=-1,F=5,O=-1;function k(){return y?!0:!(t.unstable_now()-O<F)}function D(){if(y=!1,C){var G=t.unstable_now();O=G;var W=!0;try{e:{_=!1,x&&(x=!1,w(R),R=-1),g=!0;var ee=m;try{t:{for(M(G),p=n(u);p!==null&&!(p.expirationTime>G&&k());){var Y=p.callback;if(typeof Y=="function"){p.callback=null,m=p.priorityLevel;var pe=Y(p.expirationTime<=G);if(G=t.unstable_now(),typeof pe=="function"){p.callback=pe,M(G),W=!0;break t}p===n(u)&&r(u),M(G)}else r(u);p=n(u)}if(p!==null)W=!0;else{var z=n(f);z!==null&&oe(A,z.startTime-G),W=!1}}break e}finally{p=null,m=ee,g=!1}W=void 0}}finally{W?U():C=!1}}}var U;if(typeof b=="function")U=function(){b(D)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,se=Z.port2;Z.port1.onmessage=D,U=function(){se.postMessage(null)}}else U=function(){E(D,0)};function oe(G,W){R=E(function(){G(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_next=function(G){switch(m){case 1:case 2:case 3:var W=3;break;default:W=m}var ee=m;m=W;try{return G()}finally{m=ee}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(G,W){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ee=m;m=G;try{return W()}finally{m=ee}},t.unstable_scheduleCallback=function(G,W,ee){var Y=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?Y+ee:Y):ee=Y,G){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=ee+pe,G={id:h++,callback:W,priorityLevel:G,startTime:ee,expirationTime:pe,sortIndex:-1},ee>Y?(G.sortIndex=ee,e(f,G),n(u)===null&&G===n(f)&&(x?(w(R),R=-1):x=!0,oe(A,ee-Y))):(G.sortIndex=pe,e(u,G),_||g||(_=!0,C||(C=!0,U()))),G},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(G){var W=m;return function(){var ee=m;m=W;try{return G.apply(this,arguments)}finally{m=ee}}}})(_y)),_y}var n3;function Dj(){return n3||(n3=1,xy.exports=Pj()),xy.exports}var yy={exports:{}},wi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r3;function Nj(){if(r3)return wi;r3=1;var t=uc();function e(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)f+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(u,f,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:u,containerInfo:f,implementation:h}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(u,f){if(u==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return wi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,wi.createPortal=function(u,f){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return a(u,f,null,h)},wi.flushSync=function(u){var f=s.T,h=r.p;try{if(s.T=null,r.p=2,u)return u()}finally{s.T=f,r.p=h,r.d.f()}},wi.preconnect=function(u,f){typeof u=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(u,f))},wi.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},wi.preinit=function(u,f){if(typeof u=="string"&&f&&typeof f.as=="string"){var h=f.as,p=l(h,f.crossOrigin),m=typeof f.integrity=="string"?f.integrity:void 0,g=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;h==="style"?r.d.S(u,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:m,fetchPriority:g}):h==="script"&&r.d.X(u,{crossOrigin:p,integrity:m,fetchPriority:g,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},wi.preinitModule=function(u,f){if(typeof u=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var h=l(f.as,f.crossOrigin);r.d.M(u,{crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(u)},wi.preload=function(u,f){if(typeof u=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var h=f.as,p=l(h,f.crossOrigin);r.d.L(u,h,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},wi.preloadModule=function(u,f){if(typeof u=="string")if(f){var h=l(f.as,f.crossOrigin);r.d.m(u,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(u)},wi.requestFormReset=function(u){r.d.r(u)},wi.unstable_batchedUpdates=function(u,f){return u(f)},wi.useFormState=function(u,f,h){return s.H.useFormState(u,f,h)},wi.useFormStatus=function(){return s.H.useHostTransitionStatus()},wi.version="19.2.3",wi}var i3;function SI(){if(i3)return yy.exports;i3=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),yy.exports=Nj(),yy.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a3;function kj(){if(a3)return E0;a3=1;var t=Dj(),e=uc(),n=SI();function r(o){var c="https://react.dev/errors/"+o;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)c+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function a(o){var c=o,d=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(d=c.return),o=c.return;while(o)}return c.tag===3?d:null}function s(o){if(o.tag===13){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function l(o){if(o.tag===31){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function u(o){if(a(o)!==o)throw Error(r(188))}function f(o){var c=o.alternate;if(!c){if(c=a(o),c===null)throw Error(r(188));return c!==o?null:o}for(var d=o,v=c;;){var S=d.return;if(S===null)break;var T=S.alternate;if(T===null){if(v=S.return,v!==null){d=v;continue}break}if(S.child===T.child){for(T=S.child;T;){if(T===d)return u(S),o;if(T===v)return u(S),c;T=T.sibling}throw Error(r(188))}if(d.return!==v.return)d=S,v=T;else{for(var N=!1,K=S.child;K;){if(K===d){N=!0,d=S,v=T;break}if(K===v){N=!0,v=S,d=T;break}K=K.sibling}if(!N){for(K=T.child;K;){if(K===d){N=!0,d=T,v=S;break}if(K===v){N=!0,v=T,d=S;break}K=K.sibling}if(!N)throw Error(r(189))}}if(d.alternate!==v)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?o:c}function h(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o;for(o=o.child;o!==null;){if(c=h(o),c!==null)return c;o=o.sibling}return null}var p=Object.assign,m=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),w=Symbol.for("react.consumer"),b=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function U(o){return o===null||typeof o!="object"?null:(o=D&&o[D]||o["@@iterator"],typeof o=="function"?o:null)}var Z=Symbol.for("react.client.reference");function se(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===Z?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case x:return"Fragment";case E:return"Profiler";case y:return"StrictMode";case A:return"Suspense";case C:return"SuspenseList";case O:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case _:return"Portal";case b:return o.displayName||"Context";case w:return(o._context.displayName||"Context")+".Consumer";case M:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case R:return c=o.displayName||null,c!==null?c:se(o.type)||"Memo";case F:c=o._payload,o=o._init;try{return se(o(c))}catch{}}return null}var oe=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},Y=[],pe=-1;function z(o){return{current:o}}function I(o){0>pe||(o.current=Y[pe],Y[pe]=null,pe--)}function V(o,c){pe++,Y[pe]=o.current,o.current=c}var X=z(null),te=z(null),J=z(null),fe=z(null);function ae(o,c){switch(V(J,c),V(te,o),V(X,null),c.nodeType){case 9:case 11:o=(o=c.documentElement)&&(o=o.namespaceURI)?yO(o):0;break;default:if(o=c.tagName,c=c.namespaceURI)c=yO(c),o=EO(c,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}I(X),V(X,o)}function Q(){I(X),I(te),I(J)}function de(o){o.memoizedState!==null&&V(fe,o);var c=X.current,d=EO(c,o.type);c!==d&&(V(te,o),V(X,d))}function Ae(o){te.current===o&&(I(X),I(te)),fe.current===o&&(I(fe),v0._currentValue=ee)}var j,We;function Le(o){if(j===void 0)try{throw Error()}catch(d){var c=d.stack.trim().match(/\n( *(at )?)/);j=c&&c[1]||"",We=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+j+o+We}var Je=!1;function Xe(o,c){if(!o||Je)return"";Je=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(c){var Ke=function(){throw Error()};if(Object.defineProperty(Ke.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ke,[])}catch(Fe){var ke=Fe}Reflect.construct(o,[],Ke)}else{try{Ke.call()}catch(Fe){ke=Fe}o.call(Ke.prototype)}}else{try{throw Error()}catch(Fe){ke=Fe}(Ke=o())&&typeof Ke.catch=="function"&&Ke.catch(function(){})}}catch(Fe){if(Fe&&ke&&typeof Fe.stack=="string")return[Fe.stack,ke.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var S=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");S&&S.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var T=v.DetermineComponentFrameRoot(),N=T[0],K=T[1];if(N&&K){var me=N.split(`
`),Oe=K.split(`
`);for(S=v=0;v<me.length&&!me[v].includes("DetermineComponentFrameRoot");)v++;for(;S<Oe.length&&!Oe[S].includes("DetermineComponentFrameRoot");)S++;if(v===me.length||S===Oe.length)for(v=me.length-1,S=Oe.length-1;1<=v&&0<=S&&me[v]!==Oe[S];)S--;for(;1<=v&&0<=S;v--,S--)if(me[v]!==Oe[S]){if(v!==1||S!==1)do if(v--,S--,0>S||me[v]!==Oe[S]){var He=`
`+me[v].replace(" at new "," at ");return o.displayName&&He.includes("<anonymous>")&&(He=He.replace("<anonymous>",o.displayName)),He}while(1<=v&&0<=S);break}}}finally{Je=!1,Error.prepareStackTrace=d}return(d=o?o.displayName||o.name:"")?Le(d):""}function Ge(o,c){switch(o.tag){case 26:case 27:case 5:return Le(o.type);case 16:return Le("Lazy");case 13:return o.child!==c&&c!==null?Le("Suspense Fallback"):Le("Suspense");case 19:return Le("SuspenseList");case 0:case 15:return Xe(o.type,!1);case 11:return Xe(o.type.render,!1);case 1:return Xe(o.type,!0);case 31:return Le("Activity");default:return""}}function ce(o){try{var c="",d=null;do c+=Ge(o,d),d=o,o=o.return;while(o);return c}catch(v){return`
Error generating stack: `+v.message+`
`+v.stack}}var Ft=Object.prototype.hasOwnProperty,Ct=t.unstable_scheduleCallback,Nt=t.unstable_cancelCallback,rt=t.unstable_shouldYield,ie=t.unstable_requestPaint,B=t.unstable_now,ve=t.unstable_getCurrentPriorityLevel,Ie=t.unstable_ImmediatePriority,Ue=t.unstable_UserBlockingPriority,Te=t.unstable_NormalPriority,dt=t.unstable_LowPriority,Be=t.unstable_IdlePriority,st=t.log,Tt=t.unstable_setDisableYieldValue,Ve=null,Qe=null;function gt(o){if(typeof st=="function"&&Tt(o),Qe&&typeof Qe.setStrictMode=="function")try{Qe.setStrictMode(Ve,o)}catch{}}var vt=Math.clz32?Math.clz32:ge,it=Math.log,Pt=Math.LN2;function ge(o){return o>>>=0,o===0?32:31-(it(o)/Pt|0)|0}var at=256,et=262144,pt=4194304;function $e(o){var c=o&42;if(c!==0)return c;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function qe(o,c,d){var v=o.pendingLanes;if(v===0)return 0;var S=0,T=o.suspendedLanes,N=o.pingedLanes;o=o.warmLanes;var K=v&134217727;return K!==0?(v=K&~T,v!==0?S=$e(v):(N&=K,N!==0?S=$e(N):d||(d=K&~o,d!==0&&(S=$e(d))))):(K=v&~T,K!==0?S=$e(K):N!==0?S=$e(N):d||(d=v&~o,d!==0&&(S=$e(d)))),S===0?0:c!==0&&c!==S&&(c&T)===0&&(T=S&-S,d=c&-c,T>=d||T===32&&(d&4194048)!==0)?c:S}function ot(o,c){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&c)===0}function Gt(o,c){switch(o){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sn(){var o=pt;return pt<<=1,(pt&62914560)===0&&(pt=4194304),o}function fn(o){for(var c=[],d=0;31>d;d++)c.push(o);return c}function $r(o,c){o.pendingLanes|=c,c!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function fa(o,c,d,v,S,T){var N=o.pendingLanes;o.pendingLanes=d,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=d,o.entangledLanes&=d,o.errorRecoveryDisabledLanes&=d,o.shellSuspendCounter=0;var K=o.entanglements,me=o.expirationTimes,Oe=o.hiddenUpdates;for(d=N&~d;0<d;){var He=31-vt(d),Ke=1<<He;K[He]=0,me[He]=-1;var ke=Oe[He];if(ke!==null)for(Oe[He]=null,He=0;He<ke.length;He++){var Fe=ke[He];Fe!==null&&(Fe.lane&=-536870913)}d&=~Ke}v!==0&&Iu(o,v,0),T!==0&&S===0&&o.tag!==0&&(o.suspendedLanes|=T&~(N&~c))}function Iu(o,c,d){o.pendingLanes|=c,o.suspendedLanes&=~c;var v=31-vt(c);o.entangledLanes|=c,o.entanglements[v]=o.entanglements[v]|1073741824|d&261930}function oo(o,c){var d=o.entangledLanes|=c;for(o=o.entanglements;d;){var v=31-vt(d),S=1<<v;S&c|o[v]&c&&(o[v]|=c),d&=~S}}function dl(o,c){var d=c&-c;return d=(d&42)!==0?1:vc(d),(d&(o.suspendedLanes|c))!==0?0:d}function vc(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function pl(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function q(){var o=W.p;return o!==0?o:(o=window.event,o===void 0?32:VO(o.type))}function ue(o,c){var d=W.p;try{return W.p=o,c()}finally{W.p=d}}var ne=Math.random().toString(36).slice(2),re="__reactFiber$"+ne,le="__reactProps$"+ne,he="__reactContainer$"+ne,Ce="__reactEvents$"+ne,ze="__reactListeners$"+ne,Re="__reactHandles$"+ne,Pe="__reactResources$"+ne,Ne="__reactMarker$"+ne;function tt(o){delete o[re],delete o[le],delete o[Ce],delete o[ze],delete o[Re]}function lt(o){var c=o[re];if(c)return c;for(var d=o.parentNode;d;){if(c=d[he]||d[re]){if(d=c.alternate,c.child!==null||d!==null&&d.child!==null)for(o=CO(o);o!==null;){if(d=o[re])return d;o=CO(o)}return c}o=d,d=o.parentNode}return null}function xt(o){if(o=o[re]||o[he]){var c=o.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return o}return null}function nt(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o.stateNode;throw Error(r(33))}function mt(o){var c=o[Pe];return c||(c=o[Pe]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function H(o){o[Ne]=!0}var xe=new Set,we={};function be(o,c){Se(o,c),Se(o+"Capture",c)}function Se(o,c){for(we[o]=c,o=0;o<c.length;o++)xe.add(c[o])}var ut=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_t={},ft={};function St(o){return Ft.call(ft,o)?!0:Ft.call(_t,o)?!1:ut.test(o)?ft[o]=!0:(_t[o]=!0,!1)}function Et(o,c,d){if(St(c))if(d===null)o.removeAttribute(c);else{switch(typeof d){case"undefined":case"function":case"symbol":o.removeAttribute(c);return;case"boolean":var v=c.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){o.removeAttribute(c);return}}o.setAttribute(c,""+d)}}function Ut(o,c,d){if(d===null)o.removeAttribute(c);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(c);return}o.setAttribute(c,""+d)}}function Mt(o,c,d,v){if(v===null)o.removeAttribute(d);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(d);return}o.setAttributeNS(c,d,""+v)}}function Bt(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function bn(o){var c=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function nr(o,c,d){var v=Object.getOwnPropertyDescriptor(o.constructor.prototype,c);if(!o.hasOwnProperty(c)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var S=v.get,T=v.set;return Object.defineProperty(o,c,{configurable:!0,get:function(){return S.call(this)},set:function(N){d=""+N,T.call(this,N)}}),Object.defineProperty(o,c,{enumerable:v.enumerable}),{getValue:function(){return d},setValue:function(N){d=""+N},stopTracking:function(){o._valueTracker=null,delete o[c]}}}}function Wn(o){if(!o._valueTracker){var c=bn(o)?"checked":"value";o._valueTracker=nr(o,c,""+o[c])}}function An(o){if(!o)return!1;var c=o._valueTracker;if(!c)return!0;var d=c.getValue(),v="";return o&&(v=bn(o)?o.checked?"true":"false":o.value),o=v,o!==d?(c.setValue(o),!0):!1}function Dt(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var Tn=/[\n"\\]/g;function Yt(o){return o.replace(Tn,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function li(o,c,d,v,S,T,N,K){o.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?o.type=N:o.removeAttribute("type"),c!=null?N==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+Bt(c)):o.value!==""+Bt(c)&&(o.value=""+Bt(c)):N!=="submit"&&N!=="reset"||o.removeAttribute("value"),c!=null?ci(o,N,Bt(c)):d!=null?ci(o,N,Bt(d)):v!=null&&o.removeAttribute("value"),S==null&&T!=null&&(o.defaultChecked=!!T),S!=null&&(o.checked=S&&typeof S!="function"&&typeof S!="symbol"),K!=null&&typeof K!="function"&&typeof K!="symbol"&&typeof K!="boolean"?o.name=""+Bt(K):o.removeAttribute("name")}function lo(o,c,d,v,S,T,N,K){if(T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(o.type=T),c!=null||d!=null){if(!(T!=="submit"&&T!=="reset"||c!=null)){Wn(o);return}d=d!=null?""+Bt(d):"",c=c!=null?""+Bt(c):d,K||c===o.value||(o.value=c),o.defaultValue=c}v=v??S,v=typeof v!="function"&&typeof v!="symbol"&&!!v,o.checked=K?o.checked:!!v,o.defaultChecked=!!v,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(o.name=N),Wn(o)}function ci(o,c,d){c==="number"&&Dt(o.ownerDocument)===o||o.defaultValue===""+d||(o.defaultValue=""+d)}function ka(o,c,d,v){if(o=o.options,c){c={};for(var S=0;S<d.length;S++)c["$"+d[S]]=!0;for(d=0;d<o.length;d++)S=c.hasOwnProperty("$"+o[d].value),o[d].selected!==S&&(o[d].selected=S),S&&v&&(o[d].defaultSelected=!0)}else{for(d=""+Bt(d),c=null,S=0;S<o.length;S++){if(o[S].value===d){o[S].selected=!0,v&&(o[S].defaultSelected=!0);return}c!==null||o[S].disabled||(c=o[S])}c!==null&&(c.selected=!0)}}function Mn(o,c,d){if(c!=null&&(c=""+Bt(c),c!==o.value&&(o.value=c),d==null)){o.defaultValue!==c&&(o.defaultValue=c);return}o.defaultValue=d!=null?""+Bt(d):""}function ui(o,c,d,v){if(c==null){if(v!=null){if(d!=null)throw Error(r(92));if(oe(v)){if(1<v.length)throw Error(r(93));v=v[0]}d=v}d==null&&(d=""),c=d}d=Bt(c),o.defaultValue=d,v=o.textContent,v===d&&v!==""&&v!==null&&(o.value=v),Wn(o)}function Ir(o,c){if(c){var d=o.firstChild;if(d&&d===o.lastChild&&d.nodeType===3){d.nodeValue=c;return}}o.textContent=c}var fi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function hi(o,c,d){var v=c.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?v?o.setProperty(c,""):c==="float"?o.cssFloat="":o[c]="":v?o.setProperty(c,d):typeof d!="number"||d===0||fi.has(c)?c==="float"?o.cssFloat=d:o[c]=(""+d).trim():o[c]=d+"px"}function Fu(o,c,d){if(c!=null&&typeof c!="object")throw Error(r(62));if(o=o.style,d!=null){for(var v in d)!d.hasOwnProperty(v)||c!=null&&c.hasOwnProperty(v)||(v.indexOf("--")===0?o.setProperty(v,""):v==="float"?o.cssFloat="":o[v]="");for(var S in c)v=c[S],c.hasOwnProperty(S)&&d[S]!==v&&hi(o,S,v)}else for(var T in c)c.hasOwnProperty(T)&&hi(o,T,c[T])}function fs(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var y9=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),E9=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function yp(o){return E9.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function co(){}var f1=null;function h1(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Uu=null,Bu=null;function _M(o){var c=xt(o);if(c&&(o=c.stateNode)){var d=o[le]||null;e:switch(o=c.stateNode,c.type){case"input":if(li(o,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),c=d.name,d.type==="radio"&&c!=null){for(d=o;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+Yt(""+c)+'"][type="radio"]'),c=0;c<d.length;c++){var v=d[c];if(v!==o&&v.form===o.form){var S=v[le]||null;if(!S)throw Error(r(90));li(v,S.value,S.defaultValue,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name)}}for(c=0;c<d.length;c++)v=d[c],v.form===o.form&&An(v)}break e;case"textarea":Mn(o,d.value,d.defaultValue);break e;case"select":c=d.value,c!=null&&ka(o,!!d.multiple,c,!1)}}}var d1=!1;function yM(o,c,d){if(d1)return o(c,d);d1=!0;try{var v=o(c);return v}finally{if(d1=!1,(Uu!==null||Bu!==null)&&(om(),Uu&&(c=Uu,o=Bu,Bu=Uu=null,_M(c),o)))for(c=0;c<o.length;c++)_M(o[c])}}function Nh(o,c){var d=o.stateNode;if(d===null)return null;var v=d[le]||null;if(v===null)return null;d=v[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(o=o.type,v=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!v;break e;default:o=!1}if(o)return null;if(d&&typeof d!="function")throw Error(r(231,c,typeof d));return d}var uo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p1=!1;if(uo)try{var kh={};Object.defineProperty(kh,"passive",{get:function(){p1=!0}}),window.addEventListener("test",kh,kh),window.removeEventListener("test",kh,kh)}catch{p1=!1}var ml=null,m1=null,Ep=null;function EM(){if(Ep)return Ep;var o,c=m1,d=c.length,v,S="value"in ml?ml.value:ml.textContent,T=S.length;for(o=0;o<d&&c[o]===S[o];o++);var N=d-o;for(v=1;v<=N&&c[d-v]===S[T-v];v++);return Ep=S.slice(o,1<v?1-v:void 0)}function Sp(o){var c=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&c===13&&(o=13)):o=c,o===10&&(o=13),32<=o||o===13?o:0}function bp(){return!0}function SM(){return!1}function Ji(o){function c(d,v,S,T,N){this._reactName=d,this._targetInst=S,this.type=v,this.nativeEvent=T,this.target=N,this.currentTarget=null;for(var K in o)o.hasOwnProperty(K)&&(d=o[K],this[K]=d?d(T):T[K]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?bp:SM,this.isPropagationStopped=SM,this}return p(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=bp)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=bp)},persist:function(){},isPersistent:bp}),c}var gc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tp=Ji(gc),Lh=p({},gc,{view:0,detail:0}),S9=Ji(Lh),v1,g1,Ih,wp=p({},Lh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_1,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Ih&&(Ih&&o.type==="mousemove"?(v1=o.screenX-Ih.screenX,g1=o.screenY-Ih.screenY):g1=v1=0,Ih=o),v1)},movementY:function(o){return"movementY"in o?o.movementY:g1}}),bM=Ji(wp),b9=p({},wp,{dataTransfer:0}),T9=Ji(b9),w9=p({},Lh,{relatedTarget:0}),x1=Ji(w9),A9=p({},gc,{animationName:0,elapsedTime:0,pseudoElement:0}),M9=Ji(A9),C9=p({},gc,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),R9=Ji(C9),O9=p({},gc,{data:0}),TM=Ji(O9),P9={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},D9={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},N9={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function k9(o){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(o):(o=N9[o])?!!c[o]:!1}function _1(){return k9}var L9=p({},Lh,{key:function(o){if(o.key){var c=P9[o.key]||o.key;if(c!=="Unidentified")return c}return o.type==="keypress"?(o=Sp(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?D9[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_1,charCode:function(o){return o.type==="keypress"?Sp(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Sp(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),I9=Ji(L9),F9=p({},wp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wM=Ji(F9),U9=p({},Lh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_1}),B9=Ji(U9),z9=p({},gc,{propertyName:0,elapsedTime:0,pseudoElement:0}),j9=Ji(z9),H9=p({},wp,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),G9=Ji(H9),V9=p({},gc,{newState:0,oldState:0}),W9=Ji(V9),Y9=[9,13,27,32],y1=uo&&"CompositionEvent"in window,Fh=null;uo&&"documentMode"in document&&(Fh=document.documentMode);var X9=uo&&"TextEvent"in window&&!Fh,AM=uo&&(!y1||Fh&&8<Fh&&11>=Fh),MM=" ",CM=!1;function RM(o,c){switch(o){case"keyup":return Y9.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function OM(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var zu=!1;function q9(o,c){switch(o){case"compositionend":return OM(c);case"keypress":return c.which!==32?null:(CM=!0,MM);case"textInput":return o=c.data,o===MM&&CM?null:o;default:return null}}function K9(o,c){if(zu)return o==="compositionend"||!y1&&RM(o,c)?(o=EM(),Ep=m1=ml=null,zu=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return AM&&c.locale!=="ko"?null:c.data;default:return null}}var $9={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function PM(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c==="input"?!!$9[o.type]:c==="textarea"}function DM(o,c,d,v){Uu?Bu?Bu.push(v):Bu=[v]:Uu=v,c=pm(c,"onChange"),0<c.length&&(d=new Tp("onChange","change",null,d,v),o.push({event:d,listeners:c}))}var Uh=null,Bh=null;function Z9(o){pO(o,0)}function Ap(o){var c=nt(o);if(An(c))return o}function NM(o,c){if(o==="change")return c}var kM=!1;if(uo){var E1;if(uo){var S1="oninput"in document;if(!S1){var LM=document.createElement("div");LM.setAttribute("oninput","return;"),S1=typeof LM.oninput=="function"}E1=S1}else E1=!1;kM=E1&&(!document.documentMode||9<document.documentMode)}function IM(){Uh&&(Uh.detachEvent("onpropertychange",FM),Bh=Uh=null)}function FM(o){if(o.propertyName==="value"&&Ap(Bh)){var c=[];DM(c,Bh,o,h1(o)),yM(Z9,c)}}function J9(o,c,d){o==="focusin"?(IM(),Uh=c,Bh=d,Uh.attachEvent("onpropertychange",FM)):o==="focusout"&&IM()}function Q9(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Ap(Bh)}function e7(o,c){if(o==="click")return Ap(c)}function t7(o,c){if(o==="input"||o==="change")return Ap(c)}function n7(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}var ha=typeof Object.is=="function"?Object.is:n7;function zh(o,c){if(ha(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var d=Object.keys(o),v=Object.keys(c);if(d.length!==v.length)return!1;for(v=0;v<d.length;v++){var S=d[v];if(!Ft.call(c,S)||!ha(o[S],c[S]))return!1}return!0}function UM(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function BM(o,c){var d=UM(o);o=0;for(var v;d;){if(d.nodeType===3){if(v=o+d.textContent.length,o<=c&&v>=c)return{node:d,offset:c-o};o=v}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=UM(d)}}function zM(o,c){return o&&c?o===c?!0:o&&o.nodeType===3?!1:c&&c.nodeType===3?zM(o,c.parentNode):"contains"in o?o.contains(c):o.compareDocumentPosition?!!(o.compareDocumentPosition(c)&16):!1:!1}function jM(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var c=Dt(o.document);c instanceof o.HTMLIFrameElement;){try{var d=typeof c.contentWindow.location.href=="string"}catch{d=!1}if(d)o=c.contentWindow;else break;c=Dt(o.document)}return c}function b1(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c&&(c==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||c==="textarea"||o.contentEditable==="true")}var r7=uo&&"documentMode"in document&&11>=document.documentMode,ju=null,T1=null,jh=null,w1=!1;function HM(o,c,d){var v=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;w1||ju==null||ju!==Dt(v)||(v=ju,"selectionStart"in v&&b1(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),jh&&zh(jh,v)||(jh=v,v=pm(T1,"onSelect"),0<v.length&&(c=new Tp("onSelect","select",null,c,d),o.push({event:c,listeners:v}),c.target=ju)))}function xc(o,c){var d={};return d[o.toLowerCase()]=c.toLowerCase(),d["Webkit"+o]="webkit"+c,d["Moz"+o]="moz"+c,d}var Hu={animationend:xc("Animation","AnimationEnd"),animationiteration:xc("Animation","AnimationIteration"),animationstart:xc("Animation","AnimationStart"),transitionrun:xc("Transition","TransitionRun"),transitionstart:xc("Transition","TransitionStart"),transitioncancel:xc("Transition","TransitionCancel"),transitionend:xc("Transition","TransitionEnd")},A1={},GM={};uo&&(GM=document.createElement("div").style,"AnimationEvent"in window||(delete Hu.animationend.animation,delete Hu.animationiteration.animation,delete Hu.animationstart.animation),"TransitionEvent"in window||delete Hu.transitionend.transition);function _c(o){if(A1[o])return A1[o];if(!Hu[o])return o;var c=Hu[o],d;for(d in c)if(c.hasOwnProperty(d)&&d in GM)return A1[o]=c[d];return o}var VM=_c("animationend"),WM=_c("animationiteration"),YM=_c("animationstart"),i7=_c("transitionrun"),a7=_c("transitionstart"),s7=_c("transitioncancel"),XM=_c("transitionend"),qM=new Map,M1="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");M1.push("scrollEnd");function hs(o,c){qM.set(o,c),be(c,[o])}var Mp=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},La=[],Gu=0,C1=0;function Cp(){for(var o=Gu,c=C1=Gu=0;c<o;){var d=La[c];La[c++]=null;var v=La[c];La[c++]=null;var S=La[c];La[c++]=null;var T=La[c];if(La[c++]=null,v!==null&&S!==null){var N=v.pending;N===null?S.next=S:(S.next=N.next,N.next=S),v.pending=S}T!==0&&KM(d,S,T)}}function Rp(o,c,d,v){La[Gu++]=o,La[Gu++]=c,La[Gu++]=d,La[Gu++]=v,C1|=v,o.lanes|=v,o=o.alternate,o!==null&&(o.lanes|=v)}function R1(o,c,d,v){return Rp(o,c,d,v),Op(o)}function yc(o,c){return Rp(o,null,null,c),Op(o)}function KM(o,c,d){o.lanes|=d;var v=o.alternate;v!==null&&(v.lanes|=d);for(var S=!1,T=o.return;T!==null;)T.childLanes|=d,v=T.alternate,v!==null&&(v.childLanes|=d),T.tag===22&&(o=T.stateNode,o===null||o._visibility&1||(S=!0)),o=T,T=T.return;return o.tag===3?(T=o.stateNode,S&&c!==null&&(S=31-vt(d),o=T.hiddenUpdates,v=o[S],v===null?o[S]=[c]:v.push(c),c.lane=d|536870912),T):null}function Op(o){if(50<c0)throw c0=0,U_=null,Error(r(185));for(var c=o.return;c!==null;)o=c,c=o.return;return o.tag===3?o.stateNode:null}var Vu={};function o7(o,c,d,v){this.tag=o,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function da(o,c,d,v){return new o7(o,c,d,v)}function O1(o){return o=o.prototype,!(!o||!o.isReactComponent)}function fo(o,c){var d=o.alternate;return d===null?(d=da(o.tag,c,o.key,o.mode),d.elementType=o.elementType,d.type=o.type,d.stateNode=o.stateNode,d.alternate=o,o.alternate=d):(d.pendingProps=c,d.type=o.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=o.flags&65011712,d.childLanes=o.childLanes,d.lanes=o.lanes,d.child=o.child,d.memoizedProps=o.memoizedProps,d.memoizedState=o.memoizedState,d.updateQueue=o.updateQueue,c=o.dependencies,d.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},d.sibling=o.sibling,d.index=o.index,d.ref=o.ref,d.refCleanup=o.refCleanup,d}function $M(o,c){o.flags&=65011714;var d=o.alternate;return d===null?(o.childLanes=0,o.lanes=c,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=d.childLanes,o.lanes=d.lanes,o.child=d.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=d.memoizedProps,o.memoizedState=d.memoizedState,o.updateQueue=d.updateQueue,o.type=d.type,c=d.dependencies,o.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),o}function Pp(o,c,d,v,S,T){var N=0;if(v=o,typeof o=="function")O1(o)&&(N=1);else if(typeof o=="string")N=hj(o,d,X.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case O:return o=da(31,d,c,S),o.elementType=O,o.lanes=T,o;case x:return Ec(d.children,S,T,c);case y:N=8,S|=24;break;case E:return o=da(12,d,c,S|2),o.elementType=E,o.lanes=T,o;case A:return o=da(13,d,c,S),o.elementType=A,o.lanes=T,o;case C:return o=da(19,d,c,S),o.elementType=C,o.lanes=T,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case b:N=10;break e;case w:N=9;break e;case M:N=11;break e;case R:N=14;break e;case F:N=16,v=null;break e}N=29,d=Error(r(130,o===null?"null":typeof o,"")),v=null}return c=da(N,d,c,S),c.elementType=o,c.type=v,c.lanes=T,c}function Ec(o,c,d,v){return o=da(7,o,v,c),o.lanes=d,o}function P1(o,c,d){return o=da(6,o,null,c),o.lanes=d,o}function ZM(o){var c=da(18,null,null,0);return c.stateNode=o,c}function D1(o,c,d){return c=da(4,o.children!==null?o.children:[],o.key,c),c.lanes=d,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}var JM=new WeakMap;function Ia(o,c){if(typeof o=="object"&&o!==null){var d=JM.get(o);return d!==void 0?d:(c={value:o,source:c,stack:ce(c)},JM.set(o,c),c)}return{value:o,source:c,stack:ce(c)}}var Wu=[],Yu=0,Dp=null,Hh=0,Fa=[],Ua=0,vl=null,Ds=1,Ns="";function ho(o,c){Wu[Yu++]=Hh,Wu[Yu++]=Dp,Dp=o,Hh=c}function QM(o,c,d){Fa[Ua++]=Ds,Fa[Ua++]=Ns,Fa[Ua++]=vl,vl=o;var v=Ds;o=Ns;var S=32-vt(v)-1;v&=~(1<<S),d+=1;var T=32-vt(c)+S;if(30<T){var N=S-S%5;T=(v&(1<<N)-1).toString(32),v>>=N,S-=N,Ds=1<<32-vt(c)+S|d<<S|v,Ns=T+o}else Ds=1<<T|d<<S|v,Ns=o}function N1(o){o.return!==null&&(ho(o,1),QM(o,1,0))}function k1(o){for(;o===Dp;)Dp=Wu[--Yu],Wu[Yu]=null,Hh=Wu[--Yu],Wu[Yu]=null;for(;o===vl;)vl=Fa[--Ua],Fa[Ua]=null,Ns=Fa[--Ua],Fa[Ua]=null,Ds=Fa[--Ua],Fa[Ua]=null}function eC(o,c){Fa[Ua++]=Ds,Fa[Ua++]=Ns,Fa[Ua++]=vl,Ds=c.id,Ns=c.overflow,vl=o}var di=null,qn=null,hn=!1,gl=null,Ba=!1,L1=Error(r(519));function xl(o){var c=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Gh(Ia(c,o)),L1}function tC(o){var c=o.stateNode,d=o.type,v=o.memoizedProps;switch(c[re]=o,c[le]=v,d){case"dialog":an("cancel",c),an("close",c);break;case"iframe":case"object":case"embed":an("load",c);break;case"video":case"audio":for(d=0;d<f0.length;d++)an(f0[d],c);break;case"source":an("error",c);break;case"img":case"image":case"link":an("error",c),an("load",c);break;case"details":an("toggle",c);break;case"input":an("invalid",c),lo(c,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0);break;case"select":an("invalid",c);break;case"textarea":an("invalid",c),ui(c,v.value,v.defaultValue,v.children)}d=v.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||c.textContent===""+d||v.suppressHydrationWarning===!0||xO(c.textContent,d)?(v.popover!=null&&(an("beforetoggle",c),an("toggle",c)),v.onScroll!=null&&an("scroll",c),v.onScrollEnd!=null&&an("scrollend",c),v.onClick!=null&&(c.onclick=co),c=!0):c=!1,c||xl(o,!0)}function nC(o){for(di=o.return;di;)switch(di.tag){case 5:case 31:case 13:Ba=!1;return;case 27:case 3:Ba=!0;return;default:di=di.return}}function Xu(o){if(o!==di)return!1;if(!hn)return nC(o),hn=!0,!1;var c=o.tag,d;if((d=c!==3&&c!==27)&&((d=c===5)&&(d=o.type,d=!(d!=="form"&&d!=="button")||Q_(o.type,o.memoizedProps)),d=!d),d&&qn&&xl(o),nC(o),c===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));qn=MO(o)}else if(c===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));qn=MO(o)}else c===27?(c=qn,Dl(o.type)?(o=iy,iy=null,qn=o):qn=c):qn=di?ja(o.stateNode.nextSibling):null;return!0}function Sc(){qn=di=null,hn=!1}function I1(){var o=gl;return o!==null&&(na===null?na=o:na.push.apply(na,o),gl=null),o}function Gh(o){gl===null?gl=[o]:gl.push(o)}var F1=z(null),bc=null,po=null;function _l(o,c,d){V(F1,c._currentValue),c._currentValue=d}function mo(o){o._currentValue=F1.current,I(F1)}function U1(o,c,d){for(;o!==null;){var v=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,v!==null&&(v.childLanes|=c)):v!==null&&(v.childLanes&c)!==c&&(v.childLanes|=c),o===d)break;o=o.return}}function B1(o,c,d,v){var S=o.child;for(S!==null&&(S.return=o);S!==null;){var T=S.dependencies;if(T!==null){var N=S.child;T=T.firstContext;e:for(;T!==null;){var K=T;T=S;for(var me=0;me<c.length;me++)if(K.context===c[me]){T.lanes|=d,K=T.alternate,K!==null&&(K.lanes|=d),U1(T.return,d,o),v||(N=null);break e}T=K.next}}else if(S.tag===18){if(N=S.return,N===null)throw Error(r(341));N.lanes|=d,T=N.alternate,T!==null&&(T.lanes|=d),U1(N,d,o),N=null}else N=S.child;if(N!==null)N.return=S;else for(N=S;N!==null;){if(N===o){N=null;break}if(S=N.sibling,S!==null){S.return=N.return,N=S;break}N=N.return}S=N}}function qu(o,c,d,v){o=null;for(var S=c,T=!1;S!==null;){if(!T){if((S.flags&524288)!==0)T=!0;else if((S.flags&262144)!==0)break}if(S.tag===10){var N=S.alternate;if(N===null)throw Error(r(387));if(N=N.memoizedProps,N!==null){var K=S.type;ha(S.pendingProps.value,N.value)||(o!==null?o.push(K):o=[K])}}else if(S===fe.current){if(N=S.alternate,N===null)throw Error(r(387));N.memoizedState.memoizedState!==S.memoizedState.memoizedState&&(o!==null?o.push(v0):o=[v0])}S=S.return}o!==null&&B1(c,o,d,v),c.flags|=262144}function Np(o){for(o=o.firstContext;o!==null;){if(!ha(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function Tc(o){bc=o,po=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function pi(o){return rC(bc,o)}function kp(o,c){return bc===null&&Tc(o),rC(o,c)}function rC(o,c){var d=c._currentValue;if(c={context:c,memoizedValue:d,next:null},po===null){if(o===null)throw Error(r(308));po=c,o.dependencies={lanes:0,firstContext:c},o.flags|=524288}else po=po.next=c;return d}var l7=typeof AbortController<"u"?AbortController:function(){var o=[],c=this.signal={aborted:!1,addEventListener:function(d,v){o.push(v)}};this.abort=function(){c.aborted=!0,o.forEach(function(d){return d()})}},c7=t.unstable_scheduleCallback,u7=t.unstable_NormalPriority,wr={$$typeof:b,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function z1(){return{controller:new l7,data:new Map,refCount:0}}function Vh(o){o.refCount--,o.refCount===0&&c7(u7,function(){o.controller.abort()})}var Wh=null,j1=0,Ku=0,$u=null;function f7(o,c){if(Wh===null){var d=Wh=[];j1=0,Ku=V_(),$u={status:"pending",value:void 0,then:function(v){d.push(v)}}}return j1++,c.then(iC,iC),c}function iC(){if(--j1===0&&Wh!==null){$u!==null&&($u.status="fulfilled");var o=Wh;Wh=null,Ku=0,$u=null;for(var c=0;c<o.length;c++)(0,o[c])()}}function h7(o,c){var d=[],v={status:"pending",value:null,reason:null,then:function(S){d.push(S)}};return o.then(function(){v.status="fulfilled",v.value=c;for(var S=0;S<d.length;S++)(0,d[S])(c)},function(S){for(v.status="rejected",v.reason=S,S=0;S<d.length;S++)(0,d[S])(void 0)}),v}var aC=G.S;G.S=function(o,c){HR=B(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&f7(o,c),aC!==null&&aC(o,c)};var wc=z(null);function H1(){var o=wc.current;return o!==null?o:Gn.pooledCache}function Lp(o,c){c===null?V(wc,wc.current):V(wc,c.pool)}function sC(){var o=H1();return o===null?null:{parent:wr._currentValue,pool:o}}var Zu=Error(r(460)),G1=Error(r(474)),Ip=Error(r(542)),Fp={then:function(){}};function oC(o){return o=o.status,o==="fulfilled"||o==="rejected"}function lC(o,c,d){switch(d=o[d],d===void 0?o.push(c):d!==c&&(c.then(co,co),c=d),c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,uC(o),o;default:if(typeof c.status=="string")c.then(co,co);else{if(o=Gn,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=c,o.status="pending",o.then(function(v){if(c.status==="pending"){var S=c;S.status="fulfilled",S.value=v}},function(v){if(c.status==="pending"){var S=c;S.status="rejected",S.reason=v}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,uC(o),o}throw Mc=c,Zu}}function Ac(o){try{var c=o._init;return c(o._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(Mc=d,Zu):d}}var Mc=null;function cC(){if(Mc===null)throw Error(r(459));var o=Mc;return Mc=null,o}function uC(o){if(o===Zu||o===Ip)throw Error(r(483))}var Ju=null,Yh=0;function Up(o){var c=Yh;return Yh+=1,Ju===null&&(Ju=[]),lC(Ju,o,c)}function Xh(o,c){c=c.props.ref,o.ref=c!==void 0?c:null}function Bp(o,c){throw c.$$typeof===m?Error(r(525)):(o=Object.prototype.toString.call(c),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o)))}function fC(o){function c(Ee,ye){if(o){var Me=Ee.deletions;Me===null?(Ee.deletions=[ye],Ee.flags|=16):Me.push(ye)}}function d(Ee,ye){if(!o)return null;for(;ye!==null;)c(Ee,ye),ye=ye.sibling;return null}function v(Ee){for(var ye=new Map;Ee!==null;)Ee.key!==null?ye.set(Ee.key,Ee):ye.set(Ee.index,Ee),Ee=Ee.sibling;return ye}function S(Ee,ye){return Ee=fo(Ee,ye),Ee.index=0,Ee.sibling=null,Ee}function T(Ee,ye,Me){return Ee.index=Me,o?(Me=Ee.alternate,Me!==null?(Me=Me.index,Me<ye?(Ee.flags|=67108866,ye):Me):(Ee.flags|=67108866,ye)):(Ee.flags|=1048576,ye)}function N(Ee){return o&&Ee.alternate===null&&(Ee.flags|=67108866),Ee}function K(Ee,ye,Me,Ye){return ye===null||ye.tag!==6?(ye=P1(Me,Ee.mode,Ye),ye.return=Ee,ye):(ye=S(ye,Me),ye.return=Ee,ye)}function me(Ee,ye,Me,Ye){var Lt=Me.type;return Lt===x?He(Ee,ye,Me.props.children,Ye,Me.key):ye!==null&&(ye.elementType===Lt||typeof Lt=="object"&&Lt!==null&&Lt.$$typeof===F&&Ac(Lt)===ye.type)?(ye=S(ye,Me.props),Xh(ye,Me),ye.return=Ee,ye):(ye=Pp(Me.type,Me.key,Me.props,null,Ee.mode,Ye),Xh(ye,Me),ye.return=Ee,ye)}function Oe(Ee,ye,Me,Ye){return ye===null||ye.tag!==4||ye.stateNode.containerInfo!==Me.containerInfo||ye.stateNode.implementation!==Me.implementation?(ye=D1(Me,Ee.mode,Ye),ye.return=Ee,ye):(ye=S(ye,Me.children||[]),ye.return=Ee,ye)}function He(Ee,ye,Me,Ye,Lt){return ye===null||ye.tag!==7?(ye=Ec(Me,Ee.mode,Ye,Lt),ye.return=Ee,ye):(ye=S(ye,Me),ye.return=Ee,ye)}function Ke(Ee,ye,Me){if(typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint")return ye=P1(""+ye,Ee.mode,Me),ye.return=Ee,ye;if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case g:return Me=Pp(ye.type,ye.key,ye.props,null,Ee.mode,Me),Xh(Me,ye),Me.return=Ee,Me;case _:return ye=D1(ye,Ee.mode,Me),ye.return=Ee,ye;case F:return ye=Ac(ye),Ke(Ee,ye,Me)}if(oe(ye)||U(ye))return ye=Ec(ye,Ee.mode,Me,null),ye.return=Ee,ye;if(typeof ye.then=="function")return Ke(Ee,Up(ye),Me);if(ye.$$typeof===b)return Ke(Ee,kp(Ee,ye),Me);Bp(Ee,ye)}return null}function ke(Ee,ye,Me,Ye){var Lt=ye!==null?ye.key:null;if(typeof Me=="string"&&Me!==""||typeof Me=="number"||typeof Me=="bigint")return Lt!==null?null:K(Ee,ye,""+Me,Ye);if(typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case g:return Me.key===Lt?me(Ee,ye,Me,Ye):null;case _:return Me.key===Lt?Oe(Ee,ye,Me,Ye):null;case F:return Me=Ac(Me),ke(Ee,ye,Me,Ye)}if(oe(Me)||U(Me))return Lt!==null?null:He(Ee,ye,Me,Ye,null);if(typeof Me.then=="function")return ke(Ee,ye,Up(Me),Ye);if(Me.$$typeof===b)return ke(Ee,ye,kp(Ee,Me),Ye);Bp(Ee,Me)}return null}function Fe(Ee,ye,Me,Ye,Lt){if(typeof Ye=="string"&&Ye!==""||typeof Ye=="number"||typeof Ye=="bigint")return Ee=Ee.get(Me)||null,K(ye,Ee,""+Ye,Lt);if(typeof Ye=="object"&&Ye!==null){switch(Ye.$$typeof){case g:return Ee=Ee.get(Ye.key===null?Me:Ye.key)||null,me(ye,Ee,Ye,Lt);case _:return Ee=Ee.get(Ye.key===null?Me:Ye.key)||null,Oe(ye,Ee,Ye,Lt);case F:return Ye=Ac(Ye),Fe(Ee,ye,Me,Ye,Lt)}if(oe(Ye)||U(Ye))return Ee=Ee.get(Me)||null,He(ye,Ee,Ye,Lt,null);if(typeof Ye.then=="function")return Fe(Ee,ye,Me,Up(Ye),Lt);if(Ye.$$typeof===b)return Fe(Ee,ye,Me,kp(ye,Ye),Lt);Bp(ye,Ye)}return null}function At(Ee,ye,Me,Ye){for(var Lt=null,gn=null,Rt=ye,$t=ye=0,ln=null;Rt!==null&&$t<Me.length;$t++){Rt.index>$t?(ln=Rt,Rt=null):ln=Rt.sibling;var xn=ke(Ee,Rt,Me[$t],Ye);if(xn===null){Rt===null&&(Rt=ln);break}o&&Rt&&xn.alternate===null&&c(Ee,Rt),ye=T(xn,ye,$t),gn===null?Lt=xn:gn.sibling=xn,gn=xn,Rt=ln}if($t===Me.length)return d(Ee,Rt),hn&&ho(Ee,$t),Lt;if(Rt===null){for(;$t<Me.length;$t++)Rt=Ke(Ee,Me[$t],Ye),Rt!==null&&(ye=T(Rt,ye,$t),gn===null?Lt=Rt:gn.sibling=Rt,gn=Rt);return hn&&ho(Ee,$t),Lt}for(Rt=v(Rt);$t<Me.length;$t++)ln=Fe(Rt,Ee,$t,Me[$t],Ye),ln!==null&&(o&&ln.alternate!==null&&Rt.delete(ln.key===null?$t:ln.key),ye=T(ln,ye,$t),gn===null?Lt=ln:gn.sibling=ln,gn=ln);return o&&Rt.forEach(function(Fl){return c(Ee,Fl)}),hn&&ho(Ee,$t),Lt}function zt(Ee,ye,Me,Ye){if(Me==null)throw Error(r(151));for(var Lt=null,gn=null,Rt=ye,$t=ye=0,ln=null,xn=Me.next();Rt!==null&&!xn.done;$t++,xn=Me.next()){Rt.index>$t?(ln=Rt,Rt=null):ln=Rt.sibling;var Fl=ke(Ee,Rt,xn.value,Ye);if(Fl===null){Rt===null&&(Rt=ln);break}o&&Rt&&Fl.alternate===null&&c(Ee,Rt),ye=T(Fl,ye,$t),gn===null?Lt=Fl:gn.sibling=Fl,gn=Fl,Rt=ln}if(xn.done)return d(Ee,Rt),hn&&ho(Ee,$t),Lt;if(Rt===null){for(;!xn.done;$t++,xn=Me.next())xn=Ke(Ee,xn.value,Ye),xn!==null&&(ye=T(xn,ye,$t),gn===null?Lt=xn:gn.sibling=xn,gn=xn);return hn&&ho(Ee,$t),Lt}for(Rt=v(Rt);!xn.done;$t++,xn=Me.next())xn=Fe(Rt,Ee,$t,xn.value,Ye),xn!==null&&(o&&xn.alternate!==null&&Rt.delete(xn.key===null?$t:xn.key),ye=T(xn,ye,$t),gn===null?Lt=xn:gn.sibling=xn,gn=xn);return o&&Rt.forEach(function(bj){return c(Ee,bj)}),hn&&ho(Ee,$t),Lt}function Un(Ee,ye,Me,Ye){if(typeof Me=="object"&&Me!==null&&Me.type===x&&Me.key===null&&(Me=Me.props.children),typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case g:e:{for(var Lt=Me.key;ye!==null;){if(ye.key===Lt){if(Lt=Me.type,Lt===x){if(ye.tag===7){d(Ee,ye.sibling),Ye=S(ye,Me.props.children),Ye.return=Ee,Ee=Ye;break e}}else if(ye.elementType===Lt||typeof Lt=="object"&&Lt!==null&&Lt.$$typeof===F&&Ac(Lt)===ye.type){d(Ee,ye.sibling),Ye=S(ye,Me.props),Xh(Ye,Me),Ye.return=Ee,Ee=Ye;break e}d(Ee,ye);break}else c(Ee,ye);ye=ye.sibling}Me.type===x?(Ye=Ec(Me.props.children,Ee.mode,Ye,Me.key),Ye.return=Ee,Ee=Ye):(Ye=Pp(Me.type,Me.key,Me.props,null,Ee.mode,Ye),Xh(Ye,Me),Ye.return=Ee,Ee=Ye)}return N(Ee);case _:e:{for(Lt=Me.key;ye!==null;){if(ye.key===Lt)if(ye.tag===4&&ye.stateNode.containerInfo===Me.containerInfo&&ye.stateNode.implementation===Me.implementation){d(Ee,ye.sibling),Ye=S(ye,Me.children||[]),Ye.return=Ee,Ee=Ye;break e}else{d(Ee,ye);break}else c(Ee,ye);ye=ye.sibling}Ye=D1(Me,Ee.mode,Ye),Ye.return=Ee,Ee=Ye}return N(Ee);case F:return Me=Ac(Me),Un(Ee,ye,Me,Ye)}if(oe(Me))return At(Ee,ye,Me,Ye);if(U(Me)){if(Lt=U(Me),typeof Lt!="function")throw Error(r(150));return Me=Lt.call(Me),zt(Ee,ye,Me,Ye)}if(typeof Me.then=="function")return Un(Ee,ye,Up(Me),Ye);if(Me.$$typeof===b)return Un(Ee,ye,kp(Ee,Me),Ye);Bp(Ee,Me)}return typeof Me=="string"&&Me!==""||typeof Me=="number"||typeof Me=="bigint"?(Me=""+Me,ye!==null&&ye.tag===6?(d(Ee,ye.sibling),Ye=S(ye,Me),Ye.return=Ee,Ee=Ye):(d(Ee,ye),Ye=P1(Me,Ee.mode,Ye),Ye.return=Ee,Ee=Ye),N(Ee)):d(Ee,ye)}return function(Ee,ye,Me,Ye){try{Yh=0;var Lt=Un(Ee,ye,Me,Ye);return Ju=null,Lt}catch(Rt){if(Rt===Zu||Rt===Ip)throw Rt;var gn=da(29,Rt,null,Ee.mode);return gn.lanes=Ye,gn.return=Ee,gn}finally{}}}var Cc=fC(!0),hC=fC(!1),yl=!1;function V1(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function W1(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function El(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function Sl(o,c,d){var v=o.updateQueue;if(v===null)return null;if(v=v.shared,(wn&2)!==0){var S=v.pending;return S===null?c.next=c:(c.next=S.next,S.next=c),v.pending=c,c=Op(o),KM(o,null,d),c}return Rp(o,v,c,d),Op(o)}function qh(o,c,d){if(c=c.updateQueue,c!==null&&(c=c.shared,(d&4194048)!==0)){var v=c.lanes;v&=o.pendingLanes,d|=v,c.lanes=d,oo(o,d)}}function Y1(o,c){var d=o.updateQueue,v=o.alternate;if(v!==null&&(v=v.updateQueue,d===v)){var S=null,T=null;if(d=d.firstBaseUpdate,d!==null){do{var N={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};T===null?S=T=N:T=T.next=N,d=d.next}while(d!==null);T===null?S=T=c:T=T.next=c}else S=T=c;d={baseState:v.baseState,firstBaseUpdate:S,lastBaseUpdate:T,shared:v.shared,callbacks:v.callbacks},o.updateQueue=d;return}o=d.lastBaseUpdate,o===null?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=c}var X1=!1;function Kh(){if(X1){var o=$u;if(o!==null)throw o}}function $h(o,c,d,v){X1=!1;var S=o.updateQueue;yl=!1;var T=S.firstBaseUpdate,N=S.lastBaseUpdate,K=S.shared.pending;if(K!==null){S.shared.pending=null;var me=K,Oe=me.next;me.next=null,N===null?T=Oe:N.next=Oe,N=me;var He=o.alternate;He!==null&&(He=He.updateQueue,K=He.lastBaseUpdate,K!==N&&(K===null?He.firstBaseUpdate=Oe:K.next=Oe,He.lastBaseUpdate=me))}if(T!==null){var Ke=S.baseState;N=0,He=Oe=me=null,K=T;do{var ke=K.lane&-536870913,Fe=ke!==K.lane;if(Fe?(on&ke)===ke:(v&ke)===ke){ke!==0&&ke===Ku&&(X1=!0),He!==null&&(He=He.next={lane:0,tag:K.tag,payload:K.payload,callback:null,next:null});e:{var At=o,zt=K;ke=c;var Un=d;switch(zt.tag){case 1:if(At=zt.payload,typeof At=="function"){Ke=At.call(Un,Ke,ke);break e}Ke=At;break e;case 3:At.flags=At.flags&-65537|128;case 0:if(At=zt.payload,ke=typeof At=="function"?At.call(Un,Ke,ke):At,ke==null)break e;Ke=p({},Ke,ke);break e;case 2:yl=!0}}ke=K.callback,ke!==null&&(o.flags|=64,Fe&&(o.flags|=8192),Fe=S.callbacks,Fe===null?S.callbacks=[ke]:Fe.push(ke))}else Fe={lane:ke,tag:K.tag,payload:K.payload,callback:K.callback,next:null},He===null?(Oe=He=Fe,me=Ke):He=He.next=Fe,N|=ke;if(K=K.next,K===null){if(K=S.shared.pending,K===null)break;Fe=K,K=Fe.next,Fe.next=null,S.lastBaseUpdate=Fe,S.shared.pending=null}}while(!0);He===null&&(me=Ke),S.baseState=me,S.firstBaseUpdate=Oe,S.lastBaseUpdate=He,T===null&&(S.shared.lanes=0),Ml|=N,o.lanes=N,o.memoizedState=Ke}}function dC(o,c){if(typeof o!="function")throw Error(r(191,o));o.call(c)}function pC(o,c){var d=o.callbacks;if(d!==null)for(o.callbacks=null,o=0;o<d.length;o++)dC(d[o],c)}var Qu=z(null),zp=z(0);function mC(o,c){o=To,V(zp,o),V(Qu,c),To=o|c.baseLanes}function q1(){V(zp,To),V(Qu,Qu.current)}function K1(){To=zp.current,I(Qu),I(zp)}var pa=z(null),za=null;function bl(o){var c=o.alternate;V(_r,_r.current&1),V(pa,o),za===null&&(c===null||Qu.current!==null||c.memoizedState!==null)&&(za=o)}function $1(o){V(_r,_r.current),V(pa,o),za===null&&(za=o)}function vC(o){o.tag===22?(V(_r,_r.current),V(pa,o),za===null&&(za=o)):Tl()}function Tl(){V(_r,_r.current),V(pa,pa.current)}function ma(o){I(pa),za===o&&(za=null),I(_r)}var _r=z(0);function jp(o){for(var c=o;c!==null;){if(c.tag===13){var d=c.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||ny(d)||ry(d)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var vo=0,qt=null,In=null,Ar=null,Hp=!1,ef=!1,Rc=!1,Gp=0,Zh=0,tf=null,d7=0;function fr(){throw Error(r(321))}function Z1(o,c){if(c===null)return!1;for(var d=0;d<c.length&&d<o.length;d++)if(!ha(o[d],c[d]))return!1;return!0}function J1(o,c,d,v,S,T){return vo=T,qt=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,G.H=o===null||o.memoizedState===null?QC:d_,Rc=!1,T=d(v,S),Rc=!1,ef&&(T=xC(c,d,v,S)),gC(o),T}function gC(o){G.H=e0;var c=In!==null&&In.next!==null;if(vo=0,Ar=In=qt=null,Hp=!1,Zh=0,tf=null,c)throw Error(r(300));o===null||Mr||(o=o.dependencies,o!==null&&Np(o)&&(Mr=!0))}function xC(o,c,d,v){qt=o;var S=0;do{if(ef&&(tf=null),Zh=0,ef=!1,25<=S)throw Error(r(301));if(S+=1,Ar=In=null,o.updateQueue!=null){var T=o.updateQueue;T.lastEffect=null,T.events=null,T.stores=null,T.memoCache!=null&&(T.memoCache.index=0)}G.H=eR,T=c(d,v)}while(ef);return T}function p7(){var o=G.H,c=o.useState()[0];return c=typeof c.then=="function"?Jh(c):c,o=o.useState()[0],(In!==null?In.memoizedState:null)!==o&&(qt.flags|=1024),c}function Q1(){var o=Gp!==0;return Gp=0,o}function e_(o,c,d){c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~d}function t_(o){if(Hp){for(o=o.memoizedState;o!==null;){var c=o.queue;c!==null&&(c.pending=null),o=o.next}Hp=!1}vo=0,Ar=In=qt=null,ef=!1,Zh=Gp=0,tf=null}function ji(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ar===null?qt.memoizedState=Ar=o:Ar=Ar.next=o,Ar}function yr(){if(In===null){var o=qt.alternate;o=o!==null?o.memoizedState:null}else o=In.next;var c=Ar===null?qt.memoizedState:Ar.next;if(c!==null)Ar=c,In=o;else{if(o===null)throw qt.alternate===null?Error(r(467)):Error(r(310));In=o,o={memoizedState:In.memoizedState,baseState:In.baseState,baseQueue:In.baseQueue,queue:In.queue,next:null},Ar===null?qt.memoizedState=Ar=o:Ar=Ar.next=o}return Ar}function Vp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Jh(o){var c=Zh;return Zh+=1,tf===null&&(tf=[]),o=lC(tf,o,c),c=qt,(Ar===null?c.memoizedState:Ar.next)===null&&(c=c.alternate,G.H=c===null||c.memoizedState===null?QC:d_),o}function Wp(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Jh(o);if(o.$$typeof===b)return pi(o)}throw Error(r(438,String(o)))}function n_(o){var c=null,d=qt.updateQueue;if(d!==null&&(c=d.memoCache),c==null){var v=qt.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(c={data:v.data.map(function(S){return S.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),d===null&&(d=Vp(),qt.updateQueue=d),d.memoCache=c,d=c.data[c.index],d===void 0)for(d=c.data[c.index]=Array(o),v=0;v<o;v++)d[v]=k;return c.index++,d}function go(o,c){return typeof c=="function"?c(o):c}function Yp(o){var c=yr();return r_(c,In,o)}function r_(o,c,d){var v=o.queue;if(v===null)throw Error(r(311));v.lastRenderedReducer=d;var S=o.baseQueue,T=v.pending;if(T!==null){if(S!==null){var N=S.next;S.next=T.next,T.next=N}c.baseQueue=S=T,v.pending=null}if(T=o.baseState,S===null)o.memoizedState=T;else{c=S.next;var K=N=null,me=null,Oe=c,He=!1;do{var Ke=Oe.lane&-536870913;if(Ke!==Oe.lane?(on&Ke)===Ke:(vo&Ke)===Ke){var ke=Oe.revertLane;if(ke===0)me!==null&&(me=me.next={lane:0,revertLane:0,gesture:null,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null}),Ke===Ku&&(He=!0);else if((vo&ke)===ke){Oe=Oe.next,ke===Ku&&(He=!0);continue}else Ke={lane:0,revertLane:Oe.revertLane,gesture:null,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null},me===null?(K=me=Ke,N=T):me=me.next=Ke,qt.lanes|=ke,Ml|=ke;Ke=Oe.action,Rc&&d(T,Ke),T=Oe.hasEagerState?Oe.eagerState:d(T,Ke)}else ke={lane:Ke,revertLane:Oe.revertLane,gesture:Oe.gesture,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null},me===null?(K=me=ke,N=T):me=me.next=ke,qt.lanes|=Ke,Ml|=Ke;Oe=Oe.next}while(Oe!==null&&Oe!==c);if(me===null?N=T:me.next=K,!ha(T,o.memoizedState)&&(Mr=!0,He&&(d=$u,d!==null)))throw d;o.memoizedState=T,o.baseState=N,o.baseQueue=me,v.lastRenderedState=T}return S===null&&(v.lanes=0),[o.memoizedState,v.dispatch]}function i_(o){var c=yr(),d=c.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=o;var v=d.dispatch,S=d.pending,T=c.memoizedState;if(S!==null){d.pending=null;var N=S=S.next;do T=o(T,N.action),N=N.next;while(N!==S);ha(T,c.memoizedState)||(Mr=!0),c.memoizedState=T,c.baseQueue===null&&(c.baseState=T),d.lastRenderedState=T}return[T,v]}function _C(o,c,d){var v=qt,S=yr(),T=hn;if(T){if(d===void 0)throw Error(r(407));d=d()}else d=c();var N=!ha((In||S).memoizedState,d);if(N&&(S.memoizedState=d,Mr=!0),S=S.queue,o_(SC.bind(null,v,S,o),[o]),S.getSnapshot!==c||N||Ar!==null&&Ar.memoizedState.tag&1){if(v.flags|=2048,nf(9,{destroy:void 0},EC.bind(null,v,S,d,c),null),Gn===null)throw Error(r(349));T||(vo&127)!==0||yC(v,c,d)}return d}function yC(o,c,d){o.flags|=16384,o={getSnapshot:c,value:d},c=qt.updateQueue,c===null?(c=Vp(),qt.updateQueue=c,c.stores=[o]):(d=c.stores,d===null?c.stores=[o]:d.push(o))}function EC(o,c,d,v){c.value=d,c.getSnapshot=v,bC(c)&&TC(o)}function SC(o,c,d){return d(function(){bC(c)&&TC(o)})}function bC(o){var c=o.getSnapshot;o=o.value;try{var d=c();return!ha(o,d)}catch{return!0}}function TC(o){var c=yc(o,2);c!==null&&ra(c,o,2)}function a_(o){var c=ji();if(typeof o=="function"){var d=o;if(o=d(),Rc){gt(!0);try{d()}finally{gt(!1)}}}return c.memoizedState=c.baseState=o,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:go,lastRenderedState:o},c}function wC(o,c,d,v){return o.baseState=d,r_(o,In,typeof v=="function"?v:go)}function m7(o,c,d,v,S){if(Kp(o))throw Error(r(485));if(o=c.action,o!==null){var T={payload:S,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){T.listeners.push(N)}};G.T!==null?d(!0):T.isTransition=!1,v(T),d=c.pending,d===null?(T.next=c.pending=T,AC(c,T)):(T.next=d.next,c.pending=d.next=T)}}function AC(o,c){var d=c.action,v=c.payload,S=o.state;if(c.isTransition){var T=G.T,N={};G.T=N;try{var K=d(S,v),me=G.S;me!==null&&me(N,K),MC(o,c,K)}catch(Oe){s_(o,c,Oe)}finally{T!==null&&N.types!==null&&(T.types=N.types),G.T=T}}else try{T=d(S,v),MC(o,c,T)}catch(Oe){s_(o,c,Oe)}}function MC(o,c,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(v){CC(o,c,v)},function(v){return s_(o,c,v)}):CC(o,c,d)}function CC(o,c,d){c.status="fulfilled",c.value=d,RC(c),o.state=d,c=o.pending,c!==null&&(d=c.next,d===c?o.pending=null:(d=d.next,c.next=d,AC(o,d)))}function s_(o,c,d){var v=o.pending;if(o.pending=null,v!==null){v=v.next;do c.status="rejected",c.reason=d,RC(c),c=c.next;while(c!==v)}o.action=null}function RC(o){o=o.listeners;for(var c=0;c<o.length;c++)(0,o[c])()}function OC(o,c){return c}function PC(o,c){if(hn){var d=Gn.formState;if(d!==null){e:{var v=qt;if(hn){if(qn){t:{for(var S=qn,T=Ba;S.nodeType!==8;){if(!T){S=null;break t}if(S=ja(S.nextSibling),S===null){S=null;break t}}T=S.data,S=T==="F!"||T==="F"?S:null}if(S){qn=ja(S.nextSibling),v=S.data==="F!";break e}}xl(v)}v=!1}v&&(c=d[0])}}return d=ji(),d.memoizedState=d.baseState=c,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:OC,lastRenderedState:c},d.queue=v,d=$C.bind(null,qt,v),v.dispatch=d,v=a_(!1),T=h_.bind(null,qt,!1,v.queue),v=ji(),S={state:c,dispatch:null,action:o,pending:null},v.queue=S,d=m7.bind(null,qt,S,T,d),S.dispatch=d,v.memoizedState=o,[c,d,!1]}function DC(o){var c=yr();return NC(c,In,o)}function NC(o,c,d){if(c=r_(o,c,OC)[0],o=Yp(go)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var v=Jh(c)}catch(N){throw N===Zu?Ip:N}else v=c;c=yr();var S=c.queue,T=S.dispatch;return d!==c.memoizedState&&(qt.flags|=2048,nf(9,{destroy:void 0},v7.bind(null,S,d),null)),[v,T,o]}function v7(o,c){o.action=c}function kC(o){var c=yr(),d=In;if(d!==null)return NC(c,d,o);yr(),c=c.memoizedState,d=yr();var v=d.queue.dispatch;return d.memoizedState=o,[c,v,!1]}function nf(o,c,d,v){return o={tag:o,create:d,deps:v,inst:c,next:null},c=qt.updateQueue,c===null&&(c=Vp(),qt.updateQueue=c),d=c.lastEffect,d===null?c.lastEffect=o.next=o:(v=d.next,d.next=o,o.next=v,c.lastEffect=o),o}function LC(){return yr().memoizedState}function Xp(o,c,d,v){var S=ji();qt.flags|=o,S.memoizedState=nf(1|c,{destroy:void 0},d,v===void 0?null:v)}function qp(o,c,d,v){var S=yr();v=v===void 0?null:v;var T=S.memoizedState.inst;In!==null&&v!==null&&Z1(v,In.memoizedState.deps)?S.memoizedState=nf(c,T,d,v):(qt.flags|=o,S.memoizedState=nf(1|c,T,d,v))}function IC(o,c){Xp(8390656,8,o,c)}function o_(o,c){qp(2048,8,o,c)}function g7(o){qt.flags|=4;var c=qt.updateQueue;if(c===null)c=Vp(),qt.updateQueue=c,c.events=[o];else{var d=c.events;d===null?c.events=[o]:d.push(o)}}function FC(o){var c=yr().memoizedState;return g7({ref:c,nextImpl:o}),function(){if((wn&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}function UC(o,c){return qp(4,2,o,c)}function BC(o,c){return qp(4,4,o,c)}function zC(o,c){if(typeof c=="function"){o=o();var d=c(o);return function(){typeof d=="function"?d():c(null)}}if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function jC(o,c,d){d=d!=null?d.concat([o]):null,qp(4,4,zC.bind(null,c,o),d)}function l_(){}function HC(o,c){var d=yr();c=c===void 0?null:c;var v=d.memoizedState;return c!==null&&Z1(c,v[1])?v[0]:(d.memoizedState=[o,c],o)}function GC(o,c){var d=yr();c=c===void 0?null:c;var v=d.memoizedState;if(c!==null&&Z1(c,v[1]))return v[0];if(v=o(),Rc){gt(!0);try{o()}finally{gt(!1)}}return d.memoizedState=[v,c],v}function c_(o,c,d){return d===void 0||(vo&1073741824)!==0&&(on&261930)===0?o.memoizedState=c:(o.memoizedState=d,o=VR(),qt.lanes|=o,Ml|=o,d)}function VC(o,c,d,v){return ha(d,c)?d:Qu.current!==null?(o=c_(o,d,v),ha(o,c)||(Mr=!0),o):(vo&42)===0||(vo&1073741824)!==0&&(on&261930)===0?(Mr=!0,o.memoizedState=d):(o=VR(),qt.lanes|=o,Ml|=o,c)}function WC(o,c,d,v,S){var T=W.p;W.p=T!==0&&8>T?T:8;var N=G.T,K={};G.T=K,h_(o,!1,c,d);try{var me=S(),Oe=G.S;if(Oe!==null&&Oe(K,me),me!==null&&typeof me=="object"&&typeof me.then=="function"){var He=h7(me,v);Qh(o,c,He,xa(o))}else Qh(o,c,v,xa(o))}catch(Ke){Qh(o,c,{then:function(){},status:"rejected",reason:Ke},xa())}finally{W.p=T,N!==null&&K.types!==null&&(N.types=K.types),G.T=N}}function x7(){}function u_(o,c,d,v){if(o.tag!==5)throw Error(r(476));var S=YC(o).queue;WC(o,S,c,ee,d===null?x7:function(){return XC(o),d(v)})}function YC(o){var c=o.memoizedState;if(c!==null)return c;c={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:go,lastRenderedState:ee},next:null};var d={};return c.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:go,lastRenderedState:d},next:null},o.memoizedState=c,o=o.alternate,o!==null&&(o.memoizedState=c),c}function XC(o){var c=YC(o);c.next===null&&(c=o.alternate.memoizedState),Qh(o,c.next.queue,{},xa())}function f_(){return pi(v0)}function qC(){return yr().memoizedState}function KC(){return yr().memoizedState}function _7(o){for(var c=o.return;c!==null;){switch(c.tag){case 24:case 3:var d=xa();o=El(d);var v=Sl(c,o,d);v!==null&&(ra(v,c,d),qh(v,c,d)),c={cache:z1()},o.payload=c;return}c=c.return}}function y7(o,c,d){var v=xa();d={lane:v,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},Kp(o)?ZC(c,d):(d=R1(o,c,d,v),d!==null&&(ra(d,o,v),JC(d,c,v)))}function $C(o,c,d){var v=xa();Qh(o,c,d,v)}function Qh(o,c,d,v){var S={lane:v,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(Kp(o))ZC(c,S);else{var T=o.alternate;if(o.lanes===0&&(T===null||T.lanes===0)&&(T=c.lastRenderedReducer,T!==null))try{var N=c.lastRenderedState,K=T(N,d);if(S.hasEagerState=!0,S.eagerState=K,ha(K,N))return Rp(o,c,S,0),Gn===null&&Cp(),!1}catch{}finally{}if(d=R1(o,c,S,v),d!==null)return ra(d,o,v),JC(d,c,v),!0}return!1}function h_(o,c,d,v){if(v={lane:2,revertLane:V_(),gesture:null,action:v,hasEagerState:!1,eagerState:null,next:null},Kp(o)){if(c)throw Error(r(479))}else c=R1(o,d,v,2),c!==null&&ra(c,o,2)}function Kp(o){var c=o.alternate;return o===qt||c!==null&&c===qt}function ZC(o,c){ef=Hp=!0;var d=o.pending;d===null?c.next=c:(c.next=d.next,d.next=c),o.pending=c}function JC(o,c,d){if((d&4194048)!==0){var v=c.lanes;v&=o.pendingLanes,d|=v,c.lanes=d,oo(o,d)}}var e0={readContext:pi,use:Wp,useCallback:fr,useContext:fr,useEffect:fr,useImperativeHandle:fr,useLayoutEffect:fr,useInsertionEffect:fr,useMemo:fr,useReducer:fr,useRef:fr,useState:fr,useDebugValue:fr,useDeferredValue:fr,useTransition:fr,useSyncExternalStore:fr,useId:fr,useHostTransitionStatus:fr,useFormState:fr,useActionState:fr,useOptimistic:fr,useMemoCache:fr,useCacheRefresh:fr};e0.useEffectEvent=fr;var QC={readContext:pi,use:Wp,useCallback:function(o,c){return ji().memoizedState=[o,c===void 0?null:c],o},useContext:pi,useEffect:IC,useImperativeHandle:function(o,c,d){d=d!=null?d.concat([o]):null,Xp(4194308,4,zC.bind(null,c,o),d)},useLayoutEffect:function(o,c){return Xp(4194308,4,o,c)},useInsertionEffect:function(o,c){Xp(4,2,o,c)},useMemo:function(o,c){var d=ji();c=c===void 0?null:c;var v=o();if(Rc){gt(!0);try{o()}finally{gt(!1)}}return d.memoizedState=[v,c],v},useReducer:function(o,c,d){var v=ji();if(d!==void 0){var S=d(c);if(Rc){gt(!0);try{d(c)}finally{gt(!1)}}}else S=c;return v.memoizedState=v.baseState=S,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:S},v.queue=o,o=o.dispatch=y7.bind(null,qt,o),[v.memoizedState,o]},useRef:function(o){var c=ji();return o={current:o},c.memoizedState=o},useState:function(o){o=a_(o);var c=o.queue,d=$C.bind(null,qt,c);return c.dispatch=d,[o.memoizedState,d]},useDebugValue:l_,useDeferredValue:function(o,c){var d=ji();return c_(d,o,c)},useTransition:function(){var o=a_(!1);return o=WC.bind(null,qt,o.queue,!0,!1),ji().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,c,d){var v=qt,S=ji();if(hn){if(d===void 0)throw Error(r(407));d=d()}else{if(d=c(),Gn===null)throw Error(r(349));(on&127)!==0||yC(v,c,d)}S.memoizedState=d;var T={value:d,getSnapshot:c};return S.queue=T,IC(SC.bind(null,v,T,o),[o]),v.flags|=2048,nf(9,{destroy:void 0},EC.bind(null,v,T,d,c),null),d},useId:function(){var o=ji(),c=Gn.identifierPrefix;if(hn){var d=Ns,v=Ds;d=(v&~(1<<32-vt(v)-1)).toString(32)+d,c="_"+c+"R_"+d,d=Gp++,0<d&&(c+="H"+d.toString(32)),c+="_"}else d=d7++,c="_"+c+"r_"+d.toString(32)+"_";return o.memoizedState=c},useHostTransitionStatus:f_,useFormState:PC,useActionState:PC,useOptimistic:function(o){var c=ji();c.memoizedState=c.baseState=o;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=d,c=h_.bind(null,qt,!0,d),d.dispatch=c,[o,c]},useMemoCache:n_,useCacheRefresh:function(){return ji().memoizedState=_7.bind(null,qt)},useEffectEvent:function(o){var c=ji(),d={impl:o};return c.memoizedState=d,function(){if((wn&2)!==0)throw Error(r(440));return d.impl.apply(void 0,arguments)}}},d_={readContext:pi,use:Wp,useCallback:HC,useContext:pi,useEffect:o_,useImperativeHandle:jC,useInsertionEffect:UC,useLayoutEffect:BC,useMemo:GC,useReducer:Yp,useRef:LC,useState:function(){return Yp(go)},useDebugValue:l_,useDeferredValue:function(o,c){var d=yr();return VC(d,In.memoizedState,o,c)},useTransition:function(){var o=Yp(go)[0],c=yr().memoizedState;return[typeof o=="boolean"?o:Jh(o),c]},useSyncExternalStore:_C,useId:qC,useHostTransitionStatus:f_,useFormState:DC,useActionState:DC,useOptimistic:function(o,c){var d=yr();return wC(d,In,o,c)},useMemoCache:n_,useCacheRefresh:KC};d_.useEffectEvent=FC;var eR={readContext:pi,use:Wp,useCallback:HC,useContext:pi,useEffect:o_,useImperativeHandle:jC,useInsertionEffect:UC,useLayoutEffect:BC,useMemo:GC,useReducer:i_,useRef:LC,useState:function(){return i_(go)},useDebugValue:l_,useDeferredValue:function(o,c){var d=yr();return In===null?c_(d,o,c):VC(d,In.memoizedState,o,c)},useTransition:function(){var o=i_(go)[0],c=yr().memoizedState;return[typeof o=="boolean"?o:Jh(o),c]},useSyncExternalStore:_C,useId:qC,useHostTransitionStatus:f_,useFormState:kC,useActionState:kC,useOptimistic:function(o,c){var d=yr();return In!==null?wC(d,In,o,c):(d.baseState=o,[o,d.queue.dispatch])},useMemoCache:n_,useCacheRefresh:KC};eR.useEffectEvent=FC;function p_(o,c,d,v){c=o.memoizedState,d=d(v,c),d=d==null?c:p({},c,d),o.memoizedState=d,o.lanes===0&&(o.updateQueue.baseState=d)}var m_={enqueueSetState:function(o,c,d){o=o._reactInternals;var v=xa(),S=El(v);S.payload=c,d!=null&&(S.callback=d),c=Sl(o,S,v),c!==null&&(ra(c,o,v),qh(c,o,v))},enqueueReplaceState:function(o,c,d){o=o._reactInternals;var v=xa(),S=El(v);S.tag=1,S.payload=c,d!=null&&(S.callback=d),c=Sl(o,S,v),c!==null&&(ra(c,o,v),qh(c,o,v))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var d=xa(),v=El(d);v.tag=2,c!=null&&(v.callback=c),c=Sl(o,v,d),c!==null&&(ra(c,o,d),qh(c,o,d))}};function tR(o,c,d,v,S,T,N){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(v,T,N):c.prototype&&c.prototype.isPureReactComponent?!zh(d,v)||!zh(S,T):!0}function nR(o,c,d,v){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(d,v),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(d,v),c.state!==o&&m_.enqueueReplaceState(c,c.state,null)}function Oc(o,c){var d=c;if("ref"in c){d={};for(var v in c)v!=="ref"&&(d[v]=c[v])}if(o=o.defaultProps){d===c&&(d=p({},d));for(var S in o)d[S]===void 0&&(d[S]=o[S])}return d}function rR(o){Mp(o)}function iR(o){console.error(o)}function aR(o){Mp(o)}function $p(o,c){try{var d=o.onUncaughtError;d(c.value,{componentStack:c.stack})}catch(v){setTimeout(function(){throw v})}}function sR(o,c,d){try{var v=o.onCaughtError;v(d.value,{componentStack:d.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(S){setTimeout(function(){throw S})}}function v_(o,c,d){return d=El(d),d.tag=3,d.payload={element:null},d.callback=function(){$p(o,c)},d}function oR(o){return o=El(o),o.tag=3,o}function lR(o,c,d,v){var S=d.type.getDerivedStateFromError;if(typeof S=="function"){var T=v.value;o.payload=function(){return S(T)},o.callback=function(){sR(c,d,v)}}var N=d.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(o.callback=function(){sR(c,d,v),typeof S!="function"&&(Cl===null?Cl=new Set([this]):Cl.add(this));var K=v.stack;this.componentDidCatch(v.value,{componentStack:K!==null?K:""})})}function E7(o,c,d,v,S){if(d.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(c=d.alternate,c!==null&&qu(c,d,S,!0),d=pa.current,d!==null){switch(d.tag){case 31:case 13:return za===null?lm():d.alternate===null&&hr===0&&(hr=3),d.flags&=-257,d.flags|=65536,d.lanes=S,v===Fp?d.flags|=16384:(c=d.updateQueue,c===null?d.updateQueue=new Set([v]):c.add(v),j_(o,v,S)),!1;case 22:return d.flags|=65536,v===Fp?d.flags|=16384:(c=d.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([v])},d.updateQueue=c):(d=c.retryQueue,d===null?c.retryQueue=new Set([v]):d.add(v)),j_(o,v,S)),!1}throw Error(r(435,d.tag))}return j_(o,v,S),lm(),!1}if(hn)return c=pa.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=S,v!==L1&&(o=Error(r(422),{cause:v}),Gh(Ia(o,d)))):(v!==L1&&(c=Error(r(423),{cause:v}),Gh(Ia(c,d))),o=o.current.alternate,o.flags|=65536,S&=-S,o.lanes|=S,v=Ia(v,d),S=v_(o.stateNode,v,S),Y1(o,S),hr!==4&&(hr=2)),!1;var T=Error(r(520),{cause:v});if(T=Ia(T,d),l0===null?l0=[T]:l0.push(T),hr!==4&&(hr=2),c===null)return!0;v=Ia(v,d),d=c;do{switch(d.tag){case 3:return d.flags|=65536,o=S&-S,d.lanes|=o,o=v_(d.stateNode,v,o),Y1(d,o),!1;case 1:if(c=d.type,T=d.stateNode,(d.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(Cl===null||!Cl.has(T))))return d.flags|=65536,S&=-S,d.lanes|=S,S=oR(S),lR(S,o,d,v),Y1(d,S),!1}d=d.return}while(d!==null);return!1}var g_=Error(r(461)),Mr=!1;function mi(o,c,d,v){c.child=o===null?hC(c,null,d,v):Cc(c,o.child,d,v)}function cR(o,c,d,v,S){d=d.render;var T=c.ref;if("ref"in v){var N={};for(var K in v)K!=="ref"&&(N[K]=v[K])}else N=v;return Tc(c),v=J1(o,c,d,N,T,S),K=Q1(),o!==null&&!Mr?(e_(o,c,S),xo(o,c,S)):(hn&&K&&N1(c),c.flags|=1,mi(o,c,v,S),c.child)}function uR(o,c,d,v,S){if(o===null){var T=d.type;return typeof T=="function"&&!O1(T)&&T.defaultProps===void 0&&d.compare===null?(c.tag=15,c.type=T,fR(o,c,T,v,S)):(o=Pp(d.type,null,v,c,c.mode,S),o.ref=c.ref,o.return=c,c.child=o)}if(T=o.child,!w_(o,S)){var N=T.memoizedProps;if(d=d.compare,d=d!==null?d:zh,d(N,v)&&o.ref===c.ref)return xo(o,c,S)}return c.flags|=1,o=fo(T,v),o.ref=c.ref,o.return=c,c.child=o}function fR(o,c,d,v,S){if(o!==null){var T=o.memoizedProps;if(zh(T,v)&&o.ref===c.ref)if(Mr=!1,c.pendingProps=v=T,w_(o,S))(o.flags&131072)!==0&&(Mr=!0);else return c.lanes=o.lanes,xo(o,c,S)}return x_(o,c,d,v,S)}function hR(o,c,d,v){var S=v.children,T=o!==null?o.memoizedState:null;if(o===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),v.mode==="hidden"){if((c.flags&128)!==0){if(T=T!==null?T.baseLanes|d:d,o!==null){for(v=c.child=o.child,S=0;v!==null;)S=S|v.lanes|v.childLanes,v=v.sibling;v=S&~T}else v=0,c.child=null;return dR(o,c,T,d,v)}if((d&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},o!==null&&Lp(c,T!==null?T.cachePool:null),T!==null?mC(c,T):q1(),vC(c);else return v=c.lanes=536870912,dR(o,c,T!==null?T.baseLanes|d:d,d,v)}else T!==null?(Lp(c,T.cachePool),mC(c,T),Tl(),c.memoizedState=null):(o!==null&&Lp(c,null),q1(),Tl());return mi(o,c,S,d),c.child}function t0(o,c){return o!==null&&o.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function dR(o,c,d,v,S){var T=H1();return T=T===null?null:{parent:wr._currentValue,pool:T},c.memoizedState={baseLanes:d,cachePool:T},o!==null&&Lp(c,null),q1(),vC(c),o!==null&&qu(o,c,v,!0),c.childLanes=S,null}function Zp(o,c){return c=Qp({mode:c.mode,children:c.children},o.mode),c.ref=o.ref,o.child=c,c.return=o,c}function pR(o,c,d){return Cc(c,o.child,null,d),o=Zp(c,c.pendingProps),o.flags|=2,ma(c),c.memoizedState=null,o}function S7(o,c,d){var v=c.pendingProps,S=(c.flags&128)!==0;if(c.flags&=-129,o===null){if(hn){if(v.mode==="hidden")return o=Zp(c,v),c.lanes=536870912,t0(null,o);if($1(c),(o=qn)?(o=AO(o,Ba),o=o!==null&&o.data==="&"?o:null,o!==null&&(c.memoizedState={dehydrated:o,treeContext:vl!==null?{id:Ds,overflow:Ns}:null,retryLane:536870912,hydrationErrors:null},d=ZM(o),d.return=c,c.child=d,di=c,qn=null)):o=null,o===null)throw xl(c);return c.lanes=536870912,null}return Zp(c,v)}var T=o.memoizedState;if(T!==null){var N=T.dehydrated;if($1(c),S)if(c.flags&256)c.flags&=-257,c=pR(o,c,d);else if(c.memoizedState!==null)c.child=o.child,c.flags|=128,c=null;else throw Error(r(558));else if(Mr||qu(o,c,d,!1),S=(d&o.childLanes)!==0,Mr||S){if(v=Gn,v!==null&&(N=dl(v,d),N!==0&&N!==T.retryLane))throw T.retryLane=N,yc(o,N),ra(v,o,N),g_;lm(),c=pR(o,c,d)}else o=T.treeContext,qn=ja(N.nextSibling),di=c,hn=!0,gl=null,Ba=!1,o!==null&&eC(c,o),c=Zp(c,v),c.flags|=4096;return c}return o=fo(o.child,{mode:v.mode,children:v.children}),o.ref=c.ref,c.child=o,o.return=c,o}function Jp(o,c){var d=c.ref;if(d===null)o!==null&&o.ref!==null&&(c.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(r(284));(o===null||o.ref!==d)&&(c.flags|=4194816)}}function x_(o,c,d,v,S){return Tc(c),d=J1(o,c,d,v,void 0,S),v=Q1(),o!==null&&!Mr?(e_(o,c,S),xo(o,c,S)):(hn&&v&&N1(c),c.flags|=1,mi(o,c,d,S),c.child)}function mR(o,c,d,v,S,T){return Tc(c),c.updateQueue=null,d=xC(c,v,d,S),gC(o),v=Q1(),o!==null&&!Mr?(e_(o,c,T),xo(o,c,T)):(hn&&v&&N1(c),c.flags|=1,mi(o,c,d,T),c.child)}function vR(o,c,d,v,S){if(Tc(c),c.stateNode===null){var T=Vu,N=d.contextType;typeof N=="object"&&N!==null&&(T=pi(N)),T=new d(v,T),c.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,T.updater=m_,c.stateNode=T,T._reactInternals=c,T=c.stateNode,T.props=v,T.state=c.memoizedState,T.refs={},V1(c),N=d.contextType,T.context=typeof N=="object"&&N!==null?pi(N):Vu,T.state=c.memoizedState,N=d.getDerivedStateFromProps,typeof N=="function"&&(p_(c,d,N,v),T.state=c.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(N=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),N!==T.state&&m_.enqueueReplaceState(T,T.state,null),$h(c,v,T,S),Kh(),T.state=c.memoizedState),typeof T.componentDidMount=="function"&&(c.flags|=4194308),v=!0}else if(o===null){T=c.stateNode;var K=c.memoizedProps,me=Oc(d,K);T.props=me;var Oe=T.context,He=d.contextType;N=Vu,typeof He=="object"&&He!==null&&(N=pi(He));var Ke=d.getDerivedStateFromProps;He=typeof Ke=="function"||typeof T.getSnapshotBeforeUpdate=="function",K=c.pendingProps!==K,He||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(K||Oe!==N)&&nR(c,T,v,N),yl=!1;var ke=c.memoizedState;T.state=ke,$h(c,v,T,S),Kh(),Oe=c.memoizedState,K||ke!==Oe||yl?(typeof Ke=="function"&&(p_(c,d,Ke,v),Oe=c.memoizedState),(me=yl||tR(c,d,me,v,ke,Oe,N))?(He||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(c.flags|=4194308)):(typeof T.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=v,c.memoizedState=Oe),T.props=v,T.state=Oe,T.context=N,v=me):(typeof T.componentDidMount=="function"&&(c.flags|=4194308),v=!1)}else{T=c.stateNode,W1(o,c),N=c.memoizedProps,He=Oc(d,N),T.props=He,Ke=c.pendingProps,ke=T.context,Oe=d.contextType,me=Vu,typeof Oe=="object"&&Oe!==null&&(me=pi(Oe)),K=d.getDerivedStateFromProps,(Oe=typeof K=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(N!==Ke||ke!==me)&&nR(c,T,v,me),yl=!1,ke=c.memoizedState,T.state=ke,$h(c,v,T,S),Kh();var Fe=c.memoizedState;N!==Ke||ke!==Fe||yl||o!==null&&o.dependencies!==null&&Np(o.dependencies)?(typeof K=="function"&&(p_(c,d,K,v),Fe=c.memoizedState),(He=yl||tR(c,d,He,v,ke,Fe,me)||o!==null&&o.dependencies!==null&&Np(o.dependencies))?(Oe||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(v,Fe,me),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(v,Fe,me)),typeof T.componentDidUpdate=="function"&&(c.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof T.componentDidUpdate!="function"||N===o.memoizedProps&&ke===o.memoizedState||(c.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||N===o.memoizedProps&&ke===o.memoizedState||(c.flags|=1024),c.memoizedProps=v,c.memoizedState=Fe),T.props=v,T.state=Fe,T.context=me,v=He):(typeof T.componentDidUpdate!="function"||N===o.memoizedProps&&ke===o.memoizedState||(c.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||N===o.memoizedProps&&ke===o.memoizedState||(c.flags|=1024),v=!1)}return T=v,Jp(o,c),v=(c.flags&128)!==0,T||v?(T=c.stateNode,d=v&&typeof d.getDerivedStateFromError!="function"?null:T.render(),c.flags|=1,o!==null&&v?(c.child=Cc(c,o.child,null,S),c.child=Cc(c,null,d,S)):mi(o,c,d,S),c.memoizedState=T.state,o=c.child):o=xo(o,c,S),o}function gR(o,c,d,v){return Sc(),c.flags|=256,mi(o,c,d,v),c.child}var __={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function y_(o){return{baseLanes:o,cachePool:sC()}}function E_(o,c,d){return o=o!==null?o.childLanes&~d:0,c&&(o|=ga),o}function xR(o,c,d){var v=c.pendingProps,S=!1,T=(c.flags&128)!==0,N;if((N=T)||(N=o!==null&&o.memoizedState===null?!1:(_r.current&2)!==0),N&&(S=!0,c.flags&=-129),N=(c.flags&32)!==0,c.flags&=-33,o===null){if(hn){if(S?bl(c):Tl(),(o=qn)?(o=AO(o,Ba),o=o!==null&&o.data!=="&"?o:null,o!==null&&(c.memoizedState={dehydrated:o,treeContext:vl!==null?{id:Ds,overflow:Ns}:null,retryLane:536870912,hydrationErrors:null},d=ZM(o),d.return=c,c.child=d,di=c,qn=null)):o=null,o===null)throw xl(c);return ry(o)?c.lanes=32:c.lanes=536870912,null}var K=v.children;return v=v.fallback,S?(Tl(),S=c.mode,K=Qp({mode:"hidden",children:K},S),v=Ec(v,S,d,null),K.return=c,v.return=c,K.sibling=v,c.child=K,v=c.child,v.memoizedState=y_(d),v.childLanes=E_(o,N,d),c.memoizedState=__,t0(null,v)):(bl(c),S_(c,K))}var me=o.memoizedState;if(me!==null&&(K=me.dehydrated,K!==null)){if(T)c.flags&256?(bl(c),c.flags&=-257,c=b_(o,c,d)):c.memoizedState!==null?(Tl(),c.child=o.child,c.flags|=128,c=null):(Tl(),K=v.fallback,S=c.mode,v=Qp({mode:"visible",children:v.children},S),K=Ec(K,S,d,null),K.flags|=2,v.return=c,K.return=c,v.sibling=K,c.child=v,Cc(c,o.child,null,d),v=c.child,v.memoizedState=y_(d),v.childLanes=E_(o,N,d),c.memoizedState=__,c=t0(null,v));else if(bl(c),ry(K)){if(N=K.nextSibling&&K.nextSibling.dataset,N)var Oe=N.dgst;N=Oe,v=Error(r(419)),v.stack="",v.digest=N,Gh({value:v,source:null,stack:null}),c=b_(o,c,d)}else if(Mr||qu(o,c,d,!1),N=(d&o.childLanes)!==0,Mr||N){if(N=Gn,N!==null&&(v=dl(N,d),v!==0&&v!==me.retryLane))throw me.retryLane=v,yc(o,v),ra(N,o,v),g_;ny(K)||lm(),c=b_(o,c,d)}else ny(K)?(c.flags|=192,c.child=o.child,c=null):(o=me.treeContext,qn=ja(K.nextSibling),di=c,hn=!0,gl=null,Ba=!1,o!==null&&eC(c,o),c=S_(c,v.children),c.flags|=4096);return c}return S?(Tl(),K=v.fallback,S=c.mode,me=o.child,Oe=me.sibling,v=fo(me,{mode:"hidden",children:v.children}),v.subtreeFlags=me.subtreeFlags&65011712,Oe!==null?K=fo(Oe,K):(K=Ec(K,S,d,null),K.flags|=2),K.return=c,v.return=c,v.sibling=K,c.child=v,t0(null,v),v=c.child,K=o.child.memoizedState,K===null?K=y_(d):(S=K.cachePool,S!==null?(me=wr._currentValue,S=S.parent!==me?{parent:me,pool:me}:S):S=sC(),K={baseLanes:K.baseLanes|d,cachePool:S}),v.memoizedState=K,v.childLanes=E_(o,N,d),c.memoizedState=__,t0(o.child,v)):(bl(c),d=o.child,o=d.sibling,d=fo(d,{mode:"visible",children:v.children}),d.return=c,d.sibling=null,o!==null&&(N=c.deletions,N===null?(c.deletions=[o],c.flags|=16):N.push(o)),c.child=d,c.memoizedState=null,d)}function S_(o,c){return c=Qp({mode:"visible",children:c},o.mode),c.return=o,o.child=c}function Qp(o,c){return o=da(22,o,null,c),o.lanes=0,o}function b_(o,c,d){return Cc(c,o.child,null,d),o=S_(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function _R(o,c,d){o.lanes|=c;var v=o.alternate;v!==null&&(v.lanes|=c),U1(o.return,c,d)}function T_(o,c,d,v,S,T){var N=o.memoizedState;N===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:v,tail:d,tailMode:S,treeForkCount:T}:(N.isBackwards=c,N.rendering=null,N.renderingStartTime=0,N.last=v,N.tail=d,N.tailMode=S,N.treeForkCount=T)}function yR(o,c,d){var v=c.pendingProps,S=v.revealOrder,T=v.tail;v=v.children;var N=_r.current,K=(N&2)!==0;if(K?(N=N&1|2,c.flags|=128):N&=1,V(_r,N),mi(o,c,v,d),v=hn?Hh:0,!K&&o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&_R(o,d,c);else if(o.tag===19)_R(o,d,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(S){case"forwards":for(d=c.child,S=null;d!==null;)o=d.alternate,o!==null&&jp(o)===null&&(S=d),d=d.sibling;d=S,d===null?(S=c.child,c.child=null):(S=d.sibling,d.sibling=null),T_(c,!1,S,d,T,v);break;case"backwards":case"unstable_legacy-backwards":for(d=null,S=c.child,c.child=null;S!==null;){if(o=S.alternate,o!==null&&jp(o)===null){c.child=S;break}o=S.sibling,S.sibling=d,d=S,S=o}T_(c,!0,d,null,T,v);break;case"together":T_(c,!1,null,null,void 0,v);break;default:c.memoizedState=null}return c.child}function xo(o,c,d){if(o!==null&&(c.dependencies=o.dependencies),Ml|=c.lanes,(d&c.childLanes)===0)if(o!==null){if(qu(o,c,d,!1),(d&c.childLanes)===0)return null}else return null;if(o!==null&&c.child!==o.child)throw Error(r(153));if(c.child!==null){for(o=c.child,d=fo(o,o.pendingProps),c.child=d,d.return=c;o.sibling!==null;)o=o.sibling,d=d.sibling=fo(o,o.pendingProps),d.return=c;d.sibling=null}return c.child}function w_(o,c){return(o.lanes&c)!==0?!0:(o=o.dependencies,!!(o!==null&&Np(o)))}function b7(o,c,d){switch(c.tag){case 3:ae(c,c.stateNode.containerInfo),_l(c,wr,o.memoizedState.cache),Sc();break;case 27:case 5:de(c);break;case 4:ae(c,c.stateNode.containerInfo);break;case 10:_l(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,$1(c),null;break;case 13:var v=c.memoizedState;if(v!==null)return v.dehydrated!==null?(bl(c),c.flags|=128,null):(d&c.child.childLanes)!==0?xR(o,c,d):(bl(c),o=xo(o,c,d),o!==null?o.sibling:null);bl(c);break;case 19:var S=(o.flags&128)!==0;if(v=(d&c.childLanes)!==0,v||(qu(o,c,d,!1),v=(d&c.childLanes)!==0),S){if(v)return yR(o,c,d);c.flags|=128}if(S=c.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),V(_r,_r.current),v)break;return null;case 22:return c.lanes=0,hR(o,c,d,c.pendingProps);case 24:_l(c,wr,o.memoizedState.cache)}return xo(o,c,d)}function ER(o,c,d){if(o!==null)if(o.memoizedProps!==c.pendingProps)Mr=!0;else{if(!w_(o,d)&&(c.flags&128)===0)return Mr=!1,b7(o,c,d);Mr=(o.flags&131072)!==0}else Mr=!1,hn&&(c.flags&1048576)!==0&&QM(c,Hh,c.index);switch(c.lanes=0,c.tag){case 16:e:{var v=c.pendingProps;if(o=Ac(c.elementType),c.type=o,typeof o=="function")O1(o)?(v=Oc(o,v),c.tag=1,c=vR(null,c,o,v,d)):(c.tag=0,c=x_(null,c,o,v,d));else{if(o!=null){var S=o.$$typeof;if(S===M){c.tag=11,c=cR(null,c,o,v,d);break e}else if(S===R){c.tag=14,c=uR(null,c,o,v,d);break e}}throw c=se(o)||o,Error(r(306,c,""))}}return c;case 0:return x_(o,c,c.type,c.pendingProps,d);case 1:return v=c.type,S=Oc(v,c.pendingProps),vR(o,c,v,S,d);case 3:e:{if(ae(c,c.stateNode.containerInfo),o===null)throw Error(r(387));v=c.pendingProps;var T=c.memoizedState;S=T.element,W1(o,c),$h(c,v,null,d);var N=c.memoizedState;if(v=N.cache,_l(c,wr,v),v!==T.cache&&B1(c,[wr],d,!0),Kh(),v=N.element,T.isDehydrated)if(T={element:v,isDehydrated:!1,cache:N.cache},c.updateQueue.baseState=T,c.memoizedState=T,c.flags&256){c=gR(o,c,v,d);break e}else if(v!==S){S=Ia(Error(r(424)),c),Gh(S),c=gR(o,c,v,d);break e}else{switch(o=c.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(qn=ja(o.firstChild),di=c,hn=!0,gl=null,Ba=!0,d=hC(c,null,v,d),c.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(Sc(),v===S){c=xo(o,c,d);break e}mi(o,c,v,d)}c=c.child}return c;case 26:return Jp(o,c),o===null?(d=DO(c.type,null,c.pendingProps,null))?c.memoizedState=d:hn||(d=c.type,o=c.pendingProps,v=mm(J.current).createElement(d),v[re]=c,v[le]=o,vi(v,d,o),H(v),c.stateNode=v):c.memoizedState=DO(c.type,o.memoizedProps,c.pendingProps,o.memoizedState),null;case 27:return de(c),o===null&&hn&&(v=c.stateNode=RO(c.type,c.pendingProps,J.current),di=c,Ba=!0,S=qn,Dl(c.type)?(iy=S,qn=ja(v.firstChild)):qn=S),mi(o,c,c.pendingProps.children,d),Jp(o,c),o===null&&(c.flags|=4194304),c.child;case 5:return o===null&&hn&&((S=v=qn)&&(v=Q7(v,c.type,c.pendingProps,Ba),v!==null?(c.stateNode=v,di=c,qn=ja(v.firstChild),Ba=!1,S=!0):S=!1),S||xl(c)),de(c),S=c.type,T=c.pendingProps,N=o!==null?o.memoizedProps:null,v=T.children,Q_(S,T)?v=null:N!==null&&Q_(S,N)&&(c.flags|=32),c.memoizedState!==null&&(S=J1(o,c,p7,null,null,d),v0._currentValue=S),Jp(o,c),mi(o,c,v,d),c.child;case 6:return o===null&&hn&&((o=d=qn)&&(d=ej(d,c.pendingProps,Ba),d!==null?(c.stateNode=d,di=c,qn=null,o=!0):o=!1),o||xl(c)),null;case 13:return xR(o,c,d);case 4:return ae(c,c.stateNode.containerInfo),v=c.pendingProps,o===null?c.child=Cc(c,null,v,d):mi(o,c,v,d),c.child;case 11:return cR(o,c,c.type,c.pendingProps,d);case 7:return mi(o,c,c.pendingProps,d),c.child;case 8:return mi(o,c,c.pendingProps.children,d),c.child;case 12:return mi(o,c,c.pendingProps.children,d),c.child;case 10:return v=c.pendingProps,_l(c,c.type,v.value),mi(o,c,v.children,d),c.child;case 9:return S=c.type._context,v=c.pendingProps.children,Tc(c),S=pi(S),v=v(S),c.flags|=1,mi(o,c,v,d),c.child;case 14:return uR(o,c,c.type,c.pendingProps,d);case 15:return fR(o,c,c.type,c.pendingProps,d);case 19:return yR(o,c,d);case 31:return S7(o,c,d);case 22:return hR(o,c,d,c.pendingProps);case 24:return Tc(c),v=pi(wr),o===null?(S=H1(),S===null&&(S=Gn,T=z1(),S.pooledCache=T,T.refCount++,T!==null&&(S.pooledCacheLanes|=d),S=T),c.memoizedState={parent:v,cache:S},V1(c),_l(c,wr,S)):((o.lanes&d)!==0&&(W1(o,c),$h(c,null,null,d),Kh()),S=o.memoizedState,T=c.memoizedState,S.parent!==v?(S={parent:v,cache:v},c.memoizedState=S,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=S),_l(c,wr,v)):(v=T.cache,_l(c,wr,v),v!==S.cache&&B1(c,[wr],d,!0))),mi(o,c,c.pendingProps.children,d),c.child;case 29:throw c.pendingProps}throw Error(r(156,c.tag))}function _o(o){o.flags|=4}function A_(o,c,d,v,S){if((c=(o.mode&32)!==0)&&(c=!1),c){if(o.flags|=16777216,(S&335544128)===S)if(o.stateNode.complete)o.flags|=8192;else if(qR())o.flags|=8192;else throw Mc=Fp,G1}else o.flags&=-16777217}function SR(o,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!FO(c))if(qR())o.flags|=8192;else throw Mc=Fp,G1}function em(o,c){c!==null&&(o.flags|=4),o.flags&16384&&(c=o.tag!==22?Sn():536870912,o.lanes|=c,of|=c)}function n0(o,c){if(!hn)switch(o.tailMode){case"hidden":c=o.tail;for(var d=null;c!==null;)c.alternate!==null&&(d=c),c=c.sibling;d===null?o.tail=null:d.sibling=null;break;case"collapsed":d=o.tail;for(var v=null;d!==null;)d.alternate!==null&&(v=d),d=d.sibling;v===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:v.sibling=null}}function Kn(o){var c=o.alternate!==null&&o.alternate.child===o.child,d=0,v=0;if(c)for(var S=o.child;S!==null;)d|=S.lanes|S.childLanes,v|=S.subtreeFlags&65011712,v|=S.flags&65011712,S.return=o,S=S.sibling;else for(S=o.child;S!==null;)d|=S.lanes|S.childLanes,v|=S.subtreeFlags,v|=S.flags,S.return=o,S=S.sibling;return o.subtreeFlags|=v,o.childLanes=d,c}function T7(o,c,d){var v=c.pendingProps;switch(k1(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kn(c),null;case 1:return Kn(c),null;case 3:return d=c.stateNode,v=null,o!==null&&(v=o.memoizedState.cache),c.memoizedState.cache!==v&&(c.flags|=2048),mo(wr),Q(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(o===null||o.child===null)&&(Xu(c)?_o(c):o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,I1())),Kn(c),null;case 26:var S=c.type,T=c.memoizedState;return o===null?(_o(c),T!==null?(Kn(c),SR(c,T)):(Kn(c),A_(c,S,null,v,d))):T?T!==o.memoizedState?(_o(c),Kn(c),SR(c,T)):(Kn(c),c.flags&=-16777217):(o=o.memoizedProps,o!==v&&_o(c),Kn(c),A_(c,S,o,v,d)),null;case 27:if(Ae(c),d=J.current,S=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==v&&_o(c);else{if(!v){if(c.stateNode===null)throw Error(r(166));return Kn(c),null}o=X.current,Xu(c)?tC(c):(o=RO(S,v,d),c.stateNode=o,_o(c))}return Kn(c),null;case 5:if(Ae(c),S=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==v&&_o(c);else{if(!v){if(c.stateNode===null)throw Error(r(166));return Kn(c),null}if(T=X.current,Xu(c))tC(c);else{var N=mm(J.current);switch(T){case 1:T=N.createElementNS("http://www.w3.org/2000/svg",S);break;case 2:T=N.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;default:switch(S){case"svg":T=N.createElementNS("http://www.w3.org/2000/svg",S);break;case"math":T=N.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;case"script":T=N.createElement("div"),T.innerHTML="<script><\/script>",T=T.removeChild(T.firstChild);break;case"select":T=typeof v.is=="string"?N.createElement("select",{is:v.is}):N.createElement("select"),v.multiple?T.multiple=!0:v.size&&(T.size=v.size);break;default:T=typeof v.is=="string"?N.createElement(S,{is:v.is}):N.createElement(S)}}T[re]=c,T[le]=v;e:for(N=c.child;N!==null;){if(N.tag===5||N.tag===6)T.appendChild(N.stateNode);else if(N.tag!==4&&N.tag!==27&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===c)break e;for(;N.sibling===null;){if(N.return===null||N.return===c)break e;N=N.return}N.sibling.return=N.return,N=N.sibling}c.stateNode=T;e:switch(vi(T,S,v),S){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}v&&_o(c)}}return Kn(c),A_(c,c.type,o===null?null:o.memoizedProps,c.pendingProps,d),null;case 6:if(o&&c.stateNode!=null)o.memoizedProps!==v&&_o(c);else{if(typeof v!="string"&&c.stateNode===null)throw Error(r(166));if(o=J.current,Xu(c)){if(o=c.stateNode,d=c.memoizedProps,v=null,S=di,S!==null)switch(S.tag){case 27:case 5:v=S.memoizedProps}o[re]=c,o=!!(o.nodeValue===d||v!==null&&v.suppressHydrationWarning===!0||xO(o.nodeValue,d)),o||xl(c,!0)}else o=mm(o).createTextNode(v),o[re]=c,c.stateNode=o}return Kn(c),null;case 31:if(d=c.memoizedState,o===null||o.memoizedState!==null){if(v=Xu(c),d!==null){if(o===null){if(!v)throw Error(r(318));if(o=c.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(557));o[re]=c}else Sc(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Kn(c),o=!1}else d=I1(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=d),o=!0;if(!o)return c.flags&256?(ma(c),c):(ma(c),null);if((c.flags&128)!==0)throw Error(r(558))}return Kn(c),null;case 13:if(v=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(S=Xu(c),v!==null&&v.dehydrated!==null){if(o===null){if(!S)throw Error(r(318));if(S=c.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(r(317));S[re]=c}else Sc(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Kn(c),S=!1}else S=I1(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=S),S=!0;if(!S)return c.flags&256?(ma(c),c):(ma(c),null)}return ma(c),(c.flags&128)!==0?(c.lanes=d,c):(d=v!==null,o=o!==null&&o.memoizedState!==null,d&&(v=c.child,S=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(S=v.alternate.memoizedState.cachePool.pool),T=null,v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(T=v.memoizedState.cachePool.pool),T!==S&&(v.flags|=2048)),d!==o&&d&&(c.child.flags|=8192),em(c,c.updateQueue),Kn(c),null);case 4:return Q(),o===null&&q_(c.stateNode.containerInfo),Kn(c),null;case 10:return mo(c.type),Kn(c),null;case 19:if(I(_r),v=c.memoizedState,v===null)return Kn(c),null;if(S=(c.flags&128)!==0,T=v.rendering,T===null)if(S)n0(v,!1);else{if(hr!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(T=jp(o),T!==null){for(c.flags|=128,n0(v,!1),o=T.updateQueue,c.updateQueue=o,em(c,o),c.subtreeFlags=0,o=d,d=c.child;d!==null;)$M(d,o),d=d.sibling;return V(_r,_r.current&1|2),hn&&ho(c,v.treeForkCount),c.child}o=o.sibling}v.tail!==null&&B()>am&&(c.flags|=128,S=!0,n0(v,!1),c.lanes=4194304)}else{if(!S)if(o=jp(T),o!==null){if(c.flags|=128,S=!0,o=o.updateQueue,c.updateQueue=o,em(c,o),n0(v,!0),v.tail===null&&v.tailMode==="hidden"&&!T.alternate&&!hn)return Kn(c),null}else 2*B()-v.renderingStartTime>am&&d!==536870912&&(c.flags|=128,S=!0,n0(v,!1),c.lanes=4194304);v.isBackwards?(T.sibling=c.child,c.child=T):(o=v.last,o!==null?o.sibling=T:c.child=T,v.last=T)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=B(),o.sibling=null,d=_r.current,V(_r,S?d&1|2:d&1),hn&&ho(c,v.treeForkCount),o):(Kn(c),null);case 22:case 23:return ma(c),K1(),v=c.memoizedState!==null,o!==null?o.memoizedState!==null!==v&&(c.flags|=8192):v&&(c.flags|=8192),v?(d&536870912)!==0&&(c.flags&128)===0&&(Kn(c),c.subtreeFlags&6&&(c.flags|=8192)):Kn(c),d=c.updateQueue,d!==null&&em(c,d.retryQueue),d=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),v=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(v=c.memoizedState.cachePool.pool),v!==d&&(c.flags|=2048),o!==null&&I(wc),null;case 24:return d=null,o!==null&&(d=o.memoizedState.cache),c.memoizedState.cache!==d&&(c.flags|=2048),mo(wr),Kn(c),null;case 25:return null;case 30:return null}throw Error(r(156,c.tag))}function w7(o,c){switch(k1(c),c.tag){case 1:return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return mo(wr),Q(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 26:case 27:case 5:return Ae(c),null;case 31:if(c.memoizedState!==null){if(ma(c),c.alternate===null)throw Error(r(340));Sc()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 13:if(ma(c),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(r(340));Sc()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return I(_r),null;case 4:return Q(),null;case 10:return mo(c.type),null;case 22:case 23:return ma(c),K1(),o!==null&&I(wc),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 24:return mo(wr),null;case 25:return null;default:return null}}function bR(o,c){switch(k1(c),c.tag){case 3:mo(wr),Q();break;case 26:case 27:case 5:Ae(c);break;case 4:Q();break;case 31:c.memoizedState!==null&&ma(c);break;case 13:ma(c);break;case 19:I(_r);break;case 10:mo(c.type);break;case 22:case 23:ma(c),K1(),o!==null&&I(wc);break;case 24:mo(wr)}}function r0(o,c){try{var d=c.updateQueue,v=d!==null?d.lastEffect:null;if(v!==null){var S=v.next;d=S;do{if((d.tag&o)===o){v=void 0;var T=d.create,N=d.inst;v=T(),N.destroy=v}d=d.next}while(d!==S)}}catch(K){Rn(c,c.return,K)}}function wl(o,c,d){try{var v=c.updateQueue,S=v!==null?v.lastEffect:null;if(S!==null){var T=S.next;v=T;do{if((v.tag&o)===o){var N=v.inst,K=N.destroy;if(K!==void 0){N.destroy=void 0,S=c;var me=d,Oe=K;try{Oe()}catch(He){Rn(S,me,He)}}}v=v.next}while(v!==T)}}catch(He){Rn(c,c.return,He)}}function TR(o){var c=o.updateQueue;if(c!==null){var d=o.stateNode;try{pC(c,d)}catch(v){Rn(o,o.return,v)}}}function wR(o,c,d){d.props=Oc(o.type,o.memoizedProps),d.state=o.memoizedState;try{d.componentWillUnmount()}catch(v){Rn(o,c,v)}}function i0(o,c){try{var d=o.ref;if(d!==null){switch(o.tag){case 26:case 27:case 5:var v=o.stateNode;break;case 30:v=o.stateNode;break;default:v=o.stateNode}typeof d=="function"?o.refCleanup=d(v):d.current=v}}catch(S){Rn(o,c,S)}}function ks(o,c){var d=o.ref,v=o.refCleanup;if(d!==null)if(typeof v=="function")try{v()}catch(S){Rn(o,c,S)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(S){Rn(o,c,S)}else d.current=null}function AR(o){var c=o.type,d=o.memoizedProps,v=o.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":d.autoFocus&&v.focus();break e;case"img":d.src?v.src=d.src:d.srcSet&&(v.srcset=d.srcSet)}}catch(S){Rn(o,o.return,S)}}function M_(o,c,d){try{var v=o.stateNode;X7(v,o.type,d,c),v[le]=c}catch(S){Rn(o,o.return,S)}}function MR(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&Dl(o.type)||o.tag===4}function C_(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||MR(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&Dl(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function R_(o,c,d){var v=o.tag;if(v===5||v===6)o=o.stateNode,c?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(o,c):(c=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,c.appendChild(o),d=d._reactRootContainer,d!=null||c.onclick!==null||(c.onclick=co));else if(v!==4&&(v===27&&Dl(o.type)&&(d=o.stateNode,c=null),o=o.child,o!==null))for(R_(o,c,d),o=o.sibling;o!==null;)R_(o,c,d),o=o.sibling}function tm(o,c,d){var v=o.tag;if(v===5||v===6)o=o.stateNode,c?d.insertBefore(o,c):d.appendChild(o);else if(v!==4&&(v===27&&Dl(o.type)&&(d=o.stateNode),o=o.child,o!==null))for(tm(o,c,d),o=o.sibling;o!==null;)tm(o,c,d),o=o.sibling}function CR(o){var c=o.stateNode,d=o.memoizedProps;try{for(var v=o.type,S=c.attributes;S.length;)c.removeAttributeNode(S[0]);vi(c,v,d),c[re]=o,c[le]=d}catch(T){Rn(o,o.return,T)}}var yo=!1,Cr=!1,O_=!1,RR=typeof WeakSet=="function"?WeakSet:Set,Zr=null;function A7(o,c){if(o=o.containerInfo,Z_=Sm,o=jM(o),b1(o)){if("selectionStart"in o)var d={start:o.selectionStart,end:o.selectionEnd};else e:{d=(d=o.ownerDocument)&&d.defaultView||window;var v=d.getSelection&&d.getSelection();if(v&&v.rangeCount!==0){d=v.anchorNode;var S=v.anchorOffset,T=v.focusNode;v=v.focusOffset;try{d.nodeType,T.nodeType}catch{d=null;break e}var N=0,K=-1,me=-1,Oe=0,He=0,Ke=o,ke=null;t:for(;;){for(var Fe;Ke!==d||S!==0&&Ke.nodeType!==3||(K=N+S),Ke!==T||v!==0&&Ke.nodeType!==3||(me=N+v),Ke.nodeType===3&&(N+=Ke.nodeValue.length),(Fe=Ke.firstChild)!==null;)ke=Ke,Ke=Fe;for(;;){if(Ke===o)break t;if(ke===d&&++Oe===S&&(K=N),ke===T&&++He===v&&(me=N),(Fe=Ke.nextSibling)!==null)break;Ke=ke,ke=Ke.parentNode}Ke=Fe}d=K===-1||me===-1?null:{start:K,end:me}}else d=null}d=d||{start:0,end:0}}else d=null;for(J_={focusedElem:o,selectionRange:d},Sm=!1,Zr=c;Zr!==null;)if(c=Zr,o=c.child,(c.subtreeFlags&1028)!==0&&o!==null)o.return=c,Zr=o;else for(;Zr!==null;){switch(c=Zr,T=c.alternate,o=c.flags,c.tag){case 0:if((o&4)!==0&&(o=c.updateQueue,o=o!==null?o.events:null,o!==null))for(d=0;d<o.length;d++)S=o[d],S.ref.impl=S.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&T!==null){o=void 0,d=c,S=T.memoizedProps,T=T.memoizedState,v=d.stateNode;try{var At=Oc(d.type,S);o=v.getSnapshotBeforeUpdate(At,T),v.__reactInternalSnapshotBeforeUpdate=o}catch(zt){Rn(d,d.return,zt)}}break;case 3:if((o&1024)!==0){if(o=c.stateNode.containerInfo,d=o.nodeType,d===9)ty(o);else if(d===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":ty(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=c.sibling,o!==null){o.return=c.return,Zr=o;break}Zr=c.return}}function OR(o,c,d){var v=d.flags;switch(d.tag){case 0:case 11:case 15:So(o,d),v&4&&r0(5,d);break;case 1:if(So(o,d),v&4)if(o=d.stateNode,c===null)try{o.componentDidMount()}catch(N){Rn(d,d.return,N)}else{var S=Oc(d.type,c.memoizedProps);c=c.memoizedState;try{o.componentDidUpdate(S,c,o.__reactInternalSnapshotBeforeUpdate)}catch(N){Rn(d,d.return,N)}}v&64&&TR(d),v&512&&i0(d,d.return);break;case 3:if(So(o,d),v&64&&(o=d.updateQueue,o!==null)){if(c=null,d.child!==null)switch(d.child.tag){case 27:case 5:c=d.child.stateNode;break;case 1:c=d.child.stateNode}try{pC(o,c)}catch(N){Rn(d,d.return,N)}}break;case 27:c===null&&v&4&&CR(d);case 26:case 5:So(o,d),c===null&&v&4&&AR(d),v&512&&i0(d,d.return);break;case 12:So(o,d);break;case 31:So(o,d),v&4&&NR(o,d);break;case 13:So(o,d),v&4&&kR(o,d),v&64&&(o=d.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(d=L7.bind(null,d),tj(o,d))));break;case 22:if(v=d.memoizedState!==null||yo,!v){c=c!==null&&c.memoizedState!==null||Cr,S=yo;var T=Cr;yo=v,(Cr=c)&&!T?bo(o,d,(d.subtreeFlags&8772)!==0):So(o,d),yo=S,Cr=T}break;case 30:break;default:So(o,d)}}function PR(o){var c=o.alternate;c!==null&&(o.alternate=null,PR(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&tt(c)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var rr=null,Qi=!1;function Eo(o,c,d){for(d=d.child;d!==null;)DR(o,c,d),d=d.sibling}function DR(o,c,d){if(Qe&&typeof Qe.onCommitFiberUnmount=="function")try{Qe.onCommitFiberUnmount(Ve,d)}catch{}switch(d.tag){case 26:Cr||ks(d,c),Eo(o,c,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:Cr||ks(d,c);var v=rr,S=Qi;Dl(d.type)&&(rr=d.stateNode,Qi=!1),Eo(o,c,d),d0(d.stateNode),rr=v,Qi=S;break;case 5:Cr||ks(d,c);case 6:if(v=rr,S=Qi,rr=null,Eo(o,c,d),rr=v,Qi=S,rr!==null)if(Qi)try{(rr.nodeType===9?rr.body:rr.nodeName==="HTML"?rr.ownerDocument.body:rr).removeChild(d.stateNode)}catch(T){Rn(d,c,T)}else try{rr.removeChild(d.stateNode)}catch(T){Rn(d,c,T)}break;case 18:rr!==null&&(Qi?(o=rr,TO(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,d.stateNode),mf(o)):TO(rr,d.stateNode));break;case 4:v=rr,S=Qi,rr=d.stateNode.containerInfo,Qi=!0,Eo(o,c,d),rr=v,Qi=S;break;case 0:case 11:case 14:case 15:wl(2,d,c),Cr||wl(4,d,c),Eo(o,c,d);break;case 1:Cr||(ks(d,c),v=d.stateNode,typeof v.componentWillUnmount=="function"&&wR(d,c,v)),Eo(o,c,d);break;case 21:Eo(o,c,d);break;case 22:Cr=(v=Cr)||d.memoizedState!==null,Eo(o,c,d),Cr=v;break;default:Eo(o,c,d)}}function NR(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{mf(o)}catch(d){Rn(c,c.return,d)}}}function kR(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{mf(o)}catch(d){Rn(c,c.return,d)}}function M7(o){switch(o.tag){case 31:case 13:case 19:var c=o.stateNode;return c===null&&(c=o.stateNode=new RR),c;case 22:return o=o.stateNode,c=o._retryCache,c===null&&(c=o._retryCache=new RR),c;default:throw Error(r(435,o.tag))}}function nm(o,c){var d=M7(o);c.forEach(function(v){if(!d.has(v)){d.add(v);var S=I7.bind(null,o,v);v.then(S,S)}})}function ea(o,c){var d=c.deletions;if(d!==null)for(var v=0;v<d.length;v++){var S=d[v],T=o,N=c,K=N;e:for(;K!==null;){switch(K.tag){case 27:if(Dl(K.type)){rr=K.stateNode,Qi=!1;break e}break;case 5:rr=K.stateNode,Qi=!1;break e;case 3:case 4:rr=K.stateNode.containerInfo,Qi=!0;break e}K=K.return}if(rr===null)throw Error(r(160));DR(T,N,S),rr=null,Qi=!1,T=S.alternate,T!==null&&(T.return=null),S.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)LR(c,o),c=c.sibling}var ds=null;function LR(o,c){var d=o.alternate,v=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:ea(c,o),ta(o),v&4&&(wl(3,o,o.return),r0(3,o),wl(5,o,o.return));break;case 1:ea(c,o),ta(o),v&512&&(Cr||d===null||ks(d,d.return)),v&64&&yo&&(o=o.updateQueue,o!==null&&(v=o.callbacks,v!==null&&(d=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=d===null?v:d.concat(v))));break;case 26:var S=ds;if(ea(c,o),ta(o),v&512&&(Cr||d===null||ks(d,d.return)),v&4){var T=d!==null?d.memoizedState:null;if(v=o.memoizedState,d===null)if(v===null)if(o.stateNode===null){e:{v=o.type,d=o.memoizedProps,S=S.ownerDocument||S;t:switch(v){case"title":T=S.getElementsByTagName("title")[0],(!T||T[Ne]||T[re]||T.namespaceURI==="http://www.w3.org/2000/svg"||T.hasAttribute("itemprop"))&&(T=S.createElement(v),S.head.insertBefore(T,S.querySelector("head > title"))),vi(T,v,d),T[re]=o,H(T),v=T;break e;case"link":var N=LO("link","href",S).get(v+(d.href||""));if(N){for(var K=0;K<N.length;K++)if(T=N[K],T.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&T.getAttribute("rel")===(d.rel==null?null:d.rel)&&T.getAttribute("title")===(d.title==null?null:d.title)&&T.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){N.splice(K,1);break t}}T=S.createElement(v),vi(T,v,d),S.head.appendChild(T);break;case"meta":if(N=LO("meta","content",S).get(v+(d.content||""))){for(K=0;K<N.length;K++)if(T=N[K],T.getAttribute("content")===(d.content==null?null:""+d.content)&&T.getAttribute("name")===(d.name==null?null:d.name)&&T.getAttribute("property")===(d.property==null?null:d.property)&&T.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&T.getAttribute("charset")===(d.charSet==null?null:d.charSet)){N.splice(K,1);break t}}T=S.createElement(v),vi(T,v,d),S.head.appendChild(T);break;default:throw Error(r(468,v))}T[re]=o,H(T),v=T}o.stateNode=v}else IO(S,o.type,o.stateNode);else o.stateNode=kO(S,v,o.memoizedProps);else T!==v?(T===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):T.count--,v===null?IO(S,o.type,o.stateNode):kO(S,v,o.memoizedProps)):v===null&&o.stateNode!==null&&M_(o,o.memoizedProps,d.memoizedProps)}break;case 27:ea(c,o),ta(o),v&512&&(Cr||d===null||ks(d,d.return)),d!==null&&v&4&&M_(o,o.memoizedProps,d.memoizedProps);break;case 5:if(ea(c,o),ta(o),v&512&&(Cr||d===null||ks(d,d.return)),o.flags&32){S=o.stateNode;try{Ir(S,"")}catch(At){Rn(o,o.return,At)}}v&4&&o.stateNode!=null&&(S=o.memoizedProps,M_(o,S,d!==null?d.memoizedProps:S)),v&1024&&(O_=!0);break;case 6:if(ea(c,o),ta(o),v&4){if(o.stateNode===null)throw Error(r(162));v=o.memoizedProps,d=o.stateNode;try{d.nodeValue=v}catch(At){Rn(o,o.return,At)}}break;case 3:if(xm=null,S=ds,ds=vm(c.containerInfo),ea(c,o),ds=S,ta(o),v&4&&d!==null&&d.memoizedState.isDehydrated)try{mf(c.containerInfo)}catch(At){Rn(o,o.return,At)}O_&&(O_=!1,IR(o));break;case 4:v=ds,ds=vm(o.stateNode.containerInfo),ea(c,o),ta(o),ds=v;break;case 12:ea(c,o),ta(o);break;case 31:ea(c,o),ta(o),v&4&&(v=o.updateQueue,v!==null&&(o.updateQueue=null,nm(o,v)));break;case 13:ea(c,o),ta(o),o.child.flags&8192&&o.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(im=B()),v&4&&(v=o.updateQueue,v!==null&&(o.updateQueue=null,nm(o,v)));break;case 22:S=o.memoizedState!==null;var me=d!==null&&d.memoizedState!==null,Oe=yo,He=Cr;if(yo=Oe||S,Cr=He||me,ea(c,o),Cr=He,yo=Oe,ta(o),v&8192)e:for(c=o.stateNode,c._visibility=S?c._visibility&-2:c._visibility|1,S&&(d===null||me||yo||Cr||Pc(o)),d=null,c=o;;){if(c.tag===5||c.tag===26){if(d===null){me=d=c;try{if(T=me.stateNode,S)N=T.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{K=me.stateNode;var Ke=me.memoizedProps.style,ke=Ke!=null&&Ke.hasOwnProperty("display")?Ke.display:null;K.style.display=ke==null||typeof ke=="boolean"?"":(""+ke).trim()}}catch(At){Rn(me,me.return,At)}}}else if(c.tag===6){if(d===null){me=c;try{me.stateNode.nodeValue=S?"":me.memoizedProps}catch(At){Rn(me,me.return,At)}}}else if(c.tag===18){if(d===null){me=c;try{var Fe=me.stateNode;S?wO(Fe,!0):wO(me.stateNode,!1)}catch(At){Rn(me,me.return,At)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===o)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break e;for(;c.sibling===null;){if(c.return===null||c.return===o)break e;d===c&&(d=null),c=c.return}d===c&&(d=null),c.sibling.return=c.return,c=c.sibling}v&4&&(v=o.updateQueue,v!==null&&(d=v.retryQueue,d!==null&&(v.retryQueue=null,nm(o,d))));break;case 19:ea(c,o),ta(o),v&4&&(v=o.updateQueue,v!==null&&(o.updateQueue=null,nm(o,v)));break;case 30:break;case 21:break;default:ea(c,o),ta(o)}}function ta(o){var c=o.flags;if(c&2){try{for(var d,v=o.return;v!==null;){if(MR(v)){d=v;break}v=v.return}if(d==null)throw Error(r(160));switch(d.tag){case 27:var S=d.stateNode,T=C_(o);tm(o,T,S);break;case 5:var N=d.stateNode;d.flags&32&&(Ir(N,""),d.flags&=-33);var K=C_(o);tm(o,K,N);break;case 3:case 4:var me=d.stateNode.containerInfo,Oe=C_(o);R_(o,Oe,me);break;default:throw Error(r(161))}}catch(He){Rn(o,o.return,He)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function IR(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var c=o;IR(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),o=o.sibling}}function So(o,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)OR(o,c.alternate,c),c=c.sibling}function Pc(o){for(o=o.child;o!==null;){var c=o;switch(c.tag){case 0:case 11:case 14:case 15:wl(4,c,c.return),Pc(c);break;case 1:ks(c,c.return);var d=c.stateNode;typeof d.componentWillUnmount=="function"&&wR(c,c.return,d),Pc(c);break;case 27:d0(c.stateNode);case 26:case 5:ks(c,c.return),Pc(c);break;case 22:c.memoizedState===null&&Pc(c);break;case 30:Pc(c);break;default:Pc(c)}o=o.sibling}}function bo(o,c,d){for(d=d&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var v=c.alternate,S=o,T=c,N=T.flags;switch(T.tag){case 0:case 11:case 15:bo(S,T,d),r0(4,T);break;case 1:if(bo(S,T,d),v=T,S=v.stateNode,typeof S.componentDidMount=="function")try{S.componentDidMount()}catch(Oe){Rn(v,v.return,Oe)}if(v=T,S=v.updateQueue,S!==null){var K=v.stateNode;try{var me=S.shared.hiddenCallbacks;if(me!==null)for(S.shared.hiddenCallbacks=null,S=0;S<me.length;S++)dC(me[S],K)}catch(Oe){Rn(v,v.return,Oe)}}d&&N&64&&TR(T),i0(T,T.return);break;case 27:CR(T);case 26:case 5:bo(S,T,d),d&&v===null&&N&4&&AR(T),i0(T,T.return);break;case 12:bo(S,T,d);break;case 31:bo(S,T,d),d&&N&4&&NR(S,T);break;case 13:bo(S,T,d),d&&N&4&&kR(S,T);break;case 22:T.memoizedState===null&&bo(S,T,d),i0(T,T.return);break;case 30:break;default:bo(S,T,d)}c=c.sibling}}function P_(o,c){var d=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),o=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(o=c.memoizedState.cachePool.pool),o!==d&&(o!=null&&o.refCount++,d!=null&&Vh(d))}function D_(o,c){o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&Vh(o))}function ps(o,c,d,v){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)FR(o,c,d,v),c=c.sibling}function FR(o,c,d,v){var S=c.flags;switch(c.tag){case 0:case 11:case 15:ps(o,c,d,v),S&2048&&r0(9,c);break;case 1:ps(o,c,d,v);break;case 3:ps(o,c,d,v),S&2048&&(o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&Vh(o)));break;case 12:if(S&2048){ps(o,c,d,v),o=c.stateNode;try{var T=c.memoizedProps,N=T.id,K=T.onPostCommit;typeof K=="function"&&K(N,c.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(me){Rn(c,c.return,me)}}else ps(o,c,d,v);break;case 31:ps(o,c,d,v);break;case 13:ps(o,c,d,v);break;case 23:break;case 22:T=c.stateNode,N=c.alternate,c.memoizedState!==null?T._visibility&2?ps(o,c,d,v):a0(o,c):T._visibility&2?ps(o,c,d,v):(T._visibility|=2,rf(o,c,d,v,(c.subtreeFlags&10256)!==0||!1)),S&2048&&P_(N,c);break;case 24:ps(o,c,d,v),S&2048&&D_(c.alternate,c);break;default:ps(o,c,d,v)}}function rf(o,c,d,v,S){for(S=S&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var T=o,N=c,K=d,me=v,Oe=N.flags;switch(N.tag){case 0:case 11:case 15:rf(T,N,K,me,S),r0(8,N);break;case 23:break;case 22:var He=N.stateNode;N.memoizedState!==null?He._visibility&2?rf(T,N,K,me,S):a0(T,N):(He._visibility|=2,rf(T,N,K,me,S)),S&&Oe&2048&&P_(N.alternate,N);break;case 24:rf(T,N,K,me,S),S&&Oe&2048&&D_(N.alternate,N);break;default:rf(T,N,K,me,S)}c=c.sibling}}function a0(o,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var d=o,v=c,S=v.flags;switch(v.tag){case 22:a0(d,v),S&2048&&P_(v.alternate,v);break;case 24:a0(d,v),S&2048&&D_(v.alternate,v);break;default:a0(d,v)}c=c.sibling}}var s0=8192;function af(o,c,d){if(o.subtreeFlags&s0)for(o=o.child;o!==null;)UR(o,c,d),o=o.sibling}function UR(o,c,d){switch(o.tag){case 26:af(o,c,d),o.flags&s0&&o.memoizedState!==null&&dj(d,ds,o.memoizedState,o.memoizedProps);break;case 5:af(o,c,d);break;case 3:case 4:var v=ds;ds=vm(o.stateNode.containerInfo),af(o,c,d),ds=v;break;case 22:o.memoizedState===null&&(v=o.alternate,v!==null&&v.memoizedState!==null?(v=s0,s0=16777216,af(o,c,d),s0=v):af(o,c,d));break;default:af(o,c,d)}}function BR(o){var c=o.alternate;if(c!==null&&(o=c.child,o!==null)){c.child=null;do c=o.sibling,o.sibling=null,o=c;while(o!==null)}}function o0(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var d=0;d<c.length;d++){var v=c[d];Zr=v,jR(v,o)}BR(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)zR(o),o=o.sibling}function zR(o){switch(o.tag){case 0:case 11:case 15:o0(o),o.flags&2048&&wl(9,o,o.return);break;case 3:o0(o);break;case 12:o0(o);break;case 22:var c=o.stateNode;o.memoizedState!==null&&c._visibility&2&&(o.return===null||o.return.tag!==13)?(c._visibility&=-3,rm(o)):o0(o);break;default:o0(o)}}function rm(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var d=0;d<c.length;d++){var v=c[d];Zr=v,jR(v,o)}BR(o)}for(o=o.child;o!==null;){switch(c=o,c.tag){case 0:case 11:case 15:wl(8,c,c.return),rm(c);break;case 22:d=c.stateNode,d._visibility&2&&(d._visibility&=-3,rm(c));break;default:rm(c)}o=o.sibling}}function jR(o,c){for(;Zr!==null;){var d=Zr;switch(d.tag){case 0:case 11:case 15:wl(8,d,c);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var v=d.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:Vh(d.memoizedState.cache)}if(v=d.child,v!==null)v.return=d,Zr=v;else e:for(d=o;Zr!==null;){v=Zr;var S=v.sibling,T=v.return;if(PR(v),v===d){Zr=null;break e}if(S!==null){S.return=T,Zr=S;break e}Zr=T}}}var C7={getCacheForType:function(o){var c=pi(wr),d=c.data.get(o);return d===void 0&&(d=o(),c.data.set(o,d)),d},cacheSignal:function(){return pi(wr).controller.signal}},R7=typeof WeakMap=="function"?WeakMap:Map,wn=0,Gn=null,rn=null,on=0,Cn=0,va=null,Al=!1,sf=!1,N_=!1,To=0,hr=0,Ml=0,Dc=0,k_=0,ga=0,of=0,l0=null,na=null,L_=!1,im=0,HR=0,am=1/0,sm=null,Cl=null,Fr=0,Rl=null,lf=null,wo=0,I_=0,F_=null,GR=null,c0=0,U_=null;function xa(){return(wn&2)!==0&&on!==0?on&-on:G.T!==null?V_():q()}function VR(){if(ga===0)if((on&536870912)===0||hn){var o=et;et<<=1,(et&3932160)===0&&(et=262144),ga=o}else ga=536870912;return o=pa.current,o!==null&&(o.flags|=32),ga}function ra(o,c,d){(o===Gn&&(Cn===2||Cn===9)||o.cancelPendingCommit!==null)&&(cf(o,0),Ol(o,on,ga,!1)),$r(o,d),((wn&2)===0||o!==Gn)&&(o===Gn&&((wn&2)===0&&(Dc|=d),hr===4&&Ol(o,on,ga,!1)),Ls(o))}function WR(o,c,d){if((wn&6)!==0)throw Error(r(327));var v=!d&&(c&127)===0&&(c&o.expiredLanes)===0||ot(o,c),S=v?D7(o,c):z_(o,c,!0),T=v;do{if(S===0){sf&&!v&&Ol(o,c,0,!1);break}else{if(d=o.current.alternate,T&&!O7(d)){S=z_(o,c,!1),T=!1;continue}if(S===2){if(T=c,o.errorRecoveryDisabledLanes&T)var N=0;else N=o.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){c=N;e:{var K=o;S=l0;var me=K.current.memoizedState.isDehydrated;if(me&&(cf(K,N).flags|=256),N=z_(K,N,!1),N!==2){if(N_&&!me){K.errorRecoveryDisabledLanes|=T,Dc|=T,S=4;break e}T=na,na=S,T!==null&&(na===null?na=T:na.push.apply(na,T))}S=N}if(T=!1,S!==2)continue}}if(S===1){cf(o,0),Ol(o,c,0,!0);break}e:{switch(v=o,T=S,T){case 0:case 1:throw Error(r(345));case 4:if((c&4194048)!==c)break;case 6:Ol(v,c,ga,!Al);break e;case 2:na=null;break;case 3:case 5:break;default:throw Error(r(329))}if((c&62914560)===c&&(S=im+300-B(),10<S)){if(Ol(v,c,ga,!Al),qe(v,0,!0)!==0)break e;wo=c,v.timeoutHandle=SO(YR.bind(null,v,d,na,sm,L_,c,ga,Dc,of,Al,T,"Throttled",-0,0),S);break e}YR(v,d,na,sm,L_,c,ga,Dc,of,Al,T,null,-0,0)}}break}while(!0);Ls(o)}function YR(o,c,d,v,S,T,N,K,me,Oe,He,Ke,ke,Fe){if(o.timeoutHandle=-1,Ke=c.subtreeFlags,Ke&8192||(Ke&16785408)===16785408){Ke={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:co},UR(c,T,Ke);var At=(T&62914560)===T?im-B():(T&4194048)===T?HR-B():0;if(At=pj(Ke,At),At!==null){wo=T,o.cancelPendingCommit=At(eO.bind(null,o,c,T,d,v,S,N,K,me,He,Ke,null,ke,Fe)),Ol(o,T,N,!Oe);return}}eO(o,c,T,d,v,S,N,K,me)}function O7(o){for(var c=o;;){var d=c.tag;if((d===0||d===11||d===15)&&c.flags&16384&&(d=c.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var v=0;v<d.length;v++){var S=d[v],T=S.getSnapshot;S=S.value;try{if(!ha(T(),S))return!1}catch{return!1}}if(d=c.child,c.subtreeFlags&16384&&d!==null)d.return=c,c=d;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Ol(o,c,d,v){c&=~k_,c&=~Dc,o.suspendedLanes|=c,o.pingedLanes&=~c,v&&(o.warmLanes|=c),v=o.expirationTimes;for(var S=c;0<S;){var T=31-vt(S),N=1<<T;v[T]=-1,S&=~N}d!==0&&Iu(o,d,c)}function om(){return(wn&6)===0?(u0(0),!1):!0}function B_(){if(rn!==null){if(Cn===0)var o=rn.return;else o=rn,po=bc=null,t_(o),Ju=null,Yh=0,o=rn;for(;o!==null;)bR(o.alternate,o),o=o.return;rn=null}}function cf(o,c){var d=o.timeoutHandle;d!==-1&&(o.timeoutHandle=-1,$7(d)),d=o.cancelPendingCommit,d!==null&&(o.cancelPendingCommit=null,d()),wo=0,B_(),Gn=o,rn=d=fo(o.current,null),on=c,Cn=0,va=null,Al=!1,sf=ot(o,c),N_=!1,of=ga=k_=Dc=Ml=hr=0,na=l0=null,L_=!1,(c&8)!==0&&(c|=c&32);var v=o.entangledLanes;if(v!==0)for(o=o.entanglements,v&=c;0<v;){var S=31-vt(v),T=1<<S;c|=o[S],v&=~T}return To=c,Cp(),d}function XR(o,c){qt=null,G.H=e0,c===Zu||c===Ip?(c=cC(),Cn=3):c===G1?(c=cC(),Cn=4):Cn=c===g_?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,va=c,rn===null&&(hr=1,$p(o,Ia(c,o.current)))}function qR(){var o=pa.current;return o===null?!0:(on&4194048)===on?za===null:(on&62914560)===on||(on&536870912)!==0?o===za:!1}function KR(){var o=G.H;return G.H=e0,o===null?e0:o}function $R(){var o=G.A;return G.A=C7,o}function lm(){hr=4,Al||(on&4194048)!==on&&pa.current!==null||(sf=!0),(Ml&134217727)===0&&(Dc&134217727)===0||Gn===null||Ol(Gn,on,ga,!1)}function z_(o,c,d){var v=wn;wn|=2;var S=KR(),T=$R();(Gn!==o||on!==c)&&(sm=null,cf(o,c)),c=!1;var N=hr;e:do try{if(Cn!==0&&rn!==null){var K=rn,me=va;switch(Cn){case 8:B_(),N=6;break e;case 3:case 2:case 9:case 6:pa.current===null&&(c=!0);var Oe=Cn;if(Cn=0,va=null,uf(o,K,me,Oe),d&&sf){N=0;break e}break;default:Oe=Cn,Cn=0,va=null,uf(o,K,me,Oe)}}P7(),N=hr;break}catch(He){XR(o,He)}while(!0);return c&&o.shellSuspendCounter++,po=bc=null,wn=v,G.H=S,G.A=T,rn===null&&(Gn=null,on=0,Cp()),N}function P7(){for(;rn!==null;)ZR(rn)}function D7(o,c){var d=wn;wn|=2;var v=KR(),S=$R();Gn!==o||on!==c?(sm=null,am=B()+500,cf(o,c)):sf=ot(o,c);e:do try{if(Cn!==0&&rn!==null){c=rn;var T=va;t:switch(Cn){case 1:Cn=0,va=null,uf(o,c,T,1);break;case 2:case 9:if(oC(T)){Cn=0,va=null,JR(c);break}c=function(){Cn!==2&&Cn!==9||Gn!==o||(Cn=7),Ls(o)},T.then(c,c);break e;case 3:Cn=7;break e;case 4:Cn=5;break e;case 7:oC(T)?(Cn=0,va=null,JR(c)):(Cn=0,va=null,uf(o,c,T,7));break;case 5:var N=null;switch(rn.tag){case 26:N=rn.memoizedState;case 5:case 27:var K=rn;if(N?FO(N):K.stateNode.complete){Cn=0,va=null;var me=K.sibling;if(me!==null)rn=me;else{var Oe=K.return;Oe!==null?(rn=Oe,cm(Oe)):rn=null}break t}}Cn=0,va=null,uf(o,c,T,5);break;case 6:Cn=0,va=null,uf(o,c,T,6);break;case 8:B_(),hr=6;break e;default:throw Error(r(462))}}N7();break}catch(He){XR(o,He)}while(!0);return po=bc=null,G.H=v,G.A=S,wn=d,rn!==null?0:(Gn=null,on=0,Cp(),hr)}function N7(){for(;rn!==null&&!rt();)ZR(rn)}function ZR(o){var c=ER(o.alternate,o,To);o.memoizedProps=o.pendingProps,c===null?cm(o):rn=c}function JR(o){var c=o,d=c.alternate;switch(c.tag){case 15:case 0:c=mR(d,c,c.pendingProps,c.type,void 0,on);break;case 11:c=mR(d,c,c.pendingProps,c.type.render,c.ref,on);break;case 5:t_(c);default:bR(d,c),c=rn=$M(c,To),c=ER(d,c,To)}o.memoizedProps=o.pendingProps,c===null?cm(o):rn=c}function uf(o,c,d,v){po=bc=null,t_(c),Ju=null,Yh=0;var S=c.return;try{if(E7(o,S,c,d,on)){hr=1,$p(o,Ia(d,o.current)),rn=null;return}}catch(T){if(S!==null)throw rn=S,T;hr=1,$p(o,Ia(d,o.current)),rn=null;return}c.flags&32768?(hn||v===1?o=!0:sf||(on&536870912)!==0?o=!1:(Al=o=!0,(v===2||v===9||v===3||v===6)&&(v=pa.current,v!==null&&v.tag===13&&(v.flags|=16384))),QR(c,o)):cm(c)}function cm(o){var c=o;do{if((c.flags&32768)!==0){QR(c,Al);return}o=c.return;var d=T7(c.alternate,c,To);if(d!==null){rn=d;return}if(c=c.sibling,c!==null){rn=c;return}rn=c=o}while(c!==null);hr===0&&(hr=5)}function QR(o,c){do{var d=w7(o.alternate,o);if(d!==null){d.flags&=32767,rn=d;return}if(d=o.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!c&&(o=o.sibling,o!==null)){rn=o;return}rn=o=d}while(o!==null);hr=6,rn=null}function eO(o,c,d,v,S,T,N,K,me){o.cancelPendingCommit=null;do um();while(Fr!==0);if((wn&6)!==0)throw Error(r(327));if(c!==null){if(c===o.current)throw Error(r(177));if(T=c.lanes|c.childLanes,T|=C1,fa(o,d,T,N,K,me),o===Gn&&(rn=Gn=null,on=0),lf=c,Rl=o,wo=d,I_=T,F_=S,GR=v,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,F7(Te,function(){return aO(),null})):(o.callbackNode=null,o.callbackPriority=0),v=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||v){v=G.T,G.T=null,S=W.p,W.p=2,N=wn,wn|=4;try{A7(o,c,d)}finally{wn=N,W.p=S,G.T=v}}Fr=1,tO(),nO(),rO()}}function tO(){if(Fr===1){Fr=0;var o=Rl,c=lf,d=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||d){d=G.T,G.T=null;var v=W.p;W.p=2;var S=wn;wn|=4;try{LR(c,o);var T=J_,N=jM(o.containerInfo),K=T.focusedElem,me=T.selectionRange;if(N!==K&&K&&K.ownerDocument&&zM(K.ownerDocument.documentElement,K)){if(me!==null&&b1(K)){var Oe=me.start,He=me.end;if(He===void 0&&(He=Oe),"selectionStart"in K)K.selectionStart=Oe,K.selectionEnd=Math.min(He,K.value.length);else{var Ke=K.ownerDocument||document,ke=Ke&&Ke.defaultView||window;if(ke.getSelection){var Fe=ke.getSelection(),At=K.textContent.length,zt=Math.min(me.start,At),Un=me.end===void 0?zt:Math.min(me.end,At);!Fe.extend&&zt>Un&&(N=Un,Un=zt,zt=N);var Ee=BM(K,zt),ye=BM(K,Un);if(Ee&&ye&&(Fe.rangeCount!==1||Fe.anchorNode!==Ee.node||Fe.anchorOffset!==Ee.offset||Fe.focusNode!==ye.node||Fe.focusOffset!==ye.offset)){var Me=Ke.createRange();Me.setStart(Ee.node,Ee.offset),Fe.removeAllRanges(),zt>Un?(Fe.addRange(Me),Fe.extend(ye.node,ye.offset)):(Me.setEnd(ye.node,ye.offset),Fe.addRange(Me))}}}}for(Ke=[],Fe=K;Fe=Fe.parentNode;)Fe.nodeType===1&&Ke.push({element:Fe,left:Fe.scrollLeft,top:Fe.scrollTop});for(typeof K.focus=="function"&&K.focus(),K=0;K<Ke.length;K++){var Ye=Ke[K];Ye.element.scrollLeft=Ye.left,Ye.element.scrollTop=Ye.top}}Sm=!!Z_,J_=Z_=null}finally{wn=S,W.p=v,G.T=d}}o.current=c,Fr=2}}function nO(){if(Fr===2){Fr=0;var o=Rl,c=lf,d=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||d){d=G.T,G.T=null;var v=W.p;W.p=2;var S=wn;wn|=4;try{OR(o,c.alternate,c)}finally{wn=S,W.p=v,G.T=d}}Fr=3}}function rO(){if(Fr===4||Fr===3){Fr=0,ie();var o=Rl,c=lf,d=wo,v=GR;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?Fr=5:(Fr=0,lf=Rl=null,iO(o,o.pendingLanes));var S=o.pendingLanes;if(S===0&&(Cl=null),pl(d),c=c.stateNode,Qe&&typeof Qe.onCommitFiberRoot=="function")try{Qe.onCommitFiberRoot(Ve,c,void 0,(c.current.flags&128)===128)}catch{}if(v!==null){c=G.T,S=W.p,W.p=2,G.T=null;try{for(var T=o.onRecoverableError,N=0;N<v.length;N++){var K=v[N];T(K.value,{componentStack:K.stack})}}finally{G.T=c,W.p=S}}(wo&3)!==0&&um(),Ls(o),S=o.pendingLanes,(d&261930)!==0&&(S&42)!==0?o===U_?c0++:(c0=0,U_=o):c0=0,u0(0)}}function iO(o,c){(o.pooledCacheLanes&=c)===0&&(c=o.pooledCache,c!=null&&(o.pooledCache=null,Vh(c)))}function um(){return tO(),nO(),rO(),aO()}function aO(){if(Fr!==5)return!1;var o=Rl,c=I_;I_=0;var d=pl(wo),v=G.T,S=W.p;try{W.p=32>d?32:d,G.T=null,d=F_,F_=null;var T=Rl,N=wo;if(Fr=0,lf=Rl=null,wo=0,(wn&6)!==0)throw Error(r(331));var K=wn;if(wn|=4,zR(T.current),FR(T,T.current,N,d),wn=K,u0(0,!1),Qe&&typeof Qe.onPostCommitFiberRoot=="function")try{Qe.onPostCommitFiberRoot(Ve,T)}catch{}return!0}finally{W.p=S,G.T=v,iO(o,c)}}function sO(o,c,d){c=Ia(d,c),c=v_(o.stateNode,c,2),o=Sl(o,c,2),o!==null&&($r(o,2),Ls(o))}function Rn(o,c,d){if(o.tag===3)sO(o,o,d);else for(;c!==null;){if(c.tag===3){sO(c,o,d);break}else if(c.tag===1){var v=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(Cl===null||!Cl.has(v))){o=Ia(d,o),d=oR(2),v=Sl(c,d,2),v!==null&&(lR(d,v,c,o),$r(v,2),Ls(v));break}}c=c.return}}function j_(o,c,d){var v=o.pingCache;if(v===null){v=o.pingCache=new R7;var S=new Set;v.set(c,S)}else S=v.get(c),S===void 0&&(S=new Set,v.set(c,S));S.has(d)||(N_=!0,S.add(d),o=k7.bind(null,o,c,d),c.then(o,o))}function k7(o,c,d){var v=o.pingCache;v!==null&&v.delete(c),o.pingedLanes|=o.suspendedLanes&d,o.warmLanes&=~d,Gn===o&&(on&d)===d&&(hr===4||hr===3&&(on&62914560)===on&&300>B()-im?(wn&2)===0&&cf(o,0):k_|=d,of===on&&(of=0)),Ls(o)}function oO(o,c){c===0&&(c=Sn()),o=yc(o,c),o!==null&&($r(o,c),Ls(o))}function L7(o){var c=o.memoizedState,d=0;c!==null&&(d=c.retryLane),oO(o,d)}function I7(o,c){var d=0;switch(o.tag){case 31:case 13:var v=o.stateNode,S=o.memoizedState;S!==null&&(d=S.retryLane);break;case 19:v=o.stateNode;break;case 22:v=o.stateNode._retryCache;break;default:throw Error(r(314))}v!==null&&v.delete(c),oO(o,d)}function F7(o,c){return Ct(o,c)}var fm=null,ff=null,H_=!1,hm=!1,G_=!1,Pl=0;function Ls(o){o!==ff&&o.next===null&&(ff===null?fm=ff=o:ff=ff.next=o),hm=!0,H_||(H_=!0,B7())}function u0(o,c){if(!G_&&hm){G_=!0;do for(var d=!1,v=fm;v!==null;){if(o!==0){var S=v.pendingLanes;if(S===0)var T=0;else{var N=v.suspendedLanes,K=v.pingedLanes;T=(1<<31-vt(42|o)+1)-1,T&=S&~(N&~K),T=T&201326741?T&201326741|1:T?T|2:0}T!==0&&(d=!0,fO(v,T))}else T=on,T=qe(v,v===Gn?T:0,v.cancelPendingCommit!==null||v.timeoutHandle!==-1),(T&3)===0||ot(v,T)||(d=!0,fO(v,T));v=v.next}while(d);G_=!1}}function U7(){lO()}function lO(){hm=H_=!1;var o=0;Pl!==0&&K7()&&(o=Pl);for(var c=B(),d=null,v=fm;v!==null;){var S=v.next,T=cO(v,c);T===0?(v.next=null,d===null?fm=S:d.next=S,S===null&&(ff=d)):(d=v,(o!==0||(T&3)!==0)&&(hm=!0)),v=S}Fr!==0&&Fr!==5||u0(o),Pl!==0&&(Pl=0)}function cO(o,c){for(var d=o.suspendedLanes,v=o.pingedLanes,S=o.expirationTimes,T=o.pendingLanes&-62914561;0<T;){var N=31-vt(T),K=1<<N,me=S[N];me===-1?((K&d)===0||(K&v)!==0)&&(S[N]=Gt(K,c)):me<=c&&(o.expiredLanes|=K),T&=~K}if(c=Gn,d=on,d=qe(o,o===c?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),v=o.callbackNode,d===0||o===c&&(Cn===2||Cn===9)||o.cancelPendingCommit!==null)return v!==null&&v!==null&&Nt(v),o.callbackNode=null,o.callbackPriority=0;if((d&3)===0||ot(o,d)){if(c=d&-d,c===o.callbackPriority)return c;switch(v!==null&&Nt(v),pl(d)){case 2:case 8:d=Ue;break;case 32:d=Te;break;case 268435456:d=Be;break;default:d=Te}return v=uO.bind(null,o),d=Ct(d,v),o.callbackPriority=c,o.callbackNode=d,c}return v!==null&&v!==null&&Nt(v),o.callbackPriority=2,o.callbackNode=null,2}function uO(o,c){if(Fr!==0&&Fr!==5)return o.callbackNode=null,o.callbackPriority=0,null;var d=o.callbackNode;if(um()&&o.callbackNode!==d)return null;var v=on;return v=qe(o,o===Gn?v:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),v===0?null:(WR(o,v,c),cO(o,B()),o.callbackNode!=null&&o.callbackNode===d?uO.bind(null,o):null)}function fO(o,c){if(um())return null;WR(o,c,!0)}function B7(){Z7(function(){(wn&6)!==0?Ct(Ie,U7):lO()})}function V_(){if(Pl===0){var o=Ku;o===0&&(o=at,at<<=1,(at&261888)===0&&(at=256)),Pl=o}return Pl}function hO(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:yp(""+o)}function dO(o,c){var d=c.ownerDocument.createElement("input");return d.name=c.name,d.value=c.value,o.id&&d.setAttribute("form",o.id),c.parentNode.insertBefore(d,c),o=new FormData(o),d.parentNode.removeChild(d),o}function z7(o,c,d,v,S){if(c==="submit"&&d&&d.stateNode===S){var T=hO((S[le]||null).action),N=v.submitter;N&&(c=(c=N[le]||null)?hO(c.formAction):N.getAttribute("formAction"),c!==null&&(T=c,N=null));var K=new Tp("action","action",null,v,S);o.push({event:K,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(Pl!==0){var me=N?dO(S,N):new FormData(S);u_(d,{pending:!0,data:me,method:S.method,action:T},null,me)}}else typeof T=="function"&&(K.preventDefault(),me=N?dO(S,N):new FormData(S),u_(d,{pending:!0,data:me,method:S.method,action:T},T,me))},currentTarget:S}]})}}for(var W_=0;W_<M1.length;W_++){var Y_=M1[W_],j7=Y_.toLowerCase(),H7=Y_[0].toUpperCase()+Y_.slice(1);hs(j7,"on"+H7)}hs(VM,"onAnimationEnd"),hs(WM,"onAnimationIteration"),hs(YM,"onAnimationStart"),hs("dblclick","onDoubleClick"),hs("focusin","onFocus"),hs("focusout","onBlur"),hs(i7,"onTransitionRun"),hs(a7,"onTransitionStart"),hs(s7,"onTransitionCancel"),hs(XM,"onTransitionEnd"),Se("onMouseEnter",["mouseout","mouseover"]),Se("onMouseLeave",["mouseout","mouseover"]),Se("onPointerEnter",["pointerout","pointerover"]),Se("onPointerLeave",["pointerout","pointerover"]),be("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),be("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),be("onBeforeInput",["compositionend","keypress","textInput","paste"]),be("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),be("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),be("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var f0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),G7=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(f0));function pO(o,c){c=(c&4)!==0;for(var d=0;d<o.length;d++){var v=o[d],S=v.event;v=v.listeners;e:{var T=void 0;if(c)for(var N=v.length-1;0<=N;N--){var K=v[N],me=K.instance,Oe=K.currentTarget;if(K=K.listener,me!==T&&S.isPropagationStopped())break e;T=K,S.currentTarget=Oe;try{T(S)}catch(He){Mp(He)}S.currentTarget=null,T=me}else for(N=0;N<v.length;N++){if(K=v[N],me=K.instance,Oe=K.currentTarget,K=K.listener,me!==T&&S.isPropagationStopped())break e;T=K,S.currentTarget=Oe;try{T(S)}catch(He){Mp(He)}S.currentTarget=null,T=me}}}}function an(o,c){var d=c[Ce];d===void 0&&(d=c[Ce]=new Set);var v=o+"__bubble";d.has(v)||(mO(c,o,2,!1),d.add(v))}function X_(o,c,d){var v=0;c&&(v|=4),mO(d,o,v,c)}var dm="_reactListening"+Math.random().toString(36).slice(2);function q_(o){if(!o[dm]){o[dm]=!0,xe.forEach(function(d){d!=="selectionchange"&&(G7.has(d)||X_(d,!1,o),X_(d,!0,o))});var c=o.nodeType===9?o:o.ownerDocument;c===null||c[dm]||(c[dm]=!0,X_("selectionchange",!1,c))}}function mO(o,c,d,v){switch(VO(c)){case 2:var S=gj;break;case 8:S=xj;break;default:S=cy}d=S.bind(null,c,d,o),S=void 0,!p1||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(S=!0),v?S!==void 0?o.addEventListener(c,d,{capture:!0,passive:S}):o.addEventListener(c,d,!0):S!==void 0?o.addEventListener(c,d,{passive:S}):o.addEventListener(c,d,!1)}function K_(o,c,d,v,S){var T=v;if((c&1)===0&&(c&2)===0&&v!==null)e:for(;;){if(v===null)return;var N=v.tag;if(N===3||N===4){var K=v.stateNode.containerInfo;if(K===S)break;if(N===4)for(N=v.return;N!==null;){var me=N.tag;if((me===3||me===4)&&N.stateNode.containerInfo===S)return;N=N.return}for(;K!==null;){if(N=lt(K),N===null)return;if(me=N.tag,me===5||me===6||me===26||me===27){v=T=N;continue e}K=K.parentNode}}v=v.return}yM(function(){var Oe=T,He=h1(d),Ke=[];e:{var ke=qM.get(o);if(ke!==void 0){var Fe=Tp,At=o;switch(o){case"keypress":if(Sp(d)===0)break e;case"keydown":case"keyup":Fe=I9;break;case"focusin":At="focus",Fe=x1;break;case"focusout":At="blur",Fe=x1;break;case"beforeblur":case"afterblur":Fe=x1;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Fe=bM;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Fe=T9;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Fe=B9;break;case VM:case WM:case YM:Fe=M9;break;case XM:Fe=j9;break;case"scroll":case"scrollend":Fe=S9;break;case"wheel":Fe=G9;break;case"copy":case"cut":case"paste":Fe=R9;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Fe=wM;break;case"toggle":case"beforetoggle":Fe=W9}var zt=(c&4)!==0,Un=!zt&&(o==="scroll"||o==="scrollend"),Ee=zt?ke!==null?ke+"Capture":null:ke;zt=[];for(var ye=Oe,Me;ye!==null;){var Ye=ye;if(Me=Ye.stateNode,Ye=Ye.tag,Ye!==5&&Ye!==26&&Ye!==27||Me===null||Ee===null||(Ye=Nh(ye,Ee),Ye!=null&&zt.push(h0(ye,Ye,Me))),Un)break;ye=ye.return}0<zt.length&&(ke=new Fe(ke,At,null,d,He),Ke.push({event:ke,listeners:zt}))}}if((c&7)===0){e:{if(ke=o==="mouseover"||o==="pointerover",Fe=o==="mouseout"||o==="pointerout",ke&&d!==f1&&(At=d.relatedTarget||d.fromElement)&&(lt(At)||At[he]))break e;if((Fe||ke)&&(ke=He.window===He?He:(ke=He.ownerDocument)?ke.defaultView||ke.parentWindow:window,Fe?(At=d.relatedTarget||d.toElement,Fe=Oe,At=At?lt(At):null,At!==null&&(Un=a(At),zt=At.tag,At!==Un||zt!==5&&zt!==27&&zt!==6)&&(At=null)):(Fe=null,At=Oe),Fe!==At)){if(zt=bM,Ye="onMouseLeave",Ee="onMouseEnter",ye="mouse",(o==="pointerout"||o==="pointerover")&&(zt=wM,Ye="onPointerLeave",Ee="onPointerEnter",ye="pointer"),Un=Fe==null?ke:nt(Fe),Me=At==null?ke:nt(At),ke=new zt(Ye,ye+"leave",Fe,d,He),ke.target=Un,ke.relatedTarget=Me,Ye=null,lt(He)===Oe&&(zt=new zt(Ee,ye+"enter",At,d,He),zt.target=Me,zt.relatedTarget=Un,Ye=zt),Un=Ye,Fe&&At)t:{for(zt=V7,Ee=Fe,ye=At,Me=0,Ye=Ee;Ye;Ye=zt(Ye))Me++;Ye=0;for(var Lt=ye;Lt;Lt=zt(Lt))Ye++;for(;0<Me-Ye;)Ee=zt(Ee),Me--;for(;0<Ye-Me;)ye=zt(ye),Ye--;for(;Me--;){if(Ee===ye||ye!==null&&Ee===ye.alternate){zt=Ee;break t}Ee=zt(Ee),ye=zt(ye)}zt=null}else zt=null;Fe!==null&&vO(Ke,ke,Fe,zt,!1),At!==null&&Un!==null&&vO(Ke,Un,At,zt,!0)}}e:{if(ke=Oe?nt(Oe):window,Fe=ke.nodeName&&ke.nodeName.toLowerCase(),Fe==="select"||Fe==="input"&&ke.type==="file")var gn=NM;else if(PM(ke))if(kM)gn=t7;else{gn=Q9;var Rt=J9}else Fe=ke.nodeName,!Fe||Fe.toLowerCase()!=="input"||ke.type!=="checkbox"&&ke.type!=="radio"?Oe&&fs(Oe.elementType)&&(gn=NM):gn=e7;if(gn&&(gn=gn(o,Oe))){DM(Ke,gn,d,He);break e}Rt&&Rt(o,ke,Oe),o==="focusout"&&Oe&&ke.type==="number"&&Oe.memoizedProps.value!=null&&ci(ke,"number",ke.value)}switch(Rt=Oe?nt(Oe):window,o){case"focusin":(PM(Rt)||Rt.contentEditable==="true")&&(ju=Rt,T1=Oe,jh=null);break;case"focusout":jh=T1=ju=null;break;case"mousedown":w1=!0;break;case"contextmenu":case"mouseup":case"dragend":w1=!1,HM(Ke,d,He);break;case"selectionchange":if(r7)break;case"keydown":case"keyup":HM(Ke,d,He)}var $t;if(y1)e:{switch(o){case"compositionstart":var ln="onCompositionStart";break e;case"compositionend":ln="onCompositionEnd";break e;case"compositionupdate":ln="onCompositionUpdate";break e}ln=void 0}else zu?RM(o,d)&&(ln="onCompositionEnd"):o==="keydown"&&d.keyCode===229&&(ln="onCompositionStart");ln&&(AM&&d.locale!=="ko"&&(zu||ln!=="onCompositionStart"?ln==="onCompositionEnd"&&zu&&($t=EM()):(ml=He,m1="value"in ml?ml.value:ml.textContent,zu=!0)),Rt=pm(Oe,ln),0<Rt.length&&(ln=new TM(ln,o,null,d,He),Ke.push({event:ln,listeners:Rt}),$t?ln.data=$t:($t=OM(d),$t!==null&&(ln.data=$t)))),($t=X9?q9(o,d):K9(o,d))&&(ln=pm(Oe,"onBeforeInput"),0<ln.length&&(Rt=new TM("onBeforeInput","beforeinput",null,d,He),Ke.push({event:Rt,listeners:ln}),Rt.data=$t)),z7(Ke,o,Oe,d,He)}pO(Ke,c)})}function h0(o,c,d){return{instance:o,listener:c,currentTarget:d}}function pm(o,c){for(var d=c+"Capture",v=[];o!==null;){var S=o,T=S.stateNode;if(S=S.tag,S!==5&&S!==26&&S!==27||T===null||(S=Nh(o,d),S!=null&&v.unshift(h0(o,S,T)),S=Nh(o,c),S!=null&&v.push(h0(o,S,T))),o.tag===3)return v;o=o.return}return[]}function V7(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function vO(o,c,d,v,S){for(var T=c._reactName,N=[];d!==null&&d!==v;){var K=d,me=K.alternate,Oe=K.stateNode;if(K=K.tag,me!==null&&me===v)break;K!==5&&K!==26&&K!==27||Oe===null||(me=Oe,S?(Oe=Nh(d,T),Oe!=null&&N.unshift(h0(d,Oe,me))):S||(Oe=Nh(d,T),Oe!=null&&N.push(h0(d,Oe,me)))),d=d.return}N.length!==0&&o.push({event:c,listeners:N})}var W7=/\r\n?/g,Y7=/\u0000|\uFFFD/g;function gO(o){return(typeof o=="string"?o:""+o).replace(W7,`
`).replace(Y7,"")}function xO(o,c){return c=gO(c),gO(o)===c}function Fn(o,c,d,v,S,T){switch(d){case"children":typeof v=="string"?c==="body"||c==="textarea"&&v===""||Ir(o,v):(typeof v=="number"||typeof v=="bigint")&&c!=="body"&&Ir(o,""+v);break;case"className":Ut(o,"class",v);break;case"tabIndex":Ut(o,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":Ut(o,d,v);break;case"style":Fu(o,v,T);break;case"data":if(c!=="object"){Ut(o,"data",v);break}case"src":case"href":if(v===""&&(c!=="a"||d!=="href")){o.removeAttribute(d);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){o.removeAttribute(d);break}v=yp(""+v),o.setAttribute(d,v);break;case"action":case"formAction":if(typeof v=="function"){o.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof T=="function"&&(d==="formAction"?(c!=="input"&&Fn(o,c,"name",S.name,S,null),Fn(o,c,"formEncType",S.formEncType,S,null),Fn(o,c,"formMethod",S.formMethod,S,null),Fn(o,c,"formTarget",S.formTarget,S,null)):(Fn(o,c,"encType",S.encType,S,null),Fn(o,c,"method",S.method,S,null),Fn(o,c,"target",S.target,S,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){o.removeAttribute(d);break}v=yp(""+v),o.setAttribute(d,v);break;case"onClick":v!=null&&(o.onclick=co);break;case"onScroll":v!=null&&an("scroll",o);break;case"onScrollEnd":v!=null&&an("scrollend",o);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(r(61));if(d=v.__html,d!=null){if(S.children!=null)throw Error(r(60));o.innerHTML=d}}break;case"multiple":o.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":o.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){o.removeAttribute("xlink:href");break}d=yp(""+v),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?o.setAttribute(d,""+v):o.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?o.setAttribute(d,""):o.removeAttribute(d);break;case"capture":case"download":v===!0?o.setAttribute(d,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?o.setAttribute(d,v):o.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?o.setAttribute(d,v):o.removeAttribute(d);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?o.removeAttribute(d):o.setAttribute(d,v);break;case"popover":an("beforetoggle",o),an("toggle",o),Et(o,"popover",v);break;case"xlinkActuate":Mt(o,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":Mt(o,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":Mt(o,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":Mt(o,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":Mt(o,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":Mt(o,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":Mt(o,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":Mt(o,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":Mt(o,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":Et(o,"is",v);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=y9.get(d)||d,Et(o,d,v))}}function $_(o,c,d,v,S,T){switch(d){case"style":Fu(o,v,T);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(r(61));if(d=v.__html,d!=null){if(S.children!=null)throw Error(r(60));o.innerHTML=d}}break;case"children":typeof v=="string"?Ir(o,v):(typeof v=="number"||typeof v=="bigint")&&Ir(o,""+v);break;case"onScroll":v!=null&&an("scroll",o);break;case"onScrollEnd":v!=null&&an("scrollend",o);break;case"onClick":v!=null&&(o.onclick=co);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!we.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(S=d.endsWith("Capture"),c=d.slice(2,S?d.length-7:void 0),T=o[le]||null,T=T!=null?T[d]:null,typeof T=="function"&&o.removeEventListener(c,T,S),typeof v=="function")){typeof T!="function"&&T!==null&&(d in o?o[d]=null:o.hasAttribute(d)&&o.removeAttribute(d)),o.addEventListener(c,v,S);break e}d in o?o[d]=v:v===!0?o.setAttribute(d,""):Et(o,d,v)}}}function vi(o,c,d){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":an("error",o),an("load",o);var v=!1,S=!1,T;for(T in d)if(d.hasOwnProperty(T)){var N=d[T];if(N!=null)switch(T){case"src":v=!0;break;case"srcSet":S=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:Fn(o,c,T,N,d,null)}}S&&Fn(o,c,"srcSet",d.srcSet,d,null),v&&Fn(o,c,"src",d.src,d,null);return;case"input":an("invalid",o);var K=T=N=S=null,me=null,Oe=null;for(v in d)if(d.hasOwnProperty(v)){var He=d[v];if(He!=null)switch(v){case"name":S=He;break;case"type":N=He;break;case"checked":me=He;break;case"defaultChecked":Oe=He;break;case"value":T=He;break;case"defaultValue":K=He;break;case"children":case"dangerouslySetInnerHTML":if(He!=null)throw Error(r(137,c));break;default:Fn(o,c,v,He,d,null)}}lo(o,T,K,me,Oe,N,S,!1);return;case"select":an("invalid",o),v=N=T=null;for(S in d)if(d.hasOwnProperty(S)&&(K=d[S],K!=null))switch(S){case"value":T=K;break;case"defaultValue":N=K;break;case"multiple":v=K;default:Fn(o,c,S,K,d,null)}c=T,d=N,o.multiple=!!v,c!=null?ka(o,!!v,c,!1):d!=null&&ka(o,!!v,d,!0);return;case"textarea":an("invalid",o),T=S=v=null;for(N in d)if(d.hasOwnProperty(N)&&(K=d[N],K!=null))switch(N){case"value":v=K;break;case"defaultValue":S=K;break;case"children":T=K;break;case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(91));break;default:Fn(o,c,N,K,d,null)}ui(o,v,S,T);return;case"option":for(me in d)if(d.hasOwnProperty(me)&&(v=d[me],v!=null))switch(me){case"selected":o.selected=v&&typeof v!="function"&&typeof v!="symbol";break;default:Fn(o,c,me,v,d,null)}return;case"dialog":an("beforetoggle",o),an("toggle",o),an("cancel",o),an("close",o);break;case"iframe":case"object":an("load",o);break;case"video":case"audio":for(v=0;v<f0.length;v++)an(f0[v],o);break;case"image":an("error",o),an("load",o);break;case"details":an("toggle",o);break;case"embed":case"source":case"link":an("error",o),an("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Oe in d)if(d.hasOwnProperty(Oe)&&(v=d[Oe],v!=null))switch(Oe){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:Fn(o,c,Oe,v,d,null)}return;default:if(fs(c)){for(He in d)d.hasOwnProperty(He)&&(v=d[He],v!==void 0&&$_(o,c,He,v,d,void 0));return}}for(K in d)d.hasOwnProperty(K)&&(v=d[K],v!=null&&Fn(o,c,K,v,d,null))}function X7(o,c,d,v){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var S=null,T=null,N=null,K=null,me=null,Oe=null,He=null;for(Fe in d){var Ke=d[Fe];if(d.hasOwnProperty(Fe)&&Ke!=null)switch(Fe){case"checked":break;case"value":break;case"defaultValue":me=Ke;default:v.hasOwnProperty(Fe)||Fn(o,c,Fe,null,v,Ke)}}for(var ke in v){var Fe=v[ke];if(Ke=d[ke],v.hasOwnProperty(ke)&&(Fe!=null||Ke!=null))switch(ke){case"type":T=Fe;break;case"name":S=Fe;break;case"checked":Oe=Fe;break;case"defaultChecked":He=Fe;break;case"value":N=Fe;break;case"defaultValue":K=Fe;break;case"children":case"dangerouslySetInnerHTML":if(Fe!=null)throw Error(r(137,c));break;default:Fe!==Ke&&Fn(o,c,ke,Fe,v,Ke)}}li(o,N,K,me,Oe,He,T,S);return;case"select":Fe=N=K=ke=null;for(T in d)if(me=d[T],d.hasOwnProperty(T)&&me!=null)switch(T){case"value":break;case"multiple":Fe=me;default:v.hasOwnProperty(T)||Fn(o,c,T,null,v,me)}for(S in v)if(T=v[S],me=d[S],v.hasOwnProperty(S)&&(T!=null||me!=null))switch(S){case"value":ke=T;break;case"defaultValue":K=T;break;case"multiple":N=T;default:T!==me&&Fn(o,c,S,T,v,me)}c=K,d=N,v=Fe,ke!=null?ka(o,!!d,ke,!1):!!v!=!!d&&(c!=null?ka(o,!!d,c,!0):ka(o,!!d,d?[]:"",!1));return;case"textarea":Fe=ke=null;for(K in d)if(S=d[K],d.hasOwnProperty(K)&&S!=null&&!v.hasOwnProperty(K))switch(K){case"value":break;case"children":break;default:Fn(o,c,K,null,v,S)}for(N in v)if(S=v[N],T=d[N],v.hasOwnProperty(N)&&(S!=null||T!=null))switch(N){case"value":ke=S;break;case"defaultValue":Fe=S;break;case"children":break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:S!==T&&Fn(o,c,N,S,v,T)}Mn(o,ke,Fe);return;case"option":for(var At in d)if(ke=d[At],d.hasOwnProperty(At)&&ke!=null&&!v.hasOwnProperty(At))switch(At){case"selected":o.selected=!1;break;default:Fn(o,c,At,null,v,ke)}for(me in v)if(ke=v[me],Fe=d[me],v.hasOwnProperty(me)&&ke!==Fe&&(ke!=null||Fe!=null))switch(me){case"selected":o.selected=ke&&typeof ke!="function"&&typeof ke!="symbol";break;default:Fn(o,c,me,ke,v,Fe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var zt in d)ke=d[zt],d.hasOwnProperty(zt)&&ke!=null&&!v.hasOwnProperty(zt)&&Fn(o,c,zt,null,v,ke);for(Oe in v)if(ke=v[Oe],Fe=d[Oe],v.hasOwnProperty(Oe)&&ke!==Fe&&(ke!=null||Fe!=null))switch(Oe){case"children":case"dangerouslySetInnerHTML":if(ke!=null)throw Error(r(137,c));break;default:Fn(o,c,Oe,ke,v,Fe)}return;default:if(fs(c)){for(var Un in d)ke=d[Un],d.hasOwnProperty(Un)&&ke!==void 0&&!v.hasOwnProperty(Un)&&$_(o,c,Un,void 0,v,ke);for(He in v)ke=v[He],Fe=d[He],!v.hasOwnProperty(He)||ke===Fe||ke===void 0&&Fe===void 0||$_(o,c,He,ke,v,Fe);return}}for(var Ee in d)ke=d[Ee],d.hasOwnProperty(Ee)&&ke!=null&&!v.hasOwnProperty(Ee)&&Fn(o,c,Ee,null,v,ke);for(Ke in v)ke=v[Ke],Fe=d[Ke],!v.hasOwnProperty(Ke)||ke===Fe||ke==null&&Fe==null||Fn(o,c,Ke,ke,v,Fe)}function _O(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function q7(){if(typeof performance.getEntriesByType=="function"){for(var o=0,c=0,d=performance.getEntriesByType("resource"),v=0;v<d.length;v++){var S=d[v],T=S.transferSize,N=S.initiatorType,K=S.duration;if(T&&K&&_O(N)){for(N=0,K=S.responseEnd,v+=1;v<d.length;v++){var me=d[v],Oe=me.startTime;if(Oe>K)break;var He=me.transferSize,Ke=me.initiatorType;He&&_O(Ke)&&(me=me.responseEnd,N+=He*(me<K?1:(K-Oe)/(me-Oe)))}if(--v,c+=8*(T+N)/(S.duration/1e3),o++,10<o)break}}if(0<o)return c/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var Z_=null,J_=null;function mm(o){return o.nodeType===9?o:o.ownerDocument}function yO(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function EO(o,c){if(o===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&c==="foreignObject"?0:o}function Q_(o,c){return o==="textarea"||o==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var ey=null;function K7(){var o=window.event;return o&&o.type==="popstate"?o===ey?!1:(ey=o,!0):(ey=null,!1)}var SO=typeof setTimeout=="function"?setTimeout:void 0,$7=typeof clearTimeout=="function"?clearTimeout:void 0,bO=typeof Promise=="function"?Promise:void 0,Z7=typeof queueMicrotask=="function"?queueMicrotask:typeof bO<"u"?function(o){return bO.resolve(null).then(o).catch(J7)}:SO;function J7(o){setTimeout(function(){throw o})}function Dl(o){return o==="head"}function TO(o,c){var d=c,v=0;do{var S=d.nextSibling;if(o.removeChild(d),S&&S.nodeType===8)if(d=S.data,d==="/$"||d==="/&"){if(v===0){o.removeChild(S),mf(c);return}v--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")v++;else if(d==="html")d0(o.ownerDocument.documentElement);else if(d==="head"){d=o.ownerDocument.head,d0(d);for(var T=d.firstChild;T;){var N=T.nextSibling,K=T.nodeName;T[Ne]||K==="SCRIPT"||K==="STYLE"||K==="LINK"&&T.rel.toLowerCase()==="stylesheet"||d.removeChild(T),T=N}}else d==="body"&&d0(o.ownerDocument.body);d=S}while(d);mf(c)}function wO(o,c){var d=o;o=0;do{var v=d.nextSibling;if(d.nodeType===1?c?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(c?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),v&&v.nodeType===8)if(d=v.data,d==="/$"){if(o===0)break;o--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||o++;d=v}while(d)}function ty(o){var c=o.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var d=c;switch(c=c.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":ty(d),tt(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}o.removeChild(d)}}function Q7(o,c,d,v){for(;o.nodeType===1;){var S=d;if(o.nodeName.toLowerCase()!==c.toLowerCase()){if(!v&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(v){if(!o[Ne])switch(c){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(T=o.getAttribute("rel"),T==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(T!==S.rel||o.getAttribute("href")!==(S.href==null||S.href===""?null:S.href)||o.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin)||o.getAttribute("title")!==(S.title==null?null:S.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(T=o.getAttribute("src"),(T!==(S.src==null?null:S.src)||o.getAttribute("type")!==(S.type==null?null:S.type)||o.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin))&&T&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(c==="input"&&o.type==="hidden"){var T=S.name==null?null:""+S.name;if(S.type==="hidden"&&o.getAttribute("name")===T)return o}else return o;if(o=ja(o.nextSibling),o===null)break}return null}function ej(o,c,d){if(c==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!d||(o=ja(o.nextSibling),o===null))return null;return o}function AO(o,c){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!c||(o=ja(o.nextSibling),o===null))return null;return o}function ny(o){return o.data==="$?"||o.data==="$~"}function ry(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function tj(o,c){var d=o.ownerDocument;if(o.data==="$~")o._reactRetry=c;else if(o.data!=="$?"||d.readyState!=="loading")c();else{var v=function(){c(),d.removeEventListener("DOMContentLoaded",v)};d.addEventListener("DOMContentLoaded",v),o._reactRetry=v}}function ja(o){for(;o!=null;o=o.nextSibling){var c=o.nodeType;if(c===1||c===3)break;if(c===8){if(c=o.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return o}var iy=null;function MO(o){o=o.nextSibling;for(var c=0;o;){if(o.nodeType===8){var d=o.data;if(d==="/$"||d==="/&"){if(c===0)return ja(o.nextSibling);c--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||c++}o=o.nextSibling}return null}function CO(o){o=o.previousSibling;for(var c=0;o;){if(o.nodeType===8){var d=o.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(c===0)return o;c--}else d!=="/$"&&d!=="/&"||c++}o=o.previousSibling}return null}function RO(o,c,d){switch(c=mm(d),o){case"html":if(o=c.documentElement,!o)throw Error(r(452));return o;case"head":if(o=c.head,!o)throw Error(r(453));return o;case"body":if(o=c.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function d0(o){for(var c=o.attributes;c.length;)o.removeAttributeNode(c[0]);tt(o)}var Ha=new Map,OO=new Set;function vm(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var Ao=W.d;W.d={f:nj,r:rj,D:ij,C:aj,L:sj,m:oj,X:cj,S:lj,M:uj};function nj(){var o=Ao.f(),c=om();return o||c}function rj(o){var c=xt(o);c!==null&&c.tag===5&&c.type==="form"?XC(c):Ao.r(o)}var hf=typeof document>"u"?null:document;function PO(o,c,d){var v=hf;if(v&&typeof c=="string"&&c){var S=Yt(c);S='link[rel="'+o+'"][href="'+S+'"]',typeof d=="string"&&(S+='[crossorigin="'+d+'"]'),OO.has(S)||(OO.add(S),o={rel:o,crossOrigin:d,href:c},v.querySelector(S)===null&&(c=v.createElement("link"),vi(c,"link",o),H(c),v.head.appendChild(c)))}}function ij(o){Ao.D(o),PO("dns-prefetch",o,null)}function aj(o,c){Ao.C(o,c),PO("preconnect",o,c)}function sj(o,c,d){Ao.L(o,c,d);var v=hf;if(v&&o&&c){var S='link[rel="preload"][as="'+Yt(c)+'"]';c==="image"&&d&&d.imageSrcSet?(S+='[imagesrcset="'+Yt(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(S+='[imagesizes="'+Yt(d.imageSizes)+'"]')):S+='[href="'+Yt(o)+'"]';var T=S;switch(c){case"style":T=df(o);break;case"script":T=pf(o)}Ha.has(T)||(o=p({rel:"preload",href:c==="image"&&d&&d.imageSrcSet?void 0:o,as:c},d),Ha.set(T,o),v.querySelector(S)!==null||c==="style"&&v.querySelector(p0(T))||c==="script"&&v.querySelector(m0(T))||(c=v.createElement("link"),vi(c,"link",o),H(c),v.head.appendChild(c)))}}function oj(o,c){Ao.m(o,c);var d=hf;if(d&&o){var v=c&&typeof c.as=="string"?c.as:"script",S='link[rel="modulepreload"][as="'+Yt(v)+'"][href="'+Yt(o)+'"]',T=S;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":T=pf(o)}if(!Ha.has(T)&&(o=p({rel:"modulepreload",href:o},c),Ha.set(T,o),d.querySelector(S)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(m0(T)))return}v=d.createElement("link"),vi(v,"link",o),H(v),d.head.appendChild(v)}}}function lj(o,c,d){Ao.S(o,c,d);var v=hf;if(v&&o){var S=mt(v).hoistableStyles,T=df(o);c=c||"default";var N=S.get(T);if(!N){var K={loading:0,preload:null};if(N=v.querySelector(p0(T)))K.loading=5;else{o=p({rel:"stylesheet",href:o,"data-precedence":c},d),(d=Ha.get(T))&&ay(o,d);var me=N=v.createElement("link");H(me),vi(me,"link",o),me._p=new Promise(function(Oe,He){me.onload=Oe,me.onerror=He}),me.addEventListener("load",function(){K.loading|=1}),me.addEventListener("error",function(){K.loading|=2}),K.loading|=4,gm(N,c,v)}N={type:"stylesheet",instance:N,count:1,state:K},S.set(T,N)}}}function cj(o,c){Ao.X(o,c);var d=hf;if(d&&o){var v=mt(d).hoistableScripts,S=pf(o),T=v.get(S);T||(T=d.querySelector(m0(S)),T||(o=p({src:o,async:!0},c),(c=Ha.get(S))&&sy(o,c),T=d.createElement("script"),H(T),vi(T,"link",o),d.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},v.set(S,T))}}function uj(o,c){Ao.M(o,c);var d=hf;if(d&&o){var v=mt(d).hoistableScripts,S=pf(o),T=v.get(S);T||(T=d.querySelector(m0(S)),T||(o=p({src:o,async:!0,type:"module"},c),(c=Ha.get(S))&&sy(o,c),T=d.createElement("script"),H(T),vi(T,"link",o),d.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},v.set(S,T))}}function DO(o,c,d,v){var S=(S=J.current)?vm(S):null;if(!S)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(c=df(d.href),d=mt(S).hoistableStyles,v=d.get(c),v||(v={type:"style",instance:null,count:0,state:null},d.set(c,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){o=df(d.href);var T=mt(S).hoistableStyles,N=T.get(o);if(N||(S=S.ownerDocument||S,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},T.set(o,N),(T=S.querySelector(p0(o)))&&!T._p&&(N.instance=T,N.state.loading=5),Ha.has(o)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},Ha.set(o,d),T||fj(S,o,d,N.state))),c&&v===null)throw Error(r(528,""));return N}if(c&&v!==null)throw Error(r(529,""));return null;case"script":return c=d.async,d=d.src,typeof d=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=pf(d),d=mt(S).hoistableScripts,v=d.get(c),v||(v={type:"script",instance:null,count:0,state:null},d.set(c,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function df(o){return'href="'+Yt(o)+'"'}function p0(o){return'link[rel="stylesheet"]['+o+"]"}function NO(o){return p({},o,{"data-precedence":o.precedence,precedence:null})}function fj(o,c,d,v){o.querySelector('link[rel="preload"][as="style"]['+c+"]")?v.loading=1:(c=o.createElement("link"),v.preload=c,c.addEventListener("load",function(){return v.loading|=1}),c.addEventListener("error",function(){return v.loading|=2}),vi(c,"link",d),H(c),o.head.appendChild(c))}function pf(o){return'[src="'+Yt(o)+'"]'}function m0(o){return"script[async]"+o}function kO(o,c,d){if(c.count++,c.instance===null)switch(c.type){case"style":var v=o.querySelector('style[data-href~="'+Yt(d.href)+'"]');if(v)return c.instance=v,H(v),v;var S=p({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return v=(o.ownerDocument||o).createElement("style"),H(v),vi(v,"style",S),gm(v,d.precedence,o),c.instance=v;case"stylesheet":S=df(d.href);var T=o.querySelector(p0(S));if(T)return c.state.loading|=4,c.instance=T,H(T),T;v=NO(d),(S=Ha.get(S))&&ay(v,S),T=(o.ownerDocument||o).createElement("link"),H(T);var N=T;return N._p=new Promise(function(K,me){N.onload=K,N.onerror=me}),vi(T,"link",v),c.state.loading|=4,gm(T,d.precedence,o),c.instance=T;case"script":return T=pf(d.src),(S=o.querySelector(m0(T)))?(c.instance=S,H(S),S):(v=d,(S=Ha.get(T))&&(v=p({},d),sy(v,S)),o=o.ownerDocument||o,S=o.createElement("script"),H(S),vi(S,"link",v),o.head.appendChild(S),c.instance=S);case"void":return null;default:throw Error(r(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(v=c.instance,c.state.loading|=4,gm(v,d.precedence,o));return c.instance}function gm(o,c,d){for(var v=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),S=v.length?v[v.length-1]:null,T=S,N=0;N<v.length;N++){var K=v[N];if(K.dataset.precedence===c)T=K;else if(T!==S)break}T?T.parentNode.insertBefore(o,T.nextSibling):(c=d.nodeType===9?d.head:d,c.insertBefore(o,c.firstChild))}function ay(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.title==null&&(o.title=c.title)}function sy(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.integrity==null&&(o.integrity=c.integrity)}var xm=null;function LO(o,c,d){if(xm===null){var v=new Map,S=xm=new Map;S.set(d,v)}else S=xm,v=S.get(d),v||(v=new Map,S.set(d,v));if(v.has(o))return v;for(v.set(o,null),d=d.getElementsByTagName(o),S=0;S<d.length;S++){var T=d[S];if(!(T[Ne]||T[re]||o==="link"&&T.getAttribute("rel")==="stylesheet")&&T.namespaceURI!=="http://www.w3.org/2000/svg"){var N=T.getAttribute(c)||"";N=o+N;var K=v.get(N);K?K.push(T):v.set(N,[T])}}return v}function IO(o,c,d){o=o.ownerDocument||o,o.head.insertBefore(d,c==="title"?o.querySelector("head > title"):null)}function hj(o,c,d){if(d===1||c.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return o=c.disabled,typeof c.precedence=="string"&&o==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function FO(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function dj(o,c,d,v){if(d.type==="stylesheet"&&(typeof v.media!="string"||matchMedia(v.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var S=df(v.href),T=c.querySelector(p0(S));if(T){c=T._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(o.count++,o=_m.bind(o),c.then(o,o)),d.state.loading|=4,d.instance=T,H(T);return}T=c.ownerDocument||c,v=NO(v),(S=Ha.get(S))&&ay(v,S),T=T.createElement("link"),H(T);var N=T;N._p=new Promise(function(K,me){N.onload=K,N.onerror=me}),vi(T,"link",v),d.instance=T}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(d,c),(c=d.state.preload)&&(d.state.loading&3)===0&&(o.count++,d=_m.bind(o),c.addEventListener("load",d),c.addEventListener("error",d))}}var oy=0;function pj(o,c){return o.stylesheets&&o.count===0&&Em(o,o.stylesheets),0<o.count||0<o.imgCount?function(d){var v=setTimeout(function(){if(o.stylesheets&&Em(o,o.stylesheets),o.unsuspend){var T=o.unsuspend;o.unsuspend=null,T()}},6e4+c);0<o.imgBytes&&oy===0&&(oy=62500*q7());var S=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&Em(o,o.stylesheets),o.unsuspend)){var T=o.unsuspend;o.unsuspend=null,T()}},(o.imgBytes>oy?50:800)+c);return o.unsuspend=d,function(){o.unsuspend=null,clearTimeout(v),clearTimeout(S)}}:null}function _m(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Em(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var ym=null;function Em(o,c){o.stylesheets=null,o.unsuspend!==null&&(o.count++,ym=new Map,c.forEach(mj,o),ym=null,_m.call(o))}function mj(o,c){if(!(c.state.loading&4)){var d=ym.get(o);if(d)var v=d.get(null);else{d=new Map,ym.set(o,d);for(var S=o.querySelectorAll("link[data-precedence],style[data-precedence]"),T=0;T<S.length;T++){var N=S[T];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(d.set(N.dataset.precedence,N),v=N)}v&&d.set(null,v)}S=c.instance,N=S.getAttribute("data-precedence"),T=d.get(N)||v,T===v&&d.set(null,S),d.set(N,S),this.count++,v=_m.bind(this),S.addEventListener("load",v),S.addEventListener("error",v),T?T.parentNode.insertBefore(S,T.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(S,o.firstChild)),c.state.loading|=4}}var v0={$$typeof:b,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function vj(o,c,d,v,S,T,N,K,me){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fn(0),this.hiddenUpdates=fn(null),this.identifierPrefix=v,this.onUncaughtError=S,this.onCaughtError=T,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=me,this.incompleteTransitions=new Map}function UO(o,c,d,v,S,T,N,K,me,Oe,He,Ke){return o=new vj(o,c,d,N,me,Oe,He,Ke,K),c=1,T===!0&&(c|=24),T=da(3,null,null,c),o.current=T,T.stateNode=o,c=z1(),c.refCount++,o.pooledCache=c,c.refCount++,T.memoizedState={element:v,isDehydrated:d,cache:c},V1(T),o}function BO(o){return o?(o=Vu,o):Vu}function zO(o,c,d,v,S,T){S=BO(S),v.context===null?v.context=S:v.pendingContext=S,v=El(c),v.payload={element:d},T=T===void 0?null:T,T!==null&&(v.callback=T),d=Sl(o,v,c),d!==null&&(ra(d,o,c),qh(d,o,c))}function jO(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var d=o.retryLane;o.retryLane=d!==0&&d<c?d:c}}function ly(o,c){jO(o,c),(o=o.alternate)&&jO(o,c)}function HO(o){if(o.tag===13||o.tag===31){var c=yc(o,67108864);c!==null&&ra(c,o,67108864),ly(o,67108864)}}function GO(o){if(o.tag===13||o.tag===31){var c=xa();c=vc(c);var d=yc(o,c);d!==null&&ra(d,o,c),ly(o,c)}}var Sm=!0;function gj(o,c,d,v){var S=G.T;G.T=null;var T=W.p;try{W.p=2,cy(o,c,d,v)}finally{W.p=T,G.T=S}}function xj(o,c,d,v){var S=G.T;G.T=null;var T=W.p;try{W.p=8,cy(o,c,d,v)}finally{W.p=T,G.T=S}}function cy(o,c,d,v){if(Sm){var S=uy(v);if(S===null)K_(o,c,v,bm,d),WO(o,v);else if(yj(S,o,c,d,v))v.stopPropagation();else if(WO(o,v),c&4&&-1<_j.indexOf(o)){for(;S!==null;){var T=xt(S);if(T!==null)switch(T.tag){case 3:if(T=T.stateNode,T.current.memoizedState.isDehydrated){var N=$e(T.pendingLanes);if(N!==0){var K=T;for(K.pendingLanes|=2,K.entangledLanes|=2;N;){var me=1<<31-vt(N);K.entanglements[1]|=me,N&=~me}Ls(T),(wn&6)===0&&(am=B()+500,u0(0))}}break;case 31:case 13:K=yc(T,2),K!==null&&ra(K,T,2),om(),ly(T,2)}if(T=uy(v),T===null&&K_(o,c,v,bm,d),T===S)break;S=T}S!==null&&v.stopPropagation()}else K_(o,c,v,null,d)}}function uy(o){return o=h1(o),fy(o)}var bm=null;function fy(o){if(bm=null,o=lt(o),o!==null){var c=a(o);if(c===null)o=null;else{var d=c.tag;if(d===13){if(o=s(c),o!==null)return o;o=null}else if(d===31){if(o=l(c),o!==null)return o;o=null}else if(d===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null)}}return bm=o,null}function VO(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ve()){case Ie:return 2;case Ue:return 8;case Te:case dt:return 32;case Be:return 268435456;default:return 32}default:return 32}}var hy=!1,Nl=null,kl=null,Ll=null,g0=new Map,x0=new Map,Il=[],_j="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function WO(o,c){switch(o){case"focusin":case"focusout":Nl=null;break;case"dragenter":case"dragleave":kl=null;break;case"mouseover":case"mouseout":Ll=null;break;case"pointerover":case"pointerout":g0.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":x0.delete(c.pointerId)}}function _0(o,c,d,v,S,T){return o===null||o.nativeEvent!==T?(o={blockedOn:c,domEventName:d,eventSystemFlags:v,nativeEvent:T,targetContainers:[S]},c!==null&&(c=xt(c),c!==null&&HO(c)),o):(o.eventSystemFlags|=v,c=o.targetContainers,S!==null&&c.indexOf(S)===-1&&c.push(S),o)}function yj(o,c,d,v,S){switch(c){case"focusin":return Nl=_0(Nl,o,c,d,v,S),!0;case"dragenter":return kl=_0(kl,o,c,d,v,S),!0;case"mouseover":return Ll=_0(Ll,o,c,d,v,S),!0;case"pointerover":var T=S.pointerId;return g0.set(T,_0(g0.get(T)||null,o,c,d,v,S)),!0;case"gotpointercapture":return T=S.pointerId,x0.set(T,_0(x0.get(T)||null,o,c,d,v,S)),!0}return!1}function YO(o){var c=lt(o.target);if(c!==null){var d=a(c);if(d!==null){if(c=d.tag,c===13){if(c=s(d),c!==null){o.blockedOn=c,ue(o.priority,function(){GO(d)});return}}else if(c===31){if(c=l(d),c!==null){o.blockedOn=c,ue(o.priority,function(){GO(d)});return}}else if(c===3&&d.stateNode.current.memoizedState.isDehydrated){o.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Tm(o){if(o.blockedOn!==null)return!1;for(var c=o.targetContainers;0<c.length;){var d=uy(o.nativeEvent);if(d===null){d=o.nativeEvent;var v=new d.constructor(d.type,d);f1=v,d.target.dispatchEvent(v),f1=null}else return c=xt(d),c!==null&&HO(c),o.blockedOn=d,!1;c.shift()}return!0}function XO(o,c,d){Tm(o)&&d.delete(c)}function Ej(){hy=!1,Nl!==null&&Tm(Nl)&&(Nl=null),kl!==null&&Tm(kl)&&(kl=null),Ll!==null&&Tm(Ll)&&(Ll=null),g0.forEach(XO),x0.forEach(XO)}function wm(o,c){o.blockedOn===c&&(o.blockedOn=null,hy||(hy=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Ej)))}var Am=null;function qO(o){Am!==o&&(Am=o,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Am===o&&(Am=null);for(var c=0;c<o.length;c+=3){var d=o[c],v=o[c+1],S=o[c+2];if(typeof v!="function"){if(fy(v||d)===null)continue;break}var T=xt(d);T!==null&&(o.splice(c,3),c-=3,u_(T,{pending:!0,data:S,method:d.method,action:v},v,S))}}))}function mf(o){function c(me){return wm(me,o)}Nl!==null&&wm(Nl,o),kl!==null&&wm(kl,o),Ll!==null&&wm(Ll,o),g0.forEach(c),x0.forEach(c);for(var d=0;d<Il.length;d++){var v=Il[d];v.blockedOn===o&&(v.blockedOn=null)}for(;0<Il.length&&(d=Il[0],d.blockedOn===null);)YO(d),d.blockedOn===null&&Il.shift();if(d=(o.ownerDocument||o).$$reactFormReplay,d!=null)for(v=0;v<d.length;v+=3){var S=d[v],T=d[v+1],N=S[le]||null;if(typeof T=="function")N||qO(d);else if(N){var K=null;if(T&&T.hasAttribute("formAction")){if(S=T,N=T[le]||null)K=N.formAction;else if(fy(S)!==null)continue}else K=N.action;typeof K=="function"?d[v+1]=K:(d.splice(v,3),v-=3),qO(d)}}}function KO(){function o(T){T.canIntercept&&T.info==="react-transition"&&T.intercept({handler:function(){return new Promise(function(N){return S=N})},focusReset:"manual",scroll:"manual"})}function c(){S!==null&&(S(),S=null),v||setTimeout(d,20)}function d(){if(!v&&!navigation.transition){var T=navigation.currentEntry;T&&T.url!=null&&navigation.navigate(T.url,{state:T.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var v=!1,S=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(d,100),function(){v=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),S!==null&&(S(),S=null)}}}function dy(o){this._internalRoot=o}Mm.prototype.render=dy.prototype.render=function(o){var c=this._internalRoot;if(c===null)throw Error(r(409));var d=c.current,v=xa();zO(d,v,o,c,null,null)},Mm.prototype.unmount=dy.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var c=o.containerInfo;zO(o.current,2,null,o,null,null),om(),c[he]=null}};function Mm(o){this._internalRoot=o}Mm.prototype.unstable_scheduleHydration=function(o){if(o){var c=q();o={blockedOn:null,target:o,priority:c};for(var d=0;d<Il.length&&c!==0&&c<Il[d].priority;d++);Il.splice(d,0,o),d===0&&YO(o)}};var $O=e.version;if($O!=="19.2.3")throw Error(r(527,$O,"19.2.3"));W.findDOMNode=function(o){var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=f(c),o=o!==null?h(o):null,o=o===null?null:o.stateNode,o};var Sj={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cm.isDisabled&&Cm.supportsFiber)try{Ve=Cm.inject(Sj),Qe=Cm}catch{}}return E0.createRoot=function(o,c){if(!i(o))throw Error(r(299));var d=!1,v="",S=rR,T=iR,N=aR;return c!=null&&(c.unstable_strictMode===!0&&(d=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onUncaughtError!==void 0&&(S=c.onUncaughtError),c.onCaughtError!==void 0&&(T=c.onCaughtError),c.onRecoverableError!==void 0&&(N=c.onRecoverableError)),c=UO(o,1,!1,null,null,d,v,null,S,T,N,KO),o[he]=c.current,q_(o),new dy(c)},E0.hydrateRoot=function(o,c,d){if(!i(o))throw Error(r(299));var v=!1,S="",T=rR,N=iR,K=aR,me=null;return d!=null&&(d.unstable_strictMode===!0&&(v=!0),d.identifierPrefix!==void 0&&(S=d.identifierPrefix),d.onUncaughtError!==void 0&&(T=d.onUncaughtError),d.onCaughtError!==void 0&&(N=d.onCaughtError),d.onRecoverableError!==void 0&&(K=d.onRecoverableError),d.formState!==void 0&&(me=d.formState)),c=UO(o,1,!0,c,d??null,v,S,me,T,N,K,KO),c.context=BO(null),d=c.current,v=xa(),v=vc(v),S=El(v),S.callback=null,Sl(d,S,v),d=v,c.current.lanes=d,$r(c,d),Ls(c),o[he]=c.current,q_(o),new Mm(c)},E0.version="19.2.3",E0}var s3;function Lj(){if(s3)return gy.exports;s3=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),gy.exports=kj(),gy.exports}var Ij=Lj();const Fj=Os(Ij);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uj=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Bj=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),o3=t=>{const e=Bj(t);return e.charAt(0).toUpperCase()+e.slice(1)},bI=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),zj=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var jj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hj=P.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:s,...l},u)=>P.createElement("svg",{ref:u,...jj,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:bI("lucide",i),...!a&&!zj(l)&&{"aria-hidden":"true"},...l},[...s.map(([f,h])=>P.createElement(f,h)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const un=(t,e)=>{const n=P.forwardRef(({className:r,...i},a)=>P.createElement(Hj,{ref:a,iconNode:e,className:bI(`lucide-${Uj(o3(t))}`,`lucide-${t}`,r),...i}));return n.displayName=o3(t),n};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gj=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],rb=un("activity",Gj);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vj=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],Wj=un("arrow-down",Vj);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yj=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],Xj=un("arrow-up",Yj);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qj=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],Kj=un("calculator",qj);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $j=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Zj=un("check",$j);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jj=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],m2=un("chevron-down",Jj);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qj=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],TI=un("chevron-up",Qj);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eH=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],tH=un("circle-check-big",eH);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],rH=un("circle-check",nH);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],aH=un("disc",iH);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sH=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],wI=un("eye",sH);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oH=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]],AI=un("file-plus",oH);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lH=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],ix=un("file-spreadsheet",lH);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cH=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],MI=un("folder-open",cH);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uH=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],fH=un("folder",uH);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hH=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],dH=un("house",hH);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pH=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],l3=un("layers",pH);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mH=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],vH=un("loader-circle",mH);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gH=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],xH=un("lock",gH);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _H=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],yH=un("pen-line",_H);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EH=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]],SH=un("pin",EH);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bH=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],TH=un("printer",bH);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wH=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],AH=un("rotate-ccw",wH);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MH=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],CH=un("ruler",MH);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RH=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],v2=un("save",RH);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OH=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],g2=un("search",OH);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PH=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],DH=un("settings",PH);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NH=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],kH=un("share-2",NH);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LH=[["path",{d:"M12 10.189V14",key:"1p8cqu"}],["path",{d:"M12 2v3",key:"qbqxhf"}],["path",{d:"M19 13V7a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v6",key:"qpkstq"}],["path",{d:"M19.38 20A11.6 11.6 0 0 0 21 14l-8.188-3.639a2 2 0 0 0-1.624 0L3 14a11.6 11.6 0 0 0 2.81 7.76",key:"7tigtc"}],["path",{d:"M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1s1.2 1 2.5 1c2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"1924j5"}]],c3=un("ship",LH);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IH=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],FH=un("terminal",IH);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UH=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],CI=un("trash-2",UH);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BH=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Yv=un("triangle-alert",BH);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zH=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],jH=un("upload",zH);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HH=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],GH=un("user",HH);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VH=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Xv=un("x",VH);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WH=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],YH=un("zap",WH);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const x2="182",Xf={ROTATE:0,DOLLY:1,PAN:2},Gf={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},XH=0,u3=1,qH=2,kv=1,KH=2,G0=3,nc=0,oa=1,No=2,zo=0,qf=1,f3=2,h3=3,d3=4,$H=5,Hc=100,ZH=101,JH=102,QH=103,eG=104,tG=200,nG=201,rG=202,iG=203,ib=204,ab=205,aG=206,sG=207,oG=208,lG=209,cG=210,uG=211,fG=212,hG=213,dG=214,sb=0,ob=1,lb=2,rh=3,cb=4,ub=5,fb=6,hb=7,RI=0,pG=1,mG=2,qs=0,OI=1,PI=2,DI=3,NI=4,kI=5,LI=6,II=7,FI=300,au=301,ih=302,db=303,pb=304,ax=306,mb=1e3,Io=1001,vb=1002,Si=1003,vG=1004,Rm=1005,ki=1006,Ey=1007,Wc=1008,Ta=1009,UI=1010,BI=1011,od=1012,_2=1013,Zs=1014,Vs=1015,Yo=1016,y2=1017,E2=1018,ld=1020,zI=35902,jI=35899,HI=1021,GI=1022,Ss=1023,Xo=1026,Yc=1027,VI=1028,S2=1029,ah=1030,b2=1031,T2=1033,Lv=33776,Iv=33777,Fv=33778,Uv=33779,gb=35840,xb=35841,_b=35842,yb=35843,Eb=36196,Sb=37492,bb=37496,Tb=37488,wb=37489,Ab=37490,Mb=37491,Cb=37808,Rb=37809,Ob=37810,Pb=37811,Db=37812,Nb=37813,kb=37814,Lb=37815,Ib=37816,Fb=37817,Ub=37818,Bb=37819,zb=37820,jb=37821,Hb=36492,Gb=36494,Vb=36495,Wb=36283,Yb=36284,Xb=36285,qb=36286,gG=3200,WI=0,xG=1,ql="",es="srgb",sh="srgb-linear",qv="linear",Pn="srgb",vf=7680,p3=519,_G=512,yG=513,EG=514,w2=515,SG=516,bG=517,A2=518,TG=519,Kb=35044,m3="300 es",Ws=2e3,Kv=2001;function YI(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}function $v(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function wG(){const t=$v("canvas");return t.style.display="block",t}const v3={};function Zv(...t){const e="THREE."+t.shift();console.log(e,...t)}function Vt(...t){const e="THREE."+t.shift();console.warn(e,...t)}function dn(...t){const e="THREE."+t.shift();console.error(e,...t)}function cd(...t){const e=t.join(" ");e in v3||(v3[e]=!0,Vt(...t))}function AG(t,e,n){return new Promise(function(r,i){function a(){switch(t.clientWaitSync(e,t.SYNC_FLUSH_COMMANDS_BIT,0)){case t.WAIT_FAILED:i();break;case t.TIMEOUT_EXPIRED:setTimeout(a,n);break;default:r()}}setTimeout(a,n)})}class bu{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){const r=this._listeners;return r===void 0?!1:r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){const r=this._listeners;if(r===void 0)return;const i=r[e];if(i!==void 0){const a=i.indexOf(n);a!==-1&&i.splice(a,1)}}dispatchEvent(e){const n=this._listeners;if(n===void 0)return;const r=n[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let a=0,s=i.length;a<s;a++)i[a].call(this,e);e.target=null}}}const Ai=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],Bv=Math.PI/180,$b=180/Math.PI;function ec(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Ai[t&255]+Ai[t>>8&255]+Ai[t>>16&255]+Ai[t>>24&255]+"-"+Ai[e&255]+Ai[e>>8&255]+"-"+Ai[e>>16&15|64]+Ai[e>>24&255]+"-"+Ai[n&63|128]+Ai[n>>8&255]+"-"+Ai[n>>16&255]+Ai[n>>24&255]+Ai[r&255]+Ai[r>>8&255]+Ai[r>>16&255]+Ai[r>>24&255]).toLowerCase()}function en(t,e,n){return Math.max(e,Math.min(n,t))}function MG(t,e){return(t%e+e)%e}function Sy(t,e,n){return(1-n)*t+n*e}function Gs(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function zn(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const CG={DEG2RAD:Bv};class bt{constructor(e=0,n=0){bt.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=en(this.x,e.x,n.x),this.y=en(this.y,e.y,n.y),this}clampScalar(e,n){return this.x=en(this.x,e,n),this.y=en(this.y,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(en(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(en(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),a=this.x-e.x,s=this.y-e.y;return this.x=a*r-s*i+e.x,this.y=a*i+s*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class su{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,a,s,l){let u=r[i+0],f=r[i+1],h=r[i+2],p=r[i+3],m=a[s+0],g=a[s+1],_=a[s+2],x=a[s+3];if(l<=0){e[n+0]=u,e[n+1]=f,e[n+2]=h,e[n+3]=p;return}if(l>=1){e[n+0]=m,e[n+1]=g,e[n+2]=_,e[n+3]=x;return}if(p!==x||u!==m||f!==g||h!==_){let y=u*m+f*g+h*_+p*x;y<0&&(m=-m,g=-g,_=-_,x=-x,y=-y);let E=1-l;if(y<.9995){const w=Math.acos(y),b=Math.sin(w);E=Math.sin(E*w)/b,l=Math.sin(l*w)/b,u=u*E+m*l,f=f*E+g*l,h=h*E+_*l,p=p*E+x*l}else{u=u*E+m*l,f=f*E+g*l,h=h*E+_*l,p=p*E+x*l;const w=1/Math.sqrt(u*u+f*f+h*h+p*p);u*=w,f*=w,h*=w,p*=w}}e[n]=u,e[n+1]=f,e[n+2]=h,e[n+3]=p}static multiplyQuaternionsFlat(e,n,r,i,a,s){const l=r[i],u=r[i+1],f=r[i+2],h=r[i+3],p=a[s],m=a[s+1],g=a[s+2],_=a[s+3];return e[n]=l*_+h*p+u*g-f*m,e[n+1]=u*_+h*m+f*p-l*g,e[n+2]=f*_+h*g+l*m-u*p,e[n+3]=h*_-l*p-u*m-f*g,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const r=e._x,i=e._y,a=e._z,s=e._order,l=Math.cos,u=Math.sin,f=l(r/2),h=l(i/2),p=l(a/2),m=u(r/2),g=u(i/2),_=u(a/2);switch(s){case"XYZ":this._x=m*h*p+f*g*_,this._y=f*g*p-m*h*_,this._z=f*h*_+m*g*p,this._w=f*h*p-m*g*_;break;case"YXZ":this._x=m*h*p+f*g*_,this._y=f*g*p-m*h*_,this._z=f*h*_-m*g*p,this._w=f*h*p+m*g*_;break;case"ZXY":this._x=m*h*p-f*g*_,this._y=f*g*p+m*h*_,this._z=f*h*_+m*g*p,this._w=f*h*p-m*g*_;break;case"ZYX":this._x=m*h*p-f*g*_,this._y=f*g*p+m*h*_,this._z=f*h*_-m*g*p,this._w=f*h*p+m*g*_;break;case"YZX":this._x=m*h*p+f*g*_,this._y=f*g*p+m*h*_,this._z=f*h*_-m*g*p,this._w=f*h*p-m*g*_;break;case"XZY":this._x=m*h*p-f*g*_,this._y=f*g*p-m*h*_,this._z=f*h*_+m*g*p,this._w=f*h*p+m*g*_;break;default:Vt("Quaternion: .setFromEuler() encountered an unknown order: "+s)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],a=n[8],s=n[1],l=n[5],u=n[9],f=n[2],h=n[6],p=n[10],m=r+l+p;if(m>0){const g=.5/Math.sqrt(m+1);this._w=.25/g,this._x=(h-u)*g,this._y=(a-f)*g,this._z=(s-i)*g}else if(r>l&&r>p){const g=2*Math.sqrt(1+r-l-p);this._w=(h-u)/g,this._x=.25*g,this._y=(i+s)/g,this._z=(a+f)/g}else if(l>p){const g=2*Math.sqrt(1+l-r-p);this._w=(a-f)/g,this._x=(i+s)/g,this._y=.25*g,this._z=(u+h)/g}else{const g=2*Math.sqrt(1+p-r-l);this._w=(s-i)/g,this._x=(a+f)/g,this._y=(u+h)/g,this._z=.25*g}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<1e-8?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(en(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,a=e._z,s=e._w,l=n._x,u=n._y,f=n._z,h=n._w;return this._x=r*h+s*l+i*f-a*u,this._y=i*h+s*u+a*l-r*f,this._z=a*h+s*f+r*u-i*l,this._w=s*h-r*l-i*u-a*f,this._onChangeCallback(),this}slerp(e,n){if(n<=0)return this;if(n>=1)return this.copy(e);let r=e._x,i=e._y,a=e._z,s=e._w,l=this.dot(e);l<0&&(r=-r,i=-i,a=-a,s=-s,l=-l);let u=1-n;if(l<.9995){const f=Math.acos(l),h=Math.sin(f);u=Math.sin(u*f)/h,n=Math.sin(n*f)/h,this._x=this._x*u+r*n,this._y=this._y*u+i*n,this._z=this._z*u+a*n,this._w=this._w*u+s*n,this._onChangeCallback()}else this._x=this._x*u+r*n,this._y=this._y*u+i*n,this._z=this._z*u+a*n,this._w=this._w*u+s*n,this.normalize();return this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),r=Math.random(),i=Math.sqrt(1-r),a=Math.sqrt(r);return this.set(i*Math.sin(e),i*Math.cos(e),a*Math.sin(n),a*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class _e{constructor(e=0,n=0,r=0){_e.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(g3.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(g3.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,a=e.elements;return this.x=a[0]*n+a[3]*r+a[6]*i,this.y=a[1]*n+a[4]*r+a[7]*i,this.z=a[2]*n+a[5]*r+a[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,a=e.elements,s=1/(a[3]*n+a[7]*r+a[11]*i+a[15]);return this.x=(a[0]*n+a[4]*r+a[8]*i+a[12])*s,this.y=(a[1]*n+a[5]*r+a[9]*i+a[13])*s,this.z=(a[2]*n+a[6]*r+a[10]*i+a[14])*s,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,a=e.x,s=e.y,l=e.z,u=e.w,f=2*(s*i-l*r),h=2*(l*n-a*i),p=2*(a*r-s*n);return this.x=n+u*f+s*p-l*h,this.y=r+u*h+l*f-a*p,this.z=i+u*p+a*h-s*f,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,a=e.elements;return this.x=a[0]*n+a[4]*r+a[8]*i,this.y=a[1]*n+a[5]*r+a[9]*i,this.z=a[2]*n+a[6]*r+a[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=en(this.x,e.x,n.x),this.y=en(this.y,e.y,n.y),this.z=en(this.z,e.z,n.z),this}clampScalar(e,n){return this.x=en(this.x,e,n),this.y=en(this.y,e,n),this.z=en(this.z,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(en(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,a=e.z,s=n.x,l=n.y,u=n.z;return this.x=i*u-a*l,this.y=a*s-r*u,this.z=r*l-i*s,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return by.copy(this).projectOnVector(e),this.sub(by)}reflect(e){return this.sub(by.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(en(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,n=Math.random()*2-1,r=Math.sqrt(1-n*n);return this.x=r*Math.cos(e),this.y=n,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const by=new _e,g3=new su;class Jt{constructor(e,n,r,i,a,s,l,u,f){Jt.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,r,i,a,s,l,u,f)}set(e,n,r,i,a,s,l,u,f){const h=this.elements;return h[0]=e,h[1]=i,h[2]=l,h[3]=n,h[4]=a,h[5]=u,h[6]=r,h[7]=s,h[8]=f,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,a=this.elements,s=r[0],l=r[3],u=r[6],f=r[1],h=r[4],p=r[7],m=r[2],g=r[5],_=r[8],x=i[0],y=i[3],E=i[6],w=i[1],b=i[4],M=i[7],A=i[2],C=i[5],R=i[8];return a[0]=s*x+l*w+u*A,a[3]=s*y+l*b+u*C,a[6]=s*E+l*M+u*R,a[1]=f*x+h*w+p*A,a[4]=f*y+h*b+p*C,a[7]=f*E+h*M+p*R,a[2]=m*x+g*w+_*A,a[5]=m*y+g*b+_*C,a[8]=m*E+g*M+_*R,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],a=e[3],s=e[4],l=e[5],u=e[6],f=e[7],h=e[8];return n*s*h-n*l*f-r*a*h+r*l*u+i*a*f-i*s*u}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],a=e[3],s=e[4],l=e[5],u=e[6],f=e[7],h=e[8],p=h*s-l*f,m=l*u-h*a,g=f*a-s*u,_=n*p+r*m+i*g;if(_===0)return this.set(0,0,0,0,0,0,0,0,0);const x=1/_;return e[0]=p*x,e[1]=(i*f-h*r)*x,e[2]=(l*r-i*s)*x,e[3]=m*x,e[4]=(h*n-i*u)*x,e[5]=(i*a-l*n)*x,e[6]=g*x,e[7]=(r*u-f*n)*x,e[8]=(s*n-r*a)*x,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,a,s,l){const u=Math.cos(a),f=Math.sin(a);return this.set(r*u,r*f,-r*(u*s+f*l)+s+e,-i*f,i*u,-i*(-f*s+u*l)+l+n,0,0,1),this}scale(e,n){return this.premultiply(Ty.makeScale(e,n)),this}rotate(e){return this.premultiply(Ty.makeRotation(-e)),this}translate(e,n){return this.premultiply(Ty.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const Ty=new Jt,x3=new Jt().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),_3=new Jt().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function RG(){const t={enabled:!0,workingColorSpace:sh,spaces:{},convert:function(i,a,s){return this.enabled===!1||a===s||!a||!s||(this.spaces[a].transfer===Pn&&(i.r=jo(i.r),i.g=jo(i.g),i.b=jo(i.b)),this.spaces[a].primaries!==this.spaces[s].primaries&&(i.applyMatrix3(this.spaces[a].toXYZ),i.applyMatrix3(this.spaces[s].fromXYZ)),this.spaces[s].transfer===Pn&&(i.r=Kf(i.r),i.g=Kf(i.g),i.b=Kf(i.b))),i},workingToColorSpace:function(i,a){return this.convert(i,this.workingColorSpace,a)},colorSpaceToWorking:function(i,a){return this.convert(i,a,this.workingColorSpace)},getPrimaries:function(i){return this.spaces[i].primaries},getTransfer:function(i){return i===ql?qv:this.spaces[i].transfer},getToneMappingMode:function(i){return this.spaces[i].outputColorSpaceConfig.toneMappingMode||"standard"},getLuminanceCoefficients:function(i,a=this.workingColorSpace){return i.fromArray(this.spaces[a].luminanceCoefficients)},define:function(i){Object.assign(this.spaces,i)},_getMatrix:function(i,a,s){return i.copy(this.spaces[a].toXYZ).multiply(this.spaces[s].fromXYZ)},_getDrawingBufferColorSpace:function(i){return this.spaces[i].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(i=this.workingColorSpace){return this.spaces[i].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(i,a){return cd("ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),t.workingToColorSpace(i,a)},toWorkingColorSpace:function(i,a){return cd("ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),t.colorSpaceToWorking(i,a)}},e=[.64,.33,.3,.6,.15,.06],n=[.2126,.7152,.0722],r=[.3127,.329];return t.define({[sh]:{primaries:e,whitePoint:r,transfer:qv,toXYZ:x3,fromXYZ:_3,luminanceCoefficients:n,workingColorSpaceConfig:{unpackColorSpace:es},outputColorSpaceConfig:{drawingBufferColorSpace:es}},[es]:{primaries:e,whitePoint:r,transfer:Pn,toXYZ:x3,fromXYZ:_3,luminanceCoefficients:n,outputColorSpaceConfig:{drawingBufferColorSpace:es}}}),t}const pn=RG();function jo(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function Kf(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let gf;class OG{static getDataURL(e,n="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let r;if(e instanceof HTMLCanvasElement)r=e;else{gf===void 0&&(gf=$v("canvas")),gf.width=e.width,gf.height=e.height;const i=gf.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),r=gf}return r.toDataURL(n)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=$v("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),a=i.data;for(let s=0;s<a.length;s++)a[s]=jo(a[s]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(jo(n[r]/255)*255):n[r]=jo(n[r]);return{data:n,width:e.width,height:e.height}}else return Vt("ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let PG=0;class M2{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:PG++}),this.uuid=ec(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const n=this.data;return typeof HTMLVideoElement<"u"&&n instanceof HTMLVideoElement?e.set(n.videoWidth,n.videoHeight,0):typeof VideoFrame<"u"&&n instanceof VideoFrame?e.set(n.displayHeight,n.displayWidth,0):n!==null?e.set(n.width,n.height,n.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let a;if(Array.isArray(i)){a=[];for(let s=0,l=i.length;s<l;s++)i[s].isDataTexture?a.push(wy(i[s].image)):a.push(wy(i[s]))}else a=wy(i);r.url=a}return n||(e.images[this.uuid]=r),r}}function wy(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?OG.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(Vt("Texture: Unable to serialize Texture."),{})}let DG=0;const Ay=new _e;class Ii extends bu{constructor(e=Ii.DEFAULT_IMAGE,n=Ii.DEFAULT_MAPPING,r=Io,i=Io,a=ki,s=Wc,l=Ss,u=Ta,f=Ii.DEFAULT_ANISOTROPY,h=ql){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:DG++}),this.uuid=ec(),this.name="",this.source=new M2(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=a,this.minFilter=s,this.anisotropy=f,this.format=l,this.internalFormat=null,this.type=u,this.offset=new bt(0,0),this.repeat=new bt(1,1),this.center=new bt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Jt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=h,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(Ay).x}get height(){return this.source.getSize(Ay).y}get depth(){return this.source.getSize(Ay).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const n in e){const r=e[n];if(r===void 0){Vt(`Texture.setValues(): parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){Vt(`Texture.setValues(): property '${n}' does not exist.`);continue}i&&r&&i.isVector2&&r.isVector2||i&&r&&i.isVector3&&r.isVector3||i&&r&&i.isMatrix3&&r.isMatrix3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==FI)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case mb:e.x=e.x-Math.floor(e.x);break;case Io:e.x=e.x<0?0:1;break;case vb:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case mb:e.y=e.y-Math.floor(e.y);break;case Io:e.y=e.y<0?0:1;break;case vb:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}Ii.DEFAULT_IMAGE=null;Ii.DEFAULT_MAPPING=FI;Ii.DEFAULT_ANISOTROPY=1;class vr{constructor(e=0,n=0,r=0,i=1){vr.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,a=this.w,s=e.elements;return this.x=s[0]*n+s[4]*r+s[8]*i+s[12]*a,this.y=s[1]*n+s[5]*r+s[9]*i+s[13]*a,this.z=s[2]*n+s[6]*r+s[10]*i+s[14]*a,this.w=s[3]*n+s[7]*r+s[11]*i+s[15]*a,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,a;const u=e.elements,f=u[0],h=u[4],p=u[8],m=u[1],g=u[5],_=u[9],x=u[2],y=u[6],E=u[10];if(Math.abs(h-m)<.01&&Math.abs(p-x)<.01&&Math.abs(_-y)<.01){if(Math.abs(h+m)<.1&&Math.abs(p+x)<.1&&Math.abs(_+y)<.1&&Math.abs(f+g+E-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const b=(f+1)/2,M=(g+1)/2,A=(E+1)/2,C=(h+m)/4,R=(p+x)/4,F=(_+y)/4;return b>M&&b>A?b<.01?(r=0,i=.707106781,a=.707106781):(r=Math.sqrt(b),i=C/r,a=R/r):M>A?M<.01?(r=.707106781,i=0,a=.707106781):(i=Math.sqrt(M),r=C/i,a=F/i):A<.01?(r=.707106781,i=.707106781,a=0):(a=Math.sqrt(A),r=R/a,i=F/a),this.set(r,i,a,n),this}let w=Math.sqrt((y-_)*(y-_)+(p-x)*(p-x)+(m-h)*(m-h));return Math.abs(w)<.001&&(w=1),this.x=(y-_)/w,this.y=(p-x)/w,this.z=(m-h)/w,this.w=Math.acos((f+g+E-1)/2),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this.w=n[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=en(this.x,e.x,n.x),this.y=en(this.y,e.y,n.y),this.z=en(this.z,e.z,n.z),this.w=en(this.w,e.w,n.w),this}clampScalar(e,n){return this.x=en(this.x,e,n),this.y=en(this.y,e,n),this.z=en(this.z,e,n),this.w=en(this.w,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(en(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class NG extends bu{constructor(e=1,n=1,r={}){super(),r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:ki,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},r),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=r.depth,this.scissor=new vr(0,0,e,n),this.scissorTest=!1,this.viewport=new vr(0,0,e,n);const i={width:e,height:n,depth:r.depth},a=new Ii(i);this.textures=[];const s=r.count;for(let l=0;l<s;l++)this.textures[l]=a.clone(),this.textures[l].isRenderTargetTexture=!0,this.textures[l].renderTarget=this;this._setTextureOptions(r),this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=r.depthTexture,this.samples=r.samples,this.multiview=r.multiview}_setTextureOptions(e={}){const n={minFilter:ki,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(n.mapping=e.mapping),e.wrapS!==void 0&&(n.wrapS=e.wrapS),e.wrapT!==void 0&&(n.wrapT=e.wrapT),e.wrapR!==void 0&&(n.wrapR=e.wrapR),e.magFilter!==void 0&&(n.magFilter=e.magFilter),e.minFilter!==void 0&&(n.minFilter=e.minFilter),e.format!==void 0&&(n.format=e.format),e.type!==void 0&&(n.type=e.type),e.anisotropy!==void 0&&(n.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(n.colorSpace=e.colorSpace),e.flipY!==void 0&&(n.flipY=e.flipY),e.generateMipmaps!==void 0&&(n.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(n.internalFormat=e.internalFormat);for(let r=0;r<this.textures.length;r++)this.textures[r].setValues(n)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,a=this.textures.length;i<a;i++)this.textures[i].image.width=e,this.textures[i].image.height=n,this.textures[i].image.depth=r,this.textures[i].isData3DTexture!==!0&&(this.textures[i].isArrayTexture=this.textures[i].image.depth>1);this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let n=0,r=e.textures.length;n<r;n++){this.textures[n]=e.textures[n].clone(),this.textures[n].isRenderTargetTexture=!0,this.textures[n].renderTarget=this;const i=Object.assign({},e.textures[n].image);this.textures[n].source=new M2(i)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Ks extends NG{constructor(e=1,n=1,r={}){super(e,n,r),this.isWebGLRenderTarget=!0}}class XI extends Ii{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=Si,this.minFilter=Si,this.wrapR=Io,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class kG extends Ii{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=Si,this.minFilter=Si,this.wrapR=Io,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class jd{constructor(e=new _e(1/0,1/0,1/0),n=new _e(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(ms.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(ms.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=ms.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const a=r.getAttribute("position");if(n===!0&&a!==void 0&&e.isInstancedMesh!==!0)for(let s=0,l=a.count;s<l;s++)e.isMesh===!0?e.getVertexPosition(s,ms):ms.fromBufferAttribute(a,s),ms.applyMatrix4(e.matrixWorld),this.expandByPoint(ms);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),Om.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),Om.copy(r.boundingBox)),Om.applyMatrix4(e.matrixWorld),this.union(Om)}const i=e.children;for(let a=0,s=i.length;a<s;a++)this.expandByObject(i[a],n);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,ms),ms.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(S0),Pm.subVectors(this.max,S0),xf.subVectors(e.a,S0),_f.subVectors(e.b,S0),yf.subVectors(e.c,S0),Ul.subVectors(_f,xf),Bl.subVectors(yf,_f),Nc.subVectors(xf,yf);let n=[0,-Ul.z,Ul.y,0,-Bl.z,Bl.y,0,-Nc.z,Nc.y,Ul.z,0,-Ul.x,Bl.z,0,-Bl.x,Nc.z,0,-Nc.x,-Ul.y,Ul.x,0,-Bl.y,Bl.x,0,-Nc.y,Nc.x,0];return!My(n,xf,_f,yf,Pm)||(n=[1,0,0,0,1,0,0,0,1],!My(n,xf,_f,yf,Pm))?!1:(Dm.crossVectors(Ul,Bl),n=[Dm.x,Dm.y,Dm.z],My(n,xf,_f,yf,Pm))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,ms).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(ms).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Mo[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Mo[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Mo[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Mo[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Mo[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Mo[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Mo[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Mo[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Mo),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const Mo=[new _e,new _e,new _e,new _e,new _e,new _e,new _e,new _e],ms=new _e,Om=new jd,xf=new _e,_f=new _e,yf=new _e,Ul=new _e,Bl=new _e,Nc=new _e,S0=new _e,Pm=new _e,Dm=new _e,kc=new _e;function My(t,e,n,r,i){for(let a=0,s=t.length-3;a<=s;a+=3){kc.fromArray(t,a);const l=i.x*Math.abs(kc.x)+i.y*Math.abs(kc.y)+i.z*Math.abs(kc.z),u=e.dot(kc),f=n.dot(kc),h=r.dot(kc);if(Math.max(-Math.max(u,f,h),Math.min(u,f,h))>l)return!1}return!0}const LG=new jd,b0=new _e,Cy=new _e;class sx{constructor(e=new _e,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):LG.setFromPoints(e).getCenter(r);let i=0;for(let a=0,s=e.length;a<s;a++)i=Math.max(i,r.distanceToSquared(e[a]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;b0.subVectors(e,this.center);const n=b0.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector(b0,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(Cy.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(b0.copy(e.center).add(Cy)),this.expandByPoint(b0.copy(e.center).sub(Cy))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}}const Co=new _e,Ry=new _e,Nm=new _e,zl=new _e,Oy=new _e,km=new _e,Py=new _e;class C2{constructor(e=new _e,n=new _e(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Co)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=Co.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(Co.copy(this.origin).addScaledVector(this.direction,n),Co.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){Ry.copy(e).add(n).multiplyScalar(.5),Nm.copy(n).sub(e).normalize(),zl.copy(this.origin).sub(Ry);const a=e.distanceTo(n)*.5,s=-this.direction.dot(Nm),l=zl.dot(this.direction),u=-zl.dot(Nm),f=zl.lengthSq(),h=Math.abs(1-s*s);let p,m,g,_;if(h>0)if(p=s*u-l,m=s*l-u,_=a*h,p>=0)if(m>=-_)if(m<=_){const x=1/h;p*=x,m*=x,g=p*(p+s*m+2*l)+m*(s*p+m+2*u)+f}else m=a,p=Math.max(0,-(s*m+l)),g=-p*p+m*(m+2*u)+f;else m=-a,p=Math.max(0,-(s*m+l)),g=-p*p+m*(m+2*u)+f;else m<=-_?(p=Math.max(0,-(-s*a+l)),m=p>0?-a:Math.min(Math.max(-a,-u),a),g=-p*p+m*(m+2*u)+f):m<=_?(p=0,m=Math.min(Math.max(-a,-u),a),g=m*(m+2*u)+f):(p=Math.max(0,-(s*a+l)),m=p>0?a:Math.min(Math.max(-a,-u),a),g=-p*p+m*(m+2*u)+f);else m=s>0?-a:a,p=Math.max(0,-(s*m+l)),g=-p*p+m*(m+2*u)+f;return r&&r.copy(this.origin).addScaledVector(this.direction,p),i&&i.copy(Ry).addScaledVector(Nm,m),g}intersectSphere(e,n){Co.subVectors(e.center,this.origin);const r=Co.dot(this.direction),i=Co.dot(Co)-r*r,a=e.radius*e.radius;if(i>a)return null;const s=Math.sqrt(a-i),l=r-s,u=r+s;return u<0?null:l<0?this.at(u,n):this.at(l,n)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,a,s,l,u;const f=1/this.direction.x,h=1/this.direction.y,p=1/this.direction.z,m=this.origin;return f>=0?(r=(e.min.x-m.x)*f,i=(e.max.x-m.x)*f):(r=(e.max.x-m.x)*f,i=(e.min.x-m.x)*f),h>=0?(a=(e.min.y-m.y)*h,s=(e.max.y-m.y)*h):(a=(e.max.y-m.y)*h,s=(e.min.y-m.y)*h),r>s||a>i||((a>r||isNaN(r))&&(r=a),(s<i||isNaN(i))&&(i=s),p>=0?(l=(e.min.z-m.z)*p,u=(e.max.z-m.z)*p):(l=(e.max.z-m.z)*p,u=(e.min.z-m.z)*p),r>u||l>i)||((l>r||r!==r)&&(r=l),(u<i||i!==i)&&(i=u),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,Co)!==null}intersectTriangle(e,n,r,i,a){Oy.subVectors(n,e),km.subVectors(r,e),Py.crossVectors(Oy,km);let s=this.direction.dot(Py),l;if(s>0){if(i)return null;l=1}else if(s<0)l=-1,s=-s;else return null;zl.subVectors(this.origin,e);const u=l*this.direction.dot(km.crossVectors(zl,km));if(u<0)return null;const f=l*this.direction.dot(Oy.cross(zl));if(f<0||u+f>s)return null;const h=-l*zl.dot(Py);return h<0?null:this.at(h/s,a)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Qn{constructor(e,n,r,i,a,s,l,u,f,h,p,m,g,_,x,y){Qn.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,i,a,s,l,u,f,h,p,m,g,_,x,y)}set(e,n,r,i,a,s,l,u,f,h,p,m,g,_,x,y){const E=this.elements;return E[0]=e,E[4]=n,E[8]=r,E[12]=i,E[1]=a,E[5]=s,E[9]=l,E[13]=u,E[2]=f,E[6]=h,E[10]=p,E[14]=m,E[3]=g,E[7]=_,E[11]=x,E[15]=y,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Qn().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return this.determinant()===0?(e.set(1,0,0),n.set(0,1,0),r.set(0,0,1),this):(e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this)}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){if(e.determinant()===0)return this.identity();const n=this.elements,r=e.elements,i=1/Ef.setFromMatrixColumn(e,0).length(),a=1/Ef.setFromMatrixColumn(e,1).length(),s=1/Ef.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*a,n[5]=r[5]*a,n[6]=r[6]*a,n[7]=0,n[8]=r[8]*s,n[9]=r[9]*s,n[10]=r[10]*s,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,a=e.z,s=Math.cos(r),l=Math.sin(r),u=Math.cos(i),f=Math.sin(i),h=Math.cos(a),p=Math.sin(a);if(e.order==="XYZ"){const m=s*h,g=s*p,_=l*h,x=l*p;n[0]=u*h,n[4]=-u*p,n[8]=f,n[1]=g+_*f,n[5]=m-x*f,n[9]=-l*u,n[2]=x-m*f,n[6]=_+g*f,n[10]=s*u}else if(e.order==="YXZ"){const m=u*h,g=u*p,_=f*h,x=f*p;n[0]=m+x*l,n[4]=_*l-g,n[8]=s*f,n[1]=s*p,n[5]=s*h,n[9]=-l,n[2]=g*l-_,n[6]=x+m*l,n[10]=s*u}else if(e.order==="ZXY"){const m=u*h,g=u*p,_=f*h,x=f*p;n[0]=m-x*l,n[4]=-s*p,n[8]=_+g*l,n[1]=g+_*l,n[5]=s*h,n[9]=x-m*l,n[2]=-s*f,n[6]=l,n[10]=s*u}else if(e.order==="ZYX"){const m=s*h,g=s*p,_=l*h,x=l*p;n[0]=u*h,n[4]=_*f-g,n[8]=m*f+x,n[1]=u*p,n[5]=x*f+m,n[9]=g*f-_,n[2]=-f,n[6]=l*u,n[10]=s*u}else if(e.order==="YZX"){const m=s*u,g=s*f,_=l*u,x=l*f;n[0]=u*h,n[4]=x-m*p,n[8]=_*p+g,n[1]=p,n[5]=s*h,n[9]=-l*h,n[2]=-f*h,n[6]=g*p+_,n[10]=m-x*p}else if(e.order==="XZY"){const m=s*u,g=s*f,_=l*u,x=l*f;n[0]=u*h,n[4]=-p,n[8]=f*h,n[1]=m*p+x,n[5]=s*h,n[9]=g*p-_,n[2]=_*p-g,n[6]=l*h,n[10]=x*p+m}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(IG,e,FG)}lookAt(e,n,r){const i=this.elements;return _a.subVectors(e,n),_a.lengthSq()===0&&(_a.z=1),_a.normalize(),jl.crossVectors(r,_a),jl.lengthSq()===0&&(Math.abs(r.z)===1?_a.x+=1e-4:_a.z+=1e-4,_a.normalize(),jl.crossVectors(r,_a)),jl.normalize(),Lm.crossVectors(_a,jl),i[0]=jl.x,i[4]=Lm.x,i[8]=_a.x,i[1]=jl.y,i[5]=Lm.y,i[9]=_a.y,i[2]=jl.z,i[6]=Lm.z,i[10]=_a.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,a=this.elements,s=r[0],l=r[4],u=r[8],f=r[12],h=r[1],p=r[5],m=r[9],g=r[13],_=r[2],x=r[6],y=r[10],E=r[14],w=r[3],b=r[7],M=r[11],A=r[15],C=i[0],R=i[4],F=i[8],O=i[12],k=i[1],D=i[5],U=i[9],Z=i[13],se=i[2],oe=i[6],G=i[10],W=i[14],ee=i[3],Y=i[7],pe=i[11],z=i[15];return a[0]=s*C+l*k+u*se+f*ee,a[4]=s*R+l*D+u*oe+f*Y,a[8]=s*F+l*U+u*G+f*pe,a[12]=s*O+l*Z+u*W+f*z,a[1]=h*C+p*k+m*se+g*ee,a[5]=h*R+p*D+m*oe+g*Y,a[9]=h*F+p*U+m*G+g*pe,a[13]=h*O+p*Z+m*W+g*z,a[2]=_*C+x*k+y*se+E*ee,a[6]=_*R+x*D+y*oe+E*Y,a[10]=_*F+x*U+y*G+E*pe,a[14]=_*O+x*Z+y*W+E*z,a[3]=w*C+b*k+M*se+A*ee,a[7]=w*R+b*D+M*oe+A*Y,a[11]=w*F+b*U+M*G+A*pe,a[15]=w*O+b*Z+M*W+A*z,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],a=e[12],s=e[1],l=e[5],u=e[9],f=e[13],h=e[2],p=e[6],m=e[10],g=e[14],_=e[3],x=e[7],y=e[11],E=e[15],w=u*g-f*m,b=l*g-f*p,M=l*m-u*p,A=s*g-f*h,C=s*m-u*h,R=s*p-l*h;return n*(x*w-y*b+E*M)-r*(_*w-y*A+E*C)+i*(_*b-x*A+E*R)-a*(_*M-x*C+y*R)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],a=e[3],s=e[4],l=e[5],u=e[6],f=e[7],h=e[8],p=e[9],m=e[10],g=e[11],_=e[12],x=e[13],y=e[14],E=e[15],w=p*y*f-x*m*f+x*u*g-l*y*g-p*u*E+l*m*E,b=_*m*f-h*y*f-_*u*g+s*y*g+h*u*E-s*m*E,M=h*x*f-_*p*f+_*l*g-s*x*g-h*l*E+s*p*E,A=_*p*u-h*x*u-_*l*m+s*x*m+h*l*y-s*p*y,C=n*w+r*b+i*M+a*A;if(C===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const R=1/C;return e[0]=w*R,e[1]=(x*m*a-p*y*a-x*i*g+r*y*g+p*i*E-r*m*E)*R,e[2]=(l*y*a-x*u*a+x*i*f-r*y*f-l*i*E+r*u*E)*R,e[3]=(p*u*a-l*m*a-p*i*f+r*m*f+l*i*g-r*u*g)*R,e[4]=b*R,e[5]=(h*y*a-_*m*a+_*i*g-n*y*g-h*i*E+n*m*E)*R,e[6]=(_*u*a-s*y*a-_*i*f+n*y*f+s*i*E-n*u*E)*R,e[7]=(s*m*a-h*u*a+h*i*f-n*m*f-s*i*g+n*u*g)*R,e[8]=M*R,e[9]=(_*p*a-h*x*a-_*r*g+n*x*g+h*r*E-n*p*E)*R,e[10]=(s*x*a-_*l*a+_*r*f-n*x*f-s*r*E+n*l*E)*R,e[11]=(h*l*a-s*p*a-h*r*f+n*p*f+s*r*g-n*l*g)*R,e[12]=A*R,e[13]=(h*x*i-_*p*i+_*r*m-n*x*m-h*r*y+n*p*y)*R,e[14]=(_*l*i-s*x*i-_*r*u+n*x*u+s*r*y-n*l*y)*R,e[15]=(s*p*i-h*l*i+h*r*u-n*p*u-s*r*m+n*l*m)*R,this}scale(e){const n=this.elements,r=e.x,i=e.y,a=e.z;return n[0]*=r,n[4]*=i,n[8]*=a,n[1]*=r,n[5]*=i,n[9]*=a,n[2]*=r,n[6]*=i,n[10]*=a,n[3]*=r,n[7]*=i,n[11]*=a,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),a=1-r,s=e.x,l=e.y,u=e.z,f=a*s,h=a*l;return this.set(f*s+r,f*l-i*u,f*u+i*l,0,f*l+i*u,h*l+r,h*u-i*s,0,f*u-i*l,h*u+i*s,a*u*u+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,a,s){return this.set(1,r,a,0,e,1,s,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,a=n._x,s=n._y,l=n._z,u=n._w,f=a+a,h=s+s,p=l+l,m=a*f,g=a*h,_=a*p,x=s*h,y=s*p,E=l*p,w=u*f,b=u*h,M=u*p,A=r.x,C=r.y,R=r.z;return i[0]=(1-(x+E))*A,i[1]=(g+M)*A,i[2]=(_-b)*A,i[3]=0,i[4]=(g-M)*C,i[5]=(1-(m+E))*C,i[6]=(y+w)*C,i[7]=0,i[8]=(_+b)*R,i[9]=(y-w)*R,i[10]=(1-(m+x))*R,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;if(e.x=i[12],e.y=i[13],e.z=i[14],this.determinant()===0)return r.set(1,1,1),n.identity(),this;let a=Ef.set(i[0],i[1],i[2]).length();const s=Ef.set(i[4],i[5],i[6]).length(),l=Ef.set(i[8],i[9],i[10]).length();this.determinant()<0&&(a=-a),vs.copy(this);const f=1/a,h=1/s,p=1/l;return vs.elements[0]*=f,vs.elements[1]*=f,vs.elements[2]*=f,vs.elements[4]*=h,vs.elements[5]*=h,vs.elements[6]*=h,vs.elements[8]*=p,vs.elements[9]*=p,vs.elements[10]*=p,n.setFromRotationMatrix(vs),r.x=a,r.y=s,r.z=l,this}makePerspective(e,n,r,i,a,s,l=Ws,u=!1){const f=this.elements,h=2*a/(n-e),p=2*a/(r-i),m=(n+e)/(n-e),g=(r+i)/(r-i);let _,x;if(u)_=a/(s-a),x=s*a/(s-a);else if(l===Ws)_=-(s+a)/(s-a),x=-2*s*a/(s-a);else if(l===Kv)_=-s/(s-a),x=-s*a/(s-a);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+l);return f[0]=h,f[4]=0,f[8]=m,f[12]=0,f[1]=0,f[5]=p,f[9]=g,f[13]=0,f[2]=0,f[6]=0,f[10]=_,f[14]=x,f[3]=0,f[7]=0,f[11]=-1,f[15]=0,this}makeOrthographic(e,n,r,i,a,s,l=Ws,u=!1){const f=this.elements,h=2/(n-e),p=2/(r-i),m=-(n+e)/(n-e),g=-(r+i)/(r-i);let _,x;if(u)_=1/(s-a),x=s/(s-a);else if(l===Ws)_=-2/(s-a),x=-(s+a)/(s-a);else if(l===Kv)_=-1/(s-a),x=-a/(s-a);else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+l);return f[0]=h,f[4]=0,f[8]=0,f[12]=m,f[1]=0,f[5]=p,f[9]=0,f[13]=g,f[2]=0,f[6]=0,f[10]=_,f[14]=x,f[3]=0,f[7]=0,f[11]=0,f[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const Ef=new _e,vs=new Qn,IG=new _e(0,0,0),FG=new _e(1,1,1),jl=new _e,Lm=new _e,_a=new _e,y3=new Qn,E3=new su;class Js{constructor(e=0,n=0,r=0,i=Js.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,a=i[0],s=i[4],l=i[8],u=i[1],f=i[5],h=i[9],p=i[2],m=i[6],g=i[10];switch(n){case"XYZ":this._y=Math.asin(en(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-h,g),this._z=Math.atan2(-s,a)):(this._x=Math.atan2(m,f),this._z=0);break;case"YXZ":this._x=Math.asin(-en(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(l,g),this._z=Math.atan2(u,f)):(this._y=Math.atan2(-p,a),this._z=0);break;case"ZXY":this._x=Math.asin(en(m,-1,1)),Math.abs(m)<.9999999?(this._y=Math.atan2(-p,g),this._z=Math.atan2(-s,f)):(this._y=0,this._z=Math.atan2(u,a));break;case"ZYX":this._y=Math.asin(-en(p,-1,1)),Math.abs(p)<.9999999?(this._x=Math.atan2(m,g),this._z=Math.atan2(u,a)):(this._x=0,this._z=Math.atan2(-s,f));break;case"YZX":this._z=Math.asin(en(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(-h,f),this._y=Math.atan2(-p,a)):(this._x=0,this._y=Math.atan2(l,g));break;case"XZY":this._z=Math.asin(-en(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(m,f),this._y=Math.atan2(l,a)):(this._x=Math.atan2(-h,g),this._y=0);break;default:Vt("Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return y3.makeRotationFromQuaternion(e),this.setFromRotationMatrix(y3,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return E3.setFromEuler(this),this.setFromQuaternion(E3,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Js.DEFAULT_ORDER="XYZ";class qI{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let UG=0;const S3=new _e,Sf=new su,Ro=new Qn,Im=new _e,T0=new _e,BG=new _e,zG=new su,b3=new _e(1,0,0),T3=new _e(0,1,0),w3=new _e(0,0,1),A3={type:"added"},jG={type:"removed"},bf={type:"childadded",child:null},Dy={type:"childremoved",child:null};class ai extends bu{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:UG++}),this.uuid=ec(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=ai.DEFAULT_UP.clone();const e=new _e,n=new Js,r=new su,i=new _e(1,1,1);function a(){r.setFromEuler(n,!1)}function s(){n.setFromQuaternion(r,void 0,!1)}n._onChange(a),r._onChange(s),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Qn},normalMatrix:{value:new Jt}}),this.matrix=new Qn,this.matrixWorld=new Qn,this.matrixAutoUpdate=ai.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=ai.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new qI,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return Sf.setFromAxisAngle(e,n),this.quaternion.multiply(Sf),this}rotateOnWorldAxis(e,n){return Sf.setFromAxisAngle(e,n),this.quaternion.premultiply(Sf),this}rotateX(e){return this.rotateOnAxis(b3,e)}rotateY(e){return this.rotateOnAxis(T3,e)}rotateZ(e){return this.rotateOnAxis(w3,e)}translateOnAxis(e,n){return S3.copy(e).applyQuaternion(this.quaternion),this.position.add(S3.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(b3,e)}translateY(e){return this.translateOnAxis(T3,e)}translateZ(e){return this.translateOnAxis(w3,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Ro.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?Im.copy(e):Im.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),T0.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Ro.lookAt(T0,Im,this.up):Ro.lookAt(Im,T0,this.up),this.quaternion.setFromRotationMatrix(Ro),i&&(Ro.extractRotation(i.matrixWorld),Sf.setFromRotationMatrix(Ro),this.quaternion.premultiply(Sf.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(dn("Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(A3),bf.child=e,this.dispatchEvent(bf),bf.child=null):dn("Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(jG),Dy.child=e,this.dispatchEvent(Dy),Dy.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Ro.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Ro.multiply(e.parent.matrixWorld)),e.applyMatrix4(Ro),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(A3),bf.child=e,this.dispatchEvent(bf),bf.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const s=this.children[r].getObjectByProperty(e,n);if(s!==void 0)return s}}getObjectsByProperty(e,n,r=[]){this[e]===n&&r.push(this);const i=this.children;for(let a=0,s=i.length;a<s;a++)i[a].getObjectsByProperty(e,n,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(T0,e,BG),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(T0,zG,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].updateMatrixWorld(e)}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),n===!0){const i=this.children;for(let a=0,s=i.length;a<s;a++)i[a].updateWorldMatrix(!1,!0)}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.geometryInfo=this._geometryInfo.map(l=>({...l,boundingBox:l.boundingBox?l.boundingBox.toJSON():void 0,boundingSphere:l.boundingSphere?l.boundingSphere.toJSON():void 0})),i.instanceInfo=this._instanceInfo.map(l=>({...l})),i.availableInstanceIds=this._availableInstanceIds.slice(),i.availableGeometryIds=this._availableGeometryIds.slice(),i.nextIndexStart=this._nextIndexStart,i.nextVertexStart=this._nextVertexStart,i.geometryCount=this._geometryCount,i.maxInstanceCount=this._maxInstanceCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.matricesTexture=this._matricesTexture.toJSON(e),i.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(i.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(i.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(i.boundingBox=this.boundingBox.toJSON()));function a(l,u){return l[u.uuid]===void 0&&(l[u.uuid]=u.toJSON(e)),u.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=a(e.geometries,this.geometry);const l=this.geometry.parameters;if(l!==void 0&&l.shapes!==void 0){const u=l.shapes;if(Array.isArray(u))for(let f=0,h=u.length;f<h;f++){const p=u[f];a(e.shapes,p)}else a(e.shapes,u)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(a(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const l=[];for(let u=0,f=this.material.length;u<f;u++)l.push(a(e.materials,this.material[u]));i.material=l}else i.material=a(e.materials,this.material);if(this.children.length>0){i.children=[];for(let l=0;l<this.children.length;l++)i.children.push(this.children[l].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let l=0;l<this.animations.length;l++){const u=this.animations[l];i.animations.push(a(e.animations,u))}}if(n){const l=s(e.geometries),u=s(e.materials),f=s(e.textures),h=s(e.images),p=s(e.shapes),m=s(e.skeletons),g=s(e.animations),_=s(e.nodes);l.length>0&&(r.geometries=l),u.length>0&&(r.materials=u),f.length>0&&(r.textures=f),h.length>0&&(r.images=h),p.length>0&&(r.shapes=p),m.length>0&&(r.skeletons=m),g.length>0&&(r.animations=g),_.length>0&&(r.nodes=_)}return r.object=i,r;function s(l){const u=[];for(const f in l){const h=l[f];delete h.metadata,u.push(h)}return u}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}ai.DEFAULT_UP=new _e(0,1,0);ai.DEFAULT_MATRIX_AUTO_UPDATE=!0;ai.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const gs=new _e,Oo=new _e,Ny=new _e,Po=new _e,Tf=new _e,wf=new _e,M3=new _e,ky=new _e,Ly=new _e,Iy=new _e,Fy=new vr,Uy=new vr,By=new vr;class ns{constructor(e=new _e,n=new _e,r=new _e){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),gs.subVectors(e,n),i.cross(gs);const a=i.lengthSq();return a>0?i.multiplyScalar(1/Math.sqrt(a)):i.set(0,0,0)}static getBarycoord(e,n,r,i,a){gs.subVectors(i,n),Oo.subVectors(r,n),Ny.subVectors(e,n);const s=gs.dot(gs),l=gs.dot(Oo),u=gs.dot(Ny),f=Oo.dot(Oo),h=Oo.dot(Ny),p=s*f-l*l;if(p===0)return a.set(0,0,0),null;const m=1/p,g=(f*u-l*h)*m,_=(s*h-l*u)*m;return a.set(1-g-_,_,g)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,Po)===null?!1:Po.x>=0&&Po.y>=0&&Po.x+Po.y<=1}static getInterpolation(e,n,r,i,a,s,l,u){return this.getBarycoord(e,n,r,i,Po)===null?(u.x=0,u.y=0,"z"in u&&(u.z=0),"w"in u&&(u.w=0),null):(u.setScalar(0),u.addScaledVector(a,Po.x),u.addScaledVector(s,Po.y),u.addScaledVector(l,Po.z),u)}static getInterpolatedAttribute(e,n,r,i,a,s){return Fy.setScalar(0),Uy.setScalar(0),By.setScalar(0),Fy.fromBufferAttribute(e,n),Uy.fromBufferAttribute(e,r),By.fromBufferAttribute(e,i),s.setScalar(0),s.addScaledVector(Fy,a.x),s.addScaledVector(Uy,a.y),s.addScaledVector(By,a.z),s}static isFrontFacing(e,n,r,i){return gs.subVectors(r,n),Oo.subVectors(e,n),gs.cross(Oo).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return gs.subVectors(this.c,this.b),Oo.subVectors(this.a,this.b),gs.cross(Oo).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return ns.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return ns.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,r,i,a){return ns.getInterpolation(e,this.a,this.b,this.c,n,r,i,a)}containsPoint(e){return ns.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return ns.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,a=this.c;let s,l;Tf.subVectors(i,r),wf.subVectors(a,r),ky.subVectors(e,r);const u=Tf.dot(ky),f=wf.dot(ky);if(u<=0&&f<=0)return n.copy(r);Ly.subVectors(e,i);const h=Tf.dot(Ly),p=wf.dot(Ly);if(h>=0&&p<=h)return n.copy(i);const m=u*p-h*f;if(m<=0&&u>=0&&h<=0)return s=u/(u-h),n.copy(r).addScaledVector(Tf,s);Iy.subVectors(e,a);const g=Tf.dot(Iy),_=wf.dot(Iy);if(_>=0&&g<=_)return n.copy(a);const x=g*f-u*_;if(x<=0&&f>=0&&_<=0)return l=f/(f-_),n.copy(r).addScaledVector(wf,l);const y=h*_-g*p;if(y<=0&&p-h>=0&&g-_>=0)return M3.subVectors(a,i),l=(p-h)/(p-h+(g-_)),n.copy(i).addScaledVector(M3,l);const E=1/(y+x+m);return s=x*E,l=m*E,n.copy(r).addScaledVector(Tf,s).addScaledVector(wf,l)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const KI={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Hl={h:0,s:0,l:0},Fm={h:0,s:0,l:0};function zy(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}let sn=class{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(n===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=es){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,pn.colorSpaceToWorking(this,n),this}setRGB(e,n,r,i=pn.workingColorSpace){return this.r=e,this.g=n,this.b=r,pn.colorSpaceToWorking(this,i),this}setHSL(e,n,r,i=pn.workingColorSpace){if(e=MG(e,1),n=en(n,0,1),r=en(r,0,1),n===0)this.r=this.g=this.b=r;else{const a=r<=.5?r*(1+n):r+n-r*n,s=2*r-a;this.r=zy(s,a,e+1/3),this.g=zy(s,a,e),this.b=zy(s,a,e-1/3)}return pn.colorSpaceToWorking(this,i),this}setStyle(e,n=es){function r(a){a!==void 0&&parseFloat(a)<1&&Vt("Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let a;const s=i[1],l=i[2];switch(s){case"rgb":case"rgba":if(a=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return r(a[4]),this.setRGB(Math.min(255,parseInt(a[1],10))/255,Math.min(255,parseInt(a[2],10))/255,Math.min(255,parseInt(a[3],10))/255,n);if(a=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return r(a[4]),this.setRGB(Math.min(100,parseInt(a[1],10))/100,Math.min(100,parseInt(a[2],10))/100,Math.min(100,parseInt(a[3],10))/100,n);break;case"hsl":case"hsla":if(a=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return r(a[4]),this.setHSL(parseFloat(a[1])/360,parseFloat(a[2])/100,parseFloat(a[3])/100,n);break;default:Vt("Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const a=i[1],s=a.length;if(s===3)return this.setRGB(parseInt(a.charAt(0),16)/15,parseInt(a.charAt(1),16)/15,parseInt(a.charAt(2),16)/15,n);if(s===6)return this.setHex(parseInt(a,16),n);Vt("Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=es){const r=KI[e.toLowerCase()];return r!==void 0?this.setHex(r,n):Vt("Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=jo(e.r),this.g=jo(e.g),this.b=jo(e.b),this}copyLinearToSRGB(e){return this.r=Kf(e.r),this.g=Kf(e.g),this.b=Kf(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=es){return pn.workingToColorSpace(Mi.copy(this),e),Math.round(en(Mi.r*255,0,255))*65536+Math.round(en(Mi.g*255,0,255))*256+Math.round(en(Mi.b*255,0,255))}getHexString(e=es){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=pn.workingColorSpace){pn.workingToColorSpace(Mi.copy(this),n);const r=Mi.r,i=Mi.g,a=Mi.b,s=Math.max(r,i,a),l=Math.min(r,i,a);let u,f;const h=(l+s)/2;if(l===s)u=0,f=0;else{const p=s-l;switch(f=h<=.5?p/(s+l):p/(2-s-l),s){case r:u=(i-a)/p+(i<a?6:0);break;case i:u=(a-r)/p+2;break;case a:u=(r-i)/p+4;break}u/=6}return e.h=u,e.s=f,e.l=h,e}getRGB(e,n=pn.workingColorSpace){return pn.workingToColorSpace(Mi.copy(this),n),e.r=Mi.r,e.g=Mi.g,e.b=Mi.b,e}getStyle(e=es){pn.workingToColorSpace(Mi.copy(this),e);const n=Mi.r,r=Mi.g,i=Mi.b;return e!==es?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,n,r){return this.getHSL(Hl),this.setHSL(Hl.h+e,Hl.s+n,Hl.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(Hl),e.getHSL(Fm);const r=Sy(Hl.h,Fm.h,n),i=Sy(Hl.s,Fm.s,n),a=Sy(Hl.l,Fm.l,n);return this.setHSL(r,i,a),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,i=this.b,a=e.elements;return this.r=a[0]*n+a[3]*r+a[6]*i,this.g=a[1]*n+a[4]*r+a[7]*i,this.b=a[2]*n+a[5]*r+a[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};const Mi=new sn;sn.NAMES=KI;let HG=0;class Tu extends bu{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:HG++}),this.uuid=ec(),this.name="",this.type="Material",this.blending=qf,this.side=nc,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=ib,this.blendDst=ab,this.blendEquation=Hc,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new sn(0,0,0),this.blendAlpha=0,this.depthFunc=rh,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=p3,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=vf,this.stencilZFail=vf,this.stencilZPass=vf,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){Vt(`Material: parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){Vt(`Material: '${n}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.sheenColorMap&&this.sheenColorMap.isTexture&&(r.sheenColorMap=this.sheenColorMap.toJSON(e).uuid),this.sheenRoughnessMap&&this.sheenRoughnessMap.isTexture&&(r.sheenRoughnessMap=this.sheenRoughnessMap.toJSON(e).uuid),this.dispersion!==void 0&&(r.dispersion=this.dispersion),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapRotation!==void 0&&(r.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==qf&&(r.blending=this.blending),this.side!==nc&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==ib&&(r.blendSrc=this.blendSrc),this.blendDst!==ab&&(r.blendDst=this.blendDst),this.blendEquation!==Hc&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==rh&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==p3&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==vf&&(r.stencilFail=this.stencilFail),this.stencilZFail!==vf&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==vf&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.allowOverride===!1&&(r.allowOverride=!1),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(a){const s=[];for(const l in a){const u=a[l];delete u.metadata,s.push(u)}return s}if(n){const a=i(e.textures),s=i(e.images);a.length>0&&(r.textures=a),s.length>0&&(r.images=s)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let a=0;a!==i;++a)r[a]=n[a].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.allowOverride=e.allowOverride,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class $I extends Tu{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new sn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Js,this.combine=RI,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Rr=new _e,Um=new bt;let GG=0;class ws{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:GG++}),this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=Kb,this.updateRanges=[],this.gpuType=Vs,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,a=this.itemSize;i<a;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)Um.fromBufferAttribute(this,n),Um.applyMatrix3(e),this.setXY(n,Um.x,Um.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)Rr.fromBufferAttribute(this,n),Rr.applyMatrix3(e),this.setXYZ(n,Rr.x,Rr.y,Rr.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)Rr.fromBufferAttribute(this,n),Rr.applyMatrix4(e),this.setXYZ(n,Rr.x,Rr.y,Rr.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)Rr.fromBufferAttribute(this,n),Rr.applyNormalMatrix(e),this.setXYZ(n,Rr.x,Rr.y,Rr.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)Rr.fromBufferAttribute(this,n),Rr.transformDirection(e),this.setXYZ(n,Rr.x,Rr.y,Rr.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let r=this.array[e*this.itemSize+n];return this.normalized&&(r=Gs(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=zn(r,this.array)),this.array[e*this.itemSize+n]=r,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=Gs(n,this.array)),n}setX(e,n){return this.normalized&&(n=zn(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=Gs(n,this.array)),n}setY(e,n){return this.normalized&&(n=zn(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=Gs(n,this.array)),n}setZ(e,n){return this.normalized&&(n=zn(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=Gs(n,this.array)),n}setW(e,n){return this.normalized&&(n=zn(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=zn(n,this.array),r=zn(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=zn(n,this.array),r=zn(r,this.array),i=zn(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,a){return e*=this.itemSize,this.normalized&&(n=zn(n,this.array),r=zn(r,this.array),i=zn(i,this.array),a=zn(a,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=a,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Kb&&(e.usage=this.usage),e}}class ZI extends ws{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class JI extends ws{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class Hr extends ws{constructor(e,n,r){super(new Float32Array(e),n,r)}}let VG=0;const Ga=new Qn,jy=new ai,Af=new _e,ya=new jd,w0=new jd,Jr=new _e;class Zi extends bu{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:VG++}),this.uuid=ec(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.indirectOffset=0,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(YI(e)?JI:ZI)(e,1):this.index=e,this}setIndirect(e,n=0){return this.indirect=e,this.indirectOffset=n,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const a=new Jt().getNormalMatrix(e);r.applyNormalMatrix(a),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Ga.makeRotationFromQuaternion(e),this.applyMatrix4(Ga),this}rotateX(e){return Ga.makeRotationX(e),this.applyMatrix4(Ga),this}rotateY(e){return Ga.makeRotationY(e),this.applyMatrix4(Ga),this}rotateZ(e){return Ga.makeRotationZ(e),this.applyMatrix4(Ga),this}translate(e,n,r){return Ga.makeTranslation(e,n,r),this.applyMatrix4(Ga),this}scale(e,n,r){return Ga.makeScale(e,n,r),this.applyMatrix4(Ga),this}lookAt(e){return jy.lookAt(e),jy.updateMatrix(),this.applyMatrix4(jy.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Af).negate(),this.translate(Af.x,Af.y,Af.z),this}setFromPoints(e){const n=this.getAttribute("position");if(n===void 0){const r=[];for(let i=0,a=e.length;i<a;i++){const s=e[i];r.push(s.x,s.y,s.z||0)}this.setAttribute("position",new Hr(r,3))}else{const r=Math.min(e.length,n.count);for(let i=0;i<r;i++){const a=e[i];n.setXYZ(i,a.x,a.y,a.z||0)}e.length>n.count&&Vt("BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),n.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new jd);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){dn("BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new _e(-1/0,-1/0,-1/0),new _e(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const a=n[r];ya.setFromBufferAttribute(a),this.morphTargetsRelative?(Jr.addVectors(this.boundingBox.min,ya.min),this.boundingBox.expandByPoint(Jr),Jr.addVectors(this.boundingBox.max,ya.max),this.boundingBox.expandByPoint(Jr)):(this.boundingBox.expandByPoint(ya.min),this.boundingBox.expandByPoint(ya.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&dn('BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new sx);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){dn("BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new _e,1/0);return}if(e){const r=this.boundingSphere.center;if(ya.setFromBufferAttribute(e),n)for(let a=0,s=n.length;a<s;a++){const l=n[a];w0.setFromBufferAttribute(l),this.morphTargetsRelative?(Jr.addVectors(ya.min,w0.min),ya.expandByPoint(Jr),Jr.addVectors(ya.max,w0.max),ya.expandByPoint(Jr)):(ya.expandByPoint(w0.min),ya.expandByPoint(w0.max))}ya.getCenter(r);let i=0;for(let a=0,s=e.count;a<s;a++)Jr.fromBufferAttribute(e,a),i=Math.max(i,r.distanceToSquared(Jr));if(n)for(let a=0,s=n.length;a<s;a++){const l=n[a],u=this.morphTargetsRelative;for(let f=0,h=l.count;f<h;f++)Jr.fromBufferAttribute(l,f),u&&(Af.fromBufferAttribute(e,f),Jr.add(Af)),i=Math.max(i,r.distanceToSquared(Jr))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&dn('BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){dn("BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=n.position,i=n.normal,a=n.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new ws(new Float32Array(4*r.count),4));const s=this.getAttribute("tangent"),l=[],u=[];for(let F=0;F<r.count;F++)l[F]=new _e,u[F]=new _e;const f=new _e,h=new _e,p=new _e,m=new bt,g=new bt,_=new bt,x=new _e,y=new _e;function E(F,O,k){f.fromBufferAttribute(r,F),h.fromBufferAttribute(r,O),p.fromBufferAttribute(r,k),m.fromBufferAttribute(a,F),g.fromBufferAttribute(a,O),_.fromBufferAttribute(a,k),h.sub(f),p.sub(f),g.sub(m),_.sub(m);const D=1/(g.x*_.y-_.x*g.y);isFinite(D)&&(x.copy(h).multiplyScalar(_.y).addScaledVector(p,-g.y).multiplyScalar(D),y.copy(p).multiplyScalar(g.x).addScaledVector(h,-_.x).multiplyScalar(D),l[F].add(x),l[O].add(x),l[k].add(x),u[F].add(y),u[O].add(y),u[k].add(y))}let w=this.groups;w.length===0&&(w=[{start:0,count:e.count}]);for(let F=0,O=w.length;F<O;++F){const k=w[F],D=k.start,U=k.count;for(let Z=D,se=D+U;Z<se;Z+=3)E(e.getX(Z+0),e.getX(Z+1),e.getX(Z+2))}const b=new _e,M=new _e,A=new _e,C=new _e;function R(F){A.fromBufferAttribute(i,F),C.copy(A);const O=l[F];b.copy(O),b.sub(A.multiplyScalar(A.dot(O))).normalize(),M.crossVectors(C,O);const D=M.dot(u[F])<0?-1:1;s.setXYZW(F,b.x,b.y,b.z,D)}for(let F=0,O=w.length;F<O;++F){const k=w[F],D=k.start,U=k.count;for(let Z=D,se=D+U;Z<se;Z+=3)R(e.getX(Z+0)),R(e.getX(Z+1)),R(e.getX(Z+2))}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new ws(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let m=0,g=r.count;m<g;m++)r.setXYZ(m,0,0,0);const i=new _e,a=new _e,s=new _e,l=new _e,u=new _e,f=new _e,h=new _e,p=new _e;if(e)for(let m=0,g=e.count;m<g;m+=3){const _=e.getX(m+0),x=e.getX(m+1),y=e.getX(m+2);i.fromBufferAttribute(n,_),a.fromBufferAttribute(n,x),s.fromBufferAttribute(n,y),h.subVectors(s,a),p.subVectors(i,a),h.cross(p),l.fromBufferAttribute(r,_),u.fromBufferAttribute(r,x),f.fromBufferAttribute(r,y),l.add(h),u.add(h),f.add(h),r.setXYZ(_,l.x,l.y,l.z),r.setXYZ(x,u.x,u.y,u.z),r.setXYZ(y,f.x,f.y,f.z)}else for(let m=0,g=n.count;m<g;m+=3)i.fromBufferAttribute(n,m+0),a.fromBufferAttribute(n,m+1),s.fromBufferAttribute(n,m+2),h.subVectors(s,a),p.subVectors(i,a),h.cross(p),r.setXYZ(m+0,h.x,h.y,h.z),r.setXYZ(m+1,h.x,h.y,h.z),r.setXYZ(m+2,h.x,h.y,h.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)Jr.fromBufferAttribute(e,n),Jr.normalize(),e.setXYZ(n,Jr.x,Jr.y,Jr.z)}toNonIndexed(){function e(l,u){const f=l.array,h=l.itemSize,p=l.normalized,m=new f.constructor(u.length*h);let g=0,_=0;for(let x=0,y=u.length;x<y;x++){l.isInterleavedBufferAttribute?g=u[x]*l.data.stride+l.offset:g=u[x]*h;for(let E=0;E<h;E++)m[_++]=f[g++]}return new ws(m,h,p)}if(this.index===null)return Vt("BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new Zi,r=this.index.array,i=this.attributes;for(const l in i){const u=i[l],f=e(u,r);n.setAttribute(l,f)}const a=this.morphAttributes;for(const l in a){const u=[],f=a[l];for(let h=0,p=f.length;h<p;h++){const m=f[h],g=e(m,r);u.push(g)}n.morphAttributes[l]=u}n.morphTargetsRelative=this.morphTargetsRelative;const s=this.groups;for(let l=0,u=s.length;l<u;l++){const f=s[l];n.addGroup(f.start,f.count,f.materialIndex)}return n}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const u=this.parameters;for(const f in u)u[f]!==void 0&&(e[f]=u[f]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const u in r){const f=r[u];e.data.attributes[u]=f.toJSON(e.data)}const i={};let a=!1;for(const u in this.morphAttributes){const f=this.morphAttributes[u],h=[];for(let p=0,m=f.length;p<m;p++){const g=f[p];h.push(g.toJSON(e.data))}h.length>0&&(i[u]=h,a=!0)}a&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));const l=this.boundingSphere;return l!==null&&(e.data.boundingSphere=l.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone());const i=e.attributes;for(const f in i){const h=i[f];this.setAttribute(f,h.clone(n))}const a=e.morphAttributes;for(const f in a){const h=[],p=a[f];for(let m=0,g=p.length;m<g;m++)h.push(p[m].clone(n));this.morphAttributes[f]=h}this.morphTargetsRelative=e.morphTargetsRelative;const s=e.groups;for(let f=0,h=s.length;f<h;f++){const p=s[f];this.addGroup(p.start,p.count,p.materialIndex)}const l=e.boundingBox;l!==null&&(this.boundingBox=l.clone());const u=e.boundingSphere;return u!==null&&(this.boundingSphere=u.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const C3=new Qn,Lc=new C2,Bm=new sx,R3=new _e,zm=new _e,jm=new _e,Hm=new _e,Hy=new _e,Gm=new _e,O3=new _e,Vm=new _e;class Ca extends ai{constructor(e=new Zi,n=new $I){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,s=i.length;a<s;a++){const l=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=a}}}}getVertexPosition(e,n){const r=this.geometry,i=r.attributes.position,a=r.morphAttributes.position,s=r.morphTargetsRelative;n.fromBufferAttribute(i,e);const l=this.morphTargetInfluences;if(a&&l){Gm.set(0,0,0);for(let u=0,f=a.length;u<f;u++){const h=l[u],p=a[u];h!==0&&(Hy.fromBufferAttribute(p,e),s?Gm.addScaledVector(Hy,h):Gm.addScaledVector(Hy.sub(n),h))}n.add(Gm)}return n}raycast(e,n){const r=this.geometry,i=this.material,a=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),Bm.copy(r.boundingSphere),Bm.applyMatrix4(a),Lc.copy(e.ray).recast(e.near),!(Bm.containsPoint(Lc.origin)===!1&&(Lc.intersectSphere(Bm,R3)===null||Lc.origin.distanceToSquared(R3)>(e.far-e.near)**2))&&(C3.copy(a).invert(),Lc.copy(e.ray).applyMatrix4(C3),!(r.boundingBox!==null&&Lc.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,n,Lc)))}_computeIntersections(e,n,r){let i;const a=this.geometry,s=this.material,l=a.index,u=a.attributes.position,f=a.attributes.uv,h=a.attributes.uv1,p=a.attributes.normal,m=a.groups,g=a.drawRange;if(l!==null)if(Array.isArray(s))for(let _=0,x=m.length;_<x;_++){const y=m[_],E=s[y.materialIndex],w=Math.max(y.start,g.start),b=Math.min(l.count,Math.min(y.start+y.count,g.start+g.count));for(let M=w,A=b;M<A;M+=3){const C=l.getX(M),R=l.getX(M+1),F=l.getX(M+2);i=Wm(this,E,e,r,f,h,p,C,R,F),i&&(i.faceIndex=Math.floor(M/3),i.face.materialIndex=y.materialIndex,n.push(i))}}else{const _=Math.max(0,g.start),x=Math.min(l.count,g.start+g.count);for(let y=_,E=x;y<E;y+=3){const w=l.getX(y),b=l.getX(y+1),M=l.getX(y+2);i=Wm(this,s,e,r,f,h,p,w,b,M),i&&(i.faceIndex=Math.floor(y/3),n.push(i))}}else if(u!==void 0)if(Array.isArray(s))for(let _=0,x=m.length;_<x;_++){const y=m[_],E=s[y.materialIndex],w=Math.max(y.start,g.start),b=Math.min(u.count,Math.min(y.start+y.count,g.start+g.count));for(let M=w,A=b;M<A;M+=3){const C=M,R=M+1,F=M+2;i=Wm(this,E,e,r,f,h,p,C,R,F),i&&(i.faceIndex=Math.floor(M/3),i.face.materialIndex=y.materialIndex,n.push(i))}}else{const _=Math.max(0,g.start),x=Math.min(u.count,g.start+g.count);for(let y=_,E=x;y<E;y+=3){const w=y,b=y+1,M=y+2;i=Wm(this,s,e,r,f,h,p,w,b,M),i&&(i.faceIndex=Math.floor(y/3),n.push(i))}}}}function WG(t,e,n,r,i,a,s,l){let u;if(e.side===oa?u=r.intersectTriangle(s,a,i,!0,l):u=r.intersectTriangle(i,a,s,e.side===nc,l),u===null)return null;Vm.copy(l),Vm.applyMatrix4(t.matrixWorld);const f=n.ray.origin.distanceTo(Vm);return f<n.near||f>n.far?null:{distance:f,point:Vm.clone(),object:t}}function Wm(t,e,n,r,i,a,s,l,u,f){t.getVertexPosition(l,zm),t.getVertexPosition(u,jm),t.getVertexPosition(f,Hm);const h=WG(t,e,n,r,zm,jm,Hm,O3);if(h){const p=new _e;ns.getBarycoord(O3,zm,jm,Hm,p),i&&(h.uv=ns.getInterpolatedAttribute(i,l,u,f,p,new bt)),a&&(h.uv1=ns.getInterpolatedAttribute(a,l,u,f,p,new bt)),s&&(h.normal=ns.getInterpolatedAttribute(s,l,u,f,p,new _e),h.normal.dot(r.direction)>0&&h.normal.multiplyScalar(-1));const m={a:l,b:u,c:f,normal:new _e,materialIndex:0};ns.getNormal(zm,jm,Hm,m.normal),h.face=m,h.barycoord=p}return h}class ou extends Zi{constructor(e=1,n=1,r=1,i=1,a=1,s=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:a,depthSegments:s};const l=this;i=Math.floor(i),a=Math.floor(a),s=Math.floor(s);const u=[],f=[],h=[],p=[];let m=0,g=0;_("z","y","x",-1,-1,r,n,e,s,a,0),_("z","y","x",1,-1,r,n,-e,s,a,1),_("x","z","y",1,1,e,r,n,i,s,2),_("x","z","y",1,-1,e,r,-n,i,s,3),_("x","y","z",1,-1,e,n,r,i,a,4),_("x","y","z",-1,-1,e,n,-r,i,a,5),this.setIndex(u),this.setAttribute("position",new Hr(f,3)),this.setAttribute("normal",new Hr(h,3)),this.setAttribute("uv",new Hr(p,2));function _(x,y,E,w,b,M,A,C,R,F,O){const k=M/R,D=A/F,U=M/2,Z=A/2,se=C/2,oe=R+1,G=F+1;let W=0,ee=0;const Y=new _e;for(let pe=0;pe<G;pe++){const z=pe*D-Z;for(let I=0;I<oe;I++){const V=I*k-U;Y[x]=V*w,Y[y]=z*b,Y[E]=se,f.push(Y.x,Y.y,Y.z),Y[x]=0,Y[y]=0,Y[E]=C>0?1:-1,h.push(Y.x,Y.y,Y.z),p.push(I/R),p.push(1-pe/F),W+=1}}for(let pe=0;pe<F;pe++)for(let z=0;z<R;z++){const I=m+z+oe*pe,V=m+z+oe*(pe+1),X=m+(z+1)+oe*(pe+1),te=m+(z+1)+oe*pe;u.push(I,V,te),u.push(V,X,te),ee+=6}l.addGroup(g,ee,O),g+=ee,m+=W}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ou(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function oh(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(Vt("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function Gi(t){const e={};for(let n=0;n<t.length;n++){const r=oh(t[n]);for(const i in r)e[i]=r[i]}return e}function YG(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function QI(t){const e=t.getRenderTarget();return e===null?t.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:pn.workingColorSpace}const XG={clone:oh,merge:Gi};var qG=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,KG=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Qs extends Tu{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=qG,this.fragmentShader=KG,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=oh(e.uniforms),this.uniformsGroups=YG(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this.defaultAttributeValues=Object.assign({},e.defaultAttributeValues),this.index0AttributeName=e.index0AttributeName,this.uniformsNeedUpdate=e.uniformsNeedUpdate,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const s=this.uniforms[i].value;s&&s.isTexture?n.uniforms[i]={type:"t",value:s.toJSON(e).uuid}:s&&s.isColor?n.uniforms[i]={type:"c",value:s.getHex()}:s&&s.isVector2?n.uniforms[i]={type:"v2",value:s.toArray()}:s&&s.isVector3?n.uniforms[i]={type:"v3",value:s.toArray()}:s&&s.isVector4?n.uniforms[i]={type:"v4",value:s.toArray()}:s&&s.isMatrix3?n.uniforms[i]={type:"m3",value:s.toArray()}:s&&s.isMatrix4?n.uniforms[i]={type:"m4",value:s.toArray()}:n.uniforms[i]={value:s}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class eF extends ai{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Qn,this.projectionMatrix=new Qn,this.projectionMatrixInverse=new Qn,this.coordinateSystem=Ws,this._reversedDepth=!1}get reversedDepth(){return this._reversedDepth}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Gl=new _e,P3=new bt,D3=new bt;class ts extends eF{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=$b*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Bv*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return $b*2*Math.atan(Math.tan(Bv*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,r){Gl.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(Gl.x,Gl.y).multiplyScalar(-e/Gl.z),Gl.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(Gl.x,Gl.y).multiplyScalar(-e/Gl.z)}getViewSize(e,n){return this.getViewBounds(e,P3,D3),n.subVectors(D3,P3)}setViewOffset(e,n,r,i,a,s){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=a,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(Bv*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,a=-.5*i;const s=this.view;if(this.view!==null&&this.view.enabled){const u=s.fullWidth,f=s.fullHeight;a+=s.offsetX*i/u,n-=s.offsetY*r/f,i*=s.width/u,r*=s.height/f}const l=this.filmOffset;l!==0&&(a+=e*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(a,a+i,n,n-r,e,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const Mf=-90,Cf=1;class $G extends ai{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new ts(Mf,Cf,e,n);i.layers=this.layers,this.add(i);const a=new ts(Mf,Cf,e,n);a.layers=this.layers,this.add(a);const s=new ts(Mf,Cf,e,n);s.layers=this.layers,this.add(s);const l=new ts(Mf,Cf,e,n);l.layers=this.layers,this.add(l);const u=new ts(Mf,Cf,e,n);u.layers=this.layers,this.add(u);const f=new ts(Mf,Cf,e,n);f.layers=this.layers,this.add(f)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[r,i,a,s,l,u]=n;for(const f of n)this.remove(f);if(e===Ws)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),a.up.set(0,0,-1),a.lookAt(0,1,0),s.up.set(0,0,1),s.lookAt(0,-1,0),l.up.set(0,1,0),l.lookAt(0,0,1),u.up.set(0,1,0),u.lookAt(0,0,-1);else if(e===Kv)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),a.up.set(0,0,1),a.lookAt(0,1,0),s.up.set(0,0,-1),s.lookAt(0,-1,0),l.up.set(0,-1,0),l.lookAt(0,0,1),u.up.set(0,-1,0),u.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const f of n)this.add(f),f.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[a,s,l,u,f,h]=this.children,p=e.getRenderTarget(),m=e.getActiveCubeFace(),g=e.getActiveMipmapLevel(),_=e.xr.enabled;e.xr.enabled=!1;const x=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(n,a),e.setRenderTarget(r,1,i),e.render(n,s),e.setRenderTarget(r,2,i),e.render(n,l),e.setRenderTarget(r,3,i),e.render(n,u),e.setRenderTarget(r,4,i),e.render(n,f),r.texture.generateMipmaps=x,e.setRenderTarget(r,5,i),e.render(n,h),e.setRenderTarget(p,m,g),e.xr.enabled=_,r.texture.needsPMREMUpdate=!0}}class tF extends Ii{constructor(e=[],n=au,r,i,a,s,l,u,f,h){super(e,n,r,i,a,s,l,u,f,h),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class nF extends Ks{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new tF(i),this._setTextureOptions(n),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new ou(5,5,5),a=new Qs({name:"CubemapFromEquirect",uniforms:oh(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:oa,blending:zo});a.uniforms.tEquirect.value=n;const s=new Ca(i,a),l=n.minFilter;return n.minFilter===Wc&&(n.minFilter=ki),new $G(1,10,this).update(e,s),n.minFilter=l,s.geometry.dispose(),s.material.dispose(),this}clear(e,n=!0,r=!0,i=!0){const a=e.getRenderTarget();for(let s=0;s<6;s++)e.setRenderTarget(this,s),e.clear(n,r,i);e.setRenderTarget(a)}}class Ym extends ai{constructor(){super(),this.isGroup=!0,this.type="Group"}}const ZG={type:"move"};class Gy{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Ym,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Ym,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new _e,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new _e),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Ym,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new _e,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new _e),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,a=null,s=null;const l=this._targetRay,u=this._grip,f=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(f&&e.hand){s=!0;for(const x of e.hand.values()){const y=n.getJointPose(x,r),E=this._getHandJoint(f,x);y!==null&&(E.matrix.fromArray(y.transform.matrix),E.matrix.decompose(E.position,E.rotation,E.scale),E.matrixWorldNeedsUpdate=!0,E.jointRadius=y.radius),E.visible=y!==null}const h=f.joints["index-finger-tip"],p=f.joints["thumb-tip"],m=h.position.distanceTo(p.position),g=.02,_=.005;f.inputState.pinching&&m>g+_?(f.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!f.inputState.pinching&&m<=g-_&&(f.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else u!==null&&e.gripSpace&&(a=n.getPose(e.gripSpace,r),a!==null&&(u.matrix.fromArray(a.transform.matrix),u.matrix.decompose(u.position,u.rotation,u.scale),u.matrixWorldNeedsUpdate=!0,a.linearVelocity?(u.hasLinearVelocity=!0,u.linearVelocity.copy(a.linearVelocity)):u.hasLinearVelocity=!1,a.angularVelocity?(u.hasAngularVelocity=!0,u.angularVelocity.copy(a.angularVelocity)):u.hasAngularVelocity=!1));l!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&a!==null&&(i=a),i!==null&&(l.matrix.fromArray(i.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,i.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(i.linearVelocity)):l.hasLinearVelocity=!1,i.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(i.angularVelocity)):l.hasAngularVelocity=!1,this.dispatchEvent(ZG)))}return l!==null&&(l.visible=i!==null),u!==null&&(u.visible=a!==null),f!==null&&(f.visible=s!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new Ym;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}class R2{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new sn(e),this.density=n}clone(){return new R2(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class JG extends ai{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Js,this.environmentIntensity=1,this.environmentRotation=new Js,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(n.object.environmentIntensity=this.environmentIntensity),n.object.environmentRotation=this.environmentRotation.toArray(),n}}class QG{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=Kb,this.updateRanges=[],this.version=0,this.uuid=ec()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,r){e*=this.stride,r*=n.stride;for(let i=0,a=this.stride;i<a;i++)this.array[e+i]=n.array[r+i];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ec()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ec()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Hi=new _e;class Jv{constructor(e,n,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,r=this.data.count;n<r;n++)Hi.fromBufferAttribute(this,n),Hi.applyMatrix4(e),this.setXYZ(n,Hi.x,Hi.y,Hi.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)Hi.fromBufferAttribute(this,n),Hi.applyNormalMatrix(e),this.setXYZ(n,Hi.x,Hi.y,Hi.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)Hi.fromBufferAttribute(this,n),Hi.transformDirection(e),this.setXYZ(n,Hi.x,Hi.y,Hi.z);return this}getComponent(e,n){let r=this.array[e*this.data.stride+this.offset+n];return this.normalized&&(r=Gs(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=zn(r,this.array)),this.data.array[e*this.data.stride+this.offset+n]=r,this}setX(e,n){return this.normalized&&(n=zn(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=zn(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=zn(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=zn(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=Gs(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=Gs(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=Gs(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=Gs(n,this.array)),n}setXY(e,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=zn(n,this.array),r=zn(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this}setXYZ(e,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=zn(n,this.array),r=zn(r,this.array),i=zn(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,n,r,i,a){return e=e*this.data.stride+this.offset,this.normalized&&(n=zn(n,this.array),r=zn(r,this.array),i=zn(i,this.array),a=zn(a,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=a,this}clone(e){if(e===void 0){Zv("InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)n.push(this.data.array[i+a])}return new ws(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Jv(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){Zv("InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)n.push(this.data.array[i+a])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class rF extends Tu{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new sn(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Rf;const A0=new _e,Of=new _e,Pf=new _e,Df=new bt,M0=new bt,iF=new Qn,Xm=new _e,C0=new _e,qm=new _e,N3=new bt,Vy=new bt,k3=new bt;class eV extends ai{constructor(e=new rF){if(super(),this.isSprite=!0,this.type="Sprite",Rf===void 0){Rf=new Zi;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new QG(n,5);Rf.setIndex([0,1,2,0,2,3]),Rf.setAttribute("position",new Jv(r,3,0,!1)),Rf.setAttribute("uv",new Jv(r,2,3,!1))}this.geometry=Rf,this.material=e,this.center=new bt(.5,.5),this.count=1}raycast(e,n){e.camera===null&&dn('Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Of.setFromMatrixScale(this.matrixWorld),iF.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Pf.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Of.multiplyScalar(-Pf.z);const r=this.material.rotation;let i,a;r!==0&&(a=Math.cos(r),i=Math.sin(r));const s=this.center;Km(Xm.set(-.5,-.5,0),Pf,s,Of,i,a),Km(C0.set(.5,-.5,0),Pf,s,Of,i,a),Km(qm.set(.5,.5,0),Pf,s,Of,i,a),N3.set(0,0),Vy.set(1,0),k3.set(1,1);let l=e.ray.intersectTriangle(Xm,C0,qm,!1,A0);if(l===null&&(Km(C0.set(-.5,.5,0),Pf,s,Of,i,a),Vy.set(0,1),l=e.ray.intersectTriangle(Xm,qm,C0,!1,A0),l===null))return;const u=e.ray.origin.distanceTo(A0);u<e.near||u>e.far||n.push({distance:u,point:A0.clone(),uv:ns.getInterpolation(A0,Xm,C0,qm,N3,Vy,k3,new bt),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function Km(t,e,n,r,i,a){Df.subVectors(t,n).addScalar(.5).multiply(r),i!==void 0?(M0.x=a*Df.x-i*Df.y,M0.y=i*Df.x+a*Df.y):M0.copy(Df),t.copy(e),t.x+=M0.x,t.y+=M0.y,t.applyMatrix4(iF)}class tV extends Ii{constructor(e=null,n=1,r=1,i,a,s,l,u,f=Si,h=Si,p,m){super(null,s,l,u,f,h,i,a,p,m),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const Wy=new _e,nV=new _e,rV=new Jt;class Wl{constructor(e=new _e(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=Wy.subVectors(r,n).cross(nV.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(Wy),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const a=-(e.start.dot(this.normal)+this.constant)/i;return a<0||a>1?null:n.copy(e.start).addScaledVector(r,a)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||rV.getNormalMatrix(e),i=this.coplanarPoint(Wy).applyMatrix4(e),a=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(a),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Ic=new sx,iV=new bt(.5,.5),$m=new _e;class O2{constructor(e=new Wl,n=new Wl,r=new Wl,i=new Wl,a=new Wl,s=new Wl){this.planes=[e,n,r,i,a,s]}set(e,n,r,i,a,s){const l=this.planes;return l[0].copy(e),l[1].copy(n),l[2].copy(r),l[3].copy(i),l[4].copy(a),l[5].copy(s),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=Ws,r=!1){const i=this.planes,a=e.elements,s=a[0],l=a[1],u=a[2],f=a[3],h=a[4],p=a[5],m=a[6],g=a[7],_=a[8],x=a[9],y=a[10],E=a[11],w=a[12],b=a[13],M=a[14],A=a[15];if(i[0].setComponents(f-s,g-h,E-_,A-w).normalize(),i[1].setComponents(f+s,g+h,E+_,A+w).normalize(),i[2].setComponents(f+l,g+p,E+x,A+b).normalize(),i[3].setComponents(f-l,g-p,E-x,A-b).normalize(),r)i[4].setComponents(u,m,y,M).normalize(),i[5].setComponents(f-u,g-m,E-y,A-M).normalize();else if(i[4].setComponents(f-u,g-m,E-y,A-M).normalize(),n===Ws)i[5].setComponents(f+u,g+m,E+y,A+M).normalize();else if(n===Kv)i[5].setComponents(u,m,y,M).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Ic.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),Ic.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Ic)}intersectsSprite(e){Ic.center.set(0,0,0);const n=iV.distanceTo(e.center);return Ic.radius=.7071067811865476+n,Ic.applyMatrix4(e.matrixWorld),this.intersectsSphere(Ic)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let a=0;a<6;a++)if(n[a].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if($m.x=i.normal.x>0?e.max.x:e.min.x,$m.y=i.normal.y>0?e.max.y:e.min.y,$m.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint($m)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}class P2 extends Tu{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new sn(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const Qv=new _e,eg=new _e,L3=new Qn,R0=new C2,Zm=new sx,Yy=new _e,I3=new _e;class aF extends ai{constructor(e=new Zi,n=new P2){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[0];for(let i=1,a=n.count;i<a;i++)Qv.fromBufferAttribute(n,i-1),eg.fromBufferAttribute(n,i),r[i]=r[i-1],r[i]+=Qv.distanceTo(eg);e.setAttribute("lineDistance",new Hr(r,1))}else Vt("Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,a=e.params.Line.threshold,s=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),Zm.copy(r.boundingSphere),Zm.applyMatrix4(i),Zm.radius+=a,e.ray.intersectsSphere(Zm)===!1)return;L3.copy(i).invert(),R0.copy(e.ray).applyMatrix4(L3);const l=a/((this.scale.x+this.scale.y+this.scale.z)/3),u=l*l,f=this.isLineSegments?2:1,h=r.index,m=r.attributes.position;if(h!==null){const g=Math.max(0,s.start),_=Math.min(h.count,s.start+s.count);for(let x=g,y=_-1;x<y;x+=f){const E=h.getX(x),w=h.getX(x+1),b=Jm(this,e,R0,u,E,w,x);b&&n.push(b)}if(this.isLineLoop){const x=h.getX(_-1),y=h.getX(g),E=Jm(this,e,R0,u,x,y,_-1);E&&n.push(E)}}else{const g=Math.max(0,s.start),_=Math.min(m.count,s.start+s.count);for(let x=g,y=_-1;x<y;x+=f){const E=Jm(this,e,R0,u,x,x+1,x);E&&n.push(E)}if(this.isLineLoop){const x=Jm(this,e,R0,u,_-1,g,_-1);x&&n.push(x)}}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,s=i.length;a<s;a++){const l=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=a}}}}}function Jm(t,e,n,r,i,a,s){const l=t.geometry.attributes.position;if(Qv.fromBufferAttribute(l,i),eg.fromBufferAttribute(l,a),n.distanceSqToSegment(Qv,eg,Yy,I3)>r)return;Yy.applyMatrix4(t.matrixWorld);const f=e.ray.origin.distanceTo(Yy);if(!(f<e.near||f>e.far))return{distance:f,point:I3.clone().applyMatrix4(t.matrixWorld),index:s,face:null,faceIndex:null,barycoord:null,object:t}}const F3=new _e,U3=new _e;class aV extends aF{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[];for(let i=0,a=n.count;i<a;i+=2)F3.fromBufferAttribute(n,i),U3.fromBufferAttribute(n,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+F3.distanceTo(U3);e.setAttribute("lineDistance",new Hr(r,1))}else Vt("LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class sV extends Ii{constructor(e,n,r,i,a,s,l,u,f){super(e,n,r,i,a,s,l,u,f),this.isCanvasTexture=!0,this.needsUpdate=!0}}class ud extends Ii{constructor(e,n,r=Zs,i,a,s,l=Si,u=Si,f,h=Xo,p=1){if(h!==Xo&&h!==Yc)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const m={width:e,height:n,depth:p};super(m,i,a,s,l,u,h,r,f),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new M2(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}class oV extends ud{constructor(e,n=Zs,r=au,i,a,s=Si,l=Si,u,f=Xo){const h={width:e,height:e,depth:1},p=[h,h,h,h,h,h];super(e,e,n,r,i,a,s,l,u,f),this.image=p,this.isCubeDepthTexture=!0,this.isCubeTexture=!0}get images(){return this.image}set images(e){this.image=e}}class sF extends Ii{constructor(e=null){super(),this.sourceTexture=e,this.isExternalTexture=!0}copy(e){return super.copy(e),this.sourceTexture=e.sourceTexture,this}}let nl=class{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){Vt("Curve: .getPoint() not implemented.")}getPointAt(e,n){const r=this.getUtoTmapping(e);return this.getPoint(r,n)}getPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}getSpacedPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let r,i=this.getPoint(0),a=0;n.push(0);for(let s=1;s<=e;s++)r=this.getPoint(s/e),a+=r.distanceTo(i),n.push(a),i=r;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n=null){const r=this.getLengths();let i=0;const a=r.length;let s;n?s=n:s=e*r[a-1];let l=0,u=a-1,f;for(;l<=u;)if(i=Math.floor(l+(u-l)/2),f=r[i]-s,f<0)l=i+1;else if(f>0)u=i-1;else{u=i;break}if(i=u,r[i]===s)return i/(a-1);const h=r[i],m=r[i+1]-h,g=(s-h)/m;return(i+g)/(a-1)}getTangent(e,n){let i=e-1e-4,a=e+1e-4;i<0&&(i=0),a>1&&(a=1);const s=this.getPoint(i),l=this.getPoint(a),u=n||(s.isVector2?new bt:new _e);return u.copy(l).sub(s).normalize(),u}getTangentAt(e,n){const r=this.getUtoTmapping(e);return this.getTangent(r,n)}computeFrenetFrames(e,n=!1){const r=new _e,i=[],a=[],s=[],l=new _e,u=new Qn;for(let g=0;g<=e;g++){const _=g/e;i[g]=this.getTangentAt(_,new _e)}a[0]=new _e,s[0]=new _e;let f=Number.MAX_VALUE;const h=Math.abs(i[0].x),p=Math.abs(i[0].y),m=Math.abs(i[0].z);h<=f&&(f=h,r.set(1,0,0)),p<=f&&(f=p,r.set(0,1,0)),m<=f&&r.set(0,0,1),l.crossVectors(i[0],r).normalize(),a[0].crossVectors(i[0],l),s[0].crossVectors(i[0],a[0]);for(let g=1;g<=e;g++){if(a[g]=a[g-1].clone(),s[g]=s[g-1].clone(),l.crossVectors(i[g-1],i[g]),l.length()>Number.EPSILON){l.normalize();const _=Math.acos(en(i[g-1].dot(i[g]),-1,1));a[g].applyMatrix4(u.makeRotationAxis(l,_))}s[g].crossVectors(i[g],a[g])}if(n===!0){let g=Math.acos(en(a[0].dot(a[e]),-1,1));g/=e,i[0].dot(l.crossVectors(a[0],a[e]))>0&&(g=-g);for(let _=1;_<=e;_++)a[_].applyMatrix4(u.makeRotationAxis(i[_],g*_)),s[_].crossVectors(i[_],a[_])}return{tangents:i,normals:a,binormals:s}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.7,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}};class oF extends nl{constructor(e=0,n=0,r=1,i=1,a=0,s=Math.PI*2,l=!1,u=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=r,this.yRadius=i,this.aStartAngle=a,this.aEndAngle=s,this.aClockwise=l,this.aRotation=u}getPoint(e,n=new bt){const r=n,i=Math.PI*2;let a=this.aEndAngle-this.aStartAngle;const s=Math.abs(a)<Number.EPSILON;for(;a<0;)a+=i;for(;a>i;)a-=i;a<Number.EPSILON&&(s?a=0:a=i),this.aClockwise===!0&&!s&&(a===i?a=-i:a=a-i);const l=this.aStartAngle+e*a;let u=this.aX+this.xRadius*Math.cos(l),f=this.aY+this.yRadius*Math.sin(l);if(this.aRotation!==0){const h=Math.cos(this.aRotation),p=Math.sin(this.aRotation),m=u-this.aX,g=f-this.aY;u=m*h-g*p+this.aX,f=m*p+g*h+this.aY}return r.set(u,f)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class lV extends oF{constructor(e,n,r,i,a,s){super(e,n,r,r,i,a,s),this.isArcCurve=!0,this.type="ArcCurve"}}function D2(){let t=0,e=0,n=0,r=0;function i(a,s,l,u){t=a,e=l,n=-3*a+3*s-2*l-u,r=2*a-2*s+l+u}return{initCatmullRom:function(a,s,l,u,f){i(s,l,f*(l-a),f*(u-s))},initNonuniformCatmullRom:function(a,s,l,u,f,h,p){let m=(s-a)/f-(l-a)/(f+h)+(l-s)/h,g=(l-s)/h-(u-s)/(h+p)+(u-l)/p;m*=h,g*=h,i(s,l,m,g)},calc:function(a){const s=a*a,l=s*a;return t+e*a+n*s+r*l}}}const Qm=new _e,Xy=new D2,qy=new D2,Ky=new D2;class lF extends nl{constructor(e=[],n=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=r,this.tension=i}getPoint(e,n=new _e){const r=n,i=this.points,a=i.length,s=(a-(this.closed?0:1))*e;let l=Math.floor(s),u=s-l;this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/a)+1)*a:u===0&&l===a-1&&(l=a-2,u=1);let f,h;this.closed||l>0?f=i[(l-1)%a]:(Qm.subVectors(i[0],i[1]).add(i[0]),f=Qm);const p=i[l%a],m=i[(l+1)%a];if(this.closed||l+2<a?h=i[(l+2)%a]:(Qm.subVectors(i[a-1],i[a-2]).add(i[a-1]),h=Qm),this.curveType==="centripetal"||this.curveType==="chordal"){const g=this.curveType==="chordal"?.5:.25;let _=Math.pow(f.distanceToSquared(p),g),x=Math.pow(p.distanceToSquared(m),g),y=Math.pow(m.distanceToSquared(h),g);x<1e-4&&(x=1),_<1e-4&&(_=x),y<1e-4&&(y=x),Xy.initNonuniformCatmullRom(f.x,p.x,m.x,h.x,_,x,y),qy.initNonuniformCatmullRom(f.y,p.y,m.y,h.y,_,x,y),Ky.initNonuniformCatmullRom(f.z,p.z,m.z,h.z,_,x,y)}else this.curveType==="catmullrom"&&(Xy.initCatmullRom(f.x,p.x,m.x,h.x,this.tension),qy.initCatmullRom(f.y,p.y,m.y,h.y,this.tension),Ky.initCatmullRom(f.z,p.z,m.z,h.z,this.tension));return r.set(Xy.calc(u),qy.calc(u),Ky.calc(u)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new _e().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function B3(t,e,n,r,i){const a=(r-e)*.5,s=(i-n)*.5,l=t*t,u=t*l;return(2*n-2*r+a+s)*u+(-3*n+3*r-2*a-s)*l+a*t+n}function cV(t,e){const n=1-t;return n*n*e}function uV(t,e){return 2*(1-t)*t*e}function fV(t,e){return t*t*e}function $0(t,e,n,r){return cV(t,e)+uV(t,n)+fV(t,r)}function hV(t,e){const n=1-t;return n*n*n*e}function dV(t,e){const n=1-t;return 3*n*n*t*e}function pV(t,e){return 3*(1-t)*t*t*e}function mV(t,e){return t*t*t*e}function Z0(t,e,n,r,i){return hV(t,e)+dV(t,n)+pV(t,r)+mV(t,i)}class vV extends nl{constructor(e=new bt,n=new bt,r=new bt,i=new bt){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new bt){const r=n,i=this.v0,a=this.v1,s=this.v2,l=this.v3;return r.set(Z0(e,i.x,a.x,s.x,l.x),Z0(e,i.y,a.y,s.y,l.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class gV extends nl{constructor(e=new _e,n=new _e,r=new _e,i=new _e){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new _e){const r=n,i=this.v0,a=this.v1,s=this.v2,l=this.v3;return r.set(Z0(e,i.x,a.x,s.x,l.x),Z0(e,i.y,a.y,s.y,l.y),Z0(e,i.z,a.z,s.z,l.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class xV extends nl{constructor(e=new bt,n=new bt){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new bt){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new bt){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class _V extends nl{constructor(e=new _e,n=new _e){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new _e){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new _e){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class yV extends nl{constructor(e=new bt,n=new bt,r=new bt){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new bt){const r=n,i=this.v0,a=this.v1,s=this.v2;return r.set($0(e,i.x,a.x,s.x),$0(e,i.y,a.y,s.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class cF extends nl{constructor(e=new _e,n=new _e,r=new _e){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new _e){const r=n,i=this.v0,a=this.v1,s=this.v2;return r.set($0(e,i.x,a.x,s.x),$0(e,i.y,a.y,s.y),$0(e,i.z,a.z,s.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class EV extends nl{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new bt){const r=n,i=this.points,a=(i.length-1)*e,s=Math.floor(a),l=a-s,u=i[s===0?s:s-1],f=i[s],h=i[s>i.length-2?i.length-1:s+1],p=i[s>i.length-3?i.length-1:s+2];return r.set(B3(l,u.x,f.x,h.x,p.x),B3(l,u.y,f.y,h.y,p.y)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new bt().fromArray(i))}return this}}var SV=Object.freeze({__proto__:null,ArcCurve:lV,CatmullRomCurve3:lF,CubicBezierCurve:vV,CubicBezierCurve3:gV,EllipseCurve:oF,LineCurve:xV,LineCurve3:_V,QuadraticBezierCurve:yV,QuadraticBezierCurve3:cF,SplineCurve:EV});class ox extends Zi{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const a=e/2,s=n/2,l=Math.floor(r),u=Math.floor(i),f=l+1,h=u+1,p=e/l,m=n/u,g=[],_=[],x=[],y=[];for(let E=0;E<h;E++){const w=E*m-s;for(let b=0;b<f;b++){const M=b*p-a;_.push(M,-w,0),x.push(0,0,1),y.push(b/l),y.push(1-E/u)}}for(let E=0;E<u;E++)for(let w=0;w<l;w++){const b=w+f*E,M=w+f*(E+1),A=w+1+f*(E+1),C=w+1+f*E;g.push(b,M,C),g.push(M,A,C)}this.setIndex(g),this.setAttribute("position",new Hr(_,3)),this.setAttribute("normal",new Hr(x,3)),this.setAttribute("uv",new Hr(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ox(e.width,e.height,e.widthSegments,e.heightSegments)}}class N2 extends Zi{constructor(e=1,n=32,r=16,i=0,a=Math.PI*2,s=0,l=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:i,phiLength:a,thetaStart:s,thetaLength:l},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const u=Math.min(s+l,Math.PI);let f=0;const h=[],p=new _e,m=new _e,g=[],_=[],x=[],y=[];for(let E=0;E<=r;E++){const w=[],b=E/r;let M=0;E===0&&s===0?M=.5/n:E===r&&u===Math.PI&&(M=-.5/n);for(let A=0;A<=n;A++){const C=A/n;p.x=-e*Math.cos(i+C*a)*Math.sin(s+b*l),p.y=e*Math.cos(s+b*l),p.z=e*Math.sin(i+C*a)*Math.sin(s+b*l),_.push(p.x,p.y,p.z),m.copy(p).normalize(),x.push(m.x,m.y,m.z),y.push(C+M,1-b),w.push(f++)}h.push(w)}for(let E=0;E<r;E++)for(let w=0;w<n;w++){const b=h[E][w+1],M=h[E][w],A=h[E+1][w],C=h[E+1][w+1];(E!==0||s>0)&&g.push(b,M,C),(E!==r-1||u<Math.PI)&&g.push(M,A,C)}this.setIndex(g),this.setAttribute("position",new Hr(_,3)),this.setAttribute("normal",new Hr(x,3)),this.setAttribute("uv",new Hr(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new N2(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class k2 extends Zi{constructor(e=new cF(new _e(-1,-1,0),new _e(-1,1,0),new _e(1,1,0)),n=64,r=1,i=8,a=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:r,radialSegments:i,closed:a};const s=e.computeFrenetFrames(n,a);this.tangents=s.tangents,this.normals=s.normals,this.binormals=s.binormals;const l=new _e,u=new _e,f=new bt;let h=new _e;const p=[],m=[],g=[],_=[];x(),this.setIndex(_),this.setAttribute("position",new Hr(p,3)),this.setAttribute("normal",new Hr(m,3)),this.setAttribute("uv",new Hr(g,2));function x(){for(let b=0;b<n;b++)y(b);y(a===!1?n:0),w(),E()}function y(b){h=e.getPointAt(b/n,h);const M=s.normals[b],A=s.binormals[b];for(let C=0;C<=i;C++){const R=C/i*Math.PI*2,F=Math.sin(R),O=-Math.cos(R);u.x=O*M.x+F*A.x,u.y=O*M.y+F*A.y,u.z=O*M.z+F*A.z,u.normalize(),m.push(u.x,u.y,u.z),l.x=h.x+r*u.x,l.y=h.y+r*u.y,l.z=h.z+r*u.z,p.push(l.x,l.y,l.z)}}function E(){for(let b=1;b<=n;b++)for(let M=1;M<=i;M++){const A=(i+1)*(b-1)+(M-1),C=(i+1)*b+(M-1),R=(i+1)*b+M,F=(i+1)*(b-1)+M;_.push(A,C,F),_.push(C,R,F)}}function w(){for(let b=0;b<=n;b++)for(let M=0;M<=i;M++)f.x=b/n,f.y=M/i,g.push(f.x,f.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new k2(new SV[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class bV extends Qs{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class O0 extends Tu{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new sn(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new sn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=WI,this.normalScale=new bt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Js,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class TV extends Tu{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=gG,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class wV extends Tu{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class uF extends ai{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new sn(e),this.intensity=n}dispose(){this.dispatchEvent({type:"dispose"})}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,n}}const $y=new Qn,z3=new _e,j3=new _e;class AV{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new bt(512,512),this.mapType=Ta,this.map=null,this.mapPass=null,this.matrix=new Qn,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new O2,this._frameExtents=new bt(1,1),this._viewportCount=1,this._viewports=[new vr(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;z3.setFromMatrixPosition(e.matrixWorld),n.position.copy(z3),j3.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(j3),n.updateMatrixWorld(),$y.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix($y,n.coordinateSystem,n.reversedDepth),n.reversedDepth?r.set(.5,0,0,.5,0,.5,0,.5,0,0,1,0,0,0,0,1):r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply($y)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class L2 extends eF{constructor(e=-1,n=1,r=1,i=-1,a=.1,s=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=a,this.far=s,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,a,s){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=a,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let a=r-e,s=r+e,l=i+n,u=i-n;if(this.view!==null&&this.view.enabled){const f=(this.right-this.left)/this.view.fullWidth/this.zoom,h=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a+=f*this.view.offsetX,s=a+f*this.view.width,l-=h*this.view.offsetY,u=l-h*this.view.height}this.projectionMatrix.makeOrthographic(a,s,l,u,this.near,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}class MV extends AV{constructor(){super(new L2(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class CV extends uF{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(ai.DEFAULT_UP),this.updateMatrix(),this.target=new ai,this.shadow=new MV}dispose(){super.dispose(),this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}toJSON(e){const n=super.toJSON(e);return n.object.shadow=this.shadow.toJSON(),n.object.target=this.target.uuid,n}}class RV extends uF{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class OV extends ts{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class H3{constructor(e=1,n=0,r=0){this.radius=e,this.phi=n,this.theta=r}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=en(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(en(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class PV extends aV{constructor(e=10,n=10,r=4473924,i=8947848){r=new sn(r),i=new sn(i);const a=n/2,s=e/n,l=e/2,u=[],f=[];for(let m=0,g=0,_=-l;m<=n;m++,_+=s){u.push(-l,0,_,l,0,_),u.push(_,0,-l,_,0,l);const x=m===a?r:i;x.toArray(f,g),g+=3,x.toArray(f,g),g+=3,x.toArray(f,g),g+=3,x.toArray(f,g),g+=3}const h=new Zi;h.setAttribute("position",new Hr(u,3)),h.setAttribute("color",new Hr(f,3));const p=new P2({vertexColors:!0,toneMapped:!1});super(h,p),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class DV extends bu{constructor(e,n=null){super(),this.object=e,this.domElement=n,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){Vt("Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function G3(t,e,n,r){const i=NV(r);switch(n){case HI:return t*e;case VI:return t*e/i.components*i.byteLength;case S2:return t*e/i.components*i.byteLength;case ah:return t*e*2/i.components*i.byteLength;case b2:return t*e*2/i.components*i.byteLength;case GI:return t*e*3/i.components*i.byteLength;case Ss:return t*e*4/i.components*i.byteLength;case T2:return t*e*4/i.components*i.byteLength;case Lv:case Iv:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case Fv:case Uv:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case xb:case yb:return Math.max(t,16)*Math.max(e,8)/4;case gb:case _b:return Math.max(t,8)*Math.max(e,8)/2;case Eb:case Sb:case Tb:case wb:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case bb:case Ab:case Mb:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case Cb:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case Rb:return Math.floor((t+4)/5)*Math.floor((e+3)/4)*16;case Ob:return Math.floor((t+4)/5)*Math.floor((e+4)/5)*16;case Pb:return Math.floor((t+5)/6)*Math.floor((e+4)/5)*16;case Db:return Math.floor((t+5)/6)*Math.floor((e+5)/6)*16;case Nb:return Math.floor((t+7)/8)*Math.floor((e+4)/5)*16;case kb:return Math.floor((t+7)/8)*Math.floor((e+5)/6)*16;case Lb:return Math.floor((t+7)/8)*Math.floor((e+7)/8)*16;case Ib:return Math.floor((t+9)/10)*Math.floor((e+4)/5)*16;case Fb:return Math.floor((t+9)/10)*Math.floor((e+5)/6)*16;case Ub:return Math.floor((t+9)/10)*Math.floor((e+7)/8)*16;case Bb:return Math.floor((t+9)/10)*Math.floor((e+9)/10)*16;case zb:return Math.floor((t+11)/12)*Math.floor((e+9)/10)*16;case jb:return Math.floor((t+11)/12)*Math.floor((e+11)/12)*16;case Hb:case Gb:case Vb:return Math.ceil(t/4)*Math.ceil(e/4)*16;case Wb:case Yb:return Math.ceil(t/4)*Math.ceil(e/4)*8;case Xb:case qb:return Math.ceil(t/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${n} format.`)}function NV(t){switch(t){case Ta:case UI:return{byteLength:1,components:1};case od:case BI:case Yo:return{byteLength:2,components:1};case y2:case E2:return{byteLength:2,components:4};case Zs:case _2:case Vs:return{byteLength:4,components:1};case zI:case jI:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${t}.`)}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:x2}}));typeof window<"u"&&(window.__THREE__?Vt("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=x2);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function fF(){let t=null,e=!1,n=null,r=null;function i(a,s){n(a,s),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(a){n=a},setContext:function(a){t=a}}}function kV(t){const e=new WeakMap;function n(l,u){const f=l.array,h=l.usage,p=f.byteLength,m=t.createBuffer();t.bindBuffer(u,m),t.bufferData(u,f,h),l.onUploadCallback();let g;if(f instanceof Float32Array)g=t.FLOAT;else if(typeof Float16Array<"u"&&f instanceof Float16Array)g=t.HALF_FLOAT;else if(f instanceof Uint16Array)l.isFloat16BufferAttribute?g=t.HALF_FLOAT:g=t.UNSIGNED_SHORT;else if(f instanceof Int16Array)g=t.SHORT;else if(f instanceof Uint32Array)g=t.UNSIGNED_INT;else if(f instanceof Int32Array)g=t.INT;else if(f instanceof Int8Array)g=t.BYTE;else if(f instanceof Uint8Array)g=t.UNSIGNED_BYTE;else if(f instanceof Uint8ClampedArray)g=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+f);return{buffer:m,type:g,bytesPerElement:f.BYTES_PER_ELEMENT,version:l.version,size:p}}function r(l,u,f){const h=u.array,p=u.updateRanges;if(t.bindBuffer(f,l),p.length===0)t.bufferSubData(f,0,h);else{p.sort((g,_)=>g.start-_.start);let m=0;for(let g=1;g<p.length;g++){const _=p[m],x=p[g];x.start<=_.start+_.count+1?_.count=Math.max(_.count,x.start+x.count-_.start):(++m,p[m]=x)}p.length=m+1;for(let g=0,_=p.length;g<_;g++){const x=p[g];t.bufferSubData(f,x.start*h.BYTES_PER_ELEMENT,h,x.start,x.count)}u.clearUpdateRanges()}u.onUploadCallback()}function i(l){return l.isInterleavedBufferAttribute&&(l=l.data),e.get(l)}function a(l){l.isInterleavedBufferAttribute&&(l=l.data);const u=e.get(l);u&&(t.deleteBuffer(u.buffer),e.delete(l))}function s(l,u){if(l.isInterleavedBufferAttribute&&(l=l.data),l.isGLBufferAttribute){const h=e.get(l);(!h||h.version<l.version)&&e.set(l,{buffer:l.buffer,type:l.type,bytesPerElement:l.elementSize,version:l.version});return}const f=e.get(l);if(f===void 0)e.set(l,n(l,u));else if(f.version<l.version){if(f.size!==l.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");r(f.buffer,l,u),f.version=l.version}}return{get:i,remove:a,update:s}}var LV=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,IV=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,FV=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,UV=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,BV=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,zV=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,jV=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,HV=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,GV=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,VV=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,WV=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,YV=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,XV=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,qV=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,KV=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,$V=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,ZV=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,JV=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,QV=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,eW=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,tW=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,nW=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,rW=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,iW=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,aW=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,sW=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,oW=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,lW=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,cW=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,uW=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,fW="gl_FragColor = linearToOutputTexel( gl_FragColor );",hW=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,dW=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,pW=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
#endif`,mW=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,vW=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,gW=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,xW=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,_W=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,yW=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,EW=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,SW=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,bW=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,TW=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,wW=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,AW=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,MW=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, pow4( roughness ) ) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,CW=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,RW=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,OW=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,PW=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,DW=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.diffuseContribution = diffuseColor.rgb * ( 1.0 - metalnessFactor );
material.metalness = metalnessFactor;
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor;
	material.specularColorBlended = mix( material.specularColor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = vec3( 0.04 );
	material.specularColorBlended = mix( material.specularColor, diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.0001, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,NW=`uniform sampler2D dfgLUT;
struct PhysicalMaterial {
	vec3 diffuseColor;
	vec3 diffuseContribution;
	vec3 specularColor;
	vec3 specularColorBlended;
	float roughness;
	float metalness;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
		vec3 iridescenceFresnelDielectric;
		vec3 iridescenceFresnelMetallic;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return v;
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColorBlended;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transpose( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float rInv = 1.0 / ( roughness + 0.1 );
	float a = -1.9362 + 1.0678 * roughness + 0.4573 * r2 - 0.8469 * rInv;
	float b = -0.6014 + 0.5538 * roughness - 0.4670 * r2 - 0.1255 * rInv;
	float DG = exp( a * dotNV + b );
	return saturate( DG );
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 fab = texture2D( dfgLUT, vec2( roughness, dotNV ) ).rg;
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 fab = texture2D( dfgLUT, vec2( roughness, dotNV ) ).rg;
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
vec3 BRDF_GGX_Multiscatter( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 singleScatter = BRDF_GGX( lightDir, viewDir, normal, material );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 dfgV = texture2D( dfgLUT, vec2( material.roughness, dotNV ) ).rg;
	vec2 dfgL = texture2D( dfgLUT, vec2( material.roughness, dotNL ) ).rg;
	vec3 FssEss_V = material.specularColorBlended * dfgV.x + material.specularF90 * dfgV.y;
	vec3 FssEss_L = material.specularColorBlended * dfgL.x + material.specularF90 * dfgL.y;
	float Ess_V = dfgV.x + dfgV.y;
	float Ess_L = dfgL.x + dfgL.y;
	float Ems_V = 1.0 - Ess_V;
	float Ems_L = 1.0 - Ess_L;
	vec3 Favg = material.specularColorBlended + ( 1.0 - material.specularColorBlended ) * 0.047619;
	vec3 Fms = FssEss_V * FssEss_L * Favg / ( 1.0 - Ems_V * Ems_L * Favg + EPSILON );
	float compensationFactor = Ems_V * Ems_L;
	vec3 multiScatter = Fms * compensationFactor;
	return singleScatter + multiScatter;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColorBlended * t2.x + ( vec3( 1.0 ) - material.specularColorBlended ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseContribution * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
 
 		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
 
 		float sheenAlbedoV = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
 		float sheenAlbedoL = IBLSheenBRDF( geometryNormal, directLight.direction, material.sheenRoughness );
 
 		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * max( sheenAlbedoV, sheenAlbedoL );
 
 		irradiance *= sheenEnergyComp;
 
 	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX_Multiscatter( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseContribution );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 diffuse = irradiance * BRDF_Lambert( material.diffuseContribution );
	#ifdef USE_SHEEN
		float sheenAlbedo = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * sheenAlbedo;
		diffuse *= sheenEnergyComp;
	#endif
	reflectedLight.indirectDiffuse += diffuse;
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness ) * RECIPROCAL_PI;
 	#endif
	vec3 singleScatteringDielectric = vec3( 0.0 );
	vec3 multiScatteringDielectric = vec3( 0.0 );
	vec3 singleScatteringMetallic = vec3( 0.0 );
	vec3 multiScatteringMetallic = vec3( 0.0 );
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnelDielectric, material.roughness, singleScatteringDielectric, multiScatteringDielectric );
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.diffuseColor, material.specularF90, material.iridescence, material.iridescenceFresnelMetallic, material.roughness, singleScatteringMetallic, multiScatteringMetallic );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScatteringDielectric, multiScatteringDielectric );
		computeMultiscattering( geometryNormal, geometryViewDir, material.diffuseColor, material.specularF90, material.roughness, singleScatteringMetallic, multiScatteringMetallic );
	#endif
	vec3 singleScattering = mix( singleScatteringDielectric, singleScatteringMetallic, material.metalness );
	vec3 multiScattering = mix( multiScatteringDielectric, multiScatteringMetallic, material.metalness );
	vec3 totalScatteringDielectric = singleScatteringDielectric + multiScatteringDielectric;
	vec3 diffuse = material.diffuseContribution * ( 1.0 - totalScatteringDielectric );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	vec3 indirectSpecular = radiance * singleScattering;
	indirectSpecular += multiScattering * cosineWeightedIrradiance;
	vec3 indirectDiffuse = diffuse * cosineWeightedIrradiance;
	#ifdef USE_SHEEN
		float sheenAlbedo = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * sheenAlbedo;
		indirectSpecular *= sheenEnergyComp;
		indirectDiffuse *= sheenEnergyComp;
	#endif
	reflectedLight.indirectSpecular += indirectSpecular;
	reflectedLight.indirectDiffuse += indirectDiffuse;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,kW=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnelDielectric = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceFresnelMetallic = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.diffuseColor );
		material.iridescenceFresnel = mix( material.iridescenceFresnelDielectric, material.iridescenceFresnelMetallic, material.metalness );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS ) && ( defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_BASIC ) )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,LW=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,IW=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,FW=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,UW=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,BW=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,zW=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,jW=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,HW=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,GW=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,VW=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,WW=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,YW=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,XW=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,qW=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,KW=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,$W=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,ZW=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,JW=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,QW=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,eY=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,tY=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,nY=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,rY=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,iY=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,aY=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,sY=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,oY=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,lY=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,cY=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,uY=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,fY=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,hY=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,dY=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,pY=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,mY=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,vY=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#if defined( SHADOWMAP_TYPE_PCF )
			uniform sampler2DShadow directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		#else
			uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		#endif
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		#if defined( SHADOWMAP_TYPE_PCF )
			uniform sampler2DShadow spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		#else
			uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		#endif
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#if defined( SHADOWMAP_TYPE_PCF )
			uniform samplerCubeShadow pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		#elif defined( SHADOWMAP_TYPE_BASIC )
			uniform samplerCube pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		#endif
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	#if defined( SHADOWMAP_TYPE_PCF )
		float interleavedGradientNoise( vec2 position ) {
			return fract( 52.9829189 * fract( dot( position, vec2( 0.06711056, 0.00583715 ) ) ) );
		}
		vec2 vogelDiskSample( int sampleIndex, int samplesCount, float phi ) {
			const float goldenAngle = 2.399963229728653;
			float r = sqrt( ( float( sampleIndex ) + 0.5 ) / float( samplesCount ) );
			float theta = float( sampleIndex ) * goldenAngle + phi;
			return vec2( cos( theta ), sin( theta ) ) * r;
		}
	#endif
	#if defined( SHADOWMAP_TYPE_PCF )
		float getShadow( sampler2DShadow shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
			float shadow = 1.0;
			shadowCoord.xyz /= shadowCoord.w;
			shadowCoord.z += shadowBias;
			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
			if ( frustumTest ) {
				vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
				float radius = shadowRadius * texelSize.x;
				float phi = interleavedGradientNoise( gl_FragCoord.xy ) * 6.28318530718;
				shadow = (
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 0, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 1, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 2, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 3, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 4, 5, phi ) * radius, shadowCoord.z ) )
				) * 0.2;
			}
			return mix( 1.0, shadow, shadowIntensity );
		}
	#elif defined( SHADOWMAP_TYPE_VSM )
		float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
			float shadow = 1.0;
			shadowCoord.xyz /= shadowCoord.w;
			shadowCoord.z += shadowBias;
			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
			if ( frustumTest ) {
				vec2 distribution = texture2D( shadowMap, shadowCoord.xy ).rg;
				float mean = distribution.x;
				float variance = distribution.y * distribution.y;
				#ifdef USE_REVERSED_DEPTH_BUFFER
					float hard_shadow = step( mean, shadowCoord.z );
				#else
					float hard_shadow = step( shadowCoord.z, mean );
				#endif
				if ( hard_shadow == 1.0 ) {
					shadow = 1.0;
				} else {
					variance = max( variance, 0.0000001 );
					float d = shadowCoord.z - mean;
					float p_max = variance / ( variance + d * d );
					p_max = clamp( ( p_max - 0.3 ) / 0.65, 0.0, 1.0 );
					shadow = max( hard_shadow, p_max );
				}
			}
			return mix( 1.0, shadow, shadowIntensity );
		}
	#else
		float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
			float shadow = 1.0;
			shadowCoord.xyz /= shadowCoord.w;
			shadowCoord.z += shadowBias;
			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
			if ( frustumTest ) {
				float depth = texture2D( shadowMap, shadowCoord.xy ).r;
				#ifdef USE_REVERSED_DEPTH_BUFFER
					shadow = step( depth, shadowCoord.z );
				#else
					shadow = step( shadowCoord.z, depth );
				#endif
			}
			return mix( 1.0, shadow, shadowIntensity );
		}
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#if defined( SHADOWMAP_TYPE_PCF )
	float getPointShadow( samplerCubeShadow shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		vec3 bd3D = normalize( lightToPosition );
		vec3 absVec = abs( lightToPosition );
		float viewSpaceZ = max( max( absVec.x, absVec.y ), absVec.z );
		if ( viewSpaceZ - shadowCameraFar <= 0.0 && viewSpaceZ - shadowCameraNear >= 0.0 ) {
			float dp = ( shadowCameraFar * ( viewSpaceZ - shadowCameraNear ) ) / ( viewSpaceZ * ( shadowCameraFar - shadowCameraNear ) );
			dp += shadowBias;
			float texelSize = shadowRadius / shadowMapSize.x;
			vec3 absDir = abs( bd3D );
			vec3 tangent = absDir.x > absDir.z ? vec3( 0.0, 1.0, 0.0 ) : vec3( 1.0, 0.0, 0.0 );
			tangent = normalize( cross( bd3D, tangent ) );
			vec3 bitangent = cross( bd3D, tangent );
			float phi = interleavedGradientNoise( gl_FragCoord.xy ) * 6.28318530718;
			shadow = (
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 0, 5, phi ).x + bitangent * vogelDiskSample( 0, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 1, 5, phi ).x + bitangent * vogelDiskSample( 1, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 2, 5, phi ).x + bitangent * vogelDiskSample( 2, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 3, 5, phi ).x + bitangent * vogelDiskSample( 3, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 4, 5, phi ).x + bitangent * vogelDiskSample( 4, 5, phi ).y ) * texelSize, dp ) )
			) * 0.2;
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	#elif defined( SHADOWMAP_TYPE_BASIC )
	float getPointShadow( samplerCube shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		vec3 bd3D = normalize( lightToPosition );
		vec3 absVec = abs( lightToPosition );
		float viewSpaceZ = max( max( absVec.x, absVec.y ), absVec.z );
		if ( viewSpaceZ - shadowCameraFar <= 0.0 && viewSpaceZ - shadowCameraNear >= 0.0 ) {
			float dp = ( shadowCameraFar * ( viewSpaceZ - shadowCameraNear ) ) / ( viewSpaceZ * ( shadowCameraFar - shadowCameraNear ) );
			dp += shadowBias;
			float depth = textureCube( shadowMap, bd3D ).r;
			#ifdef USE_REVERSED_DEPTH_BUFFER
				shadow = step( depth, dp );
			#else
				shadow = step( dp, depth );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	#endif
	#endif
#endif`,gY=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,xY=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,_Y=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0 && ( defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_BASIC ) )
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,yY=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,EY=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,SY=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,bY=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,TY=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,wY=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,AY=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,MY=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,CY=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseContribution, material.specularColorBlended, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,RY=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,OY=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,PY=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,DY=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,NY=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const kY=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,LY=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,IY=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,FY=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,UY=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,BY=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,zY=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,jY=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	#ifdef USE_REVERSED_DEPTH_BUFFER
		float fragCoordZ = vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ];
	#else
		float fragCoordZ = 0.5 * vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ] + 0.5;
	#endif
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,HY=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,GY=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = vec4( dist, 0.0, 0.0, 1.0 );
}`,VY=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,WY=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,YY=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,XY=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,qY=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,KY=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,$Y=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,ZY=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,JY=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,QY=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,eX=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,tX=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( normalize( normal ) * 0.5 + 0.5, diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,nX=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,rX=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,iX=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,aX=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
 
		outgoingLight = outgoingLight + sheenSpecularDirect + sheenSpecularIndirect;
 
 	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,sX=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,oX=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,lX=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,cX=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,uX=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fX=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,hX=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,dX=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Qt={alphahash_fragment:LV,alphahash_pars_fragment:IV,alphamap_fragment:FV,alphamap_pars_fragment:UV,alphatest_fragment:BV,alphatest_pars_fragment:zV,aomap_fragment:jV,aomap_pars_fragment:HV,batching_pars_vertex:GV,batching_vertex:VV,begin_vertex:WV,beginnormal_vertex:YV,bsdfs:XV,iridescence_fragment:qV,bumpmap_pars_fragment:KV,clipping_planes_fragment:$V,clipping_planes_pars_fragment:ZV,clipping_planes_pars_vertex:JV,clipping_planes_vertex:QV,color_fragment:eW,color_pars_fragment:tW,color_pars_vertex:nW,color_vertex:rW,common:iW,cube_uv_reflection_fragment:aW,defaultnormal_vertex:sW,displacementmap_pars_vertex:oW,displacementmap_vertex:lW,emissivemap_fragment:cW,emissivemap_pars_fragment:uW,colorspace_fragment:fW,colorspace_pars_fragment:hW,envmap_fragment:dW,envmap_common_pars_fragment:pW,envmap_pars_fragment:mW,envmap_pars_vertex:vW,envmap_physical_pars_fragment:MW,envmap_vertex:gW,fog_vertex:xW,fog_pars_vertex:_W,fog_fragment:yW,fog_pars_fragment:EW,gradientmap_pars_fragment:SW,lightmap_pars_fragment:bW,lights_lambert_fragment:TW,lights_lambert_pars_fragment:wW,lights_pars_begin:AW,lights_toon_fragment:CW,lights_toon_pars_fragment:RW,lights_phong_fragment:OW,lights_phong_pars_fragment:PW,lights_physical_fragment:DW,lights_physical_pars_fragment:NW,lights_fragment_begin:kW,lights_fragment_maps:LW,lights_fragment_end:IW,logdepthbuf_fragment:FW,logdepthbuf_pars_fragment:UW,logdepthbuf_pars_vertex:BW,logdepthbuf_vertex:zW,map_fragment:jW,map_pars_fragment:HW,map_particle_fragment:GW,map_particle_pars_fragment:VW,metalnessmap_fragment:WW,metalnessmap_pars_fragment:YW,morphinstance_vertex:XW,morphcolor_vertex:qW,morphnormal_vertex:KW,morphtarget_pars_vertex:$W,morphtarget_vertex:ZW,normal_fragment_begin:JW,normal_fragment_maps:QW,normal_pars_fragment:eY,normal_pars_vertex:tY,normal_vertex:nY,normalmap_pars_fragment:rY,clearcoat_normal_fragment_begin:iY,clearcoat_normal_fragment_maps:aY,clearcoat_pars_fragment:sY,iridescence_pars_fragment:oY,opaque_fragment:lY,packing:cY,premultiplied_alpha_fragment:uY,project_vertex:fY,dithering_fragment:hY,dithering_pars_fragment:dY,roughnessmap_fragment:pY,roughnessmap_pars_fragment:mY,shadowmap_pars_fragment:vY,shadowmap_pars_vertex:gY,shadowmap_vertex:xY,shadowmask_pars_fragment:_Y,skinbase_vertex:yY,skinning_pars_vertex:EY,skinning_vertex:SY,skinnormal_vertex:bY,specularmap_fragment:TY,specularmap_pars_fragment:wY,tonemapping_fragment:AY,tonemapping_pars_fragment:MY,transmission_fragment:CY,transmission_pars_fragment:RY,uv_pars_fragment:OY,uv_pars_vertex:PY,uv_vertex:DY,worldpos_vertex:NY,background_vert:kY,background_frag:LY,backgroundCube_vert:IY,backgroundCube_frag:FY,cube_vert:UY,cube_frag:BY,depth_vert:zY,depth_frag:jY,distance_vert:HY,distance_frag:GY,equirect_vert:VY,equirect_frag:WY,linedashed_vert:YY,linedashed_frag:XY,meshbasic_vert:qY,meshbasic_frag:KY,meshlambert_vert:$Y,meshlambert_frag:ZY,meshmatcap_vert:JY,meshmatcap_frag:QY,meshnormal_vert:eX,meshnormal_frag:tX,meshphong_vert:nX,meshphong_frag:rX,meshphysical_vert:iX,meshphysical_frag:aX,meshtoon_vert:sX,meshtoon_frag:oX,points_vert:lX,points_frag:cX,shadow_vert:uX,shadow_frag:fX,sprite_vert:hX,sprite_frag:dX},yt={common:{diffuse:{value:new sn(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Jt},alphaMap:{value:null},alphaMapTransform:{value:new Jt},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Jt}},envmap:{envMap:{value:null},envMapRotation:{value:new Jt},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98},dfgLUT:{value:null}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Jt}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Jt}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Jt},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Jt},normalScale:{value:new bt(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Jt},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Jt}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Jt}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Jt}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new sn(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new sn(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Jt},alphaTest:{value:0},uvTransform:{value:new Jt}},sprite:{diffuse:{value:new sn(16777215)},opacity:{value:1},center:{value:new bt(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Jt},alphaMap:{value:null},alphaMapTransform:{value:new Jt},alphaTest:{value:0}}},Hs={basic:{uniforms:Gi([yt.common,yt.specularmap,yt.envmap,yt.aomap,yt.lightmap,yt.fog]),vertexShader:Qt.meshbasic_vert,fragmentShader:Qt.meshbasic_frag},lambert:{uniforms:Gi([yt.common,yt.specularmap,yt.envmap,yt.aomap,yt.lightmap,yt.emissivemap,yt.bumpmap,yt.normalmap,yt.displacementmap,yt.fog,yt.lights,{emissive:{value:new sn(0)}}]),vertexShader:Qt.meshlambert_vert,fragmentShader:Qt.meshlambert_frag},phong:{uniforms:Gi([yt.common,yt.specularmap,yt.envmap,yt.aomap,yt.lightmap,yt.emissivemap,yt.bumpmap,yt.normalmap,yt.displacementmap,yt.fog,yt.lights,{emissive:{value:new sn(0)},specular:{value:new sn(1118481)},shininess:{value:30}}]),vertexShader:Qt.meshphong_vert,fragmentShader:Qt.meshphong_frag},standard:{uniforms:Gi([yt.common,yt.envmap,yt.aomap,yt.lightmap,yt.emissivemap,yt.bumpmap,yt.normalmap,yt.displacementmap,yt.roughnessmap,yt.metalnessmap,yt.fog,yt.lights,{emissive:{value:new sn(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Qt.meshphysical_vert,fragmentShader:Qt.meshphysical_frag},toon:{uniforms:Gi([yt.common,yt.aomap,yt.lightmap,yt.emissivemap,yt.bumpmap,yt.normalmap,yt.displacementmap,yt.gradientmap,yt.fog,yt.lights,{emissive:{value:new sn(0)}}]),vertexShader:Qt.meshtoon_vert,fragmentShader:Qt.meshtoon_frag},matcap:{uniforms:Gi([yt.common,yt.bumpmap,yt.normalmap,yt.displacementmap,yt.fog,{matcap:{value:null}}]),vertexShader:Qt.meshmatcap_vert,fragmentShader:Qt.meshmatcap_frag},points:{uniforms:Gi([yt.points,yt.fog]),vertexShader:Qt.points_vert,fragmentShader:Qt.points_frag},dashed:{uniforms:Gi([yt.common,yt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Qt.linedashed_vert,fragmentShader:Qt.linedashed_frag},depth:{uniforms:Gi([yt.common,yt.displacementmap]),vertexShader:Qt.depth_vert,fragmentShader:Qt.depth_frag},normal:{uniforms:Gi([yt.common,yt.bumpmap,yt.normalmap,yt.displacementmap,{opacity:{value:1}}]),vertexShader:Qt.meshnormal_vert,fragmentShader:Qt.meshnormal_frag},sprite:{uniforms:Gi([yt.sprite,yt.fog]),vertexShader:Qt.sprite_vert,fragmentShader:Qt.sprite_frag},background:{uniforms:{uvTransform:{value:new Jt},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Qt.background_vert,fragmentShader:Qt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Jt}},vertexShader:Qt.backgroundCube_vert,fragmentShader:Qt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Qt.cube_vert,fragmentShader:Qt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Qt.equirect_vert,fragmentShader:Qt.equirect_frag},distance:{uniforms:Gi([yt.common,yt.displacementmap,{referencePosition:{value:new _e},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Qt.distance_vert,fragmentShader:Qt.distance_frag},shadow:{uniforms:Gi([yt.lights,yt.fog,{color:{value:new sn(0)},opacity:{value:1}}]),vertexShader:Qt.shadow_vert,fragmentShader:Qt.shadow_frag}};Hs.physical={uniforms:Gi([Hs.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Jt},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Jt},clearcoatNormalScale:{value:new bt(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Jt},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Jt},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Jt},sheen:{value:0},sheenColor:{value:new sn(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Jt},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Jt},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Jt},transmissionSamplerSize:{value:new bt},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Jt},attenuationDistance:{value:0},attenuationColor:{value:new sn(0)},specularColor:{value:new sn(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Jt},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Jt},anisotropyVector:{value:new bt},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Jt}}]),vertexShader:Qt.meshphysical_vert,fragmentShader:Qt.meshphysical_frag};const ev={r:0,b:0,g:0},Fc=new Js,pX=new Qn;function mX(t,e,n,r,i,a,s){const l=new sn(0);let u=a===!0?0:1,f,h,p=null,m=0,g=null;function _(b){let M=b.isScene===!0?b.background:null;return M&&M.isTexture&&(M=(b.backgroundBlurriness>0?n:e).get(M)),M}function x(b){let M=!1;const A=_(b);A===null?E(l,u):A&&A.isColor&&(E(A,1),M=!0);const C=t.xr.getEnvironmentBlendMode();C==="additive"?r.buffers.color.setClear(0,0,0,1,s):C==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,s),(t.autoClear||M)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil))}function y(b,M){const A=_(M);A&&(A.isCubeTexture||A.mapping===ax)?(h===void 0&&(h=new Ca(new ou(1,1,1),new Qs({name:"BackgroundCubeMaterial",uniforms:oh(Hs.backgroundCube.uniforms),vertexShader:Hs.backgroundCube.vertexShader,fragmentShader:Hs.backgroundCube.fragmentShader,side:oa,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),h.geometry.deleteAttribute("normal"),h.geometry.deleteAttribute("uv"),h.onBeforeRender=function(C,R,F){this.matrixWorld.copyPosition(F.matrixWorld)},Object.defineProperty(h.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(h)),Fc.copy(M.backgroundRotation),Fc.x*=-1,Fc.y*=-1,Fc.z*=-1,A.isCubeTexture&&A.isRenderTargetTexture===!1&&(Fc.y*=-1,Fc.z*=-1),h.material.uniforms.envMap.value=A,h.material.uniforms.flipEnvMap.value=A.isCubeTexture&&A.isRenderTargetTexture===!1?-1:1,h.material.uniforms.backgroundBlurriness.value=M.backgroundBlurriness,h.material.uniforms.backgroundIntensity.value=M.backgroundIntensity,h.material.uniforms.backgroundRotation.value.setFromMatrix4(pX.makeRotationFromEuler(Fc)),h.material.toneMapped=pn.getTransfer(A.colorSpace)!==Pn,(p!==A||m!==A.version||g!==t.toneMapping)&&(h.material.needsUpdate=!0,p=A,m=A.version,g=t.toneMapping),h.layers.enableAll(),b.unshift(h,h.geometry,h.material,0,0,null)):A&&A.isTexture&&(f===void 0&&(f=new Ca(new ox(2,2),new Qs({name:"BackgroundMaterial",uniforms:oh(Hs.background.uniforms),vertexShader:Hs.background.vertexShader,fragmentShader:Hs.background.fragmentShader,side:nc,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),f.geometry.deleteAttribute("normal"),Object.defineProperty(f.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(f)),f.material.uniforms.t2D.value=A,f.material.uniforms.backgroundIntensity.value=M.backgroundIntensity,f.material.toneMapped=pn.getTransfer(A.colorSpace)!==Pn,A.matrixAutoUpdate===!0&&A.updateMatrix(),f.material.uniforms.uvTransform.value.copy(A.matrix),(p!==A||m!==A.version||g!==t.toneMapping)&&(f.material.needsUpdate=!0,p=A,m=A.version,g=t.toneMapping),f.layers.enableAll(),b.unshift(f,f.geometry,f.material,0,0,null))}function E(b,M){b.getRGB(ev,QI(t)),r.buffers.color.setClear(ev.r,ev.g,ev.b,M,s)}function w(){h!==void 0&&(h.geometry.dispose(),h.material.dispose(),h=void 0),f!==void 0&&(f.geometry.dispose(),f.material.dispose(),f=void 0)}return{getClearColor:function(){return l},setClearColor:function(b,M=1){l.set(b),u=M,E(l,u)},getClearAlpha:function(){return u},setClearAlpha:function(b){u=b,E(l,u)},render:x,addToRenderList:y,dispose:w}}function vX(t,e){const n=t.getParameter(t.MAX_VERTEX_ATTRIBS),r={},i=m(null);let a=i,s=!1;function l(k,D,U,Z,se){let oe=!1;const G=p(Z,U,D);a!==G&&(a=G,f(a.object)),oe=g(k,Z,U,se),oe&&_(k,Z,U,se),se!==null&&e.update(se,t.ELEMENT_ARRAY_BUFFER),(oe||s)&&(s=!1,M(k,D,U,Z),se!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.get(se).buffer))}function u(){return t.createVertexArray()}function f(k){return t.bindVertexArray(k)}function h(k){return t.deleteVertexArray(k)}function p(k,D,U){const Z=U.wireframe===!0;let se=r[k.id];se===void 0&&(se={},r[k.id]=se);let oe=se[D.id];oe===void 0&&(oe={},se[D.id]=oe);let G=oe[Z];return G===void 0&&(G=m(u()),oe[Z]=G),G}function m(k){const D=[],U=[],Z=[];for(let se=0;se<n;se++)D[se]=0,U[se]=0,Z[se]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:D,enabledAttributes:U,attributeDivisors:Z,object:k,attributes:{},index:null}}function g(k,D,U,Z){const se=a.attributes,oe=D.attributes;let G=0;const W=U.getAttributes();for(const ee in W)if(W[ee].location>=0){const pe=se[ee];let z=oe[ee];if(z===void 0&&(ee==="instanceMatrix"&&k.instanceMatrix&&(z=k.instanceMatrix),ee==="instanceColor"&&k.instanceColor&&(z=k.instanceColor)),pe===void 0||pe.attribute!==z||z&&pe.data!==z.data)return!0;G++}return a.attributesNum!==G||a.index!==Z}function _(k,D,U,Z){const se={},oe=D.attributes;let G=0;const W=U.getAttributes();for(const ee in W)if(W[ee].location>=0){let pe=oe[ee];pe===void 0&&(ee==="instanceMatrix"&&k.instanceMatrix&&(pe=k.instanceMatrix),ee==="instanceColor"&&k.instanceColor&&(pe=k.instanceColor));const z={};z.attribute=pe,pe&&pe.data&&(z.data=pe.data),se[ee]=z,G++}a.attributes=se,a.attributesNum=G,a.index=Z}function x(){const k=a.newAttributes;for(let D=0,U=k.length;D<U;D++)k[D]=0}function y(k){E(k,0)}function E(k,D){const U=a.newAttributes,Z=a.enabledAttributes,se=a.attributeDivisors;U[k]=1,Z[k]===0&&(t.enableVertexAttribArray(k),Z[k]=1),se[k]!==D&&(t.vertexAttribDivisor(k,D),se[k]=D)}function w(){const k=a.newAttributes,D=a.enabledAttributes;for(let U=0,Z=D.length;U<Z;U++)D[U]!==k[U]&&(t.disableVertexAttribArray(U),D[U]=0)}function b(k,D,U,Z,se,oe,G){G===!0?t.vertexAttribIPointer(k,D,U,se,oe):t.vertexAttribPointer(k,D,U,Z,se,oe)}function M(k,D,U,Z){x();const se=Z.attributes,oe=U.getAttributes(),G=D.defaultAttributeValues;for(const W in oe){const ee=oe[W];if(ee.location>=0){let Y=se[W];if(Y===void 0&&(W==="instanceMatrix"&&k.instanceMatrix&&(Y=k.instanceMatrix),W==="instanceColor"&&k.instanceColor&&(Y=k.instanceColor)),Y!==void 0){const pe=Y.normalized,z=Y.itemSize,I=e.get(Y);if(I===void 0)continue;const V=I.buffer,X=I.type,te=I.bytesPerElement,J=X===t.INT||X===t.UNSIGNED_INT||Y.gpuType===_2;if(Y.isInterleavedBufferAttribute){const fe=Y.data,ae=fe.stride,Q=Y.offset;if(fe.isInstancedInterleavedBuffer){for(let de=0;de<ee.locationSize;de++)E(ee.location+de,fe.meshPerAttribute);k.isInstancedMesh!==!0&&Z._maxInstanceCount===void 0&&(Z._maxInstanceCount=fe.meshPerAttribute*fe.count)}else for(let de=0;de<ee.locationSize;de++)y(ee.location+de);t.bindBuffer(t.ARRAY_BUFFER,V);for(let de=0;de<ee.locationSize;de++)b(ee.location+de,z/ee.locationSize,X,pe,ae*te,(Q+z/ee.locationSize*de)*te,J)}else{if(Y.isInstancedBufferAttribute){for(let fe=0;fe<ee.locationSize;fe++)E(ee.location+fe,Y.meshPerAttribute);k.isInstancedMesh!==!0&&Z._maxInstanceCount===void 0&&(Z._maxInstanceCount=Y.meshPerAttribute*Y.count)}else for(let fe=0;fe<ee.locationSize;fe++)y(ee.location+fe);t.bindBuffer(t.ARRAY_BUFFER,V);for(let fe=0;fe<ee.locationSize;fe++)b(ee.location+fe,z/ee.locationSize,X,pe,z*te,z/ee.locationSize*fe*te,J)}}else if(G!==void 0){const pe=G[W];if(pe!==void 0)switch(pe.length){case 2:t.vertexAttrib2fv(ee.location,pe);break;case 3:t.vertexAttrib3fv(ee.location,pe);break;case 4:t.vertexAttrib4fv(ee.location,pe);break;default:t.vertexAttrib1fv(ee.location,pe)}}}}w()}function A(){F();for(const k in r){const D=r[k];for(const U in D){const Z=D[U];for(const se in Z)h(Z[se].object),delete Z[se];delete D[U]}delete r[k]}}function C(k){if(r[k.id]===void 0)return;const D=r[k.id];for(const U in D){const Z=D[U];for(const se in Z)h(Z[se].object),delete Z[se];delete D[U]}delete r[k.id]}function R(k){for(const D in r){const U=r[D];if(U[k.id]===void 0)continue;const Z=U[k.id];for(const se in Z)h(Z[se].object),delete Z[se];delete U[k.id]}}function F(){O(),s=!0,a!==i&&(a=i,f(a.object))}function O(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:l,reset:F,resetDefaultState:O,dispose:A,releaseStatesOfGeometry:C,releaseStatesOfProgram:R,initAttributes:x,enableAttribute:y,disableUnusedAttributes:w}}function gX(t,e,n){let r;function i(f){r=f}function a(f,h){t.drawArrays(r,f,h),n.update(h,r,1)}function s(f,h,p){p!==0&&(t.drawArraysInstanced(r,f,h,p),n.update(h,r,p))}function l(f,h,p){if(p===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(r,f,0,h,0,p);let g=0;for(let _=0;_<p;_++)g+=h[_];n.update(g,r,1)}function u(f,h,p,m){if(p===0)return;const g=e.get("WEBGL_multi_draw");if(g===null)for(let _=0;_<f.length;_++)s(f[_],h[_],m[_]);else{g.multiDrawArraysInstancedWEBGL(r,f,0,h,0,m,0,p);let _=0;for(let x=0;x<p;x++)_+=h[x]*m[x];n.update(_,r,1)}}this.setMode=i,this.render=a,this.renderInstances=s,this.renderMultiDraw=l,this.renderMultiDrawInstances=u}function xX(t,e,n,r){let i;function a(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const R=e.get("EXT_texture_filter_anisotropic");i=t.getParameter(R.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function s(R){return!(R!==Ss&&r.convert(R)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_FORMAT))}function l(R){const F=R===Yo&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(R!==Ta&&r.convert(R)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_TYPE)&&R!==Vs&&!F)}function u(R){if(R==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";R="mediump"}return R==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let f=n.precision!==void 0?n.precision:"highp";const h=u(f);h!==f&&(Vt("WebGLRenderer:",f,"not supported, using",h,"instead."),f=h);const p=n.logarithmicDepthBuffer===!0,m=n.reversedDepthBuffer===!0&&e.has("EXT_clip_control"),g=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),_=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),x=t.getParameter(t.MAX_TEXTURE_SIZE),y=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),E=t.getParameter(t.MAX_VERTEX_ATTRIBS),w=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),b=t.getParameter(t.MAX_VARYING_VECTORS),M=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),A=t.getParameter(t.MAX_SAMPLES),C=t.getParameter(t.SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:a,getMaxPrecision:u,textureFormatReadable:s,textureTypeReadable:l,precision:f,logarithmicDepthBuffer:p,reversedDepthBuffer:m,maxTextures:g,maxVertexTextures:_,maxTextureSize:x,maxCubemapSize:y,maxAttributes:E,maxVertexUniforms:w,maxVaryings:b,maxFragmentUniforms:M,maxSamples:A,samples:C}}function _X(t){const e=this;let n=null,r=0,i=!1,a=!1;const s=new Wl,l=new Jt,u={value:null,needsUpdate:!1};this.uniform=u,this.numPlanes=0,this.numIntersection=0,this.init=function(p,m){const g=p.length!==0||m||r!==0||i;return i=m,r=p.length,g},this.beginShadows=function(){a=!0,h(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(p,m){n=h(p,m,0)},this.setState=function(p,m,g){const _=p.clippingPlanes,x=p.clipIntersection,y=p.clipShadows,E=t.get(p);if(!i||_===null||_.length===0||a&&!y)a?h(null):f();else{const w=a?0:r,b=w*4;let M=E.clippingState||null;u.value=M,M=h(_,m,b,g);for(let A=0;A!==b;++A)M[A]=n[A];E.clippingState=M,this.numIntersection=x?this.numPlanes:0,this.numPlanes+=w}};function f(){u.value!==n&&(u.value=n,u.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function h(p,m,g,_){const x=p!==null?p.length:0;let y=null;if(x!==0){if(y=u.value,_!==!0||y===null){const E=g+x*4,w=m.matrixWorldInverse;l.getNormalMatrix(w),(y===null||y.length<E)&&(y=new Float32Array(E));for(let b=0,M=g;b!==x;++b,M+=4)s.copy(p[b]).applyMatrix4(w,l),s.normal.toArray(y,M),y[M+3]=s.constant}u.value=y,u.needsUpdate=!0}return e.numPlanes=x,e.numIntersection=0,y}}function yX(t){let e=new WeakMap;function n(s,l){return l===db?s.mapping=au:l===pb&&(s.mapping=ih),s}function r(s){if(s&&s.isTexture){const l=s.mapping;if(l===db||l===pb)if(e.has(s)){const u=e.get(s).texture;return n(u,s.mapping)}else{const u=s.image;if(u&&u.height>0){const f=new nF(u.height);return f.fromEquirectangularTexture(t,s),e.set(s,f),s.addEventListener("dispose",i),n(f.texture,s.mapping)}else return null}}return s}function i(s){const l=s.target;l.removeEventListener("dispose",i);const u=e.get(l);u!==void 0&&(e.delete(l),u.dispose())}function a(){e=new WeakMap}return{get:r,dispose:a}}const $l=4,V3=[.125,.215,.35,.446,.526,.582],Gc=20,EX=256,P0=new L2,W3=new sn;let Zy=null,Jy=0,Qy=0,eE=!1;const SX=new _e;class Y3{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._sizeLods=[],this._sigmas=[],this._lodMeshes=[],this._backgroundBox=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._blurMaterial=null,this._ggxMaterial=null}fromScene(e,n=0,r=.1,i=100,a={}){const{size:s=256,position:l=SX}=a;Zy=this._renderer.getRenderTarget(),Jy=this._renderer.getActiveCubeFace(),Qy=this._renderer.getActiveMipmapLevel(),eE=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(s);const u=this._allocateTargets();return u.depthBuffer=!0,this._sceneToCubeUV(e,r,i,u,l),n>0&&this._blur(u,0,0,n),this._applyPMREM(u),this._cleanup(u),u}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=K3(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=q3(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose(),this._backgroundBox!==null&&(this._backgroundBox.geometry.dispose(),this._backgroundBox.material.dispose())}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._ggxMaterial!==null&&this._ggxMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodMeshes.length;e++)this._lodMeshes[e].geometry.dispose()}_cleanup(e){this._renderer.setRenderTarget(Zy,Jy,Qy),this._renderer.xr.enabled=eE,e.scissorTest=!1,Nf(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===au||e.mapping===ih?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),Zy=this._renderer.getRenderTarget(),Jy=this._renderer.getActiveCubeFace(),Qy=this._renderer.getActiveMipmapLevel(),eE=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:ki,minFilter:ki,generateMipmaps:!1,type:Yo,format:Ss,colorSpace:sh,depthBuffer:!1},i=X3(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=X3(e,n,r);const{_lodMax:a}=this;({lodMeshes:this._lodMeshes,sizeLods:this._sizeLods,sigmas:this._sigmas}=bX(a)),this._blurMaterial=wX(a,e,n),this._ggxMaterial=TX(a,e,n)}return i}_compileMaterial(e){const n=new Ca(new Zi,e);this._renderer.compile(n,P0)}_sceneToCubeUV(e,n,r,i,a){const u=new ts(90,1,n,r),f=[1,-1,1,1,1,1],h=[1,1,1,-1,-1,-1],p=this._renderer,m=p.autoClear,g=p.toneMapping;p.getClearColor(W3),p.toneMapping=qs,p.autoClear=!1,p.state.buffers.depth.getReversed()&&(p.setRenderTarget(i),p.clearDepth(),p.setRenderTarget(null)),this._backgroundBox===null&&(this._backgroundBox=new Ca(new ou,new $I({name:"PMREM.Background",side:oa,depthWrite:!1,depthTest:!1})));const x=this._backgroundBox,y=x.material;let E=!1;const w=e.background;w?w.isColor&&(y.color.copy(w),e.background=null,E=!0):(y.color.copy(W3),E=!0);for(let b=0;b<6;b++){const M=b%3;M===0?(u.up.set(0,f[b],0),u.position.set(a.x,a.y,a.z),u.lookAt(a.x+h[b],a.y,a.z)):M===1?(u.up.set(0,0,f[b]),u.position.set(a.x,a.y,a.z),u.lookAt(a.x,a.y+h[b],a.z)):(u.up.set(0,f[b],0),u.position.set(a.x,a.y,a.z),u.lookAt(a.x,a.y,a.z+h[b]));const A=this._cubeSize;Nf(i,M*A,b>2?A:0,A,A),p.setRenderTarget(i),E&&p.render(x,u),p.render(e,u)}p.toneMapping=g,p.autoClear=m,e.background=w}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===au||e.mapping===ih;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=K3()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=q3());const a=i?this._cubemapMaterial:this._equirectMaterial,s=this._lodMeshes[0];s.material=a;const l=a.uniforms;l.envMap.value=e;const u=this._cubeSize;Nf(n,0,0,3*u,2*u),r.setRenderTarget(n),r.render(s,P0)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;const i=this._lodMeshes.length;for(let a=1;a<i;a++)this._applyGGXFilter(e,a-1,a);n.autoClear=r}_applyGGXFilter(e,n,r){const i=this._renderer,a=this._pingPongRenderTarget,s=this._ggxMaterial,l=this._lodMeshes[r];l.material=s;const u=s.uniforms,f=r/(this._lodMeshes.length-1),h=n/(this._lodMeshes.length-1),p=Math.sqrt(f*f-h*h),m=0+f*1.25,g=p*m,{_lodMax:_}=this,x=this._sizeLods[r],y=3*x*(r>_-$l?r-_+$l:0),E=4*(this._cubeSize-x);u.envMap.value=e.texture,u.roughness.value=g,u.mipInt.value=_-n,Nf(a,y,E,3*x,2*x),i.setRenderTarget(a),i.render(l,P0),u.envMap.value=a.texture,u.roughness.value=0,u.mipInt.value=_-r,Nf(e,y,E,3*x,2*x),i.setRenderTarget(e),i.render(l,P0)}_blur(e,n,r,i,a){const s=this._pingPongRenderTarget;this._halfBlur(e,s,n,r,i,"latitudinal",a),this._halfBlur(s,e,r,r,i,"longitudinal",a)}_halfBlur(e,n,r,i,a,s,l){const u=this._renderer,f=this._blurMaterial;s!=="latitudinal"&&s!=="longitudinal"&&dn("blur direction must be either latitudinal or longitudinal!");const h=3,p=this._lodMeshes[i];p.material=f;const m=f.uniforms,g=this._sizeLods[r]-1,_=isFinite(a)?Math.PI/(2*g):2*Math.PI/(2*Gc-1),x=a/_,y=isFinite(a)?1+Math.floor(h*x):Gc;y>Gc&&Vt(`sigmaRadians, ${a}, is too large and will clip, as it requested ${y} samples when the maximum is set to ${Gc}`);const E=[];let w=0;for(let R=0;R<Gc;++R){const F=R/x,O=Math.exp(-F*F/2);E.push(O),R===0?w+=O:R<y&&(w+=2*O)}for(let R=0;R<E.length;R++)E[R]=E[R]/w;m.envMap.value=e.texture,m.samples.value=y,m.weights.value=E,m.latitudinal.value=s==="latitudinal",l&&(m.poleAxis.value=l);const{_lodMax:b}=this;m.dTheta.value=_,m.mipInt.value=b-r;const M=this._sizeLods[i],A=3*M*(i>b-$l?i-b+$l:0),C=4*(this._cubeSize-M);Nf(n,A,C,3*M,2*M),u.setRenderTarget(n),u.render(p,P0)}}function bX(t){const e=[],n=[],r=[];let i=t;const a=t-$l+1+V3.length;for(let s=0;s<a;s++){const l=Math.pow(2,i);e.push(l);let u=1/l;s>t-$l?u=V3[s-t+$l-1]:s===0&&(u=0),n.push(u);const f=1/(l-2),h=-f,p=1+f,m=[h,h,p,h,p,p,h,h,p,p,h,p],g=6,_=6,x=3,y=2,E=1,w=new Float32Array(x*_*g),b=new Float32Array(y*_*g),M=new Float32Array(E*_*g);for(let C=0;C<g;C++){const R=C%3*2/3-1,F=C>2?0:-1,O=[R,F,0,R+2/3,F,0,R+2/3,F+1,0,R,F,0,R+2/3,F+1,0,R,F+1,0];w.set(O,x*_*C),b.set(m,y*_*C);const k=[C,C,C,C,C,C];M.set(k,E*_*C)}const A=new Zi;A.setAttribute("position",new ws(w,x)),A.setAttribute("uv",new ws(b,y)),A.setAttribute("faceIndex",new ws(M,E)),r.push(new Ca(A,null)),i>$l&&i--}return{lodMeshes:r,sizeLods:e,sigmas:n}}function X3(t,e,n){const r=new Ks(t,e,n);return r.texture.mapping=ax,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function Nf(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function TX(t,e,n){return new Qs({name:"PMREMGGXConvolution",defines:{GGX_SAMPLES:EX,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},roughness:{value:0},mipInt:{value:0}},vertexShader:lx(),fragmentShader:`

			precision highp float;
			precision highp int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform float roughness;
			uniform float mipInt;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			#define PI 3.14159265359

			// Van der Corput radical inverse
			float radicalInverse_VdC(uint bits) {
				bits = (bits << 16u) | (bits >> 16u);
				bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);
				bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);
				bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);
				bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);
				return float(bits) * 2.3283064365386963e-10; // / 0x100000000
			}

			// Hammersley sequence
			vec2 hammersley(uint i, uint N) {
				return vec2(float(i) / float(N), radicalInverse_VdC(i));
			}

			// GGX VNDF importance sampling (Eric Heitz 2018)
			// "Sampling the GGX Distribution of Visible Normals"
			// https://jcgt.org/published/0007/04/01/
			vec3 importanceSampleGGX_VNDF(vec2 Xi, vec3 V, float roughness) {
				float alpha = roughness * roughness;

				// Section 3.2: Transform view direction to hemisphere configuration
				vec3 Vh = normalize(vec3(alpha * V.x, alpha * V.y, V.z));

				// Section 4.1: Orthonormal basis
				float lensq = Vh.x * Vh.x + Vh.y * Vh.y;
				vec3 T1 = lensq > 0.0 ? vec3(-Vh.y, Vh.x, 0.0) / sqrt(lensq) : vec3(1.0, 0.0, 0.0);
				vec3 T2 = cross(Vh, T1);

				// Section 4.2: Parameterization of projected area
				float r = sqrt(Xi.x);
				float phi = 2.0 * PI * Xi.y;
				float t1 = r * cos(phi);
				float t2 = r * sin(phi);
				float s = 0.5 * (1.0 + Vh.z);
				t2 = (1.0 - s) * sqrt(1.0 - t1 * t1) + s * t2;

				// Section 4.3: Reprojection onto hemisphere
				vec3 Nh = t1 * T1 + t2 * T2 + sqrt(max(0.0, 1.0 - t1 * t1 - t2 * t2)) * Vh;

				// Section 3.4: Transform back to ellipsoid configuration
				return normalize(vec3(alpha * Nh.x, alpha * Nh.y, max(0.0, Nh.z)));
			}

			void main() {
				vec3 N = normalize(vOutputDirection);
				vec3 V = N; // Assume view direction equals normal for pre-filtering

				vec3 prefilteredColor = vec3(0.0);
				float totalWeight = 0.0;

				// For very low roughness, just sample the environment directly
				if (roughness < 0.001) {
					gl_FragColor = vec4(bilinearCubeUV(envMap, N, mipInt), 1.0);
					return;
				}

				// Tangent space basis for VNDF sampling
				vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);
				vec3 tangent = normalize(cross(up, N));
				vec3 bitangent = cross(N, tangent);

				for(uint i = 0u; i < uint(GGX_SAMPLES); i++) {
					vec2 Xi = hammersley(i, uint(GGX_SAMPLES));

					// For PMREM, V = N, so in tangent space V is always (0, 0, 1)
					vec3 H_tangent = importanceSampleGGX_VNDF(Xi, vec3(0.0, 0.0, 1.0), roughness);

					// Transform H back to world space
					vec3 H = normalize(tangent * H_tangent.x + bitangent * H_tangent.y + N * H_tangent.z);
					vec3 L = normalize(2.0 * dot(V, H) * H - V);

					float NdotL = max(dot(N, L), 0.0);

					if(NdotL > 0.0) {
						// Sample environment at fixed mip level
						// VNDF importance sampling handles the distribution filtering
						vec3 sampleColor = bilinearCubeUV(envMap, L, mipInt);

						// Weight by NdotL for the split-sum approximation
						// VNDF PDF naturally accounts for the visible microfacet distribution
						prefilteredColor += sampleColor * NdotL;
						totalWeight += NdotL;
					}
				}

				if (totalWeight > 0.0) {
					prefilteredColor = prefilteredColor / totalWeight;
				}

				gl_FragColor = vec4(prefilteredColor, 1.0);
			}
		`,blending:zo,depthTest:!1,depthWrite:!1})}function wX(t,e,n){const r=new Float32Array(Gc),i=new _e(0,1,0);return new Qs({name:"SphericalGaussianBlur",defines:{n:Gc,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:lx(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:zo,depthTest:!1,depthWrite:!1})}function q3(){return new Qs({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:lx(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:zo,depthTest:!1,depthWrite:!1})}function K3(){return new Qs({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:lx(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:zo,depthTest:!1,depthWrite:!1})}function lx(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function AX(t){let e=new WeakMap,n=null;function r(l){if(l&&l.isTexture){const u=l.mapping,f=u===db||u===pb,h=u===au||u===ih;if(f||h){let p=e.get(l);const m=p!==void 0?p.texture.pmremVersion:0;if(l.isRenderTargetTexture&&l.pmremVersion!==m)return n===null&&(n=new Y3(t)),p=f?n.fromEquirectangular(l,p):n.fromCubemap(l,p),p.texture.pmremVersion=l.pmremVersion,e.set(l,p),p.texture;if(p!==void 0)return p.texture;{const g=l.image;return f&&g&&g.height>0||h&&g&&i(g)?(n===null&&(n=new Y3(t)),p=f?n.fromEquirectangular(l):n.fromCubemap(l),p.texture.pmremVersion=l.pmremVersion,e.set(l,p),l.addEventListener("dispose",a),p.texture):null}}}return l}function i(l){let u=0;const f=6;for(let h=0;h<f;h++)l[h]!==void 0&&u++;return u===f}function a(l){const u=l.target;u.removeEventListener("dispose",a);const f=e.get(u);f!==void 0&&(e.delete(u),f.dispose())}function s(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:s}}function MX(t){const e={};function n(r){if(e[r]!==void 0)return e[r];const i=t.getExtension(r);return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(r){const i=n(r);return i===null&&cd("WebGLRenderer: "+r+" extension not supported."),i}}}function CX(t,e,n,r){const i={},a=new WeakMap;function s(p){const m=p.target;m.index!==null&&e.remove(m.index);for(const _ in m.attributes)e.remove(m.attributes[_]);m.removeEventListener("dispose",s),delete i[m.id];const g=a.get(m);g&&(e.remove(g),a.delete(m)),r.releaseStatesOfGeometry(m),m.isInstancedBufferGeometry===!0&&delete m._maxInstanceCount,n.memory.geometries--}function l(p,m){return i[m.id]===!0||(m.addEventListener("dispose",s),i[m.id]=!0,n.memory.geometries++),m}function u(p){const m=p.attributes;for(const g in m)e.update(m[g],t.ARRAY_BUFFER)}function f(p){const m=[],g=p.index,_=p.attributes.position;let x=0;if(g!==null){const w=g.array;x=g.version;for(let b=0,M=w.length;b<M;b+=3){const A=w[b+0],C=w[b+1],R=w[b+2];m.push(A,C,C,R,R,A)}}else if(_!==void 0){const w=_.array;x=_.version;for(let b=0,M=w.length/3-1;b<M;b+=3){const A=b+0,C=b+1,R=b+2;m.push(A,C,C,R,R,A)}}else return;const y=new(YI(m)?JI:ZI)(m,1);y.version=x;const E=a.get(p);E&&e.remove(E),a.set(p,y)}function h(p){const m=a.get(p);if(m){const g=p.index;g!==null&&m.version<g.version&&f(p)}else f(p);return a.get(p)}return{get:l,update:u,getWireframeAttribute:h}}function RX(t,e,n){let r;function i(m){r=m}let a,s;function l(m){a=m.type,s=m.bytesPerElement}function u(m,g){t.drawElements(r,g,a,m*s),n.update(g,r,1)}function f(m,g,_){_!==0&&(t.drawElementsInstanced(r,g,a,m*s,_),n.update(g,r,_))}function h(m,g,_){if(_===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(r,g,0,a,m,0,_);let y=0;for(let E=0;E<_;E++)y+=g[E];n.update(y,r,1)}function p(m,g,_,x){if(_===0)return;const y=e.get("WEBGL_multi_draw");if(y===null)for(let E=0;E<m.length;E++)f(m[E]/s,g[E],x[E]);else{y.multiDrawElementsInstancedWEBGL(r,g,0,a,m,0,x,0,_);let E=0;for(let w=0;w<_;w++)E+=g[w]*x[w];n.update(E,r,1)}}this.setMode=i,this.setIndex=l,this.render=u,this.renderInstances=f,this.renderMultiDraw=h,this.renderMultiDrawInstances=p}function OX(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(a,s,l){switch(n.calls++,s){case t.TRIANGLES:n.triangles+=l*(a/3);break;case t.LINES:n.lines+=l*(a/2);break;case t.LINE_STRIP:n.lines+=l*(a-1);break;case t.LINE_LOOP:n.lines+=l*a;break;case t.POINTS:n.points+=l*a;break;default:dn("WebGLInfo: Unknown draw mode:",s);break}}function i(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function PX(t,e,n){const r=new WeakMap,i=new vr;function a(s,l,u){const f=s.morphTargetInfluences,h=l.morphAttributes.position||l.morphAttributes.normal||l.morphAttributes.color,p=h!==void 0?h.length:0;let m=r.get(l);if(m===void 0||m.count!==p){let k=function(){F.dispose(),r.delete(l),l.removeEventListener("dispose",k)};var g=k;m!==void 0&&m.texture.dispose();const _=l.morphAttributes.position!==void 0,x=l.morphAttributes.normal!==void 0,y=l.morphAttributes.color!==void 0,E=l.morphAttributes.position||[],w=l.morphAttributes.normal||[],b=l.morphAttributes.color||[];let M=0;_===!0&&(M=1),x===!0&&(M=2),y===!0&&(M=3);let A=l.attributes.position.count*M,C=1;A>e.maxTextureSize&&(C=Math.ceil(A/e.maxTextureSize),A=e.maxTextureSize);const R=new Float32Array(A*C*4*p),F=new XI(R,A,C,p);F.type=Vs,F.needsUpdate=!0;const O=M*4;for(let D=0;D<p;D++){const U=E[D],Z=w[D],se=b[D],oe=A*C*4*D;for(let G=0;G<U.count;G++){const W=G*O;_===!0&&(i.fromBufferAttribute(U,G),R[oe+W+0]=i.x,R[oe+W+1]=i.y,R[oe+W+2]=i.z,R[oe+W+3]=0),x===!0&&(i.fromBufferAttribute(Z,G),R[oe+W+4]=i.x,R[oe+W+5]=i.y,R[oe+W+6]=i.z,R[oe+W+7]=0),y===!0&&(i.fromBufferAttribute(se,G),R[oe+W+8]=i.x,R[oe+W+9]=i.y,R[oe+W+10]=i.z,R[oe+W+11]=se.itemSize===4?i.w:1)}}m={count:p,texture:F,size:new bt(A,C)},r.set(l,m),l.addEventListener("dispose",k)}if(s.isInstancedMesh===!0&&s.morphTexture!==null)u.getUniforms().setValue(t,"morphTexture",s.morphTexture,n);else{let _=0;for(let y=0;y<f.length;y++)_+=f[y];const x=l.morphTargetsRelative?1:1-_;u.getUniforms().setValue(t,"morphTargetBaseInfluence",x),u.getUniforms().setValue(t,"morphTargetInfluences",f)}u.getUniforms().setValue(t,"morphTargetsTexture",m.texture,n),u.getUniforms().setValue(t,"morphTargetsTextureSize",m.size)}return{update:a}}function DX(t,e,n,r){let i=new WeakMap;function a(u){const f=r.render.frame,h=u.geometry,p=e.get(u,h);if(i.get(p)!==f&&(e.update(p),i.set(p,f)),u.isInstancedMesh&&(u.hasEventListener("dispose",l)===!1&&u.addEventListener("dispose",l),i.get(u)!==f&&(n.update(u.instanceMatrix,t.ARRAY_BUFFER),u.instanceColor!==null&&n.update(u.instanceColor,t.ARRAY_BUFFER),i.set(u,f))),u.isSkinnedMesh){const m=u.skeleton;i.get(m)!==f&&(m.update(),i.set(m,f))}return p}function s(){i=new WeakMap}function l(u){const f=u.target;f.removeEventListener("dispose",l),n.remove(f.instanceMatrix),f.instanceColor!==null&&n.remove(f.instanceColor)}return{update:a,dispose:s}}const NX={[OI]:"LINEAR_TONE_MAPPING",[PI]:"REINHARD_TONE_MAPPING",[DI]:"CINEON_TONE_MAPPING",[NI]:"ACES_FILMIC_TONE_MAPPING",[LI]:"AGX_TONE_MAPPING",[II]:"NEUTRAL_TONE_MAPPING",[kI]:"CUSTOM_TONE_MAPPING"};function kX(t,e,n,r,i){const a=new Ks(e,n,{type:t,depthBuffer:r,stencilBuffer:i}),s=new Ks(e,n,{type:Yo,depthBuffer:!1,stencilBuffer:!1}),l=new Zi;l.setAttribute("position",new Hr([-1,3,0,-1,-1,0,3,-1,0],3)),l.setAttribute("uv",new Hr([0,2,0,0,2,0],2));const u=new bV({uniforms:{tDiffuse:{value:null}},vertexShader:`
			precision highp float;

			uniform mat4 modelViewMatrix;
			uniform mat4 projectionMatrix;

			attribute vec3 position;
			attribute vec2 uv;

			varying vec2 vUv;

			void main() {
				vUv = uv;
				gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
			}`,fragmentShader:`
			precision highp float;

			uniform sampler2D tDiffuse;

			varying vec2 vUv;

			#include <tonemapping_pars_fragment>
			#include <colorspace_pars_fragment>

			void main() {
				gl_FragColor = texture2D( tDiffuse, vUv );

				#ifdef LINEAR_TONE_MAPPING
					gl_FragColor.rgb = LinearToneMapping( gl_FragColor.rgb );
				#elif defined( REINHARD_TONE_MAPPING )
					gl_FragColor.rgb = ReinhardToneMapping( gl_FragColor.rgb );
				#elif defined( CINEON_TONE_MAPPING )
					gl_FragColor.rgb = CineonToneMapping( gl_FragColor.rgb );
				#elif defined( ACES_FILMIC_TONE_MAPPING )
					gl_FragColor.rgb = ACESFilmicToneMapping( gl_FragColor.rgb );
				#elif defined( AGX_TONE_MAPPING )
					gl_FragColor.rgb = AgXToneMapping( gl_FragColor.rgb );
				#elif defined( NEUTRAL_TONE_MAPPING )
					gl_FragColor.rgb = NeutralToneMapping( gl_FragColor.rgb );
				#elif defined( CUSTOM_TONE_MAPPING )
					gl_FragColor.rgb = CustomToneMapping( gl_FragColor.rgb );
				#endif

				#ifdef SRGB_TRANSFER
					gl_FragColor = sRGBTransferOETF( gl_FragColor );
				#endif
			}`,depthTest:!1,depthWrite:!1}),f=new Ca(l,u),h=new L2(-1,1,1,-1,0,1);let p=null,m=null,g=!1,_,x=null,y=[],E=!1;this.setSize=function(w,b){a.setSize(w,b),s.setSize(w,b);for(let M=0;M<y.length;M++){const A=y[M];A.setSize&&A.setSize(w,b)}},this.setEffects=function(w){y=w,E=y.length>0&&y[0].isRenderPass===!0;const b=a.width,M=a.height;for(let A=0;A<y.length;A++){const C=y[A];C.setSize&&C.setSize(b,M)}},this.begin=function(w,b){if(g||w.toneMapping===qs&&y.length===0)return!1;if(x=b,b!==null){const M=b.width,A=b.height;(a.width!==M||a.height!==A)&&this.setSize(M,A)}return E===!1&&w.setRenderTarget(a),_=w.toneMapping,w.toneMapping=qs,!0},this.hasRenderPass=function(){return E},this.end=function(w,b){w.toneMapping=_,g=!0;let M=a,A=s;for(let C=0;C<y.length;C++){const R=y[C];if(R.enabled!==!1&&(R.render(w,A,M,b),R.needsSwap!==!1)){const F=M;M=A,A=F}}if(p!==w.outputColorSpace||m!==w.toneMapping){p=w.outputColorSpace,m=w.toneMapping,u.defines={},pn.getTransfer(p)===Pn&&(u.defines.SRGB_TRANSFER="");const C=NX[m];C&&(u.defines[C]=""),u.needsUpdate=!0}u.uniforms.tDiffuse.value=M.texture,w.setRenderTarget(x),w.render(f,h),x=null,g=!1},this.isCompositing=function(){return g},this.dispose=function(){a.dispose(),s.dispose(),l.dispose(),u.dispose()}}const hF=new Ii,Zb=new ud(1,1),dF=new XI,pF=new kG,mF=new tF,$3=[],Z3=[],J3=new Float32Array(16),Q3=new Float32Array(9),eP=new Float32Array(4);function _h(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let a=$3[i];if(a===void 0&&(a=new Float32Array(i),$3[i]=a),e!==0){r.toArray(a,0);for(let s=1,l=0;s!==e;++s)l+=n,t[s].toArray(a,l)}return a}function Gr(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function Vr(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function cx(t,e){let n=Z3[e];n===void 0&&(n=new Int32Array(e),Z3[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function LX(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function IX(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Gr(n,e))return;t.uniform2fv(this.addr,e),Vr(n,e)}}function FX(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(Gr(n,e))return;t.uniform3fv(this.addr,e),Vr(n,e)}}function UX(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Gr(n,e))return;t.uniform4fv(this.addr,e),Vr(n,e)}}function BX(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Gr(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),Vr(n,e)}else{if(Gr(n,r))return;eP.set(r),t.uniformMatrix2fv(this.addr,!1,eP),Vr(n,r)}}function zX(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Gr(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),Vr(n,e)}else{if(Gr(n,r))return;Q3.set(r),t.uniformMatrix3fv(this.addr,!1,Q3),Vr(n,r)}}function jX(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Gr(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),Vr(n,e)}else{if(Gr(n,r))return;J3.set(r),t.uniformMatrix4fv(this.addr,!1,J3),Vr(n,r)}}function HX(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function GX(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Gr(n,e))return;t.uniform2iv(this.addr,e),Vr(n,e)}}function VX(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Gr(n,e))return;t.uniform3iv(this.addr,e),Vr(n,e)}}function WX(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Gr(n,e))return;t.uniform4iv(this.addr,e),Vr(n,e)}}function YX(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function XX(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Gr(n,e))return;t.uniform2uiv(this.addr,e),Vr(n,e)}}function qX(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Gr(n,e))return;t.uniform3uiv(this.addr,e),Vr(n,e)}}function KX(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Gr(n,e))return;t.uniform4uiv(this.addr,e),Vr(n,e)}}function $X(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i);let a;this.type===t.SAMPLER_2D_SHADOW?(Zb.compareFunction=n.isReversedDepthBuffer()?A2:w2,a=Zb):a=hF,n.setTexture2D(e||a,i)}function ZX(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||pF,i)}function JX(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||mF,i)}function QX(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||dF,i)}function eq(t){switch(t){case 5126:return LX;case 35664:return IX;case 35665:return FX;case 35666:return UX;case 35674:return BX;case 35675:return zX;case 35676:return jX;case 5124:case 35670:return HX;case 35667:case 35671:return GX;case 35668:case 35672:return VX;case 35669:case 35673:return WX;case 5125:return YX;case 36294:return XX;case 36295:return qX;case 36296:return KX;case 35678:case 36198:case 36298:case 36306:case 35682:return $X;case 35679:case 36299:case 36307:return ZX;case 35680:case 36300:case 36308:case 36293:return JX;case 36289:case 36303:case 36311:case 36292:return QX}}function tq(t,e){t.uniform1fv(this.addr,e)}function nq(t,e){const n=_h(e,this.size,2);t.uniform2fv(this.addr,n)}function rq(t,e){const n=_h(e,this.size,3);t.uniform3fv(this.addr,n)}function iq(t,e){const n=_h(e,this.size,4);t.uniform4fv(this.addr,n)}function aq(t,e){const n=_h(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function sq(t,e){const n=_h(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function oq(t,e){const n=_h(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function lq(t,e){t.uniform1iv(this.addr,e)}function cq(t,e){t.uniform2iv(this.addr,e)}function uq(t,e){t.uniform3iv(this.addr,e)}function fq(t,e){t.uniform4iv(this.addr,e)}function hq(t,e){t.uniform1uiv(this.addr,e)}function dq(t,e){t.uniform2uiv(this.addr,e)}function pq(t,e){t.uniform3uiv(this.addr,e)}function mq(t,e){t.uniform4uiv(this.addr,e)}function vq(t,e,n){const r=this.cache,i=e.length,a=cx(n,i);Gr(r,a)||(t.uniform1iv(this.addr,a),Vr(r,a));let s;this.type===t.SAMPLER_2D_SHADOW?s=Zb:s=hF;for(let l=0;l!==i;++l)n.setTexture2D(e[l]||s,a[l])}function gq(t,e,n){const r=this.cache,i=e.length,a=cx(n,i);Gr(r,a)||(t.uniform1iv(this.addr,a),Vr(r,a));for(let s=0;s!==i;++s)n.setTexture3D(e[s]||pF,a[s])}function xq(t,e,n){const r=this.cache,i=e.length,a=cx(n,i);Gr(r,a)||(t.uniform1iv(this.addr,a),Vr(r,a));for(let s=0;s!==i;++s)n.setTextureCube(e[s]||mF,a[s])}function _q(t,e,n){const r=this.cache,i=e.length,a=cx(n,i);Gr(r,a)||(t.uniform1iv(this.addr,a),Vr(r,a));for(let s=0;s!==i;++s)n.setTexture2DArray(e[s]||dF,a[s])}function yq(t){switch(t){case 5126:return tq;case 35664:return nq;case 35665:return rq;case 35666:return iq;case 35674:return aq;case 35675:return sq;case 35676:return oq;case 5124:case 35670:return lq;case 35667:case 35671:return cq;case 35668:case 35672:return uq;case 35669:case 35673:return fq;case 5125:return hq;case 36294:return dq;case 36295:return pq;case 36296:return mq;case 35678:case 36198:case 36298:case 36306:case 35682:return vq;case 35679:case 36299:case 36307:return gq;case 35680:case 36300:case 36308:case 36293:return xq;case 36289:case 36303:case 36311:case 36292:return _q}}class Eq{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.setValue=eq(n.type)}}class Sq{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=yq(n.type)}}class bq{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let a=0,s=i.length;a!==s;++a){const l=i[a];l.setValue(e,n[l.id],r)}}}const tE=/(\w+)(\])?(\[|\.)?/g;function tP(t,e){t.seq.push(e),t.map[e.id]=e}function Tq(t,e,n){const r=t.name,i=r.length;for(tE.lastIndex=0;;){const a=tE.exec(r),s=tE.lastIndex;let l=a[1];const u=a[2]==="]",f=a[3];if(u&&(l=l|0),f===void 0||f==="["&&s+2===i){tP(n,f===void 0?new Eq(l,t,e):new Sq(l,t,e));break}else{let p=n.map[l];p===void 0&&(p=new bq(l),tP(n,p)),n=p}}}class zv{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let s=0;s<r;++s){const l=e.getActiveUniform(n,s),u=e.getUniformLocation(n,l.name);Tq(l,u,this)}const i=[],a=[];for(const s of this.seq)s.type===e.SAMPLER_2D_SHADOW||s.type===e.SAMPLER_CUBE_SHADOW||s.type===e.SAMPLER_2D_ARRAY_SHADOW?i.push(s):a.push(s);i.length>0&&(this.seq=i.concat(a))}setValue(e,n,r,i){const a=this.map[n];a!==void 0&&a.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let a=0,s=n.length;a!==s;++a){const l=n[a],u=r[l.id];u.needsUpdate!==!1&&l.setValue(e,u.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,a=e.length;i!==a;++i){const s=e[i];s.id in n&&r.push(s)}return r}}function nP(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}const wq=37297;let Aq=0;function Mq(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),a=Math.min(e+6,n.length);for(let s=i;s<a;s++){const l=s+1;r.push(`${l===e?">":" "} ${l}: ${n[s]}`)}return r.join(`
`)}const rP=new Jt;function Cq(t){pn._getMatrix(rP,pn.workingColorSpace,t);const e=`mat3( ${rP.elements.map(n=>n.toFixed(4))} )`;switch(pn.getTransfer(t)){case qv:return[e,"LinearTransferOETF"];case Pn:return[e,"sRGBTransferOETF"];default:return Vt("WebGLProgram: Unsupported color space: ",t),[e,"LinearTransferOETF"]}}function iP(t,e,n){const r=t.getShaderParameter(e,t.COMPILE_STATUS),a=(t.getShaderInfoLog(e)||"").trim();if(r&&a==="")return"";const s=/ERROR: 0:(\d+)/.exec(a);if(s){const l=parseInt(s[1]);return n.toUpperCase()+`

`+a+`

`+Mq(t.getShaderSource(e),l)}else return a}function Rq(t,e){const n=Cq(e);return[`vec4 ${t}( vec4 value ) {`,`	return ${n[1]}( vec4( value.rgb * ${n[0]}, value.a ) );`,"}"].join(`
`)}const Oq={[OI]:"Linear",[PI]:"Reinhard",[DI]:"Cineon",[NI]:"ACESFilmic",[LI]:"AgX",[II]:"Neutral",[kI]:"Custom"};function Pq(t,e){const n=Oq[e];return n===void 0?(Vt("WebGLProgram: Unsupported toneMapping:",e),"vec3 "+t+"( vec3 color ) { return LinearToneMapping( color ); }"):"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}const tv=new _e;function Dq(){pn.getLuminanceCoefficients(tv);const t=tv.x.toFixed(4),e=tv.y.toFixed(4),n=tv.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${t}, ${e}, ${n} );`,"	return dot( weights, rgb );","}"].join(`
`)}function Nq(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(V0).join(`
`)}function kq(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function Lq(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const a=t.getActiveAttrib(e,i),s=a.name;let l=1;a.type===t.FLOAT_MAT2&&(l=2),a.type===t.FLOAT_MAT3&&(l=3),a.type===t.FLOAT_MAT4&&(l=4),n[s]={type:a.type,location:t.getAttribLocation(e,s),locationSize:l}}return n}function V0(t){return t!==""}function aP(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function sP(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Iq=/^[ \t]*#include +<([\w\d./]+)>/gm;function Jb(t){return t.replace(Iq,Uq)}const Fq=new Map;function Uq(t,e){let n=Qt[e];if(n===void 0){const r=Fq.get(e);if(r!==void 0)n=Qt[r],Vt('WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return Jb(n)}const Bq=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function oP(t){return t.replace(Bq,zq)}function zq(t,e,n,r){let i="";for(let a=parseInt(e);a<parseInt(n);a++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return i}function lP(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	precision ${t.precision} sampler3D;
	precision ${t.precision} sampler2DArray;
	precision ${t.precision} sampler2DShadow;
	precision ${t.precision} samplerCubeShadow;
	precision ${t.precision} sampler2DArrayShadow;
	precision ${t.precision} isampler2D;
	precision ${t.precision} isampler3D;
	precision ${t.precision} isamplerCube;
	precision ${t.precision} isampler2DArray;
	precision ${t.precision} usampler2D;
	precision ${t.precision} usampler3D;
	precision ${t.precision} usamplerCube;
	precision ${t.precision} usampler2DArray;
	`;return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}const jq={[kv]:"SHADOWMAP_TYPE_PCF",[G0]:"SHADOWMAP_TYPE_VSM"};function Hq(t){return jq[t.shadowMapType]||"SHADOWMAP_TYPE_BASIC"}const Gq={[au]:"ENVMAP_TYPE_CUBE",[ih]:"ENVMAP_TYPE_CUBE",[ax]:"ENVMAP_TYPE_CUBE_UV"};function Vq(t){return t.envMap===!1?"ENVMAP_TYPE_CUBE":Gq[t.envMapMode]||"ENVMAP_TYPE_CUBE"}const Wq={[ih]:"ENVMAP_MODE_REFRACTION"};function Yq(t){return t.envMap===!1?"ENVMAP_MODE_REFLECTION":Wq[t.envMapMode]||"ENVMAP_MODE_REFLECTION"}const Xq={[RI]:"ENVMAP_BLENDING_MULTIPLY",[pG]:"ENVMAP_BLENDING_MIX",[mG]:"ENVMAP_BLENDING_ADD"};function qq(t){return t.envMap===!1?"ENVMAP_BLENDING_NONE":Xq[t.combine]||"ENVMAP_BLENDING_NONE"}function Kq(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),112)),texelHeight:r,maxMip:n}}function $q(t,e,n,r){const i=t.getContext(),a=n.defines;let s=n.vertexShader,l=n.fragmentShader;const u=Hq(n),f=Vq(n),h=Yq(n),p=qq(n),m=Kq(n),g=Nq(n),_=kq(a),x=i.createProgram();let y,E,w=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(y=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,_].filter(V0).join(`
`),y.length>0&&(y+=`
`),E=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,_].filter(V0).join(`
`),E.length>0&&(E+=`
`)):(y=[lP(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,_,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+h:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+u:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",n.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(V0).join(`
`),E=[lP(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,_,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+f:"",n.envMap?"#define "+h:"",n.envMap?"#define "+p:"",m?"#define CUBEUV_TEXEL_WIDTH "+m.texelWidth:"",m?"#define CUBEUV_TEXEL_HEIGHT "+m.texelHeight:"",m?"#define CUBEUV_MAX_MIP "+m.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor||n.batchingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+u:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",n.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",n.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==qs?"#define TONE_MAPPING":"",n.toneMapping!==qs?Qt.tonemapping_pars_fragment:"",n.toneMapping!==qs?Pq("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",Qt.colorspace_pars_fragment,Rq("linearToOutputTexel",n.outputColorSpace),Dq(),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(V0).join(`
`)),s=Jb(s),s=aP(s,n),s=sP(s,n),l=Jb(l),l=aP(l,n),l=sP(l,n),s=oP(s),l=oP(l),n.isRawShaderMaterial!==!0&&(w=`#version 300 es
`,y=[g,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+y,E=["#define varying in",n.glslVersion===m3?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===m3?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+E);const b=w+y+s,M=w+E+l,A=nP(i,i.VERTEX_SHADER,b),C=nP(i,i.FRAGMENT_SHADER,M);i.attachShader(x,A),i.attachShader(x,C),n.index0AttributeName!==void 0?i.bindAttribLocation(x,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(x,0,"position"),i.linkProgram(x);function R(D){if(t.debug.checkShaderErrors){const U=i.getProgramInfoLog(x)||"",Z=i.getShaderInfoLog(A)||"",se=i.getShaderInfoLog(C)||"",oe=U.trim(),G=Z.trim(),W=se.trim();let ee=!0,Y=!0;if(i.getProgramParameter(x,i.LINK_STATUS)===!1)if(ee=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(i,x,A,C);else{const pe=iP(i,A,"vertex"),z=iP(i,C,"fragment");dn("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(x,i.VALIDATE_STATUS)+`

Material Name: `+D.name+`
Material Type: `+D.type+`

Program Info Log: `+oe+`
`+pe+`
`+z)}else oe!==""?Vt("WebGLProgram: Program Info Log:",oe):(G===""||W==="")&&(Y=!1);Y&&(D.diagnostics={runnable:ee,programLog:oe,vertexShader:{log:G,prefix:y},fragmentShader:{log:W,prefix:E}})}i.deleteShader(A),i.deleteShader(C),F=new zv(i,x),O=Lq(i,x)}let F;this.getUniforms=function(){return F===void 0&&R(this),F};let O;this.getAttributes=function(){return O===void 0&&R(this),O};let k=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return k===!1&&(k=i.getProgramParameter(x,wq)),k},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(x),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=Aq++,this.cacheKey=e,this.usedTimes=1,this.program=x,this.vertexShader=A,this.fragmentShader=C,this}let Zq=0;class Jq{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),a=this._getShaderStage(r),s=this._getShaderCacheForMaterial(e);return s.has(i)===!1&&(s.add(i),i.usedTimes++),s.has(a)===!1&&(s.add(a),a.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new Qq(e),n.set(e,r)),r}}class Qq{constructor(e){this.id=Zq++,this.code=e,this.usedTimes=0}}function eK(t,e,n,r,i,a,s){const l=new qI,u=new Jq,f=new Set,h=[],p=new Map,m=i.logarithmicDepthBuffer;let g=i.precision;const _={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distance",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function x(O){return f.add(O),O===0?"uv":`uv${O}`}function y(O,k,D,U,Z){const se=U.fog,oe=Z.geometry,G=O.isMeshStandardMaterial?U.environment:null,W=(O.isMeshStandardMaterial?n:e).get(O.envMap||G),ee=W&&W.mapping===ax?W.image.height:null,Y=_[O.type];O.precision!==null&&(g=i.getMaxPrecision(O.precision),g!==O.precision&&Vt("WebGLProgram.getParameters:",O.precision,"not supported, using",g,"instead."));const pe=oe.morphAttributes.position||oe.morphAttributes.normal||oe.morphAttributes.color,z=pe!==void 0?pe.length:0;let I=0;oe.morphAttributes.position!==void 0&&(I=1),oe.morphAttributes.normal!==void 0&&(I=2),oe.morphAttributes.color!==void 0&&(I=3);let V,X,te,J;if(Y){const fn=Hs[Y];V=fn.vertexShader,X=fn.fragmentShader}else V=O.vertexShader,X=O.fragmentShader,u.update(O),te=u.getVertexShaderID(O),J=u.getFragmentShaderID(O);const fe=t.getRenderTarget(),ae=t.state.buffers.depth.getReversed(),Q=Z.isInstancedMesh===!0,de=Z.isBatchedMesh===!0,Ae=!!O.map,j=!!O.matcap,We=!!W,Le=!!O.aoMap,Je=!!O.lightMap,Xe=!!O.bumpMap,Ge=!!O.normalMap,ce=!!O.displacementMap,Ft=!!O.emissiveMap,Ct=!!O.metalnessMap,Nt=!!O.roughnessMap,rt=O.anisotropy>0,ie=O.clearcoat>0,B=O.dispersion>0,ve=O.iridescence>0,Ie=O.sheen>0,Ue=O.transmission>0,Te=rt&&!!O.anisotropyMap,dt=ie&&!!O.clearcoatMap,Be=ie&&!!O.clearcoatNormalMap,st=ie&&!!O.clearcoatRoughnessMap,Tt=ve&&!!O.iridescenceMap,Ve=ve&&!!O.iridescenceThicknessMap,Qe=Ie&&!!O.sheenColorMap,gt=Ie&&!!O.sheenRoughnessMap,vt=!!O.specularMap,it=!!O.specularColorMap,Pt=!!O.specularIntensityMap,ge=Ue&&!!O.transmissionMap,at=Ue&&!!O.thicknessMap,et=!!O.gradientMap,pt=!!O.alphaMap,$e=O.alphaTest>0,qe=!!O.alphaHash,ot=!!O.extensions;let Gt=qs;O.toneMapped&&(fe===null||fe.isXRRenderTarget===!0)&&(Gt=t.toneMapping);const Sn={shaderID:Y,shaderType:O.type,shaderName:O.name,vertexShader:V,fragmentShader:X,defines:O.defines,customVertexShaderID:te,customFragmentShaderID:J,isRawShaderMaterial:O.isRawShaderMaterial===!0,glslVersion:O.glslVersion,precision:g,batching:de,batchingColor:de&&Z._colorsTexture!==null,instancing:Q,instancingColor:Q&&Z.instanceColor!==null,instancingMorph:Q&&Z.morphTexture!==null,outputColorSpace:fe===null?t.outputColorSpace:fe.isXRRenderTarget===!0?fe.texture.colorSpace:sh,alphaToCoverage:!!O.alphaToCoverage,map:Ae,matcap:j,envMap:We,envMapMode:We&&W.mapping,envMapCubeUVHeight:ee,aoMap:Le,lightMap:Je,bumpMap:Xe,normalMap:Ge,displacementMap:ce,emissiveMap:Ft,normalMapObjectSpace:Ge&&O.normalMapType===xG,normalMapTangentSpace:Ge&&O.normalMapType===WI,metalnessMap:Ct,roughnessMap:Nt,anisotropy:rt,anisotropyMap:Te,clearcoat:ie,clearcoatMap:dt,clearcoatNormalMap:Be,clearcoatRoughnessMap:st,dispersion:B,iridescence:ve,iridescenceMap:Tt,iridescenceThicknessMap:Ve,sheen:Ie,sheenColorMap:Qe,sheenRoughnessMap:gt,specularMap:vt,specularColorMap:it,specularIntensityMap:Pt,transmission:Ue,transmissionMap:ge,thicknessMap:at,gradientMap:et,opaque:O.transparent===!1&&O.blending===qf&&O.alphaToCoverage===!1,alphaMap:pt,alphaTest:$e,alphaHash:qe,combine:O.combine,mapUv:Ae&&x(O.map.channel),aoMapUv:Le&&x(O.aoMap.channel),lightMapUv:Je&&x(O.lightMap.channel),bumpMapUv:Xe&&x(O.bumpMap.channel),normalMapUv:Ge&&x(O.normalMap.channel),displacementMapUv:ce&&x(O.displacementMap.channel),emissiveMapUv:Ft&&x(O.emissiveMap.channel),metalnessMapUv:Ct&&x(O.metalnessMap.channel),roughnessMapUv:Nt&&x(O.roughnessMap.channel),anisotropyMapUv:Te&&x(O.anisotropyMap.channel),clearcoatMapUv:dt&&x(O.clearcoatMap.channel),clearcoatNormalMapUv:Be&&x(O.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:st&&x(O.clearcoatRoughnessMap.channel),iridescenceMapUv:Tt&&x(O.iridescenceMap.channel),iridescenceThicknessMapUv:Ve&&x(O.iridescenceThicknessMap.channel),sheenColorMapUv:Qe&&x(O.sheenColorMap.channel),sheenRoughnessMapUv:gt&&x(O.sheenRoughnessMap.channel),specularMapUv:vt&&x(O.specularMap.channel),specularColorMapUv:it&&x(O.specularColorMap.channel),specularIntensityMapUv:Pt&&x(O.specularIntensityMap.channel),transmissionMapUv:ge&&x(O.transmissionMap.channel),thicknessMapUv:at&&x(O.thicknessMap.channel),alphaMapUv:pt&&x(O.alphaMap.channel),vertexTangents:!!oe.attributes.tangent&&(Ge||rt),vertexColors:O.vertexColors,vertexAlphas:O.vertexColors===!0&&!!oe.attributes.color&&oe.attributes.color.itemSize===4,pointsUvs:Z.isPoints===!0&&!!oe.attributes.uv&&(Ae||pt),fog:!!se,useFog:O.fog===!0,fogExp2:!!se&&se.isFogExp2,flatShading:O.flatShading===!0&&O.wireframe===!1,sizeAttenuation:O.sizeAttenuation===!0,logarithmicDepthBuffer:m,reversedDepthBuffer:ae,skinning:Z.isSkinnedMesh===!0,morphTargets:oe.morphAttributes.position!==void 0,morphNormals:oe.morphAttributes.normal!==void 0,morphColors:oe.morphAttributes.color!==void 0,morphTargetsCount:z,morphTextureStride:I,numDirLights:k.directional.length,numPointLights:k.point.length,numSpotLights:k.spot.length,numSpotLightMaps:k.spotLightMap.length,numRectAreaLights:k.rectArea.length,numHemiLights:k.hemi.length,numDirLightShadows:k.directionalShadowMap.length,numPointLightShadows:k.pointShadowMap.length,numSpotLightShadows:k.spotShadowMap.length,numSpotLightShadowsWithMaps:k.numSpotLightShadowsWithMaps,numLightProbes:k.numLightProbes,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:O.dithering,shadowMapEnabled:t.shadowMap.enabled&&D.length>0,shadowMapType:t.shadowMap.type,toneMapping:Gt,decodeVideoTexture:Ae&&O.map.isVideoTexture===!0&&pn.getTransfer(O.map.colorSpace)===Pn,decodeVideoTextureEmissive:Ft&&O.emissiveMap.isVideoTexture===!0&&pn.getTransfer(O.emissiveMap.colorSpace)===Pn,premultipliedAlpha:O.premultipliedAlpha,doubleSided:O.side===No,flipSided:O.side===oa,useDepthPacking:O.depthPacking>=0,depthPacking:O.depthPacking||0,index0AttributeName:O.index0AttributeName,extensionClipCullDistance:ot&&O.extensions.clipCullDistance===!0&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(ot&&O.extensions.multiDraw===!0||de)&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:O.customProgramCacheKey()};return Sn.vertexUv1s=f.has(1),Sn.vertexUv2s=f.has(2),Sn.vertexUv3s=f.has(3),f.clear(),Sn}function E(O){const k=[];if(O.shaderID?k.push(O.shaderID):(k.push(O.customVertexShaderID),k.push(O.customFragmentShaderID)),O.defines!==void 0)for(const D in O.defines)k.push(D),k.push(O.defines[D]);return O.isRawShaderMaterial===!1&&(w(k,O),b(k,O),k.push(t.outputColorSpace)),k.push(O.customProgramCacheKey),k.join()}function w(O,k){O.push(k.precision),O.push(k.outputColorSpace),O.push(k.envMapMode),O.push(k.envMapCubeUVHeight),O.push(k.mapUv),O.push(k.alphaMapUv),O.push(k.lightMapUv),O.push(k.aoMapUv),O.push(k.bumpMapUv),O.push(k.normalMapUv),O.push(k.displacementMapUv),O.push(k.emissiveMapUv),O.push(k.metalnessMapUv),O.push(k.roughnessMapUv),O.push(k.anisotropyMapUv),O.push(k.clearcoatMapUv),O.push(k.clearcoatNormalMapUv),O.push(k.clearcoatRoughnessMapUv),O.push(k.iridescenceMapUv),O.push(k.iridescenceThicknessMapUv),O.push(k.sheenColorMapUv),O.push(k.sheenRoughnessMapUv),O.push(k.specularMapUv),O.push(k.specularColorMapUv),O.push(k.specularIntensityMapUv),O.push(k.transmissionMapUv),O.push(k.thicknessMapUv),O.push(k.combine),O.push(k.fogExp2),O.push(k.sizeAttenuation),O.push(k.morphTargetsCount),O.push(k.morphAttributeCount),O.push(k.numDirLights),O.push(k.numPointLights),O.push(k.numSpotLights),O.push(k.numSpotLightMaps),O.push(k.numHemiLights),O.push(k.numRectAreaLights),O.push(k.numDirLightShadows),O.push(k.numPointLightShadows),O.push(k.numSpotLightShadows),O.push(k.numSpotLightShadowsWithMaps),O.push(k.numLightProbes),O.push(k.shadowMapType),O.push(k.toneMapping),O.push(k.numClippingPlanes),O.push(k.numClipIntersection),O.push(k.depthPacking)}function b(O,k){l.disableAll(),k.instancing&&l.enable(0),k.instancingColor&&l.enable(1),k.instancingMorph&&l.enable(2),k.matcap&&l.enable(3),k.envMap&&l.enable(4),k.normalMapObjectSpace&&l.enable(5),k.normalMapTangentSpace&&l.enable(6),k.clearcoat&&l.enable(7),k.iridescence&&l.enable(8),k.alphaTest&&l.enable(9),k.vertexColors&&l.enable(10),k.vertexAlphas&&l.enable(11),k.vertexUv1s&&l.enable(12),k.vertexUv2s&&l.enable(13),k.vertexUv3s&&l.enable(14),k.vertexTangents&&l.enable(15),k.anisotropy&&l.enable(16),k.alphaHash&&l.enable(17),k.batching&&l.enable(18),k.dispersion&&l.enable(19),k.batchingColor&&l.enable(20),k.gradientMap&&l.enable(21),O.push(l.mask),l.disableAll(),k.fog&&l.enable(0),k.useFog&&l.enable(1),k.flatShading&&l.enable(2),k.logarithmicDepthBuffer&&l.enable(3),k.reversedDepthBuffer&&l.enable(4),k.skinning&&l.enable(5),k.morphTargets&&l.enable(6),k.morphNormals&&l.enable(7),k.morphColors&&l.enable(8),k.premultipliedAlpha&&l.enable(9),k.shadowMapEnabled&&l.enable(10),k.doubleSided&&l.enable(11),k.flipSided&&l.enable(12),k.useDepthPacking&&l.enable(13),k.dithering&&l.enable(14),k.transmission&&l.enable(15),k.sheen&&l.enable(16),k.opaque&&l.enable(17),k.pointsUvs&&l.enable(18),k.decodeVideoTexture&&l.enable(19),k.decodeVideoTextureEmissive&&l.enable(20),k.alphaToCoverage&&l.enable(21),O.push(l.mask)}function M(O){const k=_[O.type];let D;if(k){const U=Hs[k];D=XG.clone(U.uniforms)}else D=O.uniforms;return D}function A(O,k){let D=p.get(k);return D!==void 0?++D.usedTimes:(D=new $q(t,k,O,a),h.push(D),p.set(k,D)),D}function C(O){if(--O.usedTimes===0){const k=h.indexOf(O);h[k]=h[h.length-1],h.pop(),p.delete(O.cacheKey),O.destroy()}}function R(O){u.remove(O)}function F(){u.dispose()}return{getParameters:y,getProgramCacheKey:E,getUniforms:M,acquireProgram:A,releaseProgram:C,releaseShaderCache:R,programs:h,dispose:F}}function tK(){let t=new WeakMap;function e(s){return t.has(s)}function n(s){let l=t.get(s);return l===void 0&&(l={},t.set(s,l)),l}function r(s){t.delete(s)}function i(s,l,u){t.get(s)[l]=u}function a(){t=new WeakMap}return{has:e,get:n,remove:r,update:i,dispose:a}}function nK(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function cP(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function uP(){const t=[];let e=0;const n=[],r=[],i=[];function a(){e=0,n.length=0,r.length=0,i.length=0}function s(p,m,g,_,x,y){let E=t[e];return E===void 0?(E={id:p.id,object:p,geometry:m,material:g,groupOrder:_,renderOrder:p.renderOrder,z:x,group:y},t[e]=E):(E.id=p.id,E.object=p,E.geometry=m,E.material=g,E.groupOrder=_,E.renderOrder=p.renderOrder,E.z=x,E.group=y),e++,E}function l(p,m,g,_,x,y){const E=s(p,m,g,_,x,y);g.transmission>0?r.push(E):g.transparent===!0?i.push(E):n.push(E)}function u(p,m,g,_,x,y){const E=s(p,m,g,_,x,y);g.transmission>0?r.unshift(E):g.transparent===!0?i.unshift(E):n.unshift(E)}function f(p,m){n.length>1&&n.sort(p||nK),r.length>1&&r.sort(m||cP),i.length>1&&i.sort(m||cP)}function h(){for(let p=e,m=t.length;p<m;p++){const g=t[p];if(g.id===null)break;g.id=null,g.object=null,g.geometry=null,g.material=null,g.group=null}}return{opaque:n,transmissive:r,transparent:i,init:a,push:l,unshift:u,finish:h,sort:f}}function rK(){let t=new WeakMap;function e(r,i){const a=t.get(r);let s;return a===void 0?(s=new uP,t.set(r,[s])):i>=a.length?(s=new uP,a.push(s)):s=a[i],s}function n(){t=new WeakMap}return{get:e,dispose:n}}function iK(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new _e,color:new sn};break;case"SpotLight":n={position:new _e,direction:new _e,color:new sn,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new _e,color:new sn,distance:0,decay:0};break;case"HemisphereLight":n={direction:new _e,skyColor:new sn,groundColor:new sn};break;case"RectAreaLight":n={color:new sn,position:new _e,halfWidth:new _e,halfHeight:new _e};break}return t[e.id]=n,n}}}function aK(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new bt};break;case"SpotLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new bt};break;case"PointLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new bt,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let sK=0;function oK(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function lK(t){const e=new iK,n=aK(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let f=0;f<9;f++)r.probe.push(new _e);const i=new _e,a=new Qn,s=new Qn;function l(f){let h=0,p=0,m=0;for(let O=0;O<9;O++)r.probe[O].set(0,0,0);let g=0,_=0,x=0,y=0,E=0,w=0,b=0,M=0,A=0,C=0,R=0;f.sort(oK);for(let O=0,k=f.length;O<k;O++){const D=f[O],U=D.color,Z=D.intensity,se=D.distance;let oe=null;if(D.shadow&&D.shadow.map&&(D.shadow.map.texture.format===ah?oe=D.shadow.map.texture:oe=D.shadow.map.depthTexture||D.shadow.map.texture),D.isAmbientLight)h+=U.r*Z,p+=U.g*Z,m+=U.b*Z;else if(D.isLightProbe){for(let G=0;G<9;G++)r.probe[G].addScaledVector(D.sh.coefficients[G],Z);R++}else if(D.isDirectionalLight){const G=e.get(D);if(G.color.copy(D.color).multiplyScalar(D.intensity),D.castShadow){const W=D.shadow,ee=n.get(D);ee.shadowIntensity=W.intensity,ee.shadowBias=W.bias,ee.shadowNormalBias=W.normalBias,ee.shadowRadius=W.radius,ee.shadowMapSize=W.mapSize,r.directionalShadow[g]=ee,r.directionalShadowMap[g]=oe,r.directionalShadowMatrix[g]=D.shadow.matrix,w++}r.directional[g]=G,g++}else if(D.isSpotLight){const G=e.get(D);G.position.setFromMatrixPosition(D.matrixWorld),G.color.copy(U).multiplyScalar(Z),G.distance=se,G.coneCos=Math.cos(D.angle),G.penumbraCos=Math.cos(D.angle*(1-D.penumbra)),G.decay=D.decay,r.spot[x]=G;const W=D.shadow;if(D.map&&(r.spotLightMap[A]=D.map,A++,W.updateMatrices(D),D.castShadow&&C++),r.spotLightMatrix[x]=W.matrix,D.castShadow){const ee=n.get(D);ee.shadowIntensity=W.intensity,ee.shadowBias=W.bias,ee.shadowNormalBias=W.normalBias,ee.shadowRadius=W.radius,ee.shadowMapSize=W.mapSize,r.spotShadow[x]=ee,r.spotShadowMap[x]=oe,M++}x++}else if(D.isRectAreaLight){const G=e.get(D);G.color.copy(U).multiplyScalar(Z),G.halfWidth.set(D.width*.5,0,0),G.halfHeight.set(0,D.height*.5,0),r.rectArea[y]=G,y++}else if(D.isPointLight){const G=e.get(D);if(G.color.copy(D.color).multiplyScalar(D.intensity),G.distance=D.distance,G.decay=D.decay,D.castShadow){const W=D.shadow,ee=n.get(D);ee.shadowIntensity=W.intensity,ee.shadowBias=W.bias,ee.shadowNormalBias=W.normalBias,ee.shadowRadius=W.radius,ee.shadowMapSize=W.mapSize,ee.shadowCameraNear=W.camera.near,ee.shadowCameraFar=W.camera.far,r.pointShadow[_]=ee,r.pointShadowMap[_]=oe,r.pointShadowMatrix[_]=D.shadow.matrix,b++}r.point[_]=G,_++}else if(D.isHemisphereLight){const G=e.get(D);G.skyColor.copy(D.color).multiplyScalar(Z),G.groundColor.copy(D.groundColor).multiplyScalar(Z),r.hemi[E]=G,E++}}y>0&&(t.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=yt.LTC_FLOAT_1,r.rectAreaLTC2=yt.LTC_FLOAT_2):(r.rectAreaLTC1=yt.LTC_HALF_1,r.rectAreaLTC2=yt.LTC_HALF_2)),r.ambient[0]=h,r.ambient[1]=p,r.ambient[2]=m;const F=r.hash;(F.directionalLength!==g||F.pointLength!==_||F.spotLength!==x||F.rectAreaLength!==y||F.hemiLength!==E||F.numDirectionalShadows!==w||F.numPointShadows!==b||F.numSpotShadows!==M||F.numSpotMaps!==A||F.numLightProbes!==R)&&(r.directional.length=g,r.spot.length=x,r.rectArea.length=y,r.point.length=_,r.hemi.length=E,r.directionalShadow.length=w,r.directionalShadowMap.length=w,r.pointShadow.length=b,r.pointShadowMap.length=b,r.spotShadow.length=M,r.spotShadowMap.length=M,r.directionalShadowMatrix.length=w,r.pointShadowMatrix.length=b,r.spotLightMatrix.length=M+A-C,r.spotLightMap.length=A,r.numSpotLightShadowsWithMaps=C,r.numLightProbes=R,F.directionalLength=g,F.pointLength=_,F.spotLength=x,F.rectAreaLength=y,F.hemiLength=E,F.numDirectionalShadows=w,F.numPointShadows=b,F.numSpotShadows=M,F.numSpotMaps=A,F.numLightProbes=R,r.version=sK++)}function u(f,h){let p=0,m=0,g=0,_=0,x=0;const y=h.matrixWorldInverse;for(let E=0,w=f.length;E<w;E++){const b=f[E];if(b.isDirectionalLight){const M=r.directional[p];M.direction.setFromMatrixPosition(b.matrixWorld),i.setFromMatrixPosition(b.target.matrixWorld),M.direction.sub(i),M.direction.transformDirection(y),p++}else if(b.isSpotLight){const M=r.spot[g];M.position.setFromMatrixPosition(b.matrixWorld),M.position.applyMatrix4(y),M.direction.setFromMatrixPosition(b.matrixWorld),i.setFromMatrixPosition(b.target.matrixWorld),M.direction.sub(i),M.direction.transformDirection(y),g++}else if(b.isRectAreaLight){const M=r.rectArea[_];M.position.setFromMatrixPosition(b.matrixWorld),M.position.applyMatrix4(y),s.identity(),a.copy(b.matrixWorld),a.premultiply(y),s.extractRotation(a),M.halfWidth.set(b.width*.5,0,0),M.halfHeight.set(0,b.height*.5,0),M.halfWidth.applyMatrix4(s),M.halfHeight.applyMatrix4(s),_++}else if(b.isPointLight){const M=r.point[m];M.position.setFromMatrixPosition(b.matrixWorld),M.position.applyMatrix4(y),m++}else if(b.isHemisphereLight){const M=r.hemi[x];M.direction.setFromMatrixPosition(b.matrixWorld),M.direction.transformDirection(y),x++}}}return{setup:l,setupView:u,state:r}}function fP(t){const e=new lK(t),n=[],r=[];function i(h){f.camera=h,n.length=0,r.length=0}function a(h){n.push(h)}function s(h){r.push(h)}function l(){e.setup(n)}function u(h){e.setupView(n,h)}const f={lightsArray:n,shadowsArray:r,camera:null,lights:e,transmissionRenderTarget:{}};return{init:i,state:f,setupLights:l,setupLightsView:u,pushLight:a,pushShadow:s}}function cK(t){let e=new WeakMap;function n(i,a=0){const s=e.get(i);let l;return s===void 0?(l=new fP(t),e.set(i,[l])):a>=s.length?(l=new fP(t),s.push(l)):l=s[a],l}function r(){e=new WeakMap}return{get:n,dispose:r}}const uK=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,fK=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ).rg;
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ).r;
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( max( 0.0, squared_mean - mean * mean ) );
	gl_FragColor = vec4( mean, std_dev, 0.0, 1.0 );
}`,hK=[new _e(1,0,0),new _e(-1,0,0),new _e(0,1,0),new _e(0,-1,0),new _e(0,0,1),new _e(0,0,-1)],dK=[new _e(0,-1,0),new _e(0,-1,0),new _e(0,0,1),new _e(0,0,-1),new _e(0,-1,0),new _e(0,-1,0)],hP=new Qn,D0=new _e,nE=new _e;function pK(t,e,n){let r=new O2;const i=new bt,a=new bt,s=new vr,l=new TV,u=new wV,f={},h=n.maxTextureSize,p={[nc]:oa,[oa]:nc,[No]:No},m=new Qs({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new bt},radius:{value:4}},vertexShader:uK,fragmentShader:fK}),g=m.clone();g.defines.HORIZONTAL_PASS=1;const _=new Zi;_.setAttribute("position",new ws(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const x=new Ca(_,m),y=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=kv;let E=this.type;this.render=function(C,R,F){if(y.enabled===!1||y.autoUpdate===!1&&y.needsUpdate===!1||C.length===0)return;C.type===KH&&(Vt("WebGLShadowMap: PCFSoftShadowMap has been deprecated. Using PCFShadowMap instead."),C.type=kv);const O=t.getRenderTarget(),k=t.getActiveCubeFace(),D=t.getActiveMipmapLevel(),U=t.state;U.setBlending(zo),U.buffers.depth.getReversed()===!0?U.buffers.color.setClear(0,0,0,0):U.buffers.color.setClear(1,1,1,1),U.buffers.depth.setTest(!0),U.setScissorTest(!1);const Z=E!==this.type;Z&&R.traverse(function(se){se.material&&(Array.isArray(se.material)?se.material.forEach(oe=>oe.needsUpdate=!0):se.material.needsUpdate=!0)});for(let se=0,oe=C.length;se<oe;se++){const G=C[se],W=G.shadow;if(W===void 0){Vt("WebGLShadowMap:",G,"has no shadow.");continue}if(W.autoUpdate===!1&&W.needsUpdate===!1)continue;i.copy(W.mapSize);const ee=W.getFrameExtents();if(i.multiply(ee),a.copy(W.mapSize),(i.x>h||i.y>h)&&(i.x>h&&(a.x=Math.floor(h/ee.x),i.x=a.x*ee.x,W.mapSize.x=a.x),i.y>h&&(a.y=Math.floor(h/ee.y),i.y=a.y*ee.y,W.mapSize.y=a.y)),W.map===null||Z===!0){if(W.map!==null&&(W.map.depthTexture!==null&&(W.map.depthTexture.dispose(),W.map.depthTexture=null),W.map.dispose()),this.type===G0){if(G.isPointLight){Vt("WebGLShadowMap: VSM shadow maps are not supported for PointLights. Use PCF or BasicShadowMap instead.");continue}W.map=new Ks(i.x,i.y,{format:ah,type:Yo,minFilter:ki,magFilter:ki,generateMipmaps:!1}),W.map.texture.name=G.name+".shadowMap",W.map.depthTexture=new ud(i.x,i.y,Vs),W.map.depthTexture.name=G.name+".shadowMapDepth",W.map.depthTexture.format=Xo,W.map.depthTexture.compareFunction=null,W.map.depthTexture.minFilter=Si,W.map.depthTexture.magFilter=Si}else{G.isPointLight?(W.map=new nF(i.x),W.map.depthTexture=new oV(i.x,Zs)):(W.map=new Ks(i.x,i.y),W.map.depthTexture=new ud(i.x,i.y,Zs)),W.map.depthTexture.name=G.name+".shadowMap",W.map.depthTexture.format=Xo;const pe=t.state.buffers.depth.getReversed();this.type===kv?(W.map.depthTexture.compareFunction=pe?A2:w2,W.map.depthTexture.minFilter=ki,W.map.depthTexture.magFilter=ki):(W.map.depthTexture.compareFunction=null,W.map.depthTexture.minFilter=Si,W.map.depthTexture.magFilter=Si)}W.camera.updateProjectionMatrix()}const Y=W.map.isWebGLCubeRenderTarget?6:1;for(let pe=0;pe<Y;pe++){if(W.map.isWebGLCubeRenderTarget)t.setRenderTarget(W.map,pe),t.clear();else{pe===0&&(t.setRenderTarget(W.map),t.clear());const z=W.getViewport(pe);s.set(a.x*z.x,a.y*z.y,a.x*z.z,a.y*z.w),U.viewport(s)}if(G.isPointLight){const z=W.camera,I=W.matrix,V=G.distance||z.far;V!==z.far&&(z.far=V,z.updateProjectionMatrix()),D0.setFromMatrixPosition(G.matrixWorld),z.position.copy(D0),nE.copy(z.position),nE.add(hK[pe]),z.up.copy(dK[pe]),z.lookAt(nE),z.updateMatrixWorld(),I.makeTranslation(-D0.x,-D0.y,-D0.z),hP.multiplyMatrices(z.projectionMatrix,z.matrixWorldInverse),W._frustum.setFromProjectionMatrix(hP,z.coordinateSystem,z.reversedDepth)}else W.updateMatrices(G);r=W.getFrustum(),M(R,F,W.camera,G,this.type)}W.isPointLightShadow!==!0&&this.type===G0&&w(W,F),W.needsUpdate=!1}E=this.type,y.needsUpdate=!1,t.setRenderTarget(O,k,D)};function w(C,R){const F=e.update(x);m.defines.VSM_SAMPLES!==C.blurSamples&&(m.defines.VSM_SAMPLES=C.blurSamples,g.defines.VSM_SAMPLES=C.blurSamples,m.needsUpdate=!0,g.needsUpdate=!0),C.mapPass===null&&(C.mapPass=new Ks(i.x,i.y,{format:ah,type:Yo})),m.uniforms.shadow_pass.value=C.map.depthTexture,m.uniforms.resolution.value=C.mapSize,m.uniforms.radius.value=C.radius,t.setRenderTarget(C.mapPass),t.clear(),t.renderBufferDirect(R,null,F,m,x,null),g.uniforms.shadow_pass.value=C.mapPass.texture,g.uniforms.resolution.value=C.mapSize,g.uniforms.radius.value=C.radius,t.setRenderTarget(C.map),t.clear(),t.renderBufferDirect(R,null,F,g,x,null)}function b(C,R,F,O){let k=null;const D=F.isPointLight===!0?C.customDistanceMaterial:C.customDepthMaterial;if(D!==void 0)k=D;else if(k=F.isPointLight===!0?u:l,t.localClippingEnabled&&R.clipShadows===!0&&Array.isArray(R.clippingPlanes)&&R.clippingPlanes.length!==0||R.displacementMap&&R.displacementScale!==0||R.alphaMap&&R.alphaTest>0||R.map&&R.alphaTest>0||R.alphaToCoverage===!0){const U=k.uuid,Z=R.uuid;let se=f[U];se===void 0&&(se={},f[U]=se);let oe=se[Z];oe===void 0&&(oe=k.clone(),se[Z]=oe,R.addEventListener("dispose",A)),k=oe}if(k.visible=R.visible,k.wireframe=R.wireframe,O===G0?k.side=R.shadowSide!==null?R.shadowSide:R.side:k.side=R.shadowSide!==null?R.shadowSide:p[R.side],k.alphaMap=R.alphaMap,k.alphaTest=R.alphaToCoverage===!0?.5:R.alphaTest,k.map=R.map,k.clipShadows=R.clipShadows,k.clippingPlanes=R.clippingPlanes,k.clipIntersection=R.clipIntersection,k.displacementMap=R.displacementMap,k.displacementScale=R.displacementScale,k.displacementBias=R.displacementBias,k.wireframeLinewidth=R.wireframeLinewidth,k.linewidth=R.linewidth,F.isPointLight===!0&&k.isMeshDistanceMaterial===!0){const U=t.properties.get(k);U.light=F}return k}function M(C,R,F,O,k){if(C.visible===!1)return;if(C.layers.test(R.layers)&&(C.isMesh||C.isLine||C.isPoints)&&(C.castShadow||C.receiveShadow&&k===G0)&&(!C.frustumCulled||r.intersectsObject(C))){C.modelViewMatrix.multiplyMatrices(F.matrixWorldInverse,C.matrixWorld);const Z=e.update(C),se=C.material;if(Array.isArray(se)){const oe=Z.groups;for(let G=0,W=oe.length;G<W;G++){const ee=oe[G],Y=se[ee.materialIndex];if(Y&&Y.visible){const pe=b(C,Y,O,k);C.onBeforeShadow(t,C,R,F,Z,pe,ee),t.renderBufferDirect(F,null,Z,pe,C,ee),C.onAfterShadow(t,C,R,F,Z,pe,ee)}}}else if(se.visible){const oe=b(C,se,O,k);C.onBeforeShadow(t,C,R,F,Z,oe,null),t.renderBufferDirect(F,null,Z,oe,C,null),C.onAfterShadow(t,C,R,F,Z,oe,null)}}const U=C.children;for(let Z=0,se=U.length;Z<se;Z++)M(U[Z],R,F,O,k)}function A(C){C.target.removeEventListener("dispose",A);for(const F in f){const O=f[F],k=C.target.uuid;k in O&&(O[k].dispose(),delete O[k])}}}const mK={[sb]:ob,[lb]:fb,[cb]:hb,[rh]:ub,[ob]:sb,[fb]:lb,[hb]:cb,[ub]:rh};function vK(t,e){function n(){let ge=!1;const at=new vr;let et=null;const pt=new vr(0,0,0,0);return{setMask:function($e){et!==$e&&!ge&&(t.colorMask($e,$e,$e,$e),et=$e)},setLocked:function($e){ge=$e},setClear:function($e,qe,ot,Gt,Sn){Sn===!0&&($e*=Gt,qe*=Gt,ot*=Gt),at.set($e,qe,ot,Gt),pt.equals(at)===!1&&(t.clearColor($e,qe,ot,Gt),pt.copy(at))},reset:function(){ge=!1,et=null,pt.set(-1,0,0,0)}}}function r(){let ge=!1,at=!1,et=null,pt=null,$e=null;return{setReversed:function(qe){if(at!==qe){const ot=e.get("EXT_clip_control");qe?ot.clipControlEXT(ot.LOWER_LEFT_EXT,ot.ZERO_TO_ONE_EXT):ot.clipControlEXT(ot.LOWER_LEFT_EXT,ot.NEGATIVE_ONE_TO_ONE_EXT),at=qe;const Gt=$e;$e=null,this.setClear(Gt)}},getReversed:function(){return at},setTest:function(qe){qe?fe(t.DEPTH_TEST):ae(t.DEPTH_TEST)},setMask:function(qe){et!==qe&&!ge&&(t.depthMask(qe),et=qe)},setFunc:function(qe){if(at&&(qe=mK[qe]),pt!==qe){switch(qe){case sb:t.depthFunc(t.NEVER);break;case ob:t.depthFunc(t.ALWAYS);break;case lb:t.depthFunc(t.LESS);break;case rh:t.depthFunc(t.LEQUAL);break;case cb:t.depthFunc(t.EQUAL);break;case ub:t.depthFunc(t.GEQUAL);break;case fb:t.depthFunc(t.GREATER);break;case hb:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}pt=qe}},setLocked:function(qe){ge=qe},setClear:function(qe){$e!==qe&&(at&&(qe=1-qe),t.clearDepth(qe),$e=qe)},reset:function(){ge=!1,et=null,pt=null,$e=null,at=!1}}}function i(){let ge=!1,at=null,et=null,pt=null,$e=null,qe=null,ot=null,Gt=null,Sn=null;return{setTest:function(fn){ge||(fn?fe(t.STENCIL_TEST):ae(t.STENCIL_TEST))},setMask:function(fn){at!==fn&&!ge&&(t.stencilMask(fn),at=fn)},setFunc:function(fn,$r,fa){(et!==fn||pt!==$r||$e!==fa)&&(t.stencilFunc(fn,$r,fa),et=fn,pt=$r,$e=fa)},setOp:function(fn,$r,fa){(qe!==fn||ot!==$r||Gt!==fa)&&(t.stencilOp(fn,$r,fa),qe=fn,ot=$r,Gt=fa)},setLocked:function(fn){ge=fn},setClear:function(fn){Sn!==fn&&(t.clearStencil(fn),Sn=fn)},reset:function(){ge=!1,at=null,et=null,pt=null,$e=null,qe=null,ot=null,Gt=null,Sn=null}}}const a=new n,s=new r,l=new i,u=new WeakMap,f=new WeakMap;let h={},p={},m=new WeakMap,g=[],_=null,x=!1,y=null,E=null,w=null,b=null,M=null,A=null,C=null,R=new sn(0,0,0),F=0,O=!1,k=null,D=null,U=null,Z=null,se=null;const oe=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let G=!1,W=0;const ee=t.getParameter(t.VERSION);ee.indexOf("WebGL")!==-1?(W=parseFloat(/^WebGL (\d)/.exec(ee)[1]),G=W>=1):ee.indexOf("OpenGL ES")!==-1&&(W=parseFloat(/^OpenGL ES (\d)/.exec(ee)[1]),G=W>=2);let Y=null,pe={};const z=t.getParameter(t.SCISSOR_BOX),I=t.getParameter(t.VIEWPORT),V=new vr().fromArray(z),X=new vr().fromArray(I);function te(ge,at,et,pt){const $e=new Uint8Array(4),qe=t.createTexture();t.bindTexture(ge,qe),t.texParameteri(ge,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(ge,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let ot=0;ot<et;ot++)ge===t.TEXTURE_3D||ge===t.TEXTURE_2D_ARRAY?t.texImage3D(at,0,t.RGBA,1,1,pt,0,t.RGBA,t.UNSIGNED_BYTE,$e):t.texImage2D(at+ot,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,$e);return qe}const J={};J[t.TEXTURE_2D]=te(t.TEXTURE_2D,t.TEXTURE_2D,1),J[t.TEXTURE_CUBE_MAP]=te(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),J[t.TEXTURE_2D_ARRAY]=te(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),J[t.TEXTURE_3D]=te(t.TEXTURE_3D,t.TEXTURE_3D,1,1),a.setClear(0,0,0,1),s.setClear(1),l.setClear(0),fe(t.DEPTH_TEST),s.setFunc(rh),Xe(!1),Ge(u3),fe(t.CULL_FACE),Le(zo);function fe(ge){h[ge]!==!0&&(t.enable(ge),h[ge]=!0)}function ae(ge){h[ge]!==!1&&(t.disable(ge),h[ge]=!1)}function Q(ge,at){return p[ge]!==at?(t.bindFramebuffer(ge,at),p[ge]=at,ge===t.DRAW_FRAMEBUFFER&&(p[t.FRAMEBUFFER]=at),ge===t.FRAMEBUFFER&&(p[t.DRAW_FRAMEBUFFER]=at),!0):!1}function de(ge,at){let et=g,pt=!1;if(ge){et=m.get(at),et===void 0&&(et=[],m.set(at,et));const $e=ge.textures;if(et.length!==$e.length||et[0]!==t.COLOR_ATTACHMENT0){for(let qe=0,ot=$e.length;qe<ot;qe++)et[qe]=t.COLOR_ATTACHMENT0+qe;et.length=$e.length,pt=!0}}else et[0]!==t.BACK&&(et[0]=t.BACK,pt=!0);pt&&t.drawBuffers(et)}function Ae(ge){return _!==ge?(t.useProgram(ge),_=ge,!0):!1}const j={[Hc]:t.FUNC_ADD,[ZH]:t.FUNC_SUBTRACT,[JH]:t.FUNC_REVERSE_SUBTRACT};j[QH]=t.MIN,j[eG]=t.MAX;const We={[tG]:t.ZERO,[nG]:t.ONE,[rG]:t.SRC_COLOR,[ib]:t.SRC_ALPHA,[cG]:t.SRC_ALPHA_SATURATE,[oG]:t.DST_COLOR,[aG]:t.DST_ALPHA,[iG]:t.ONE_MINUS_SRC_COLOR,[ab]:t.ONE_MINUS_SRC_ALPHA,[lG]:t.ONE_MINUS_DST_COLOR,[sG]:t.ONE_MINUS_DST_ALPHA,[uG]:t.CONSTANT_COLOR,[fG]:t.ONE_MINUS_CONSTANT_COLOR,[hG]:t.CONSTANT_ALPHA,[dG]:t.ONE_MINUS_CONSTANT_ALPHA};function Le(ge,at,et,pt,$e,qe,ot,Gt,Sn,fn){if(ge===zo){x===!0&&(ae(t.BLEND),x=!1);return}if(x===!1&&(fe(t.BLEND),x=!0),ge!==$H){if(ge!==y||fn!==O){if((E!==Hc||M!==Hc)&&(t.blendEquation(t.FUNC_ADD),E=Hc,M=Hc),fn)switch(ge){case qf:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case f3:t.blendFunc(t.ONE,t.ONE);break;case h3:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case d3:t.blendFuncSeparate(t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ZERO,t.ONE);break;default:dn("WebGLState: Invalid blending: ",ge);break}else switch(ge){case qf:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case f3:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE,t.ONE,t.ONE);break;case h3:dn("WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case d3:dn("WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:dn("WebGLState: Invalid blending: ",ge);break}w=null,b=null,A=null,C=null,R.set(0,0,0),F=0,y=ge,O=fn}return}$e=$e||at,qe=qe||et,ot=ot||pt,(at!==E||$e!==M)&&(t.blendEquationSeparate(j[at],j[$e]),E=at,M=$e),(et!==w||pt!==b||qe!==A||ot!==C)&&(t.blendFuncSeparate(We[et],We[pt],We[qe],We[ot]),w=et,b=pt,A=qe,C=ot),(Gt.equals(R)===!1||Sn!==F)&&(t.blendColor(Gt.r,Gt.g,Gt.b,Sn),R.copy(Gt),F=Sn),y=ge,O=!1}function Je(ge,at){ge.side===No?ae(t.CULL_FACE):fe(t.CULL_FACE);let et=ge.side===oa;at&&(et=!et),Xe(et),ge.blending===qf&&ge.transparent===!1?Le(zo):Le(ge.blending,ge.blendEquation,ge.blendSrc,ge.blendDst,ge.blendEquationAlpha,ge.blendSrcAlpha,ge.blendDstAlpha,ge.blendColor,ge.blendAlpha,ge.premultipliedAlpha),s.setFunc(ge.depthFunc),s.setTest(ge.depthTest),s.setMask(ge.depthWrite),a.setMask(ge.colorWrite);const pt=ge.stencilWrite;l.setTest(pt),pt&&(l.setMask(ge.stencilWriteMask),l.setFunc(ge.stencilFunc,ge.stencilRef,ge.stencilFuncMask),l.setOp(ge.stencilFail,ge.stencilZFail,ge.stencilZPass)),Ft(ge.polygonOffset,ge.polygonOffsetFactor,ge.polygonOffsetUnits),ge.alphaToCoverage===!0?fe(t.SAMPLE_ALPHA_TO_COVERAGE):ae(t.SAMPLE_ALPHA_TO_COVERAGE)}function Xe(ge){k!==ge&&(ge?t.frontFace(t.CW):t.frontFace(t.CCW),k=ge)}function Ge(ge){ge!==XH?(fe(t.CULL_FACE),ge!==D&&(ge===u3?t.cullFace(t.BACK):ge===qH?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):ae(t.CULL_FACE),D=ge}function ce(ge){ge!==U&&(G&&t.lineWidth(ge),U=ge)}function Ft(ge,at,et){ge?(fe(t.POLYGON_OFFSET_FILL),(Z!==at||se!==et)&&(t.polygonOffset(at,et),Z=at,se=et)):ae(t.POLYGON_OFFSET_FILL)}function Ct(ge){ge?fe(t.SCISSOR_TEST):ae(t.SCISSOR_TEST)}function Nt(ge){ge===void 0&&(ge=t.TEXTURE0+oe-1),Y!==ge&&(t.activeTexture(ge),Y=ge)}function rt(ge,at,et){et===void 0&&(Y===null?et=t.TEXTURE0+oe-1:et=Y);let pt=pe[et];pt===void 0&&(pt={type:void 0,texture:void 0},pe[et]=pt),(pt.type!==ge||pt.texture!==at)&&(Y!==et&&(t.activeTexture(et),Y=et),t.bindTexture(ge,at||J[ge]),pt.type=ge,pt.texture=at)}function ie(){const ge=pe[Y];ge!==void 0&&ge.type!==void 0&&(t.bindTexture(ge.type,null),ge.type=void 0,ge.texture=void 0)}function B(){try{t.compressedTexImage2D(...arguments)}catch(ge){dn("WebGLState:",ge)}}function ve(){try{t.compressedTexImage3D(...arguments)}catch(ge){dn("WebGLState:",ge)}}function Ie(){try{t.texSubImage2D(...arguments)}catch(ge){dn("WebGLState:",ge)}}function Ue(){try{t.texSubImage3D(...arguments)}catch(ge){dn("WebGLState:",ge)}}function Te(){try{t.compressedTexSubImage2D(...arguments)}catch(ge){dn("WebGLState:",ge)}}function dt(){try{t.compressedTexSubImage3D(...arguments)}catch(ge){dn("WebGLState:",ge)}}function Be(){try{t.texStorage2D(...arguments)}catch(ge){dn("WebGLState:",ge)}}function st(){try{t.texStorage3D(...arguments)}catch(ge){dn("WebGLState:",ge)}}function Tt(){try{t.texImage2D(...arguments)}catch(ge){dn("WebGLState:",ge)}}function Ve(){try{t.texImage3D(...arguments)}catch(ge){dn("WebGLState:",ge)}}function Qe(ge){V.equals(ge)===!1&&(t.scissor(ge.x,ge.y,ge.z,ge.w),V.copy(ge))}function gt(ge){X.equals(ge)===!1&&(t.viewport(ge.x,ge.y,ge.z,ge.w),X.copy(ge))}function vt(ge,at){let et=f.get(at);et===void 0&&(et=new WeakMap,f.set(at,et));let pt=et.get(ge);pt===void 0&&(pt=t.getUniformBlockIndex(at,ge.name),et.set(ge,pt))}function it(ge,at){const pt=f.get(at).get(ge);u.get(at)!==pt&&(t.uniformBlockBinding(at,pt,ge.__bindingPointIndex),u.set(at,pt))}function Pt(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),s.setReversed(!1),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),h={},Y=null,pe={},p={},m=new WeakMap,g=[],_=null,x=!1,y=null,E=null,w=null,b=null,M=null,A=null,C=null,R=new sn(0,0,0),F=0,O=!1,k=null,D=null,U=null,Z=null,se=null,V.set(0,0,t.canvas.width,t.canvas.height),X.set(0,0,t.canvas.width,t.canvas.height),a.reset(),s.reset(),l.reset()}return{buffers:{color:a,depth:s,stencil:l},enable:fe,disable:ae,bindFramebuffer:Q,drawBuffers:de,useProgram:Ae,setBlending:Le,setMaterial:Je,setFlipSided:Xe,setCullFace:Ge,setLineWidth:ce,setPolygonOffset:Ft,setScissorTest:Ct,activeTexture:Nt,bindTexture:rt,unbindTexture:ie,compressedTexImage2D:B,compressedTexImage3D:ve,texImage2D:Tt,texImage3D:Ve,updateUBOMapping:vt,uniformBlockBinding:it,texStorage2D:Be,texStorage3D:st,texSubImage2D:Ie,texSubImage3D:Ue,compressedTexSubImage2D:Te,compressedTexSubImage3D:dt,scissor:Qe,viewport:gt,reset:Pt}}function gK(t,e,n,r,i,a,s){const l=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,u=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),f=new bt,h=new WeakMap;let p;const m=new WeakMap;let g=!1;try{g=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function _(ie,B){return g?new OffscreenCanvas(ie,B):$v("canvas")}function x(ie,B,ve){let Ie=1;const Ue=rt(ie);if((Ue.width>ve||Ue.height>ve)&&(Ie=ve/Math.max(Ue.width,Ue.height)),Ie<1)if(typeof HTMLImageElement<"u"&&ie instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&ie instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&ie instanceof ImageBitmap||typeof VideoFrame<"u"&&ie instanceof VideoFrame){const Te=Math.floor(Ie*Ue.width),dt=Math.floor(Ie*Ue.height);p===void 0&&(p=_(Te,dt));const Be=B?_(Te,dt):p;return Be.width=Te,Be.height=dt,Be.getContext("2d").drawImage(ie,0,0,Te,dt),Vt("WebGLRenderer: Texture has been resized from ("+Ue.width+"x"+Ue.height+") to ("+Te+"x"+dt+")."),Be}else return"data"in ie&&Vt("WebGLRenderer: Image in DataTexture is too big ("+Ue.width+"x"+Ue.height+")."),ie;return ie}function y(ie){return ie.generateMipmaps}function E(ie){t.generateMipmap(ie)}function w(ie){return ie.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:ie.isWebGL3DRenderTarget?t.TEXTURE_3D:ie.isWebGLArrayRenderTarget||ie.isCompressedArrayTexture?t.TEXTURE_2D_ARRAY:t.TEXTURE_2D}function b(ie,B,ve,Ie,Ue=!1){if(ie!==null){if(t[ie]!==void 0)return t[ie];Vt("WebGLRenderer: Attempt to use non-existing WebGL internal format '"+ie+"'")}let Te=B;if(B===t.RED&&(ve===t.FLOAT&&(Te=t.R32F),ve===t.HALF_FLOAT&&(Te=t.R16F),ve===t.UNSIGNED_BYTE&&(Te=t.R8)),B===t.RED_INTEGER&&(ve===t.UNSIGNED_BYTE&&(Te=t.R8UI),ve===t.UNSIGNED_SHORT&&(Te=t.R16UI),ve===t.UNSIGNED_INT&&(Te=t.R32UI),ve===t.BYTE&&(Te=t.R8I),ve===t.SHORT&&(Te=t.R16I),ve===t.INT&&(Te=t.R32I)),B===t.RG&&(ve===t.FLOAT&&(Te=t.RG32F),ve===t.HALF_FLOAT&&(Te=t.RG16F),ve===t.UNSIGNED_BYTE&&(Te=t.RG8)),B===t.RG_INTEGER&&(ve===t.UNSIGNED_BYTE&&(Te=t.RG8UI),ve===t.UNSIGNED_SHORT&&(Te=t.RG16UI),ve===t.UNSIGNED_INT&&(Te=t.RG32UI),ve===t.BYTE&&(Te=t.RG8I),ve===t.SHORT&&(Te=t.RG16I),ve===t.INT&&(Te=t.RG32I)),B===t.RGB_INTEGER&&(ve===t.UNSIGNED_BYTE&&(Te=t.RGB8UI),ve===t.UNSIGNED_SHORT&&(Te=t.RGB16UI),ve===t.UNSIGNED_INT&&(Te=t.RGB32UI),ve===t.BYTE&&(Te=t.RGB8I),ve===t.SHORT&&(Te=t.RGB16I),ve===t.INT&&(Te=t.RGB32I)),B===t.RGBA_INTEGER&&(ve===t.UNSIGNED_BYTE&&(Te=t.RGBA8UI),ve===t.UNSIGNED_SHORT&&(Te=t.RGBA16UI),ve===t.UNSIGNED_INT&&(Te=t.RGBA32UI),ve===t.BYTE&&(Te=t.RGBA8I),ve===t.SHORT&&(Te=t.RGBA16I),ve===t.INT&&(Te=t.RGBA32I)),B===t.RGB&&(ve===t.UNSIGNED_INT_5_9_9_9_REV&&(Te=t.RGB9_E5),ve===t.UNSIGNED_INT_10F_11F_11F_REV&&(Te=t.R11F_G11F_B10F)),B===t.RGBA){const dt=Ue?qv:pn.getTransfer(Ie);ve===t.FLOAT&&(Te=t.RGBA32F),ve===t.HALF_FLOAT&&(Te=t.RGBA16F),ve===t.UNSIGNED_BYTE&&(Te=dt===Pn?t.SRGB8_ALPHA8:t.RGBA8),ve===t.UNSIGNED_SHORT_4_4_4_4&&(Te=t.RGBA4),ve===t.UNSIGNED_SHORT_5_5_5_1&&(Te=t.RGB5_A1)}return(Te===t.R16F||Te===t.R32F||Te===t.RG16F||Te===t.RG32F||Te===t.RGBA16F||Te===t.RGBA32F)&&e.get("EXT_color_buffer_float"),Te}function M(ie,B){let ve;return ie?B===null||B===Zs||B===ld?ve=t.DEPTH24_STENCIL8:B===Vs?ve=t.DEPTH32F_STENCIL8:B===od&&(ve=t.DEPTH24_STENCIL8,Vt("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):B===null||B===Zs||B===ld?ve=t.DEPTH_COMPONENT24:B===Vs?ve=t.DEPTH_COMPONENT32F:B===od&&(ve=t.DEPTH_COMPONENT16),ve}function A(ie,B){return y(ie)===!0||ie.isFramebufferTexture&&ie.minFilter!==Si&&ie.minFilter!==ki?Math.log2(Math.max(B.width,B.height))+1:ie.mipmaps!==void 0&&ie.mipmaps.length>0?ie.mipmaps.length:ie.isCompressedTexture&&Array.isArray(ie.image)?B.mipmaps.length:1}function C(ie){const B=ie.target;B.removeEventListener("dispose",C),F(B),B.isVideoTexture&&h.delete(B)}function R(ie){const B=ie.target;B.removeEventListener("dispose",R),k(B)}function F(ie){const B=r.get(ie);if(B.__webglInit===void 0)return;const ve=ie.source,Ie=m.get(ve);if(Ie){const Ue=Ie[B.__cacheKey];Ue.usedTimes--,Ue.usedTimes===0&&O(ie),Object.keys(Ie).length===0&&m.delete(ve)}r.remove(ie)}function O(ie){const B=r.get(ie);t.deleteTexture(B.__webglTexture);const ve=ie.source,Ie=m.get(ve);delete Ie[B.__cacheKey],s.memory.textures--}function k(ie){const B=r.get(ie);if(ie.depthTexture&&(ie.depthTexture.dispose(),r.remove(ie.depthTexture)),ie.isWebGLCubeRenderTarget)for(let Ie=0;Ie<6;Ie++){if(Array.isArray(B.__webglFramebuffer[Ie]))for(let Ue=0;Ue<B.__webglFramebuffer[Ie].length;Ue++)t.deleteFramebuffer(B.__webglFramebuffer[Ie][Ue]);else t.deleteFramebuffer(B.__webglFramebuffer[Ie]);B.__webglDepthbuffer&&t.deleteRenderbuffer(B.__webglDepthbuffer[Ie])}else{if(Array.isArray(B.__webglFramebuffer))for(let Ie=0;Ie<B.__webglFramebuffer.length;Ie++)t.deleteFramebuffer(B.__webglFramebuffer[Ie]);else t.deleteFramebuffer(B.__webglFramebuffer);if(B.__webglDepthbuffer&&t.deleteRenderbuffer(B.__webglDepthbuffer),B.__webglMultisampledFramebuffer&&t.deleteFramebuffer(B.__webglMultisampledFramebuffer),B.__webglColorRenderbuffer)for(let Ie=0;Ie<B.__webglColorRenderbuffer.length;Ie++)B.__webglColorRenderbuffer[Ie]&&t.deleteRenderbuffer(B.__webglColorRenderbuffer[Ie]);B.__webglDepthRenderbuffer&&t.deleteRenderbuffer(B.__webglDepthRenderbuffer)}const ve=ie.textures;for(let Ie=0,Ue=ve.length;Ie<Ue;Ie++){const Te=r.get(ve[Ie]);Te.__webglTexture&&(t.deleteTexture(Te.__webglTexture),s.memory.textures--),r.remove(ve[Ie])}r.remove(ie)}let D=0;function U(){D=0}function Z(){const ie=D;return ie>=i.maxTextures&&Vt("WebGLTextures: Trying to use "+ie+" texture units while this GPU supports only "+i.maxTextures),D+=1,ie}function se(ie){const B=[];return B.push(ie.wrapS),B.push(ie.wrapT),B.push(ie.wrapR||0),B.push(ie.magFilter),B.push(ie.minFilter),B.push(ie.anisotropy),B.push(ie.internalFormat),B.push(ie.format),B.push(ie.type),B.push(ie.generateMipmaps),B.push(ie.premultiplyAlpha),B.push(ie.flipY),B.push(ie.unpackAlignment),B.push(ie.colorSpace),B.join()}function oe(ie,B){const ve=r.get(ie);if(ie.isVideoTexture&&Ct(ie),ie.isRenderTargetTexture===!1&&ie.isExternalTexture!==!0&&ie.version>0&&ve.__version!==ie.version){const Ie=ie.image;if(Ie===null)Vt("WebGLRenderer: Texture marked for update but no image data found.");else if(Ie.complete===!1)Vt("WebGLRenderer: Texture marked for update but image is incomplete");else{J(ve,ie,B);return}}else ie.isExternalTexture&&(ve.__webglTexture=ie.sourceTexture?ie.sourceTexture:null);n.bindTexture(t.TEXTURE_2D,ve.__webglTexture,t.TEXTURE0+B)}function G(ie,B){const ve=r.get(ie);if(ie.isRenderTargetTexture===!1&&ie.version>0&&ve.__version!==ie.version){J(ve,ie,B);return}else ie.isExternalTexture&&(ve.__webglTexture=ie.sourceTexture?ie.sourceTexture:null);n.bindTexture(t.TEXTURE_2D_ARRAY,ve.__webglTexture,t.TEXTURE0+B)}function W(ie,B){const ve=r.get(ie);if(ie.isRenderTargetTexture===!1&&ie.version>0&&ve.__version!==ie.version){J(ve,ie,B);return}n.bindTexture(t.TEXTURE_3D,ve.__webglTexture,t.TEXTURE0+B)}function ee(ie,B){const ve=r.get(ie);if(ie.isCubeDepthTexture!==!0&&ie.version>0&&ve.__version!==ie.version){fe(ve,ie,B);return}n.bindTexture(t.TEXTURE_CUBE_MAP,ve.__webglTexture,t.TEXTURE0+B)}const Y={[mb]:t.REPEAT,[Io]:t.CLAMP_TO_EDGE,[vb]:t.MIRRORED_REPEAT},pe={[Si]:t.NEAREST,[vG]:t.NEAREST_MIPMAP_NEAREST,[Rm]:t.NEAREST_MIPMAP_LINEAR,[ki]:t.LINEAR,[Ey]:t.LINEAR_MIPMAP_NEAREST,[Wc]:t.LINEAR_MIPMAP_LINEAR},z={[_G]:t.NEVER,[TG]:t.ALWAYS,[yG]:t.LESS,[w2]:t.LEQUAL,[EG]:t.EQUAL,[A2]:t.GEQUAL,[SG]:t.GREATER,[bG]:t.NOTEQUAL};function I(ie,B){if(B.type===Vs&&e.has("OES_texture_float_linear")===!1&&(B.magFilter===ki||B.magFilter===Ey||B.magFilter===Rm||B.magFilter===Wc||B.minFilter===ki||B.minFilter===Ey||B.minFilter===Rm||B.minFilter===Wc)&&Vt("WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),t.texParameteri(ie,t.TEXTURE_WRAP_S,Y[B.wrapS]),t.texParameteri(ie,t.TEXTURE_WRAP_T,Y[B.wrapT]),(ie===t.TEXTURE_3D||ie===t.TEXTURE_2D_ARRAY)&&t.texParameteri(ie,t.TEXTURE_WRAP_R,Y[B.wrapR]),t.texParameteri(ie,t.TEXTURE_MAG_FILTER,pe[B.magFilter]),t.texParameteri(ie,t.TEXTURE_MIN_FILTER,pe[B.minFilter]),B.compareFunction&&(t.texParameteri(ie,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(ie,t.TEXTURE_COMPARE_FUNC,z[B.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(B.magFilter===Si||B.minFilter!==Rm&&B.minFilter!==Wc||B.type===Vs&&e.has("OES_texture_float_linear")===!1)return;if(B.anisotropy>1||r.get(B).__currentAnisotropy){const ve=e.get("EXT_texture_filter_anisotropic");t.texParameterf(ie,ve.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(B.anisotropy,i.getMaxAnisotropy())),r.get(B).__currentAnisotropy=B.anisotropy}}}function V(ie,B){let ve=!1;ie.__webglInit===void 0&&(ie.__webglInit=!0,B.addEventListener("dispose",C));const Ie=B.source;let Ue=m.get(Ie);Ue===void 0&&(Ue={},m.set(Ie,Ue));const Te=se(B);if(Te!==ie.__cacheKey){Ue[Te]===void 0&&(Ue[Te]={texture:t.createTexture(),usedTimes:0},s.memory.textures++,ve=!0),Ue[Te].usedTimes++;const dt=Ue[ie.__cacheKey];dt!==void 0&&(Ue[ie.__cacheKey].usedTimes--,dt.usedTimes===0&&O(B)),ie.__cacheKey=Te,ie.__webglTexture=Ue[Te].texture}return ve}function X(ie,B,ve){return Math.floor(Math.floor(ie/ve)/B)}function te(ie,B,ve,Ie){const Te=ie.updateRanges;if(Te.length===0)n.texSubImage2D(t.TEXTURE_2D,0,0,0,B.width,B.height,ve,Ie,B.data);else{Te.sort((Ve,Qe)=>Ve.start-Qe.start);let dt=0;for(let Ve=1;Ve<Te.length;Ve++){const Qe=Te[dt],gt=Te[Ve],vt=Qe.start+Qe.count,it=X(gt.start,B.width,4),Pt=X(Qe.start,B.width,4);gt.start<=vt+1&&it===Pt&&X(gt.start+gt.count-1,B.width,4)===it?Qe.count=Math.max(Qe.count,gt.start+gt.count-Qe.start):(++dt,Te[dt]=gt)}Te.length=dt+1;const Be=t.getParameter(t.UNPACK_ROW_LENGTH),st=t.getParameter(t.UNPACK_SKIP_PIXELS),Tt=t.getParameter(t.UNPACK_SKIP_ROWS);t.pixelStorei(t.UNPACK_ROW_LENGTH,B.width);for(let Ve=0,Qe=Te.length;Ve<Qe;Ve++){const gt=Te[Ve],vt=Math.floor(gt.start/4),it=Math.ceil(gt.count/4),Pt=vt%B.width,ge=Math.floor(vt/B.width),at=it,et=1;t.pixelStorei(t.UNPACK_SKIP_PIXELS,Pt),t.pixelStorei(t.UNPACK_SKIP_ROWS,ge),n.texSubImage2D(t.TEXTURE_2D,0,Pt,ge,at,et,ve,Ie,B.data)}ie.clearUpdateRanges(),t.pixelStorei(t.UNPACK_ROW_LENGTH,Be),t.pixelStorei(t.UNPACK_SKIP_PIXELS,st),t.pixelStorei(t.UNPACK_SKIP_ROWS,Tt)}}function J(ie,B,ve){let Ie=t.TEXTURE_2D;(B.isDataArrayTexture||B.isCompressedArrayTexture)&&(Ie=t.TEXTURE_2D_ARRAY),B.isData3DTexture&&(Ie=t.TEXTURE_3D);const Ue=V(ie,B),Te=B.source;n.bindTexture(Ie,ie.__webglTexture,t.TEXTURE0+ve);const dt=r.get(Te);if(Te.version!==dt.__version||Ue===!0){n.activeTexture(t.TEXTURE0+ve);const Be=pn.getPrimaries(pn.workingColorSpace),st=B.colorSpace===ql?null:pn.getPrimaries(B.colorSpace),Tt=B.colorSpace===ql||Be===st?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,B.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,B.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,B.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,Tt);let Ve=x(B.image,!1,i.maxTextureSize);Ve=Nt(B,Ve);const Qe=a.convert(B.format,B.colorSpace),gt=a.convert(B.type);let vt=b(B.internalFormat,Qe,gt,B.colorSpace,B.isVideoTexture);I(Ie,B);let it;const Pt=B.mipmaps,ge=B.isVideoTexture!==!0,at=dt.__version===void 0||Ue===!0,et=Te.dataReady,pt=A(B,Ve);if(B.isDepthTexture)vt=M(B.format===Yc,B.type),at&&(ge?n.texStorage2D(t.TEXTURE_2D,1,vt,Ve.width,Ve.height):n.texImage2D(t.TEXTURE_2D,0,vt,Ve.width,Ve.height,0,Qe,gt,null));else if(B.isDataTexture)if(Pt.length>0){ge&&at&&n.texStorage2D(t.TEXTURE_2D,pt,vt,Pt[0].width,Pt[0].height);for(let $e=0,qe=Pt.length;$e<qe;$e++)it=Pt[$e],ge?et&&n.texSubImage2D(t.TEXTURE_2D,$e,0,0,it.width,it.height,Qe,gt,it.data):n.texImage2D(t.TEXTURE_2D,$e,vt,it.width,it.height,0,Qe,gt,it.data);B.generateMipmaps=!1}else ge?(at&&n.texStorage2D(t.TEXTURE_2D,pt,vt,Ve.width,Ve.height),et&&te(B,Ve,Qe,gt)):n.texImage2D(t.TEXTURE_2D,0,vt,Ve.width,Ve.height,0,Qe,gt,Ve.data);else if(B.isCompressedTexture)if(B.isCompressedArrayTexture){ge&&at&&n.texStorage3D(t.TEXTURE_2D_ARRAY,pt,vt,Pt[0].width,Pt[0].height,Ve.depth);for(let $e=0,qe=Pt.length;$e<qe;$e++)if(it=Pt[$e],B.format!==Ss)if(Qe!==null)if(ge){if(et)if(B.layerUpdates.size>0){const ot=G3(it.width,it.height,B.format,B.type);for(const Gt of B.layerUpdates){const Sn=it.data.subarray(Gt*ot/it.data.BYTES_PER_ELEMENT,(Gt+1)*ot/it.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,$e,0,0,Gt,it.width,it.height,1,Qe,Sn)}B.clearLayerUpdates()}else n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,$e,0,0,0,it.width,it.height,Ve.depth,Qe,it.data)}else n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,$e,vt,it.width,it.height,Ve.depth,0,it.data,0,0);else Vt("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else ge?et&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,$e,0,0,0,it.width,it.height,Ve.depth,Qe,gt,it.data):n.texImage3D(t.TEXTURE_2D_ARRAY,$e,vt,it.width,it.height,Ve.depth,0,Qe,gt,it.data)}else{ge&&at&&n.texStorage2D(t.TEXTURE_2D,pt,vt,Pt[0].width,Pt[0].height);for(let $e=0,qe=Pt.length;$e<qe;$e++)it=Pt[$e],B.format!==Ss?Qe!==null?ge?et&&n.compressedTexSubImage2D(t.TEXTURE_2D,$e,0,0,it.width,it.height,Qe,it.data):n.compressedTexImage2D(t.TEXTURE_2D,$e,vt,it.width,it.height,0,it.data):Vt("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ge?et&&n.texSubImage2D(t.TEXTURE_2D,$e,0,0,it.width,it.height,Qe,gt,it.data):n.texImage2D(t.TEXTURE_2D,$e,vt,it.width,it.height,0,Qe,gt,it.data)}else if(B.isDataArrayTexture)if(ge){if(at&&n.texStorage3D(t.TEXTURE_2D_ARRAY,pt,vt,Ve.width,Ve.height,Ve.depth),et)if(B.layerUpdates.size>0){const $e=G3(Ve.width,Ve.height,B.format,B.type);for(const qe of B.layerUpdates){const ot=Ve.data.subarray(qe*$e/Ve.data.BYTES_PER_ELEMENT,(qe+1)*$e/Ve.data.BYTES_PER_ELEMENT);n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,qe,Ve.width,Ve.height,1,Qe,gt,ot)}B.clearLayerUpdates()}else n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,Ve.width,Ve.height,Ve.depth,Qe,gt,Ve.data)}else n.texImage3D(t.TEXTURE_2D_ARRAY,0,vt,Ve.width,Ve.height,Ve.depth,0,Qe,gt,Ve.data);else if(B.isData3DTexture)ge?(at&&n.texStorage3D(t.TEXTURE_3D,pt,vt,Ve.width,Ve.height,Ve.depth),et&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,Ve.width,Ve.height,Ve.depth,Qe,gt,Ve.data)):n.texImage3D(t.TEXTURE_3D,0,vt,Ve.width,Ve.height,Ve.depth,0,Qe,gt,Ve.data);else if(B.isFramebufferTexture){if(at)if(ge)n.texStorage2D(t.TEXTURE_2D,pt,vt,Ve.width,Ve.height);else{let $e=Ve.width,qe=Ve.height;for(let ot=0;ot<pt;ot++)n.texImage2D(t.TEXTURE_2D,ot,vt,$e,qe,0,Qe,gt,null),$e>>=1,qe>>=1}}else if(Pt.length>0){if(ge&&at){const $e=rt(Pt[0]);n.texStorage2D(t.TEXTURE_2D,pt,vt,$e.width,$e.height)}for(let $e=0,qe=Pt.length;$e<qe;$e++)it=Pt[$e],ge?et&&n.texSubImage2D(t.TEXTURE_2D,$e,0,0,Qe,gt,it):n.texImage2D(t.TEXTURE_2D,$e,vt,Qe,gt,it);B.generateMipmaps=!1}else if(ge){if(at){const $e=rt(Ve);n.texStorage2D(t.TEXTURE_2D,pt,vt,$e.width,$e.height)}et&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,Qe,gt,Ve)}else n.texImage2D(t.TEXTURE_2D,0,vt,Qe,gt,Ve);y(B)&&E(Ie),dt.__version=Te.version,B.onUpdate&&B.onUpdate(B)}ie.__version=B.version}function fe(ie,B,ve){if(B.image.length!==6)return;const Ie=V(ie,B),Ue=B.source;n.bindTexture(t.TEXTURE_CUBE_MAP,ie.__webglTexture,t.TEXTURE0+ve);const Te=r.get(Ue);if(Ue.version!==Te.__version||Ie===!0){n.activeTexture(t.TEXTURE0+ve);const dt=pn.getPrimaries(pn.workingColorSpace),Be=B.colorSpace===ql?null:pn.getPrimaries(B.colorSpace),st=B.colorSpace===ql||dt===Be?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,B.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,B.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,B.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,st);const Tt=B.isCompressedTexture||B.image[0].isCompressedTexture,Ve=B.image[0]&&B.image[0].isDataTexture,Qe=[];for(let qe=0;qe<6;qe++)!Tt&&!Ve?Qe[qe]=x(B.image[qe],!0,i.maxCubemapSize):Qe[qe]=Ve?B.image[qe].image:B.image[qe],Qe[qe]=Nt(B,Qe[qe]);const gt=Qe[0],vt=a.convert(B.format,B.colorSpace),it=a.convert(B.type),Pt=b(B.internalFormat,vt,it,B.colorSpace),ge=B.isVideoTexture!==!0,at=Te.__version===void 0||Ie===!0,et=Ue.dataReady;let pt=A(B,gt);I(t.TEXTURE_CUBE_MAP,B);let $e;if(Tt){ge&&at&&n.texStorage2D(t.TEXTURE_CUBE_MAP,pt,Pt,gt.width,gt.height);for(let qe=0;qe<6;qe++){$e=Qe[qe].mipmaps;for(let ot=0;ot<$e.length;ot++){const Gt=$e[ot];B.format!==Ss?vt!==null?ge?et&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+qe,ot,0,0,Gt.width,Gt.height,vt,Gt.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+qe,ot,Pt,Gt.width,Gt.height,0,Gt.data):Vt("WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):ge?et&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+qe,ot,0,0,Gt.width,Gt.height,vt,it,Gt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+qe,ot,Pt,Gt.width,Gt.height,0,vt,it,Gt.data)}}}else{if($e=B.mipmaps,ge&&at){$e.length>0&&pt++;const qe=rt(Qe[0]);n.texStorage2D(t.TEXTURE_CUBE_MAP,pt,Pt,qe.width,qe.height)}for(let qe=0;qe<6;qe++)if(Ve){ge?et&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+qe,0,0,0,Qe[qe].width,Qe[qe].height,vt,it,Qe[qe].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+qe,0,Pt,Qe[qe].width,Qe[qe].height,0,vt,it,Qe[qe].data);for(let ot=0;ot<$e.length;ot++){const Sn=$e[ot].image[qe].image;ge?et&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+qe,ot+1,0,0,Sn.width,Sn.height,vt,it,Sn.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+qe,ot+1,Pt,Sn.width,Sn.height,0,vt,it,Sn.data)}}else{ge?et&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+qe,0,0,0,vt,it,Qe[qe]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+qe,0,Pt,vt,it,Qe[qe]);for(let ot=0;ot<$e.length;ot++){const Gt=$e[ot];ge?et&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+qe,ot+1,0,0,vt,it,Gt.image[qe]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+qe,ot+1,Pt,vt,it,Gt.image[qe])}}}y(B)&&E(t.TEXTURE_CUBE_MAP),Te.__version=Ue.version,B.onUpdate&&B.onUpdate(B)}ie.__version=B.version}function ae(ie,B,ve,Ie,Ue,Te){const dt=a.convert(ve.format,ve.colorSpace),Be=a.convert(ve.type),st=b(ve.internalFormat,dt,Be,ve.colorSpace),Tt=r.get(B),Ve=r.get(ve);if(Ve.__renderTarget=B,!Tt.__hasExternalTextures){const Qe=Math.max(1,B.width>>Te),gt=Math.max(1,B.height>>Te);Ue===t.TEXTURE_3D||Ue===t.TEXTURE_2D_ARRAY?n.texImage3D(Ue,Te,st,Qe,gt,B.depth,0,dt,Be,null):n.texImage2D(Ue,Te,st,Qe,gt,0,dt,Be,null)}n.bindFramebuffer(t.FRAMEBUFFER,ie),Ft(B)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,Ie,Ue,Ve.__webglTexture,0,ce(B)):(Ue===t.TEXTURE_2D||Ue>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&Ue<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,Ie,Ue,Ve.__webglTexture,Te),n.bindFramebuffer(t.FRAMEBUFFER,null)}function Q(ie,B,ve){if(t.bindRenderbuffer(t.RENDERBUFFER,ie),B.depthBuffer){const Ie=B.depthTexture,Ue=Ie&&Ie.isDepthTexture?Ie.type:null,Te=M(B.stencilBuffer,Ue),dt=B.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;Ft(B)?l.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,ce(B),Te,B.width,B.height):ve?t.renderbufferStorageMultisample(t.RENDERBUFFER,ce(B),Te,B.width,B.height):t.renderbufferStorage(t.RENDERBUFFER,Te,B.width,B.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,dt,t.RENDERBUFFER,ie)}else{const Ie=B.textures;for(let Ue=0;Ue<Ie.length;Ue++){const Te=Ie[Ue],dt=a.convert(Te.format,Te.colorSpace),Be=a.convert(Te.type),st=b(Te.internalFormat,dt,Be,Te.colorSpace);Ft(B)?l.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,ce(B),st,B.width,B.height):ve?t.renderbufferStorageMultisample(t.RENDERBUFFER,ce(B),st,B.width,B.height):t.renderbufferStorage(t.RENDERBUFFER,st,B.width,B.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function de(ie,B,ve){const Ie=B.isWebGLCubeRenderTarget===!0;if(n.bindFramebuffer(t.FRAMEBUFFER,ie),!(B.depthTexture&&B.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Ue=r.get(B.depthTexture);if(Ue.__renderTarget=B,(!Ue.__webglTexture||B.depthTexture.image.width!==B.width||B.depthTexture.image.height!==B.height)&&(B.depthTexture.image.width=B.width,B.depthTexture.image.height=B.height,B.depthTexture.needsUpdate=!0),Ie){if(Ue.__webglInit===void 0&&(Ue.__webglInit=!0,B.depthTexture.addEventListener("dispose",C)),Ue.__webglTexture===void 0){Ue.__webglTexture=t.createTexture(),n.bindTexture(t.TEXTURE_CUBE_MAP,Ue.__webglTexture),I(t.TEXTURE_CUBE_MAP,B.depthTexture);const Tt=a.convert(B.depthTexture.format),Ve=a.convert(B.depthTexture.type);let Qe;B.depthTexture.format===Xo?Qe=t.DEPTH_COMPONENT24:B.depthTexture.format===Yc&&(Qe=t.DEPTH24_STENCIL8);for(let gt=0;gt<6;gt++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+gt,0,Qe,B.width,B.height,0,Tt,Ve,null)}}else oe(B.depthTexture,0);const Te=Ue.__webglTexture,dt=ce(B),Be=Ie?t.TEXTURE_CUBE_MAP_POSITIVE_X+ve:t.TEXTURE_2D,st=B.depthTexture.format===Yc?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;if(B.depthTexture.format===Xo)Ft(B)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,st,Be,Te,0,dt):t.framebufferTexture2D(t.FRAMEBUFFER,st,Be,Te,0);else if(B.depthTexture.format===Yc)Ft(B)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,st,Be,Te,0,dt):t.framebufferTexture2D(t.FRAMEBUFFER,st,Be,Te,0);else throw new Error("Unknown depthTexture format")}function Ae(ie){const B=r.get(ie),ve=ie.isWebGLCubeRenderTarget===!0;if(B.__boundDepthTexture!==ie.depthTexture){const Ie=ie.depthTexture;if(B.__depthDisposeCallback&&B.__depthDisposeCallback(),Ie){const Ue=()=>{delete B.__boundDepthTexture,delete B.__depthDisposeCallback,Ie.removeEventListener("dispose",Ue)};Ie.addEventListener("dispose",Ue),B.__depthDisposeCallback=Ue}B.__boundDepthTexture=Ie}if(ie.depthTexture&&!B.__autoAllocateDepthBuffer)if(ve)for(let Ie=0;Ie<6;Ie++)de(B.__webglFramebuffer[Ie],ie,Ie);else{const Ie=ie.texture.mipmaps;Ie&&Ie.length>0?de(B.__webglFramebuffer[0],ie,0):de(B.__webglFramebuffer,ie,0)}else if(ve){B.__webglDepthbuffer=[];for(let Ie=0;Ie<6;Ie++)if(n.bindFramebuffer(t.FRAMEBUFFER,B.__webglFramebuffer[Ie]),B.__webglDepthbuffer[Ie]===void 0)B.__webglDepthbuffer[Ie]=t.createRenderbuffer(),Q(B.__webglDepthbuffer[Ie],ie,!1);else{const Ue=ie.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Te=B.__webglDepthbuffer[Ie];t.bindRenderbuffer(t.RENDERBUFFER,Te),t.framebufferRenderbuffer(t.FRAMEBUFFER,Ue,t.RENDERBUFFER,Te)}}else{const Ie=ie.texture.mipmaps;if(Ie&&Ie.length>0?n.bindFramebuffer(t.FRAMEBUFFER,B.__webglFramebuffer[0]):n.bindFramebuffer(t.FRAMEBUFFER,B.__webglFramebuffer),B.__webglDepthbuffer===void 0)B.__webglDepthbuffer=t.createRenderbuffer(),Q(B.__webglDepthbuffer,ie,!1);else{const Ue=ie.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Te=B.__webglDepthbuffer;t.bindRenderbuffer(t.RENDERBUFFER,Te),t.framebufferRenderbuffer(t.FRAMEBUFFER,Ue,t.RENDERBUFFER,Te)}}n.bindFramebuffer(t.FRAMEBUFFER,null)}function j(ie,B,ve){const Ie=r.get(ie);B!==void 0&&ae(Ie.__webglFramebuffer,ie,ie.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),ve!==void 0&&Ae(ie)}function We(ie){const B=ie.texture,ve=r.get(ie),Ie=r.get(B);ie.addEventListener("dispose",R);const Ue=ie.textures,Te=ie.isWebGLCubeRenderTarget===!0,dt=Ue.length>1;if(dt||(Ie.__webglTexture===void 0&&(Ie.__webglTexture=t.createTexture()),Ie.__version=B.version,s.memory.textures++),Te){ve.__webglFramebuffer=[];for(let Be=0;Be<6;Be++)if(B.mipmaps&&B.mipmaps.length>0){ve.__webglFramebuffer[Be]=[];for(let st=0;st<B.mipmaps.length;st++)ve.__webglFramebuffer[Be][st]=t.createFramebuffer()}else ve.__webglFramebuffer[Be]=t.createFramebuffer()}else{if(B.mipmaps&&B.mipmaps.length>0){ve.__webglFramebuffer=[];for(let Be=0;Be<B.mipmaps.length;Be++)ve.__webglFramebuffer[Be]=t.createFramebuffer()}else ve.__webglFramebuffer=t.createFramebuffer();if(dt)for(let Be=0,st=Ue.length;Be<st;Be++){const Tt=r.get(Ue[Be]);Tt.__webglTexture===void 0&&(Tt.__webglTexture=t.createTexture(),s.memory.textures++)}if(ie.samples>0&&Ft(ie)===!1){ve.__webglMultisampledFramebuffer=t.createFramebuffer(),ve.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,ve.__webglMultisampledFramebuffer);for(let Be=0;Be<Ue.length;Be++){const st=Ue[Be];ve.__webglColorRenderbuffer[Be]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,ve.__webglColorRenderbuffer[Be]);const Tt=a.convert(st.format,st.colorSpace),Ve=a.convert(st.type),Qe=b(st.internalFormat,Tt,Ve,st.colorSpace,ie.isXRRenderTarget===!0),gt=ce(ie);t.renderbufferStorageMultisample(t.RENDERBUFFER,gt,Qe,ie.width,ie.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Be,t.RENDERBUFFER,ve.__webglColorRenderbuffer[Be])}t.bindRenderbuffer(t.RENDERBUFFER,null),ie.depthBuffer&&(ve.__webglDepthRenderbuffer=t.createRenderbuffer(),Q(ve.__webglDepthRenderbuffer,ie,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(Te){n.bindTexture(t.TEXTURE_CUBE_MAP,Ie.__webglTexture),I(t.TEXTURE_CUBE_MAP,B);for(let Be=0;Be<6;Be++)if(B.mipmaps&&B.mipmaps.length>0)for(let st=0;st<B.mipmaps.length;st++)ae(ve.__webglFramebuffer[Be][st],ie,B,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Be,st);else ae(ve.__webglFramebuffer[Be],ie,B,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Be,0);y(B)&&E(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(dt){for(let Be=0,st=Ue.length;Be<st;Be++){const Tt=Ue[Be],Ve=r.get(Tt);let Qe=t.TEXTURE_2D;(ie.isWebGL3DRenderTarget||ie.isWebGLArrayRenderTarget)&&(Qe=ie.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(Qe,Ve.__webglTexture),I(Qe,Tt),ae(ve.__webglFramebuffer,ie,Tt,t.COLOR_ATTACHMENT0+Be,Qe,0),y(Tt)&&E(Qe)}n.unbindTexture()}else{let Be=t.TEXTURE_2D;if((ie.isWebGL3DRenderTarget||ie.isWebGLArrayRenderTarget)&&(Be=ie.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(Be,Ie.__webglTexture),I(Be,B),B.mipmaps&&B.mipmaps.length>0)for(let st=0;st<B.mipmaps.length;st++)ae(ve.__webglFramebuffer[st],ie,B,t.COLOR_ATTACHMENT0,Be,st);else ae(ve.__webglFramebuffer,ie,B,t.COLOR_ATTACHMENT0,Be,0);y(B)&&E(Be),n.unbindTexture()}ie.depthBuffer&&Ae(ie)}function Le(ie){const B=ie.textures;for(let ve=0,Ie=B.length;ve<Ie;ve++){const Ue=B[ve];if(y(Ue)){const Te=w(ie),dt=r.get(Ue).__webglTexture;n.bindTexture(Te,dt),E(Te),n.unbindTexture()}}}const Je=[],Xe=[];function Ge(ie){if(ie.samples>0){if(Ft(ie)===!1){const B=ie.textures,ve=ie.width,Ie=ie.height;let Ue=t.COLOR_BUFFER_BIT;const Te=ie.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,dt=r.get(ie),Be=B.length>1;if(Be)for(let Tt=0;Tt<B.length;Tt++)n.bindFramebuffer(t.FRAMEBUFFER,dt.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Tt,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,dt.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Tt,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,dt.__webglMultisampledFramebuffer);const st=ie.texture.mipmaps;st&&st.length>0?n.bindFramebuffer(t.DRAW_FRAMEBUFFER,dt.__webglFramebuffer[0]):n.bindFramebuffer(t.DRAW_FRAMEBUFFER,dt.__webglFramebuffer);for(let Tt=0;Tt<B.length;Tt++){if(ie.resolveDepthBuffer&&(ie.depthBuffer&&(Ue|=t.DEPTH_BUFFER_BIT),ie.stencilBuffer&&ie.resolveStencilBuffer&&(Ue|=t.STENCIL_BUFFER_BIT)),Be){t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,dt.__webglColorRenderbuffer[Tt]);const Ve=r.get(B[Tt]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,Ve,0)}t.blitFramebuffer(0,0,ve,Ie,0,0,ve,Ie,Ue,t.NEAREST),u===!0&&(Je.length=0,Xe.length=0,Je.push(t.COLOR_ATTACHMENT0+Tt),ie.depthBuffer&&ie.resolveDepthBuffer===!1&&(Je.push(Te),Xe.push(Te),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,Xe)),t.invalidateFramebuffer(t.READ_FRAMEBUFFER,Je))}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),Be)for(let Tt=0;Tt<B.length;Tt++){n.bindFramebuffer(t.FRAMEBUFFER,dt.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Tt,t.RENDERBUFFER,dt.__webglColorRenderbuffer[Tt]);const Ve=r.get(B[Tt]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,dt.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Tt,t.TEXTURE_2D,Ve,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,dt.__webglMultisampledFramebuffer)}else if(ie.depthBuffer&&ie.resolveDepthBuffer===!1&&u){const B=ie.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[B])}}}function ce(ie){return Math.min(i.maxSamples,ie.samples)}function Ft(ie){const B=r.get(ie);return ie.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&B.__useRenderToTexture!==!1}function Ct(ie){const B=s.render.frame;h.get(ie)!==B&&(h.set(ie,B),ie.update())}function Nt(ie,B){const ve=ie.colorSpace,Ie=ie.format,Ue=ie.type;return ie.isCompressedTexture===!0||ie.isVideoTexture===!0||ve!==sh&&ve!==ql&&(pn.getTransfer(ve)===Pn?(Ie!==Ss||Ue!==Ta)&&Vt("WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):dn("WebGLTextures: Unsupported texture color space:",ve)),B}function rt(ie){return typeof HTMLImageElement<"u"&&ie instanceof HTMLImageElement?(f.width=ie.naturalWidth||ie.width,f.height=ie.naturalHeight||ie.height):typeof VideoFrame<"u"&&ie instanceof VideoFrame?(f.width=ie.displayWidth,f.height=ie.displayHeight):(f.width=ie.width,f.height=ie.height),f}this.allocateTextureUnit=Z,this.resetTextureUnits=U,this.setTexture2D=oe,this.setTexture2DArray=G,this.setTexture3D=W,this.setTextureCube=ee,this.rebindTextures=j,this.setupRenderTarget=We,this.updateRenderTargetMipmap=Le,this.updateMultisampleRenderTarget=Ge,this.setupDepthRenderbuffer=Ae,this.setupFrameBufferTexture=ae,this.useMultisampledRTT=Ft,this.isReversedDepthBuffer=function(){return n.buffers.depth.getReversed()}}function xK(t,e){function n(r,i=ql){let a;const s=pn.getTransfer(i);if(r===Ta)return t.UNSIGNED_BYTE;if(r===y2)return t.UNSIGNED_SHORT_4_4_4_4;if(r===E2)return t.UNSIGNED_SHORT_5_5_5_1;if(r===zI)return t.UNSIGNED_INT_5_9_9_9_REV;if(r===jI)return t.UNSIGNED_INT_10F_11F_11F_REV;if(r===UI)return t.BYTE;if(r===BI)return t.SHORT;if(r===od)return t.UNSIGNED_SHORT;if(r===_2)return t.INT;if(r===Zs)return t.UNSIGNED_INT;if(r===Vs)return t.FLOAT;if(r===Yo)return t.HALF_FLOAT;if(r===HI)return t.ALPHA;if(r===GI)return t.RGB;if(r===Ss)return t.RGBA;if(r===Xo)return t.DEPTH_COMPONENT;if(r===Yc)return t.DEPTH_STENCIL;if(r===VI)return t.RED;if(r===S2)return t.RED_INTEGER;if(r===ah)return t.RG;if(r===b2)return t.RG_INTEGER;if(r===T2)return t.RGBA_INTEGER;if(r===Lv||r===Iv||r===Fv||r===Uv)if(s===Pn)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(r===Lv)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===Iv)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===Fv)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===Uv)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(r===Lv)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===Iv)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===Fv)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===Uv)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(r===gb||r===xb||r===_b||r===yb)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(r===gb)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===xb)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===_b)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===yb)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(r===Eb||r===Sb||r===bb||r===Tb||r===wb||r===Ab||r===Mb)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(r===Eb||r===Sb)return s===Pn?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(r===bb)return s===Pn?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC;if(r===Tb)return a.COMPRESSED_R11_EAC;if(r===wb)return a.COMPRESSED_SIGNED_R11_EAC;if(r===Ab)return a.COMPRESSED_RG11_EAC;if(r===Mb)return a.COMPRESSED_SIGNED_RG11_EAC}else return null;if(r===Cb||r===Rb||r===Ob||r===Pb||r===Db||r===Nb||r===kb||r===Lb||r===Ib||r===Fb||r===Ub||r===Bb||r===zb||r===jb)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(r===Cb)return s===Pn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===Rb)return s===Pn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===Ob)return s===Pn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===Pb)return s===Pn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===Db)return s===Pn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===Nb)return s===Pn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===kb)return s===Pn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===Lb)return s===Pn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===Ib)return s===Pn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===Fb)return s===Pn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===Ub)return s===Pn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===Bb)return s===Pn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===zb)return s===Pn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===jb)return s===Pn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(r===Hb||r===Gb||r===Vb)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(r===Hb)return s===Pn?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(r===Gb)return a.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(r===Vb)return a.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(r===Wb||r===Yb||r===Xb||r===qb)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(r===Wb)return a.COMPRESSED_RED_RGTC1_EXT;if(r===Yb)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===Xb)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===qb)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return r===ld?t.UNSIGNED_INT_24_8:t[r]!==void 0?t[r]:null}return{convert:n}}const _K=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,yK=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class EK{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n){if(this.texture===null){const r=new sF(e.texture);(e.depthNear!==n.depthNear||e.depthFar!==n.depthFar)&&(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=r}}getMesh(e){if(this.texture!==null&&this.mesh===null){const n=e.cameras[0].viewport,r=new Qs({vertexShader:_K,fragmentShader:yK,uniforms:{depthColor:{value:this.texture},depthWidth:{value:n.z},depthHeight:{value:n.w}}});this.mesh=new Ca(new ox(20,20),r)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class SK extends bu{constructor(e,n){super();const r=this;let i=null,a=1,s=null,l="local-floor",u=1,f=null,h=null,p=null,m=null,g=null,_=null;const x=typeof XRWebGLBinding<"u",y=new EK,E={},w=n.getContextAttributes();let b=null,M=null;const A=[],C=[],R=new bt;let F=null;const O=new ts;O.viewport=new vr;const k=new ts;k.viewport=new vr;const D=[O,k],U=new OV;let Z=null,se=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(J){let fe=A[J];return fe===void 0&&(fe=new Gy,A[J]=fe),fe.getTargetRaySpace()},this.getControllerGrip=function(J){let fe=A[J];return fe===void 0&&(fe=new Gy,A[J]=fe),fe.getGripSpace()},this.getHand=function(J){let fe=A[J];return fe===void 0&&(fe=new Gy,A[J]=fe),fe.getHandSpace()};function oe(J){const fe=C.indexOf(J.inputSource);if(fe===-1)return;const ae=A[fe];ae!==void 0&&(ae.update(J.inputSource,J.frame,f||s),ae.dispatchEvent({type:J.type,data:J.inputSource}))}function G(){i.removeEventListener("select",oe),i.removeEventListener("selectstart",oe),i.removeEventListener("selectend",oe),i.removeEventListener("squeeze",oe),i.removeEventListener("squeezestart",oe),i.removeEventListener("squeezeend",oe),i.removeEventListener("end",G),i.removeEventListener("inputsourceschange",W);for(let J=0;J<A.length;J++){const fe=C[J];fe!==null&&(C[J]=null,A[J].disconnect(fe))}Z=null,se=null,y.reset();for(const J in E)delete E[J];e.setRenderTarget(b),g=null,m=null,p=null,i=null,M=null,te.stop(),r.isPresenting=!1,e.setPixelRatio(F),e.setSize(R.width,R.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(J){a=J,r.isPresenting===!0&&Vt("WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(J){l=J,r.isPresenting===!0&&Vt("WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return f||s},this.setReferenceSpace=function(J){f=J},this.getBaseLayer=function(){return m!==null?m:g},this.getBinding=function(){return p===null&&x&&(p=new XRWebGLBinding(i,n)),p},this.getFrame=function(){return _},this.getSession=function(){return i},this.setSession=async function(J){if(i=J,i!==null){if(b=e.getRenderTarget(),i.addEventListener("select",oe),i.addEventListener("selectstart",oe),i.addEventListener("selectend",oe),i.addEventListener("squeeze",oe),i.addEventListener("squeezestart",oe),i.addEventListener("squeezeend",oe),i.addEventListener("end",G),i.addEventListener("inputsourceschange",W),w.xrCompatible!==!0&&await n.makeXRCompatible(),F=e.getPixelRatio(),e.getSize(R),x&&"createProjectionLayer"in XRWebGLBinding.prototype){let ae=null,Q=null,de=null;w.depth&&(de=w.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,ae=w.stencil?Yc:Xo,Q=w.stencil?ld:Zs);const Ae={colorFormat:n.RGBA8,depthFormat:de,scaleFactor:a};p=this.getBinding(),m=p.createProjectionLayer(Ae),i.updateRenderState({layers:[m]}),e.setPixelRatio(1),e.setSize(m.textureWidth,m.textureHeight,!1),M=new Ks(m.textureWidth,m.textureHeight,{format:Ss,type:Ta,depthTexture:new ud(m.textureWidth,m.textureHeight,Q,void 0,void 0,void 0,void 0,void 0,void 0,ae),stencilBuffer:w.stencil,colorSpace:e.outputColorSpace,samples:w.antialias?4:0,resolveDepthBuffer:m.ignoreDepthValues===!1,resolveStencilBuffer:m.ignoreDepthValues===!1})}else{const ae={antialias:w.antialias,alpha:!0,depth:w.depth,stencil:w.stencil,framebufferScaleFactor:a};g=new XRWebGLLayer(i,n,ae),i.updateRenderState({baseLayer:g}),e.setPixelRatio(1),e.setSize(g.framebufferWidth,g.framebufferHeight,!1),M=new Ks(g.framebufferWidth,g.framebufferHeight,{format:Ss,type:Ta,colorSpace:e.outputColorSpace,stencilBuffer:w.stencil,resolveDepthBuffer:g.ignoreDepthValues===!1,resolveStencilBuffer:g.ignoreDepthValues===!1})}M.isXRRenderTarget=!0,this.setFoveation(u),f=null,s=await i.requestReferenceSpace(l),te.setContext(i),te.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode},this.getDepthTexture=function(){return y.getDepthTexture()};function W(J){for(let fe=0;fe<J.removed.length;fe++){const ae=J.removed[fe],Q=C.indexOf(ae);Q>=0&&(C[Q]=null,A[Q].disconnect(ae))}for(let fe=0;fe<J.added.length;fe++){const ae=J.added[fe];let Q=C.indexOf(ae);if(Q===-1){for(let Ae=0;Ae<A.length;Ae++)if(Ae>=C.length){C.push(ae),Q=Ae;break}else if(C[Ae]===null){C[Ae]=ae,Q=Ae;break}if(Q===-1)break}const de=A[Q];de&&de.connect(ae)}}const ee=new _e,Y=new _e;function pe(J,fe,ae){ee.setFromMatrixPosition(fe.matrixWorld),Y.setFromMatrixPosition(ae.matrixWorld);const Q=ee.distanceTo(Y),de=fe.projectionMatrix.elements,Ae=ae.projectionMatrix.elements,j=de[14]/(de[10]-1),We=de[14]/(de[10]+1),Le=(de[9]+1)/de[5],Je=(de[9]-1)/de[5],Xe=(de[8]-1)/de[0],Ge=(Ae[8]+1)/Ae[0],ce=j*Xe,Ft=j*Ge,Ct=Q/(-Xe+Ge),Nt=Ct*-Xe;if(fe.matrixWorld.decompose(J.position,J.quaternion,J.scale),J.translateX(Nt),J.translateZ(Ct),J.matrixWorld.compose(J.position,J.quaternion,J.scale),J.matrixWorldInverse.copy(J.matrixWorld).invert(),de[10]===-1)J.projectionMatrix.copy(fe.projectionMatrix),J.projectionMatrixInverse.copy(fe.projectionMatrixInverse);else{const rt=j+Ct,ie=We+Ct,B=ce-Nt,ve=Ft+(Q-Nt),Ie=Le*We/ie*rt,Ue=Je*We/ie*rt;J.projectionMatrix.makePerspective(B,ve,Ie,Ue,rt,ie),J.projectionMatrixInverse.copy(J.projectionMatrix).invert()}}function z(J,fe){fe===null?J.matrixWorld.copy(J.matrix):J.matrixWorld.multiplyMatrices(fe.matrixWorld,J.matrix),J.matrixWorldInverse.copy(J.matrixWorld).invert()}this.updateCamera=function(J){if(i===null)return;let fe=J.near,ae=J.far;y.texture!==null&&(y.depthNear>0&&(fe=y.depthNear),y.depthFar>0&&(ae=y.depthFar)),U.near=k.near=O.near=fe,U.far=k.far=O.far=ae,(Z!==U.near||se!==U.far)&&(i.updateRenderState({depthNear:U.near,depthFar:U.far}),Z=U.near,se=U.far),U.layers.mask=J.layers.mask|6,O.layers.mask=U.layers.mask&3,k.layers.mask=U.layers.mask&5;const Q=J.parent,de=U.cameras;z(U,Q);for(let Ae=0;Ae<de.length;Ae++)z(de[Ae],Q);de.length===2?pe(U,O,k):U.projectionMatrix.copy(O.projectionMatrix),I(J,U,Q)};function I(J,fe,ae){ae===null?J.matrix.copy(fe.matrixWorld):(J.matrix.copy(ae.matrixWorld),J.matrix.invert(),J.matrix.multiply(fe.matrixWorld)),J.matrix.decompose(J.position,J.quaternion,J.scale),J.updateMatrixWorld(!0),J.projectionMatrix.copy(fe.projectionMatrix),J.projectionMatrixInverse.copy(fe.projectionMatrixInverse),J.isPerspectiveCamera&&(J.fov=$b*2*Math.atan(1/J.projectionMatrix.elements[5]),J.zoom=1)}this.getCamera=function(){return U},this.getFoveation=function(){if(!(m===null&&g===null))return u},this.setFoveation=function(J){u=J,m!==null&&(m.fixedFoveation=J),g!==null&&g.fixedFoveation!==void 0&&(g.fixedFoveation=J)},this.hasDepthSensing=function(){return y.texture!==null},this.getDepthSensingMesh=function(){return y.getMesh(U)},this.getCameraTexture=function(J){return E[J]};let V=null;function X(J,fe){if(h=fe.getViewerPose(f||s),_=fe,h!==null){const ae=h.views;g!==null&&(e.setRenderTargetFramebuffer(M,g.framebuffer),e.setRenderTarget(M));let Q=!1;ae.length!==U.cameras.length&&(U.cameras.length=0,Q=!0);for(let We=0;We<ae.length;We++){const Le=ae[We];let Je=null;if(g!==null)Je=g.getViewport(Le);else{const Ge=p.getViewSubImage(m,Le);Je=Ge.viewport,We===0&&(e.setRenderTargetTextures(M,Ge.colorTexture,Ge.depthStencilTexture),e.setRenderTarget(M))}let Xe=D[We];Xe===void 0&&(Xe=new ts,Xe.layers.enable(We),Xe.viewport=new vr,D[We]=Xe),Xe.matrix.fromArray(Le.transform.matrix),Xe.matrix.decompose(Xe.position,Xe.quaternion,Xe.scale),Xe.projectionMatrix.fromArray(Le.projectionMatrix),Xe.projectionMatrixInverse.copy(Xe.projectionMatrix).invert(),Xe.viewport.set(Je.x,Je.y,Je.width,Je.height),We===0&&(U.matrix.copy(Xe.matrix),U.matrix.decompose(U.position,U.quaternion,U.scale)),Q===!0&&U.cameras.push(Xe)}const de=i.enabledFeatures;if(de&&de.includes("depth-sensing")&&i.depthUsage=="gpu-optimized"&&x){p=r.getBinding();const We=p.getDepthInformation(ae[0]);We&&We.isValid&&We.texture&&y.init(We,i.renderState)}if(de&&de.includes("camera-access")&&x){e.state.unbindTexture(),p=r.getBinding();for(let We=0;We<ae.length;We++){const Le=ae[We].camera;if(Le){let Je=E[Le];Je||(Je=new sF,E[Le]=Je);const Xe=p.getCameraImage(Le);Je.sourceTexture=Xe}}}}for(let ae=0;ae<A.length;ae++){const Q=C[ae],de=A[ae];Q!==null&&de!==void 0&&de.update(Q,fe,f||s)}V&&V(J,fe),fe.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:fe}),_=null}const te=new fF;te.setAnimationLoop(X),this.setAnimationLoop=function(J){V=J},this.dispose=function(){}}}const Uc=new Js,bK=new Qn;function TK(t,e){function n(y,E){y.matrixAutoUpdate===!0&&y.updateMatrix(),E.value.copy(y.matrix)}function r(y,E){E.color.getRGB(y.fogColor.value,QI(t)),E.isFog?(y.fogNear.value=E.near,y.fogFar.value=E.far):E.isFogExp2&&(y.fogDensity.value=E.density)}function i(y,E,w,b,M){E.isMeshBasicMaterial||E.isMeshLambertMaterial?a(y,E):E.isMeshToonMaterial?(a(y,E),p(y,E)):E.isMeshPhongMaterial?(a(y,E),h(y,E)):E.isMeshStandardMaterial?(a(y,E),m(y,E),E.isMeshPhysicalMaterial&&g(y,E,M)):E.isMeshMatcapMaterial?(a(y,E),_(y,E)):E.isMeshDepthMaterial?a(y,E):E.isMeshDistanceMaterial?(a(y,E),x(y,E)):E.isMeshNormalMaterial?a(y,E):E.isLineBasicMaterial?(s(y,E),E.isLineDashedMaterial&&l(y,E)):E.isPointsMaterial?u(y,E,w,b):E.isSpriteMaterial?f(y,E):E.isShadowMaterial?(y.color.value.copy(E.color),y.opacity.value=E.opacity):E.isShaderMaterial&&(E.uniformsNeedUpdate=!1)}function a(y,E){y.opacity.value=E.opacity,E.color&&y.diffuse.value.copy(E.color),E.emissive&&y.emissive.value.copy(E.emissive).multiplyScalar(E.emissiveIntensity),E.map&&(y.map.value=E.map,n(E.map,y.mapTransform)),E.alphaMap&&(y.alphaMap.value=E.alphaMap,n(E.alphaMap,y.alphaMapTransform)),E.bumpMap&&(y.bumpMap.value=E.bumpMap,n(E.bumpMap,y.bumpMapTransform),y.bumpScale.value=E.bumpScale,E.side===oa&&(y.bumpScale.value*=-1)),E.normalMap&&(y.normalMap.value=E.normalMap,n(E.normalMap,y.normalMapTransform),y.normalScale.value.copy(E.normalScale),E.side===oa&&y.normalScale.value.negate()),E.displacementMap&&(y.displacementMap.value=E.displacementMap,n(E.displacementMap,y.displacementMapTransform),y.displacementScale.value=E.displacementScale,y.displacementBias.value=E.displacementBias),E.emissiveMap&&(y.emissiveMap.value=E.emissiveMap,n(E.emissiveMap,y.emissiveMapTransform)),E.specularMap&&(y.specularMap.value=E.specularMap,n(E.specularMap,y.specularMapTransform)),E.alphaTest>0&&(y.alphaTest.value=E.alphaTest);const w=e.get(E),b=w.envMap,M=w.envMapRotation;b&&(y.envMap.value=b,Uc.copy(M),Uc.x*=-1,Uc.y*=-1,Uc.z*=-1,b.isCubeTexture&&b.isRenderTargetTexture===!1&&(Uc.y*=-1,Uc.z*=-1),y.envMapRotation.value.setFromMatrix4(bK.makeRotationFromEuler(Uc)),y.flipEnvMap.value=b.isCubeTexture&&b.isRenderTargetTexture===!1?-1:1,y.reflectivity.value=E.reflectivity,y.ior.value=E.ior,y.refractionRatio.value=E.refractionRatio),E.lightMap&&(y.lightMap.value=E.lightMap,y.lightMapIntensity.value=E.lightMapIntensity,n(E.lightMap,y.lightMapTransform)),E.aoMap&&(y.aoMap.value=E.aoMap,y.aoMapIntensity.value=E.aoMapIntensity,n(E.aoMap,y.aoMapTransform))}function s(y,E){y.diffuse.value.copy(E.color),y.opacity.value=E.opacity,E.map&&(y.map.value=E.map,n(E.map,y.mapTransform))}function l(y,E){y.dashSize.value=E.dashSize,y.totalSize.value=E.dashSize+E.gapSize,y.scale.value=E.scale}function u(y,E,w,b){y.diffuse.value.copy(E.color),y.opacity.value=E.opacity,y.size.value=E.size*w,y.scale.value=b*.5,E.map&&(y.map.value=E.map,n(E.map,y.uvTransform)),E.alphaMap&&(y.alphaMap.value=E.alphaMap,n(E.alphaMap,y.alphaMapTransform)),E.alphaTest>0&&(y.alphaTest.value=E.alphaTest)}function f(y,E){y.diffuse.value.copy(E.color),y.opacity.value=E.opacity,y.rotation.value=E.rotation,E.map&&(y.map.value=E.map,n(E.map,y.mapTransform)),E.alphaMap&&(y.alphaMap.value=E.alphaMap,n(E.alphaMap,y.alphaMapTransform)),E.alphaTest>0&&(y.alphaTest.value=E.alphaTest)}function h(y,E){y.specular.value.copy(E.specular),y.shininess.value=Math.max(E.shininess,1e-4)}function p(y,E){E.gradientMap&&(y.gradientMap.value=E.gradientMap)}function m(y,E){y.metalness.value=E.metalness,E.metalnessMap&&(y.metalnessMap.value=E.metalnessMap,n(E.metalnessMap,y.metalnessMapTransform)),y.roughness.value=E.roughness,E.roughnessMap&&(y.roughnessMap.value=E.roughnessMap,n(E.roughnessMap,y.roughnessMapTransform)),E.envMap&&(y.envMapIntensity.value=E.envMapIntensity)}function g(y,E,w){y.ior.value=E.ior,E.sheen>0&&(y.sheenColor.value.copy(E.sheenColor).multiplyScalar(E.sheen),y.sheenRoughness.value=E.sheenRoughness,E.sheenColorMap&&(y.sheenColorMap.value=E.sheenColorMap,n(E.sheenColorMap,y.sheenColorMapTransform)),E.sheenRoughnessMap&&(y.sheenRoughnessMap.value=E.sheenRoughnessMap,n(E.sheenRoughnessMap,y.sheenRoughnessMapTransform))),E.clearcoat>0&&(y.clearcoat.value=E.clearcoat,y.clearcoatRoughness.value=E.clearcoatRoughness,E.clearcoatMap&&(y.clearcoatMap.value=E.clearcoatMap,n(E.clearcoatMap,y.clearcoatMapTransform)),E.clearcoatRoughnessMap&&(y.clearcoatRoughnessMap.value=E.clearcoatRoughnessMap,n(E.clearcoatRoughnessMap,y.clearcoatRoughnessMapTransform)),E.clearcoatNormalMap&&(y.clearcoatNormalMap.value=E.clearcoatNormalMap,n(E.clearcoatNormalMap,y.clearcoatNormalMapTransform),y.clearcoatNormalScale.value.copy(E.clearcoatNormalScale),E.side===oa&&y.clearcoatNormalScale.value.negate())),E.dispersion>0&&(y.dispersion.value=E.dispersion),E.iridescence>0&&(y.iridescence.value=E.iridescence,y.iridescenceIOR.value=E.iridescenceIOR,y.iridescenceThicknessMinimum.value=E.iridescenceThicknessRange[0],y.iridescenceThicknessMaximum.value=E.iridescenceThicknessRange[1],E.iridescenceMap&&(y.iridescenceMap.value=E.iridescenceMap,n(E.iridescenceMap,y.iridescenceMapTransform)),E.iridescenceThicknessMap&&(y.iridescenceThicknessMap.value=E.iridescenceThicknessMap,n(E.iridescenceThicknessMap,y.iridescenceThicknessMapTransform))),E.transmission>0&&(y.transmission.value=E.transmission,y.transmissionSamplerMap.value=w.texture,y.transmissionSamplerSize.value.set(w.width,w.height),E.transmissionMap&&(y.transmissionMap.value=E.transmissionMap,n(E.transmissionMap,y.transmissionMapTransform)),y.thickness.value=E.thickness,E.thicknessMap&&(y.thicknessMap.value=E.thicknessMap,n(E.thicknessMap,y.thicknessMapTransform)),y.attenuationDistance.value=E.attenuationDistance,y.attenuationColor.value.copy(E.attenuationColor)),E.anisotropy>0&&(y.anisotropyVector.value.set(E.anisotropy*Math.cos(E.anisotropyRotation),E.anisotropy*Math.sin(E.anisotropyRotation)),E.anisotropyMap&&(y.anisotropyMap.value=E.anisotropyMap,n(E.anisotropyMap,y.anisotropyMapTransform))),y.specularIntensity.value=E.specularIntensity,y.specularColor.value.copy(E.specularColor),E.specularColorMap&&(y.specularColorMap.value=E.specularColorMap,n(E.specularColorMap,y.specularColorMapTransform)),E.specularIntensityMap&&(y.specularIntensityMap.value=E.specularIntensityMap,n(E.specularIntensityMap,y.specularIntensityMapTransform))}function _(y,E){E.matcap&&(y.matcap.value=E.matcap)}function x(y,E){const w=e.get(E).light;y.referencePosition.value.setFromMatrixPosition(w.matrixWorld),y.nearDistance.value=w.shadow.camera.near,y.farDistance.value=w.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function wK(t,e,n,r){let i={},a={},s=[];const l=t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS);function u(w,b){const M=b.program;r.uniformBlockBinding(w,M)}function f(w,b){let M=i[w.id];M===void 0&&(_(w),M=h(w),i[w.id]=M,w.addEventListener("dispose",y));const A=b.program;r.updateUBOMapping(w,A);const C=e.render.frame;a[w.id]!==C&&(m(w),a[w.id]=C)}function h(w){const b=p();w.__bindingPointIndex=b;const M=t.createBuffer(),A=w.__size,C=w.usage;return t.bindBuffer(t.UNIFORM_BUFFER,M),t.bufferData(t.UNIFORM_BUFFER,A,C),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,b,M),M}function p(){for(let w=0;w<l;w++)if(s.indexOf(w)===-1)return s.push(w),w;return dn("WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function m(w){const b=i[w.id],M=w.uniforms,A=w.__cache;t.bindBuffer(t.UNIFORM_BUFFER,b);for(let C=0,R=M.length;C<R;C++){const F=Array.isArray(M[C])?M[C]:[M[C]];for(let O=0,k=F.length;O<k;O++){const D=F[O];if(g(D,C,O,A)===!0){const U=D.__offset,Z=Array.isArray(D.value)?D.value:[D.value];let se=0;for(let oe=0;oe<Z.length;oe++){const G=Z[oe],W=x(G);typeof G=="number"||typeof G=="boolean"?(D.__data[0]=G,t.bufferSubData(t.UNIFORM_BUFFER,U+se,D.__data)):G.isMatrix3?(D.__data[0]=G.elements[0],D.__data[1]=G.elements[1],D.__data[2]=G.elements[2],D.__data[3]=0,D.__data[4]=G.elements[3],D.__data[5]=G.elements[4],D.__data[6]=G.elements[5],D.__data[7]=0,D.__data[8]=G.elements[6],D.__data[9]=G.elements[7],D.__data[10]=G.elements[8],D.__data[11]=0):(G.toArray(D.__data,se),se+=W.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,U,D.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function g(w,b,M,A){const C=w.value,R=b+"_"+M;if(A[R]===void 0)return typeof C=="number"||typeof C=="boolean"?A[R]=C:A[R]=C.clone(),!0;{const F=A[R];if(typeof C=="number"||typeof C=="boolean"){if(F!==C)return A[R]=C,!0}else if(F.equals(C)===!1)return F.copy(C),!0}return!1}function _(w){const b=w.uniforms;let M=0;const A=16;for(let R=0,F=b.length;R<F;R++){const O=Array.isArray(b[R])?b[R]:[b[R]];for(let k=0,D=O.length;k<D;k++){const U=O[k],Z=Array.isArray(U.value)?U.value:[U.value];for(let se=0,oe=Z.length;se<oe;se++){const G=Z[se],W=x(G),ee=M%A,Y=ee%W.boundary,pe=ee+Y;M+=Y,pe!==0&&A-pe<W.storage&&(M+=A-pe),U.__data=new Float32Array(W.storage/Float32Array.BYTES_PER_ELEMENT),U.__offset=M,M+=W.storage}}}const C=M%A;return C>0&&(M+=A-C),w.__size=M,w.__cache={},this}function x(w){const b={boundary:0,storage:0};return typeof w=="number"||typeof w=="boolean"?(b.boundary=4,b.storage=4):w.isVector2?(b.boundary=8,b.storage=8):w.isVector3||w.isColor?(b.boundary=16,b.storage=12):w.isVector4?(b.boundary=16,b.storage=16):w.isMatrix3?(b.boundary=48,b.storage=48):w.isMatrix4?(b.boundary=64,b.storage=64):w.isTexture?Vt("WebGLRenderer: Texture samplers can not be part of an uniforms group."):Vt("WebGLRenderer: Unsupported uniform value type.",w),b}function y(w){const b=w.target;b.removeEventListener("dispose",y);const M=s.indexOf(b.__bindingPointIndex);s.splice(M,1),t.deleteBuffer(i[b.id]),delete i[b.id],delete a[b.id]}function E(){for(const w in i)t.deleteBuffer(i[w]);s=[],i={},a={}}return{bind:u,update:f,dispose:E}}const AK=new Uint16Array([12469,15057,12620,14925,13266,14620,13807,14376,14323,13990,14545,13625,14713,13328,14840,12882,14931,12528,14996,12233,15039,11829,15066,11525,15080,11295,15085,10976,15082,10705,15073,10495,13880,14564,13898,14542,13977,14430,14158,14124,14393,13732,14556,13410,14702,12996,14814,12596,14891,12291,14937,11834,14957,11489,14958,11194,14943,10803,14921,10506,14893,10278,14858,9960,14484,14039,14487,14025,14499,13941,14524,13740,14574,13468,14654,13106,14743,12678,14818,12344,14867,11893,14889,11509,14893,11180,14881,10751,14852,10428,14812,10128,14765,9754,14712,9466,14764,13480,14764,13475,14766,13440,14766,13347,14769,13070,14786,12713,14816,12387,14844,11957,14860,11549,14868,11215,14855,10751,14825,10403,14782,10044,14729,9651,14666,9352,14599,9029,14967,12835,14966,12831,14963,12804,14954,12723,14936,12564,14917,12347,14900,11958,14886,11569,14878,11247,14859,10765,14828,10401,14784,10011,14727,9600,14660,9289,14586,8893,14508,8533,15111,12234,15110,12234,15104,12216,15092,12156,15067,12010,15028,11776,14981,11500,14942,11205,14902,10752,14861,10393,14812,9991,14752,9570,14682,9252,14603,8808,14519,8445,14431,8145,15209,11449,15208,11451,15202,11451,15190,11438,15163,11384,15117,11274,15055,10979,14994,10648,14932,10343,14871,9936,14803,9532,14729,9218,14645,8742,14556,8381,14461,8020,14365,7603,15273,10603,15272,10607,15267,10619,15256,10631,15231,10614,15182,10535,15118,10389,15042,10167,14963,9787,14883,9447,14800,9115,14710,8665,14615,8318,14514,7911,14411,7507,14279,7198,15314,9675,15313,9683,15309,9712,15298,9759,15277,9797,15229,9773,15166,9668,15084,9487,14995,9274,14898,8910,14800,8539,14697,8234,14590,7790,14479,7409,14367,7067,14178,6621,15337,8619,15337,8631,15333,8677,15325,8769,15305,8871,15264,8940,15202,8909,15119,8775,15022,8565,14916,8328,14804,8009,14688,7614,14569,7287,14448,6888,14321,6483,14088,6171,15350,7402,15350,7419,15347,7480,15340,7613,15322,7804,15287,7973,15229,8057,15148,8012,15046,7846,14933,7611,14810,7357,14682,7069,14552,6656,14421,6316,14251,5948,14007,5528,15356,5942,15356,5977,15353,6119,15348,6294,15332,6551,15302,6824,15249,7044,15171,7122,15070,7050,14949,6861,14818,6611,14679,6349,14538,6067,14398,5651,14189,5311,13935,4958,15359,4123,15359,4153,15356,4296,15353,4646,15338,5160,15311,5508,15263,5829,15188,6042,15088,6094,14966,6001,14826,5796,14678,5543,14527,5287,14377,4985,14133,4586,13869,4257,15360,1563,15360,1642,15358,2076,15354,2636,15341,3350,15317,4019,15273,4429,15203,4732,15105,4911,14981,4932,14836,4818,14679,4621,14517,4386,14359,4156,14083,3795,13808,3437,15360,122,15360,137,15358,285,15355,636,15344,1274,15322,2177,15281,2765,15215,3223,15120,3451,14995,3569,14846,3567,14681,3466,14511,3305,14344,3121,14037,2800,13753,2467,15360,0,15360,1,15359,21,15355,89,15346,253,15325,479,15287,796,15225,1148,15133,1492,15008,1749,14856,1882,14685,1886,14506,1783,14324,1608,13996,1398,13702,1183]);let Is=null;function MK(){return Is===null&&(Is=new tV(AK,16,16,ah,Yo),Is.name="DFG_LUT",Is.minFilter=ki,Is.magFilter=ki,Is.wrapS=Io,Is.wrapT=Io,Is.generateMipmaps=!1,Is.needsUpdate=!0),Is}class CK{constructor(e={}){const{canvas:n=wG(),context:r=null,depth:i=!0,stencil:a=!1,alpha:s=!1,antialias:l=!1,premultipliedAlpha:u=!0,preserveDrawingBuffer:f=!1,powerPreference:h="default",failIfMajorPerformanceCaveat:p=!1,reversedDepthBuffer:m=!1,outputBufferType:g=Ta}=e;this.isWebGLRenderer=!0;let _;if(r!==null){if(typeof WebGLRenderingContext<"u"&&r instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");_=r.getContextAttributes().alpha}else _=s;const x=g,y=new Set([T2,b2,S2]),E=new Set([Ta,Zs,od,ld,y2,E2]),w=new Uint32Array(4),b=new Int32Array(4);let M=null,A=null;const C=[],R=[];let F=null;this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=qs,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const O=this;let k=!1;this._outputColorSpace=es;let D=0,U=0,Z=null,se=-1,oe=null;const G=new vr,W=new vr;let ee=null;const Y=new sn(0);let pe=0,z=n.width,I=n.height,V=1,X=null,te=null;const J=new vr(0,0,z,I),fe=new vr(0,0,z,I);let ae=!1;const Q=new O2;let de=!1,Ae=!1;const j=new Qn,We=new _e,Le=new vr,Je={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Xe=!1;function Ge(){return Z===null?V:1}let ce=r;function Ft(H,xe){return n.getContext(H,xe)}try{const H={alpha:!0,depth:i,stencil:a,antialias:l,premultipliedAlpha:u,preserveDrawingBuffer:f,powerPreference:h,failIfMajorPerformanceCaveat:p};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${x2}`),n.addEventListener("webglcontextlost",Gt,!1),n.addEventListener("webglcontextrestored",Sn,!1),n.addEventListener("webglcontextcreationerror",fn,!1),ce===null){const xe="webgl2";if(ce=Ft(xe,H),ce===null)throw Ft(xe)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(H){throw dn("WebGLRenderer: "+H.message),H}let Ct,Nt,rt,ie,B,ve,Ie,Ue,Te,dt,Be,st,Tt,Ve,Qe,gt,vt,it,Pt,ge,at,et,pt,$e;function qe(){Ct=new MX(ce),Ct.init(),et=new xK(ce,Ct),Nt=new xX(ce,Ct,e,et),rt=new vK(ce,Ct),Nt.reversedDepthBuffer&&m&&rt.buffers.depth.setReversed(!0),ie=new OX(ce),B=new tK,ve=new gK(ce,Ct,rt,B,Nt,et,ie),Ie=new yX(O),Ue=new AX(O),Te=new kV(ce),pt=new vX(ce,Te),dt=new CX(ce,Te,ie,pt),Be=new DX(ce,dt,Te,ie),Pt=new PX(ce,Nt,ve),gt=new _X(B),st=new eK(O,Ie,Ue,Ct,Nt,pt,gt),Tt=new TK(O,B),Ve=new rK,Qe=new cK(Ct),it=new mX(O,Ie,Ue,rt,Be,_,u),vt=new pK(O,Be,Nt),$e=new wK(ce,ie,Nt,rt),ge=new gX(ce,Ct,ie),at=new RX(ce,Ct,ie),ie.programs=st.programs,O.capabilities=Nt,O.extensions=Ct,O.properties=B,O.renderLists=Ve,O.shadowMap=vt,O.state=rt,O.info=ie}qe(),x!==Ta&&(F=new kX(x,n.width,n.height,i,a));const ot=new SK(O,ce);this.xr=ot,this.getContext=function(){return ce},this.getContextAttributes=function(){return ce.getContextAttributes()},this.forceContextLoss=function(){const H=Ct.get("WEBGL_lose_context");H&&H.loseContext()},this.forceContextRestore=function(){const H=Ct.get("WEBGL_lose_context");H&&H.restoreContext()},this.getPixelRatio=function(){return V},this.setPixelRatio=function(H){H!==void 0&&(V=H,this.setSize(z,I,!1))},this.getSize=function(H){return H.set(z,I)},this.setSize=function(H,xe,we=!0){if(ot.isPresenting){Vt("WebGLRenderer: Can't change size while VR device is presenting.");return}z=H,I=xe,n.width=Math.floor(H*V),n.height=Math.floor(xe*V),we===!0&&(n.style.width=H+"px",n.style.height=xe+"px"),F!==null&&F.setSize(n.width,n.height),this.setViewport(0,0,H,xe)},this.getDrawingBufferSize=function(H){return H.set(z*V,I*V).floor()},this.setDrawingBufferSize=function(H,xe,we){z=H,I=xe,V=we,n.width=Math.floor(H*we),n.height=Math.floor(xe*we),this.setViewport(0,0,H,xe)},this.setEffects=function(H){if(x===Ta){console.error("THREE.WebGLRenderer: setEffects() requires outputBufferType set to HalfFloatType or FloatType.");return}if(H){for(let xe=0;xe<H.length;xe++)if(H[xe].isOutputPass===!0){console.warn("THREE.WebGLRenderer: OutputPass is not needed in setEffects(). Tone mapping and color space conversion are applied automatically.");break}}F.setEffects(H||[])},this.getCurrentViewport=function(H){return H.copy(G)},this.getViewport=function(H){return H.copy(J)},this.setViewport=function(H,xe,we,be){H.isVector4?J.set(H.x,H.y,H.z,H.w):J.set(H,xe,we,be),rt.viewport(G.copy(J).multiplyScalar(V).round())},this.getScissor=function(H){return H.copy(fe)},this.setScissor=function(H,xe,we,be){H.isVector4?fe.set(H.x,H.y,H.z,H.w):fe.set(H,xe,we,be),rt.scissor(W.copy(fe).multiplyScalar(V).round())},this.getScissorTest=function(){return ae},this.setScissorTest=function(H){rt.setScissorTest(ae=H)},this.setOpaqueSort=function(H){X=H},this.setTransparentSort=function(H){te=H},this.getClearColor=function(H){return H.copy(it.getClearColor())},this.setClearColor=function(){it.setClearColor(...arguments)},this.getClearAlpha=function(){return it.getClearAlpha()},this.setClearAlpha=function(){it.setClearAlpha(...arguments)},this.clear=function(H=!0,xe=!0,we=!0){let be=0;if(H){let Se=!1;if(Z!==null){const ut=Z.texture.format;Se=y.has(ut)}if(Se){const ut=Z.texture.type,_t=E.has(ut),ft=it.getClearColor(),St=it.getClearAlpha(),Et=ft.r,Ut=ft.g,Mt=ft.b;_t?(w[0]=Et,w[1]=Ut,w[2]=Mt,w[3]=St,ce.clearBufferuiv(ce.COLOR,0,w)):(b[0]=Et,b[1]=Ut,b[2]=Mt,b[3]=St,ce.clearBufferiv(ce.COLOR,0,b))}else be|=ce.COLOR_BUFFER_BIT}xe&&(be|=ce.DEPTH_BUFFER_BIT),we&&(be|=ce.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),ce.clear(be)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",Gt,!1),n.removeEventListener("webglcontextrestored",Sn,!1),n.removeEventListener("webglcontextcreationerror",fn,!1),it.dispose(),Ve.dispose(),Qe.dispose(),B.dispose(),Ie.dispose(),Ue.dispose(),Be.dispose(),pt.dispose(),$e.dispose(),st.dispose(),ot.dispose(),ot.removeEventListener("sessionstart",pl),ot.removeEventListener("sessionend",q),ue.stop()};function Gt(H){H.preventDefault(),Zv("WebGLRenderer: Context Lost."),k=!0}function Sn(){Zv("WebGLRenderer: Context Restored."),k=!1;const H=ie.autoReset,xe=vt.enabled,we=vt.autoUpdate,be=vt.needsUpdate,Se=vt.type;qe(),ie.autoReset=H,vt.enabled=xe,vt.autoUpdate=we,vt.needsUpdate=be,vt.type=Se}function fn(H){dn("WebGLRenderer: A WebGL context could not be created. Reason: ",H.statusMessage)}function $r(H){const xe=H.target;xe.removeEventListener("dispose",$r),fa(xe)}function fa(H){Iu(H),B.remove(H)}function Iu(H){const xe=B.get(H).programs;xe!==void 0&&(xe.forEach(function(we){st.releaseProgram(we)}),H.isShaderMaterial&&st.releaseShaderCache(H))}this.renderBufferDirect=function(H,xe,we,be,Se,ut){xe===null&&(xe=Je);const _t=Se.isMesh&&Se.matrixWorld.determinant()<0,ft=Ne(H,xe,we,be,Se);rt.setMaterial(be,_t);let St=we.index,Et=1;if(be.wireframe===!0){if(St=dt.getWireframeAttribute(we),St===void 0)return;Et=2}const Ut=we.drawRange,Mt=we.attributes.position;let Bt=Ut.start*Et,bn=(Ut.start+Ut.count)*Et;ut!==null&&(Bt=Math.max(Bt,ut.start*Et),bn=Math.min(bn,(ut.start+ut.count)*Et)),St!==null?(Bt=Math.max(Bt,0),bn=Math.min(bn,St.count)):Mt!=null&&(Bt=Math.max(Bt,0),bn=Math.min(bn,Mt.count));const nr=bn-Bt;if(nr<0||nr===1/0)return;pt.setup(Se,be,ft,we,St);let Wn,An=ge;if(St!==null&&(Wn=Te.get(St),An=at,An.setIndex(Wn)),Se.isMesh)be.wireframe===!0?(rt.setLineWidth(be.wireframeLinewidth*Ge()),An.setMode(ce.LINES)):An.setMode(ce.TRIANGLES);else if(Se.isLine){let Dt=be.linewidth;Dt===void 0&&(Dt=1),rt.setLineWidth(Dt*Ge()),Se.isLineSegments?An.setMode(ce.LINES):Se.isLineLoop?An.setMode(ce.LINE_LOOP):An.setMode(ce.LINE_STRIP)}else Se.isPoints?An.setMode(ce.POINTS):Se.isSprite&&An.setMode(ce.TRIANGLES);if(Se.isBatchedMesh)if(Se._multiDrawInstances!==null)cd("WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),An.renderMultiDrawInstances(Se._multiDrawStarts,Se._multiDrawCounts,Se._multiDrawCount,Se._multiDrawInstances);else if(Ct.get("WEBGL_multi_draw"))An.renderMultiDraw(Se._multiDrawStarts,Se._multiDrawCounts,Se._multiDrawCount);else{const Dt=Se._multiDrawStarts,Tn=Se._multiDrawCounts,Yt=Se._multiDrawCount,li=St?Te.get(St).bytesPerElement:1,lo=B.get(be).currentProgram.getUniforms();for(let ci=0;ci<Yt;ci++)lo.setValue(ce,"_gl_DrawID",ci),An.render(Dt[ci]/li,Tn[ci])}else if(Se.isInstancedMesh)An.renderInstances(Bt,nr,Se.count);else if(we.isInstancedBufferGeometry){const Dt=we._maxInstanceCount!==void 0?we._maxInstanceCount:1/0,Tn=Math.min(we.instanceCount,Dt);An.renderInstances(Bt,nr,Tn)}else An.render(Bt,nr)};function oo(H,xe,we){H.transparent===!0&&H.side===No&&H.forceSinglePass===!1?(H.side=oa,H.needsUpdate=!0,ze(H,xe,we),H.side=nc,H.needsUpdate=!0,ze(H,xe,we),H.side=No):ze(H,xe,we)}this.compile=function(H,xe,we=null){we===null&&(we=H),A=Qe.get(we),A.init(xe),R.push(A),we.traverseVisible(function(Se){Se.isLight&&Se.layers.test(xe.layers)&&(A.pushLight(Se),Se.castShadow&&A.pushShadow(Se))}),H!==we&&H.traverseVisible(function(Se){Se.isLight&&Se.layers.test(xe.layers)&&(A.pushLight(Se),Se.castShadow&&A.pushShadow(Se))}),A.setupLights();const be=new Set;return H.traverse(function(Se){if(!(Se.isMesh||Se.isPoints||Se.isLine||Se.isSprite))return;const ut=Se.material;if(ut)if(Array.isArray(ut))for(let _t=0;_t<ut.length;_t++){const ft=ut[_t];oo(ft,we,Se),be.add(ft)}else oo(ut,we,Se),be.add(ut)}),A=R.pop(),be},this.compileAsync=function(H,xe,we=null){const be=this.compile(H,xe,we);return new Promise(Se=>{function ut(){if(be.forEach(function(_t){B.get(_t).currentProgram.isReady()&&be.delete(_t)}),be.size===0){Se(H);return}setTimeout(ut,10)}Ct.get("KHR_parallel_shader_compile")!==null?ut():setTimeout(ut,10)})};let dl=null;function vc(H){dl&&dl(H)}function pl(){ue.stop()}function q(){ue.start()}const ue=new fF;ue.setAnimationLoop(vc),typeof self<"u"&&ue.setContext(self),this.setAnimationLoop=function(H){dl=H,ot.setAnimationLoop(H),H===null?ue.stop():ue.start()},ot.addEventListener("sessionstart",pl),ot.addEventListener("sessionend",q),this.render=function(H,xe){if(xe!==void 0&&xe.isCamera!==!0){dn("WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(k===!0)return;const we=ot.enabled===!0&&ot.isPresenting===!0,be=F!==null&&(Z===null||we)&&F.begin(O,Z);if(H.matrixWorldAutoUpdate===!0&&H.updateMatrixWorld(),xe.parent===null&&xe.matrixWorldAutoUpdate===!0&&xe.updateMatrixWorld(),ot.enabled===!0&&ot.isPresenting===!0&&(F===null||F.isCompositing()===!1)&&(ot.cameraAutoUpdate===!0&&ot.updateCamera(xe),xe=ot.getCamera()),H.isScene===!0&&H.onBeforeRender(O,H,xe,Z),A=Qe.get(H,R.length),A.init(xe),R.push(A),j.multiplyMatrices(xe.projectionMatrix,xe.matrixWorldInverse),Q.setFromProjectionMatrix(j,Ws,xe.reversedDepth),Ae=this.localClippingEnabled,de=gt.init(this.clippingPlanes,Ae),M=Ve.get(H,C.length),M.init(),C.push(M),ot.enabled===!0&&ot.isPresenting===!0){const _t=O.xr.getDepthSensingMesh();_t!==null&&ne(_t,xe,-1/0,O.sortObjects)}ne(H,xe,0,O.sortObjects),M.finish(),O.sortObjects===!0&&M.sort(X,te),Xe=ot.enabled===!1||ot.isPresenting===!1||ot.hasDepthSensing()===!1,Xe&&it.addToRenderList(M,H),this.info.render.frame++,de===!0&&gt.beginShadows();const Se=A.state.shadowsArray;if(vt.render(Se,H,xe),de===!0&&gt.endShadows(),this.info.autoReset===!0&&this.info.reset(),(be&&F.hasRenderPass())===!1){const _t=M.opaque,ft=M.transmissive;if(A.setupLights(),xe.isArrayCamera){const St=xe.cameras;if(ft.length>0)for(let Et=0,Ut=St.length;Et<Ut;Et++){const Mt=St[Et];le(_t,ft,H,Mt)}Xe&&it.render(H);for(let Et=0,Ut=St.length;Et<Ut;Et++){const Mt=St[Et];re(M,H,Mt,Mt.viewport)}}else ft.length>0&&le(_t,ft,H,xe),Xe&&it.render(H),re(M,H,xe)}Z!==null&&U===0&&(ve.updateMultisampleRenderTarget(Z),ve.updateRenderTargetMipmap(Z)),be&&F.end(O),H.isScene===!0&&H.onAfterRender(O,H,xe),pt.resetDefaultState(),se=-1,oe=null,R.pop(),R.length>0?(A=R[R.length-1],de===!0&&gt.setGlobalState(O.clippingPlanes,A.state.camera)):A=null,C.pop(),C.length>0?M=C[C.length-1]:M=null};function ne(H,xe,we,be){if(H.visible===!1)return;if(H.layers.test(xe.layers)){if(H.isGroup)we=H.renderOrder;else if(H.isLOD)H.autoUpdate===!0&&H.update(xe);else if(H.isLight)A.pushLight(H),H.castShadow&&A.pushShadow(H);else if(H.isSprite){if(!H.frustumCulled||Q.intersectsSprite(H)){be&&Le.setFromMatrixPosition(H.matrixWorld).applyMatrix4(j);const _t=Be.update(H),ft=H.material;ft.visible&&M.push(H,_t,ft,we,Le.z,null)}}else if((H.isMesh||H.isLine||H.isPoints)&&(!H.frustumCulled||Q.intersectsObject(H))){const _t=Be.update(H),ft=H.material;if(be&&(H.boundingSphere!==void 0?(H.boundingSphere===null&&H.computeBoundingSphere(),Le.copy(H.boundingSphere.center)):(_t.boundingSphere===null&&_t.computeBoundingSphere(),Le.copy(_t.boundingSphere.center)),Le.applyMatrix4(H.matrixWorld).applyMatrix4(j)),Array.isArray(ft)){const St=_t.groups;for(let Et=0,Ut=St.length;Et<Ut;Et++){const Mt=St[Et],Bt=ft[Mt.materialIndex];Bt&&Bt.visible&&M.push(H,_t,Bt,we,Le.z,Mt)}}else ft.visible&&M.push(H,_t,ft,we,Le.z,null)}}const ut=H.children;for(let _t=0,ft=ut.length;_t<ft;_t++)ne(ut[_t],xe,we,be)}function re(H,xe,we,be){const{opaque:Se,transmissive:ut,transparent:_t}=H;A.setupLightsView(we),de===!0&&gt.setGlobalState(O.clippingPlanes,we),be&&rt.viewport(G.copy(be)),Se.length>0&&he(Se,xe,we),ut.length>0&&he(ut,xe,we),_t.length>0&&he(_t,xe,we),rt.buffers.depth.setTest(!0),rt.buffers.depth.setMask(!0),rt.buffers.color.setMask(!0),rt.setPolygonOffset(!1)}function le(H,xe,we,be){if((we.isScene===!0?we.overrideMaterial:null)!==null)return;if(A.state.transmissionRenderTarget[be.id]===void 0){const Bt=Ct.has("EXT_color_buffer_half_float")||Ct.has("EXT_color_buffer_float");A.state.transmissionRenderTarget[be.id]=new Ks(1,1,{generateMipmaps:!0,type:Bt?Yo:Ta,minFilter:Wc,samples:Nt.samples,stencilBuffer:a,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:pn.workingColorSpace})}const ut=A.state.transmissionRenderTarget[be.id],_t=be.viewport||G;ut.setSize(_t.z*O.transmissionResolutionScale,_t.w*O.transmissionResolutionScale);const ft=O.getRenderTarget(),St=O.getActiveCubeFace(),Et=O.getActiveMipmapLevel();O.setRenderTarget(ut),O.getClearColor(Y),pe=O.getClearAlpha(),pe<1&&O.setClearColor(16777215,.5),O.clear(),Xe&&it.render(we);const Ut=O.toneMapping;O.toneMapping=qs;const Mt=be.viewport;if(be.viewport!==void 0&&(be.viewport=void 0),A.setupLightsView(be),de===!0&&gt.setGlobalState(O.clippingPlanes,be),he(H,we,be),ve.updateMultisampleRenderTarget(ut),ve.updateRenderTargetMipmap(ut),Ct.has("WEBGL_multisampled_render_to_texture")===!1){let Bt=!1;for(let bn=0,nr=xe.length;bn<nr;bn++){const Wn=xe[bn],{object:An,geometry:Dt,material:Tn,group:Yt}=Wn;if(Tn.side===No&&An.layers.test(be.layers)){const li=Tn.side;Tn.side=oa,Tn.needsUpdate=!0,Ce(An,we,be,Dt,Tn,Yt),Tn.side=li,Tn.needsUpdate=!0,Bt=!0}}Bt===!0&&(ve.updateMultisampleRenderTarget(ut),ve.updateRenderTargetMipmap(ut))}O.setRenderTarget(ft,St,Et),O.setClearColor(Y,pe),Mt!==void 0&&(be.viewport=Mt),O.toneMapping=Ut}function he(H,xe,we){const be=xe.isScene===!0?xe.overrideMaterial:null;for(let Se=0,ut=H.length;Se<ut;Se++){const _t=H[Se],{object:ft,geometry:St,group:Et}=_t;let Ut=_t.material;Ut.allowOverride===!0&&be!==null&&(Ut=be),ft.layers.test(we.layers)&&Ce(ft,xe,we,St,Ut,Et)}}function Ce(H,xe,we,be,Se,ut){H.onBeforeRender(O,xe,we,be,Se,ut),H.modelViewMatrix.multiplyMatrices(we.matrixWorldInverse,H.matrixWorld),H.normalMatrix.getNormalMatrix(H.modelViewMatrix),Se.onBeforeRender(O,xe,we,be,H,ut),Se.transparent===!0&&Se.side===No&&Se.forceSinglePass===!1?(Se.side=oa,Se.needsUpdate=!0,O.renderBufferDirect(we,xe,be,Se,H,ut),Se.side=nc,Se.needsUpdate=!0,O.renderBufferDirect(we,xe,be,Se,H,ut),Se.side=No):O.renderBufferDirect(we,xe,be,Se,H,ut),H.onAfterRender(O,xe,we,be,Se,ut)}function ze(H,xe,we){xe.isScene!==!0&&(xe=Je);const be=B.get(H),Se=A.state.lights,ut=A.state.shadowsArray,_t=Se.state.version,ft=st.getParameters(H,Se.state,ut,xe,we),St=st.getProgramCacheKey(ft);let Et=be.programs;be.environment=H.isMeshStandardMaterial?xe.environment:null,be.fog=xe.fog,be.envMap=(H.isMeshStandardMaterial?Ue:Ie).get(H.envMap||be.environment),be.envMapRotation=be.environment!==null&&H.envMap===null?xe.environmentRotation:H.envMapRotation,Et===void 0&&(H.addEventListener("dispose",$r),Et=new Map,be.programs=Et);let Ut=Et.get(St);if(Ut!==void 0){if(be.currentProgram===Ut&&be.lightsStateVersion===_t)return Pe(H,ft),Ut}else ft.uniforms=st.getUniforms(H),H.onBeforeCompile(ft,O),Ut=st.acquireProgram(ft,St),Et.set(St,Ut),be.uniforms=ft.uniforms;const Mt=be.uniforms;return(!H.isShaderMaterial&&!H.isRawShaderMaterial||H.clipping===!0)&&(Mt.clippingPlanes=gt.uniform),Pe(H,ft),be.needsLights=lt(H),be.lightsStateVersion=_t,be.needsLights&&(Mt.ambientLightColor.value=Se.state.ambient,Mt.lightProbe.value=Se.state.probe,Mt.directionalLights.value=Se.state.directional,Mt.directionalLightShadows.value=Se.state.directionalShadow,Mt.spotLights.value=Se.state.spot,Mt.spotLightShadows.value=Se.state.spotShadow,Mt.rectAreaLights.value=Se.state.rectArea,Mt.ltc_1.value=Se.state.rectAreaLTC1,Mt.ltc_2.value=Se.state.rectAreaLTC2,Mt.pointLights.value=Se.state.point,Mt.pointLightShadows.value=Se.state.pointShadow,Mt.hemisphereLights.value=Se.state.hemi,Mt.directionalShadowMap.value=Se.state.directionalShadowMap,Mt.directionalShadowMatrix.value=Se.state.directionalShadowMatrix,Mt.spotShadowMap.value=Se.state.spotShadowMap,Mt.spotLightMatrix.value=Se.state.spotLightMatrix,Mt.spotLightMap.value=Se.state.spotLightMap,Mt.pointShadowMap.value=Se.state.pointShadowMap,Mt.pointShadowMatrix.value=Se.state.pointShadowMatrix),be.currentProgram=Ut,be.uniformsList=null,Ut}function Re(H){if(H.uniformsList===null){const xe=H.currentProgram.getUniforms();H.uniformsList=zv.seqWithValue(xe.seq,H.uniforms)}return H.uniformsList}function Pe(H,xe){const we=B.get(H);we.outputColorSpace=xe.outputColorSpace,we.batching=xe.batching,we.batchingColor=xe.batchingColor,we.instancing=xe.instancing,we.instancingColor=xe.instancingColor,we.instancingMorph=xe.instancingMorph,we.skinning=xe.skinning,we.morphTargets=xe.morphTargets,we.morphNormals=xe.morphNormals,we.morphColors=xe.morphColors,we.morphTargetsCount=xe.morphTargetsCount,we.numClippingPlanes=xe.numClippingPlanes,we.numIntersection=xe.numClipIntersection,we.vertexAlphas=xe.vertexAlphas,we.vertexTangents=xe.vertexTangents,we.toneMapping=xe.toneMapping}function Ne(H,xe,we,be,Se){xe.isScene!==!0&&(xe=Je),ve.resetTextureUnits();const ut=xe.fog,_t=be.isMeshStandardMaterial?xe.environment:null,ft=Z===null?O.outputColorSpace:Z.isXRRenderTarget===!0?Z.texture.colorSpace:sh,St=(be.isMeshStandardMaterial?Ue:Ie).get(be.envMap||_t),Et=be.vertexColors===!0&&!!we.attributes.color&&we.attributes.color.itemSize===4,Ut=!!we.attributes.tangent&&(!!be.normalMap||be.anisotropy>0),Mt=!!we.morphAttributes.position,Bt=!!we.morphAttributes.normal,bn=!!we.morphAttributes.color;let nr=qs;be.toneMapped&&(Z===null||Z.isXRRenderTarget===!0)&&(nr=O.toneMapping);const Wn=we.morphAttributes.position||we.morphAttributes.normal||we.morphAttributes.color,An=Wn!==void 0?Wn.length:0,Dt=B.get(be),Tn=A.state.lights;if(de===!0&&(Ae===!0||H!==oe)){const fi=H===oe&&be.id===se;gt.setState(be,H,fi)}let Yt=!1;be.version===Dt.__version?(Dt.needsLights&&Dt.lightsStateVersion!==Tn.state.version||Dt.outputColorSpace!==ft||Se.isBatchedMesh&&Dt.batching===!1||!Se.isBatchedMesh&&Dt.batching===!0||Se.isBatchedMesh&&Dt.batchingColor===!0&&Se.colorTexture===null||Se.isBatchedMesh&&Dt.batchingColor===!1&&Se.colorTexture!==null||Se.isInstancedMesh&&Dt.instancing===!1||!Se.isInstancedMesh&&Dt.instancing===!0||Se.isSkinnedMesh&&Dt.skinning===!1||!Se.isSkinnedMesh&&Dt.skinning===!0||Se.isInstancedMesh&&Dt.instancingColor===!0&&Se.instanceColor===null||Se.isInstancedMesh&&Dt.instancingColor===!1&&Se.instanceColor!==null||Se.isInstancedMesh&&Dt.instancingMorph===!0&&Se.morphTexture===null||Se.isInstancedMesh&&Dt.instancingMorph===!1&&Se.morphTexture!==null||Dt.envMap!==St||be.fog===!0&&Dt.fog!==ut||Dt.numClippingPlanes!==void 0&&(Dt.numClippingPlanes!==gt.numPlanes||Dt.numIntersection!==gt.numIntersection)||Dt.vertexAlphas!==Et||Dt.vertexTangents!==Ut||Dt.morphTargets!==Mt||Dt.morphNormals!==Bt||Dt.morphColors!==bn||Dt.toneMapping!==nr||Dt.morphTargetsCount!==An)&&(Yt=!0):(Yt=!0,Dt.__version=be.version);let li=Dt.currentProgram;Yt===!0&&(li=ze(be,xe,Se));let lo=!1,ci=!1,ka=!1;const Mn=li.getUniforms(),ui=Dt.uniforms;if(rt.useProgram(li.program)&&(lo=!0,ci=!0,ka=!0),be.id!==se&&(se=be.id,ci=!0),lo||oe!==H){rt.buffers.depth.getReversed()&&H.reversedDepth!==!0&&(H._reversedDepth=!0,H.updateProjectionMatrix()),Mn.setValue(ce,"projectionMatrix",H.projectionMatrix),Mn.setValue(ce,"viewMatrix",H.matrixWorldInverse);const hi=Mn.map.cameraPosition;hi!==void 0&&hi.setValue(ce,We.setFromMatrixPosition(H.matrixWorld)),Nt.logarithmicDepthBuffer&&Mn.setValue(ce,"logDepthBufFC",2/(Math.log(H.far+1)/Math.LN2)),(be.isMeshPhongMaterial||be.isMeshToonMaterial||be.isMeshLambertMaterial||be.isMeshBasicMaterial||be.isMeshStandardMaterial||be.isShaderMaterial)&&Mn.setValue(ce,"isOrthographic",H.isOrthographicCamera===!0),oe!==H&&(oe=H,ci=!0,ka=!0)}if(Dt.needsLights&&(Tn.state.directionalShadowMap.length>0&&Mn.setValue(ce,"directionalShadowMap",Tn.state.directionalShadowMap,ve),Tn.state.spotShadowMap.length>0&&Mn.setValue(ce,"spotShadowMap",Tn.state.spotShadowMap,ve),Tn.state.pointShadowMap.length>0&&Mn.setValue(ce,"pointShadowMap",Tn.state.pointShadowMap,ve)),Se.isSkinnedMesh){Mn.setOptional(ce,Se,"bindMatrix"),Mn.setOptional(ce,Se,"bindMatrixInverse");const fi=Se.skeleton;fi&&(fi.boneTexture===null&&fi.computeBoneTexture(),Mn.setValue(ce,"boneTexture",fi.boneTexture,ve))}Se.isBatchedMesh&&(Mn.setOptional(ce,Se,"batchingTexture"),Mn.setValue(ce,"batchingTexture",Se._matricesTexture,ve),Mn.setOptional(ce,Se,"batchingIdTexture"),Mn.setValue(ce,"batchingIdTexture",Se._indirectTexture,ve),Mn.setOptional(ce,Se,"batchingColorTexture"),Se._colorsTexture!==null&&Mn.setValue(ce,"batchingColorTexture",Se._colorsTexture,ve));const Ir=we.morphAttributes;if((Ir.position!==void 0||Ir.normal!==void 0||Ir.color!==void 0)&&Pt.update(Se,we,li),(ci||Dt.receiveShadow!==Se.receiveShadow)&&(Dt.receiveShadow=Se.receiveShadow,Mn.setValue(ce,"receiveShadow",Se.receiveShadow)),be.isMeshGouraudMaterial&&be.envMap!==null&&(ui.envMap.value=St,ui.flipEnvMap.value=St.isCubeTexture&&St.isRenderTargetTexture===!1?-1:1),be.isMeshStandardMaterial&&be.envMap===null&&xe.environment!==null&&(ui.envMapIntensity.value=xe.environmentIntensity),ui.dfgLUT!==void 0&&(ui.dfgLUT.value=MK()),ci&&(Mn.setValue(ce,"toneMappingExposure",O.toneMappingExposure),Dt.needsLights&&tt(ui,ka),ut&&be.fog===!0&&Tt.refreshFogUniforms(ui,ut),Tt.refreshMaterialUniforms(ui,be,V,I,A.state.transmissionRenderTarget[H.id]),zv.upload(ce,Re(Dt),ui,ve)),be.isShaderMaterial&&be.uniformsNeedUpdate===!0&&(zv.upload(ce,Re(Dt),ui,ve),be.uniformsNeedUpdate=!1),be.isSpriteMaterial&&Mn.setValue(ce,"center",Se.center),Mn.setValue(ce,"modelViewMatrix",Se.modelViewMatrix),Mn.setValue(ce,"normalMatrix",Se.normalMatrix),Mn.setValue(ce,"modelMatrix",Se.matrixWorld),be.isShaderMaterial||be.isRawShaderMaterial){const fi=be.uniformsGroups;for(let hi=0,Fu=fi.length;hi<Fu;hi++){const fs=fi[hi];$e.update(fs,li),$e.bind(fs,li)}}return li}function tt(H,xe){H.ambientLightColor.needsUpdate=xe,H.lightProbe.needsUpdate=xe,H.directionalLights.needsUpdate=xe,H.directionalLightShadows.needsUpdate=xe,H.pointLights.needsUpdate=xe,H.pointLightShadows.needsUpdate=xe,H.spotLights.needsUpdate=xe,H.spotLightShadows.needsUpdate=xe,H.rectAreaLights.needsUpdate=xe,H.hemisphereLights.needsUpdate=xe}function lt(H){return H.isMeshLambertMaterial||H.isMeshToonMaterial||H.isMeshPhongMaterial||H.isMeshStandardMaterial||H.isShadowMaterial||H.isShaderMaterial&&H.lights===!0}this.getActiveCubeFace=function(){return D},this.getActiveMipmapLevel=function(){return U},this.getRenderTarget=function(){return Z},this.setRenderTargetTextures=function(H,xe,we){const be=B.get(H);be.__autoAllocateDepthBuffer=H.resolveDepthBuffer===!1,be.__autoAllocateDepthBuffer===!1&&(be.__useRenderToTexture=!1),B.get(H.texture).__webglTexture=xe,B.get(H.depthTexture).__webglTexture=be.__autoAllocateDepthBuffer?void 0:we,be.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(H,xe){const we=B.get(H);we.__webglFramebuffer=xe,we.__useDefaultFramebuffer=xe===void 0};const xt=ce.createFramebuffer();this.setRenderTarget=function(H,xe=0,we=0){Z=H,D=xe,U=we;let be=null,Se=!1,ut=!1;if(H){const ft=B.get(H);if(ft.__useDefaultFramebuffer!==void 0){rt.bindFramebuffer(ce.FRAMEBUFFER,ft.__webglFramebuffer),G.copy(H.viewport),W.copy(H.scissor),ee=H.scissorTest,rt.viewport(G),rt.scissor(W),rt.setScissorTest(ee),se=-1;return}else if(ft.__webglFramebuffer===void 0)ve.setupRenderTarget(H);else if(ft.__hasExternalTextures)ve.rebindTextures(H,B.get(H.texture).__webglTexture,B.get(H.depthTexture).__webglTexture);else if(H.depthBuffer){const Ut=H.depthTexture;if(ft.__boundDepthTexture!==Ut){if(Ut!==null&&B.has(Ut)&&(H.width!==Ut.image.width||H.height!==Ut.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");ve.setupDepthRenderbuffer(H)}}const St=H.texture;(St.isData3DTexture||St.isDataArrayTexture||St.isCompressedArrayTexture)&&(ut=!0);const Et=B.get(H).__webglFramebuffer;H.isWebGLCubeRenderTarget?(Array.isArray(Et[xe])?be=Et[xe][we]:be=Et[xe],Se=!0):H.samples>0&&ve.useMultisampledRTT(H)===!1?be=B.get(H).__webglMultisampledFramebuffer:Array.isArray(Et)?be=Et[we]:be=Et,G.copy(H.viewport),W.copy(H.scissor),ee=H.scissorTest}else G.copy(J).multiplyScalar(V).floor(),W.copy(fe).multiplyScalar(V).floor(),ee=ae;if(we!==0&&(be=xt),rt.bindFramebuffer(ce.FRAMEBUFFER,be)&&rt.drawBuffers(H,be),rt.viewport(G),rt.scissor(W),rt.setScissorTest(ee),Se){const ft=B.get(H.texture);ce.framebufferTexture2D(ce.FRAMEBUFFER,ce.COLOR_ATTACHMENT0,ce.TEXTURE_CUBE_MAP_POSITIVE_X+xe,ft.__webglTexture,we)}else if(ut){const ft=xe;for(let St=0;St<H.textures.length;St++){const Et=B.get(H.textures[St]);ce.framebufferTextureLayer(ce.FRAMEBUFFER,ce.COLOR_ATTACHMENT0+St,Et.__webglTexture,we,ft)}}else if(H!==null&&we!==0){const ft=B.get(H.texture);ce.framebufferTexture2D(ce.FRAMEBUFFER,ce.COLOR_ATTACHMENT0,ce.TEXTURE_2D,ft.__webglTexture,we)}se=-1},this.readRenderTargetPixels=function(H,xe,we,be,Se,ut,_t,ft=0){if(!(H&&H.isWebGLRenderTarget)){dn("WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let St=B.get(H).__webglFramebuffer;if(H.isWebGLCubeRenderTarget&&_t!==void 0&&(St=St[_t]),St){rt.bindFramebuffer(ce.FRAMEBUFFER,St);try{const Et=H.textures[ft],Ut=Et.format,Mt=Et.type;if(!Nt.textureFormatReadable(Ut)){dn("WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Nt.textureTypeReadable(Mt)){dn("WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}xe>=0&&xe<=H.width-be&&we>=0&&we<=H.height-Se&&(H.textures.length>1&&ce.readBuffer(ce.COLOR_ATTACHMENT0+ft),ce.readPixels(xe,we,be,Se,et.convert(Ut),et.convert(Mt),ut))}finally{const Et=Z!==null?B.get(Z).__webglFramebuffer:null;rt.bindFramebuffer(ce.FRAMEBUFFER,Et)}}},this.readRenderTargetPixelsAsync=async function(H,xe,we,be,Se,ut,_t,ft=0){if(!(H&&H.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let St=B.get(H).__webglFramebuffer;if(H.isWebGLCubeRenderTarget&&_t!==void 0&&(St=St[_t]),St)if(xe>=0&&xe<=H.width-be&&we>=0&&we<=H.height-Se){rt.bindFramebuffer(ce.FRAMEBUFFER,St);const Et=H.textures[ft],Ut=Et.format,Mt=Et.type;if(!Nt.textureFormatReadable(Ut))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Nt.textureTypeReadable(Mt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const Bt=ce.createBuffer();ce.bindBuffer(ce.PIXEL_PACK_BUFFER,Bt),ce.bufferData(ce.PIXEL_PACK_BUFFER,ut.byteLength,ce.STREAM_READ),H.textures.length>1&&ce.readBuffer(ce.COLOR_ATTACHMENT0+ft),ce.readPixels(xe,we,be,Se,et.convert(Ut),et.convert(Mt),0);const bn=Z!==null?B.get(Z).__webglFramebuffer:null;rt.bindFramebuffer(ce.FRAMEBUFFER,bn);const nr=ce.fenceSync(ce.SYNC_GPU_COMMANDS_COMPLETE,0);return ce.flush(),await AG(ce,nr,4),ce.bindBuffer(ce.PIXEL_PACK_BUFFER,Bt),ce.getBufferSubData(ce.PIXEL_PACK_BUFFER,0,ut),ce.deleteBuffer(Bt),ce.deleteSync(nr),ut}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(H,xe=null,we=0){const be=Math.pow(2,-we),Se=Math.floor(H.image.width*be),ut=Math.floor(H.image.height*be),_t=xe!==null?xe.x:0,ft=xe!==null?xe.y:0;ve.setTexture2D(H,0),ce.copyTexSubImage2D(ce.TEXTURE_2D,we,0,0,_t,ft,Se,ut),rt.unbindTexture()};const nt=ce.createFramebuffer(),mt=ce.createFramebuffer();this.copyTextureToTexture=function(H,xe,we=null,be=null,Se=0,ut=null){ut===null&&(Se!==0?(cd("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),ut=Se,Se=0):ut=0);let _t,ft,St,Et,Ut,Mt,Bt,bn,nr;const Wn=H.isCompressedTexture?H.mipmaps[ut]:H.image;if(we!==null)_t=we.max.x-we.min.x,ft=we.max.y-we.min.y,St=we.isBox3?we.max.z-we.min.z:1,Et=we.min.x,Ut=we.min.y,Mt=we.isBox3?we.min.z:0;else{const Ir=Math.pow(2,-Se);_t=Math.floor(Wn.width*Ir),ft=Math.floor(Wn.height*Ir),H.isDataArrayTexture?St=Wn.depth:H.isData3DTexture?St=Math.floor(Wn.depth*Ir):St=1,Et=0,Ut=0,Mt=0}be!==null?(Bt=be.x,bn=be.y,nr=be.z):(Bt=0,bn=0,nr=0);const An=et.convert(xe.format),Dt=et.convert(xe.type);let Tn;xe.isData3DTexture?(ve.setTexture3D(xe,0),Tn=ce.TEXTURE_3D):xe.isDataArrayTexture||xe.isCompressedArrayTexture?(ve.setTexture2DArray(xe,0),Tn=ce.TEXTURE_2D_ARRAY):(ve.setTexture2D(xe,0),Tn=ce.TEXTURE_2D),ce.pixelStorei(ce.UNPACK_FLIP_Y_WEBGL,xe.flipY),ce.pixelStorei(ce.UNPACK_PREMULTIPLY_ALPHA_WEBGL,xe.premultiplyAlpha),ce.pixelStorei(ce.UNPACK_ALIGNMENT,xe.unpackAlignment);const Yt=ce.getParameter(ce.UNPACK_ROW_LENGTH),li=ce.getParameter(ce.UNPACK_IMAGE_HEIGHT),lo=ce.getParameter(ce.UNPACK_SKIP_PIXELS),ci=ce.getParameter(ce.UNPACK_SKIP_ROWS),ka=ce.getParameter(ce.UNPACK_SKIP_IMAGES);ce.pixelStorei(ce.UNPACK_ROW_LENGTH,Wn.width),ce.pixelStorei(ce.UNPACK_IMAGE_HEIGHT,Wn.height),ce.pixelStorei(ce.UNPACK_SKIP_PIXELS,Et),ce.pixelStorei(ce.UNPACK_SKIP_ROWS,Ut),ce.pixelStorei(ce.UNPACK_SKIP_IMAGES,Mt);const Mn=H.isDataArrayTexture||H.isData3DTexture,ui=xe.isDataArrayTexture||xe.isData3DTexture;if(H.isDepthTexture){const Ir=B.get(H),fi=B.get(xe),hi=B.get(Ir.__renderTarget),Fu=B.get(fi.__renderTarget);rt.bindFramebuffer(ce.READ_FRAMEBUFFER,hi.__webglFramebuffer),rt.bindFramebuffer(ce.DRAW_FRAMEBUFFER,Fu.__webglFramebuffer);for(let fs=0;fs<St;fs++)Mn&&(ce.framebufferTextureLayer(ce.READ_FRAMEBUFFER,ce.COLOR_ATTACHMENT0,B.get(H).__webglTexture,Se,Mt+fs),ce.framebufferTextureLayer(ce.DRAW_FRAMEBUFFER,ce.COLOR_ATTACHMENT0,B.get(xe).__webglTexture,ut,nr+fs)),ce.blitFramebuffer(Et,Ut,_t,ft,Bt,bn,_t,ft,ce.DEPTH_BUFFER_BIT,ce.NEAREST);rt.bindFramebuffer(ce.READ_FRAMEBUFFER,null),rt.bindFramebuffer(ce.DRAW_FRAMEBUFFER,null)}else if(Se!==0||H.isRenderTargetTexture||B.has(H)){const Ir=B.get(H),fi=B.get(xe);rt.bindFramebuffer(ce.READ_FRAMEBUFFER,nt),rt.bindFramebuffer(ce.DRAW_FRAMEBUFFER,mt);for(let hi=0;hi<St;hi++)Mn?ce.framebufferTextureLayer(ce.READ_FRAMEBUFFER,ce.COLOR_ATTACHMENT0,Ir.__webglTexture,Se,Mt+hi):ce.framebufferTexture2D(ce.READ_FRAMEBUFFER,ce.COLOR_ATTACHMENT0,ce.TEXTURE_2D,Ir.__webglTexture,Se),ui?ce.framebufferTextureLayer(ce.DRAW_FRAMEBUFFER,ce.COLOR_ATTACHMENT0,fi.__webglTexture,ut,nr+hi):ce.framebufferTexture2D(ce.DRAW_FRAMEBUFFER,ce.COLOR_ATTACHMENT0,ce.TEXTURE_2D,fi.__webglTexture,ut),Se!==0?ce.blitFramebuffer(Et,Ut,_t,ft,Bt,bn,_t,ft,ce.COLOR_BUFFER_BIT,ce.NEAREST):ui?ce.copyTexSubImage3D(Tn,ut,Bt,bn,nr+hi,Et,Ut,_t,ft):ce.copyTexSubImage2D(Tn,ut,Bt,bn,Et,Ut,_t,ft);rt.bindFramebuffer(ce.READ_FRAMEBUFFER,null),rt.bindFramebuffer(ce.DRAW_FRAMEBUFFER,null)}else ui?H.isDataTexture||H.isData3DTexture?ce.texSubImage3D(Tn,ut,Bt,bn,nr,_t,ft,St,An,Dt,Wn.data):xe.isCompressedArrayTexture?ce.compressedTexSubImage3D(Tn,ut,Bt,bn,nr,_t,ft,St,An,Wn.data):ce.texSubImage3D(Tn,ut,Bt,bn,nr,_t,ft,St,An,Dt,Wn):H.isDataTexture?ce.texSubImage2D(ce.TEXTURE_2D,ut,Bt,bn,_t,ft,An,Dt,Wn.data):H.isCompressedTexture?ce.compressedTexSubImage2D(ce.TEXTURE_2D,ut,Bt,bn,Wn.width,Wn.height,An,Wn.data):ce.texSubImage2D(ce.TEXTURE_2D,ut,Bt,bn,_t,ft,An,Dt,Wn);ce.pixelStorei(ce.UNPACK_ROW_LENGTH,Yt),ce.pixelStorei(ce.UNPACK_IMAGE_HEIGHT,li),ce.pixelStorei(ce.UNPACK_SKIP_PIXELS,lo),ce.pixelStorei(ce.UNPACK_SKIP_ROWS,ci),ce.pixelStorei(ce.UNPACK_SKIP_IMAGES,ka),ut===0&&xe.generateMipmaps&&ce.generateMipmap(Tn),rt.unbindTexture()},this.initRenderTarget=function(H){B.get(H).__webglFramebuffer===void 0&&ve.setupRenderTarget(H)},this.initTexture=function(H){H.isCubeTexture?ve.setTextureCube(H,0):H.isData3DTexture?ve.setTexture3D(H,0):H.isDataArrayTexture||H.isCompressedArrayTexture?ve.setTexture2DArray(H,0):ve.setTexture2D(H,0),rt.unbindTexture()},this.resetState=function(){D=0,U=0,Z=null,rt.reset(),pt.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Ws}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorSpace=pn._getDrawingBufferColorSpace(e),n.unpackColorSpace=pn._getUnpackColorSpace()}}const dP={type:"change"},I2={type:"start"},vF={type:"end"},nv=new C2,pP=new Wl,RK=Math.cos(70*CG.DEG2RAD),Ur=new _e,ia=2*Math.PI,jn={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},rE=1e-6;class OK extends DV{constructor(e,n=null){super(e,n),this.state=jn.NONE,this.target=new _e,this.cursor=new _e,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minTargetRadius=0,this.maxTargetRadius=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.keyRotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.zoomToCursor=!1,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:Xf.ROTATE,MIDDLE:Xf.DOLLY,RIGHT:Xf.PAN},this.touches={ONE:Gf.ROTATE,TWO:Gf.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this._lastPosition=new _e,this._lastQuaternion=new su,this._lastTargetPosition=new _e,this._quat=new su().setFromUnitVectors(e.up,new _e(0,1,0)),this._quatInverse=this._quat.clone().invert(),this._spherical=new H3,this._sphericalDelta=new H3,this._scale=1,this._panOffset=new _e,this._rotateStart=new bt,this._rotateEnd=new bt,this._rotateDelta=new bt,this._panStart=new bt,this._panEnd=new bt,this._panDelta=new bt,this._dollyStart=new bt,this._dollyEnd=new bt,this._dollyDelta=new bt,this._dollyDirection=new _e,this._mouse=new bt,this._performCursorZoom=!1,this._pointers=[],this._pointerPositions={},this._controlActive=!1,this._onPointerMove=DK.bind(this),this._onPointerDown=PK.bind(this),this._onPointerUp=NK.bind(this),this._onContextMenu=zK.bind(this),this._onMouseWheel=IK.bind(this),this._onKeyDown=FK.bind(this),this._onTouchStart=UK.bind(this),this._onTouchMove=BK.bind(this),this._onMouseDown=kK.bind(this),this._onMouseMove=LK.bind(this),this._interceptControlDown=jK.bind(this),this._interceptControlUp=HK.bind(this),this.domElement!==null&&this.connect(this.domElement),this.update()}connect(e){super.connect(e),this.domElement.addEventListener("pointerdown",this._onPointerDown),this.domElement.addEventListener("pointercancel",this._onPointerUp),this.domElement.addEventListener("contextmenu",this._onContextMenu),this.domElement.addEventListener("wheel",this._onMouseWheel,{passive:!1}),this.domElement.getRootNode().addEventListener("keydown",this._interceptControlDown,{passive:!0,capture:!0}),this.domElement.style.touchAction="none"}disconnect(){this.domElement.removeEventListener("pointerdown",this._onPointerDown),this.domElement.ownerDocument.removeEventListener("pointermove",this._onPointerMove),this.domElement.ownerDocument.removeEventListener("pointerup",this._onPointerUp),this.domElement.removeEventListener("pointercancel",this._onPointerUp),this.domElement.removeEventListener("wheel",this._onMouseWheel),this.domElement.removeEventListener("contextmenu",this._onContextMenu),this.stopListenToKeyEvents(),this.domElement.getRootNode().removeEventListener("keydown",this._interceptControlDown,{capture:!0}),this.domElement.style.touchAction="auto"}dispose(){this.disconnect()}getPolarAngle(){return this._spherical.phi}getAzimuthalAngle(){return this._spherical.theta}getDistance(){return this.object.position.distanceTo(this.target)}listenToKeyEvents(e){e.addEventListener("keydown",this._onKeyDown),this._domElementKeyEvents=e}stopListenToKeyEvents(){this._domElementKeyEvents!==null&&(this._domElementKeyEvents.removeEventListener("keydown",this._onKeyDown),this._domElementKeyEvents=null)}saveState(){this.target0.copy(this.target),this.position0.copy(this.object.position),this.zoom0=this.object.zoom}reset(){this.target.copy(this.target0),this.object.position.copy(this.position0),this.object.zoom=this.zoom0,this.object.updateProjectionMatrix(),this.dispatchEvent(dP),this.update(),this.state=jn.NONE}update(e=null){const n=this.object.position;Ur.copy(n).sub(this.target),Ur.applyQuaternion(this._quat),this._spherical.setFromVector3(Ur),this.autoRotate&&this.state===jn.NONE&&this._rotateLeft(this._getAutoRotationAngle(e)),this.enableDamping?(this._spherical.theta+=this._sphericalDelta.theta*this.dampingFactor,this._spherical.phi+=this._sphericalDelta.phi*this.dampingFactor):(this._spherical.theta+=this._sphericalDelta.theta,this._spherical.phi+=this._sphericalDelta.phi);let r=this.minAzimuthAngle,i=this.maxAzimuthAngle;isFinite(r)&&isFinite(i)&&(r<-Math.PI?r+=ia:r>Math.PI&&(r-=ia),i<-Math.PI?i+=ia:i>Math.PI&&(i-=ia),r<=i?this._spherical.theta=Math.max(r,Math.min(i,this._spherical.theta)):this._spherical.theta=this._spherical.theta>(r+i)/2?Math.max(r,this._spherical.theta):Math.min(i,this._spherical.theta)),this._spherical.phi=Math.max(this.minPolarAngle,Math.min(this.maxPolarAngle,this._spherical.phi)),this._spherical.makeSafe(),this.enableDamping===!0?this.target.addScaledVector(this._panOffset,this.dampingFactor):this.target.add(this._panOffset),this.target.sub(this.cursor),this.target.clampLength(this.minTargetRadius,this.maxTargetRadius),this.target.add(this.cursor);let a=!1;if(this.zoomToCursor&&this._performCursorZoom||this.object.isOrthographicCamera)this._spherical.radius=this._clampDistance(this._spherical.radius);else{const s=this._spherical.radius;this._spherical.radius=this._clampDistance(this._spherical.radius*this._scale),a=s!=this._spherical.radius}if(Ur.setFromSpherical(this._spherical),Ur.applyQuaternion(this._quatInverse),n.copy(this.target).add(Ur),this.object.lookAt(this.target),this.enableDamping===!0?(this._sphericalDelta.theta*=1-this.dampingFactor,this._sphericalDelta.phi*=1-this.dampingFactor,this._panOffset.multiplyScalar(1-this.dampingFactor)):(this._sphericalDelta.set(0,0,0),this._panOffset.set(0,0,0)),this.zoomToCursor&&this._performCursorZoom){let s=null;if(this.object.isPerspectiveCamera){const l=Ur.length();s=this._clampDistance(l*this._scale);const u=l-s;this.object.position.addScaledVector(this._dollyDirection,u),this.object.updateMatrixWorld(),a=!!u}else if(this.object.isOrthographicCamera){const l=new _e(this._mouse.x,this._mouse.y,0);l.unproject(this.object);const u=this.object.zoom;this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/this._scale)),this.object.updateProjectionMatrix(),a=u!==this.object.zoom;const f=new _e(this._mouse.x,this._mouse.y,0);f.unproject(this.object),this.object.position.sub(f).add(l),this.object.updateMatrixWorld(),s=Ur.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),this.zoomToCursor=!1;s!==null&&(this.screenSpacePanning?this.target.set(0,0,-1).transformDirection(this.object.matrix).multiplyScalar(s).add(this.object.position):(nv.origin.copy(this.object.position),nv.direction.set(0,0,-1).transformDirection(this.object.matrix),Math.abs(this.object.up.dot(nv.direction))<RK?this.object.lookAt(this.target):(pP.setFromNormalAndCoplanarPoint(this.object.up,this.target),nv.intersectPlane(pP,this.target))))}else if(this.object.isOrthographicCamera){const s=this.object.zoom;this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/this._scale)),s!==this.object.zoom&&(this.object.updateProjectionMatrix(),a=!0)}return this._scale=1,this._performCursorZoom=!1,a||this._lastPosition.distanceToSquared(this.object.position)>rE||8*(1-this._lastQuaternion.dot(this.object.quaternion))>rE||this._lastTargetPosition.distanceToSquared(this.target)>rE?(this.dispatchEvent(dP),this._lastPosition.copy(this.object.position),this._lastQuaternion.copy(this.object.quaternion),this._lastTargetPosition.copy(this.target),!0):!1}_getAutoRotationAngle(e){return e!==null?ia/60*this.autoRotateSpeed*e:ia/60/60*this.autoRotateSpeed}_getZoomScale(e){const n=Math.abs(e*.01);return Math.pow(.95,this.zoomSpeed*n)}_rotateLeft(e){this._sphericalDelta.theta-=e}_rotateUp(e){this._sphericalDelta.phi-=e}_panLeft(e,n){Ur.setFromMatrixColumn(n,0),Ur.multiplyScalar(-e),this._panOffset.add(Ur)}_panUp(e,n){this.screenSpacePanning===!0?Ur.setFromMatrixColumn(n,1):(Ur.setFromMatrixColumn(n,0),Ur.crossVectors(this.object.up,Ur)),Ur.multiplyScalar(e),this._panOffset.add(Ur)}_pan(e,n){const r=this.domElement;if(this.object.isPerspectiveCamera){const i=this.object.position;Ur.copy(i).sub(this.target);let a=Ur.length();a*=Math.tan(this.object.fov/2*Math.PI/180),this._panLeft(2*e*a/r.clientHeight,this.object.matrix),this._panUp(2*n*a/r.clientHeight,this.object.matrix)}else this.object.isOrthographicCamera?(this._panLeft(e*(this.object.right-this.object.left)/this.object.zoom/r.clientWidth,this.object.matrix),this._panUp(n*(this.object.top-this.object.bottom)/this.object.zoom/r.clientHeight,this.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),this.enablePan=!1)}_dollyOut(e){this.object.isPerspectiveCamera||this.object.isOrthographicCamera?this._scale/=e:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)}_dollyIn(e){this.object.isPerspectiveCamera||this.object.isOrthographicCamera?this._scale*=e:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)}_updateZoomParameters(e,n){if(!this.zoomToCursor)return;this._performCursorZoom=!0;const r=this.domElement.getBoundingClientRect(),i=e-r.left,a=n-r.top,s=r.width,l=r.height;this._mouse.x=i/s*2-1,this._mouse.y=-(a/l)*2+1,this._dollyDirection.set(this._mouse.x,this._mouse.y,1).unproject(this.object).sub(this.object.position).normalize()}_clampDistance(e){return Math.max(this.minDistance,Math.min(this.maxDistance,e))}_handleMouseDownRotate(e){this._rotateStart.set(e.clientX,e.clientY)}_handleMouseDownDolly(e){this._updateZoomParameters(e.clientX,e.clientX),this._dollyStart.set(e.clientX,e.clientY)}_handleMouseDownPan(e){this._panStart.set(e.clientX,e.clientY)}_handleMouseMoveRotate(e){this._rotateEnd.set(e.clientX,e.clientY),this._rotateDelta.subVectors(this._rotateEnd,this._rotateStart).multiplyScalar(this.rotateSpeed);const n=this.domElement;this._rotateLeft(ia*this._rotateDelta.x/n.clientHeight),this._rotateUp(ia*this._rotateDelta.y/n.clientHeight),this._rotateStart.copy(this._rotateEnd),this.update()}_handleMouseMoveDolly(e){this._dollyEnd.set(e.clientX,e.clientY),this._dollyDelta.subVectors(this._dollyEnd,this._dollyStart),this._dollyDelta.y>0?this._dollyOut(this._getZoomScale(this._dollyDelta.y)):this._dollyDelta.y<0&&this._dollyIn(this._getZoomScale(this._dollyDelta.y)),this._dollyStart.copy(this._dollyEnd),this.update()}_handleMouseMovePan(e){this._panEnd.set(e.clientX,e.clientY),this._panDelta.subVectors(this._panEnd,this._panStart).multiplyScalar(this.panSpeed),this._pan(this._panDelta.x,this._panDelta.y),this._panStart.copy(this._panEnd),this.update()}_handleMouseWheel(e){this._updateZoomParameters(e.clientX,e.clientY),e.deltaY<0?this._dollyIn(this._getZoomScale(e.deltaY)):e.deltaY>0&&this._dollyOut(this._getZoomScale(e.deltaY)),this.update()}_handleKeyDown(e){let n=!1;switch(e.code){case this.keys.UP:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateUp(ia*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(0,this.keyPanSpeed),n=!0;break;case this.keys.BOTTOM:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateUp(-ia*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(0,-this.keyPanSpeed),n=!0;break;case this.keys.LEFT:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateLeft(ia*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(this.keyPanSpeed,0),n=!0;break;case this.keys.RIGHT:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateLeft(-ia*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(-this.keyPanSpeed,0),n=!0;break}n&&(e.preventDefault(),this.update())}_handleTouchStartRotate(e){if(this._pointers.length===1)this._rotateStart.set(e.pageX,e.pageY);else{const n=this._getSecondPointerPosition(e),r=.5*(e.pageX+n.x),i=.5*(e.pageY+n.y);this._rotateStart.set(r,i)}}_handleTouchStartPan(e){if(this._pointers.length===1)this._panStart.set(e.pageX,e.pageY);else{const n=this._getSecondPointerPosition(e),r=.5*(e.pageX+n.x),i=.5*(e.pageY+n.y);this._panStart.set(r,i)}}_handleTouchStartDolly(e){const n=this._getSecondPointerPosition(e),r=e.pageX-n.x,i=e.pageY-n.y,a=Math.sqrt(r*r+i*i);this._dollyStart.set(0,a)}_handleTouchStartDollyPan(e){this.enableZoom&&this._handleTouchStartDolly(e),this.enablePan&&this._handleTouchStartPan(e)}_handleTouchStartDollyRotate(e){this.enableZoom&&this._handleTouchStartDolly(e),this.enableRotate&&this._handleTouchStartRotate(e)}_handleTouchMoveRotate(e){if(this._pointers.length==1)this._rotateEnd.set(e.pageX,e.pageY);else{const r=this._getSecondPointerPosition(e),i=.5*(e.pageX+r.x),a=.5*(e.pageY+r.y);this._rotateEnd.set(i,a)}this._rotateDelta.subVectors(this._rotateEnd,this._rotateStart).multiplyScalar(this.rotateSpeed);const n=this.domElement;this._rotateLeft(ia*this._rotateDelta.x/n.clientHeight),this._rotateUp(ia*this._rotateDelta.y/n.clientHeight),this._rotateStart.copy(this._rotateEnd)}_handleTouchMovePan(e){if(this._pointers.length===1)this._panEnd.set(e.pageX,e.pageY);else{const n=this._getSecondPointerPosition(e),r=.5*(e.pageX+n.x),i=.5*(e.pageY+n.y);this._panEnd.set(r,i)}this._panDelta.subVectors(this._panEnd,this._panStart).multiplyScalar(this.panSpeed),this._pan(this._panDelta.x,this._panDelta.y),this._panStart.copy(this._panEnd)}_handleTouchMoveDolly(e){const n=this._getSecondPointerPosition(e),r=e.pageX-n.x,i=e.pageY-n.y,a=Math.sqrt(r*r+i*i);this._dollyEnd.set(0,a),this._dollyDelta.set(0,Math.pow(this._dollyEnd.y/this._dollyStart.y,this.zoomSpeed)),this._dollyOut(this._dollyDelta.y),this._dollyStart.copy(this._dollyEnd);const s=(e.pageX+n.x)*.5,l=(e.pageY+n.y)*.5;this._updateZoomParameters(s,l)}_handleTouchMoveDollyPan(e){this.enableZoom&&this._handleTouchMoveDolly(e),this.enablePan&&this._handleTouchMovePan(e)}_handleTouchMoveDollyRotate(e){this.enableZoom&&this._handleTouchMoveDolly(e),this.enableRotate&&this._handleTouchMoveRotate(e)}_addPointer(e){this._pointers.push(e.pointerId)}_removePointer(e){delete this._pointerPositions[e.pointerId];for(let n=0;n<this._pointers.length;n++)if(this._pointers[n]==e.pointerId){this._pointers.splice(n,1);return}}_isTrackingPointer(e){for(let n=0;n<this._pointers.length;n++)if(this._pointers[n]==e.pointerId)return!0;return!1}_trackPointer(e){let n=this._pointerPositions[e.pointerId];n===void 0&&(n=new bt,this._pointerPositions[e.pointerId]=n),n.set(e.pageX,e.pageY)}_getSecondPointerPosition(e){const n=e.pointerId===this._pointers[0]?this._pointers[1]:this._pointers[0];return this._pointerPositions[n]}_customWheelEvent(e){const n=e.deltaMode,r={clientX:e.clientX,clientY:e.clientY,deltaY:e.deltaY};switch(n){case 1:r.deltaY*=16;break;case 2:r.deltaY*=100;break}return e.ctrlKey&&!this._controlActive&&(r.deltaY*=10),r}}function PK(t){this.enabled!==!1&&(this._pointers.length===0&&(this.domElement.setPointerCapture(t.pointerId),this.domElement.ownerDocument.addEventListener("pointermove",this._onPointerMove),this.domElement.ownerDocument.addEventListener("pointerup",this._onPointerUp)),!this._isTrackingPointer(t)&&(this._addPointer(t),t.pointerType==="touch"?this._onTouchStart(t):this._onMouseDown(t)))}function DK(t){this.enabled!==!1&&(t.pointerType==="touch"?this._onTouchMove(t):this._onMouseMove(t))}function NK(t){switch(this._removePointer(t),this._pointers.length){case 0:this.domElement.releasePointerCapture(t.pointerId),this.domElement.ownerDocument.removeEventListener("pointermove",this._onPointerMove),this.domElement.ownerDocument.removeEventListener("pointerup",this._onPointerUp),this.dispatchEvent(vF),this.state=jn.NONE;break;case 1:const e=this._pointers[0],n=this._pointerPositions[e];this._onTouchStart({pointerId:e,pageX:n.x,pageY:n.y});break}}function kK(t){let e;switch(t.button){case 0:e=this.mouseButtons.LEFT;break;case 1:e=this.mouseButtons.MIDDLE;break;case 2:e=this.mouseButtons.RIGHT;break;default:e=-1}switch(e){case Xf.DOLLY:if(this.enableZoom===!1)return;this._handleMouseDownDolly(t),this.state=jn.DOLLY;break;case Xf.ROTATE:if(t.ctrlKey||t.metaKey||t.shiftKey){if(this.enablePan===!1)return;this._handleMouseDownPan(t),this.state=jn.PAN}else{if(this.enableRotate===!1)return;this._handleMouseDownRotate(t),this.state=jn.ROTATE}break;case Xf.PAN:if(t.ctrlKey||t.metaKey||t.shiftKey){if(this.enableRotate===!1)return;this._handleMouseDownRotate(t),this.state=jn.ROTATE}else{if(this.enablePan===!1)return;this._handleMouseDownPan(t),this.state=jn.PAN}break;default:this.state=jn.NONE}this.state!==jn.NONE&&this.dispatchEvent(I2)}function LK(t){switch(this.state){case jn.ROTATE:if(this.enableRotate===!1)return;this._handleMouseMoveRotate(t);break;case jn.DOLLY:if(this.enableZoom===!1)return;this._handleMouseMoveDolly(t);break;case jn.PAN:if(this.enablePan===!1)return;this._handleMouseMovePan(t);break}}function IK(t){this.enabled===!1||this.enableZoom===!1||this.state!==jn.NONE||(t.preventDefault(),this.dispatchEvent(I2),this._handleMouseWheel(this._customWheelEvent(t)),this.dispatchEvent(vF))}function FK(t){this.enabled!==!1&&this._handleKeyDown(t)}function UK(t){switch(this._trackPointer(t),this._pointers.length){case 1:switch(this.touches.ONE){case Gf.ROTATE:if(this.enableRotate===!1)return;this._handleTouchStartRotate(t),this.state=jn.TOUCH_ROTATE;break;case Gf.PAN:if(this.enablePan===!1)return;this._handleTouchStartPan(t),this.state=jn.TOUCH_PAN;break;default:this.state=jn.NONE}break;case 2:switch(this.touches.TWO){case Gf.DOLLY_PAN:if(this.enableZoom===!1&&this.enablePan===!1)return;this._handleTouchStartDollyPan(t),this.state=jn.TOUCH_DOLLY_PAN;break;case Gf.DOLLY_ROTATE:if(this.enableZoom===!1&&this.enableRotate===!1)return;this._handleTouchStartDollyRotate(t),this.state=jn.TOUCH_DOLLY_ROTATE;break;default:this.state=jn.NONE}break;default:this.state=jn.NONE}this.state!==jn.NONE&&this.dispatchEvent(I2)}function BK(t){switch(this._trackPointer(t),this.state){case jn.TOUCH_ROTATE:if(this.enableRotate===!1)return;this._handleTouchMoveRotate(t),this.update();break;case jn.TOUCH_PAN:if(this.enablePan===!1)return;this._handleTouchMovePan(t),this.update();break;case jn.TOUCH_DOLLY_PAN:if(this.enableZoom===!1&&this.enablePan===!1)return;this._handleTouchMoveDollyPan(t),this.update();break;case jn.TOUCH_DOLLY_ROTATE:if(this.enableZoom===!1&&this.enableRotate===!1)return;this._handleTouchMoveDollyRotate(t),this.update();break;default:this.state=jn.NONE}}function zK(t){this.enabled!==!1&&t.preventDefault()}function jK(t){t.key==="Control"&&(this._controlActive=!0,this.domElement.getRootNode().addEventListener("keyup",this._interceptControlUp,{passive:!0,capture:!0}))}function HK(t){t.key==="Control"&&(this._controlActive=!1,this.domElement.getRootNode().removeEventListener("keyup",this._interceptControlUp,{passive:!0,capture:!0}))}const GK=({nodes:t,highlightPath:e,deckHeights:n})=>{const r=P.useRef(null),i=P.useRef(null),a=P.useRef(null),s=P.useRef(null),l=P.useRef(null),u=P.useRef([]),f=P.useRef(new Map),h=_=>{let x=0;for(let y=0;y<_.length;y++)x=_.charCodeAt(y)+((x<<5)-x);return x},p=()=>{f.current.clear();const _=.001;if(t.some(y=>y.x&&y.x!==0||y.y&&y.y!==0||y.z&&y.z!==0)){console.log(" Using REAL coordinates from POINT column");let y=1/0,E=-1/0,w=1/0,b=-1/0,M=1/0,A=-1/0;t.forEach(O=>{O.x&&(y=Math.min(y,O.x),E=Math.max(E,O.x)),O.y&&(w=Math.min(w,O.y),b=Math.max(b,O.y)),O.z&&(M=Math.min(M,O.z),A=Math.max(A,O.z))});const C=(y+E)/2,R=(w+b)/2,F=(M+A)/2;t.forEach(O=>{O.x!==void 0&&O.y!==void 0&&O.z!==void 0&&f.current.set(O.name,{x:(O.x-C)*_,y:(O.z-F)*_,z:(O.y-R)*_})})}else{console.log(" Using GRID layout (no real coordinates)");const y={};t.forEach(E=>{const w=E.deck||"UNKNOWN";y[w]||(y[w]=[]),y[w].push(E)}),Object.entries(y).forEach(([E,w])=>{const b=(n[E]||0)*20,M=Math.ceil(Math.sqrt(w.length)),A=30;w.forEach((C,R)=>{const F=Math.floor(R/M),O=R%M,k=h(C.name)%100/10,D=h(C.name+"z")%100/10,U=O*A-M*A/2+k,Z=F*A-M*A/2+D;f.current.set(C.name,{x:U,y:b,z:Z})})})}};P.useEffect(()=>{if(p(),!r.current)return;const _=r.current.clientWidth,x=r.current.clientHeight,y=new JG;y.background=new sn("#0f172a"),y.fog=new R2("#0f172a",.005),i.current=y;const E=new ts(60,_/x,.1,2e3);E.position.set(100,100,100),s.current=E;const w=new CK({antialias:!0,alpha:!0});w.setSize(_,x),w.setPixelRatio(window.devicePixelRatio),r.current.appendChild(w.domElement),a.current=w;const b=new OK(E,w.domElement);b.enableDamping=!0,b.dampingFactor=.05,l.current=b;const M=new RV(16777215,.7);y.add(M);const A=new CV(16777215,.8);A.position.set(50,200,50),y.add(A);const C=new PV(500,50,3359061,1976635);C.position.y=0,y.add(C),g();const R=()=>{requestAnimationFrame(R),b.update(),w.render(y,E)};return R(),()=>{r.current&&w.domElement&&r.current.removeChild(w.domElement),w.dispose()}},[n]),P.useEffect(()=>{g()},[t,e,n]);const m=(_,x)=>{const y=[];return y.push(new _e(_.x,_.y,_.z)),Math.abs(_.y-x.y)>.1&&y.push(new _e(_.x,x.y,_.z)),y.push(new _e(x.x,x.y,_.z)),y.push(new _e(x.x,x.y,x.z)),y},g=()=>{const _=i.current;if(!_)return;u.current.forEach(U=>_.remove(U)),u.current=[],p();const x=new ou(.3,.3,.3),y=new ou(1.2,1.2,1.2),E=new N2(1.5,16,16),w=new O0({color:440020,roughness:.3,metalness:.8,transparent:!0,opacity:.6}),b=new O0({color:16498468,emissive:16498468,emissiveIntensity:.3}),M=new O0({color:2278750,emissive:2278750,emissiveIntensity:.5}),A=new O0({color:15680580,emissive:15680580,emissiveIntensity:.5}),C=(U,Z="#ffffff")=>{const se=document.createElement("canvas"),oe=se.getContext("2d");se.width=256,se.height=64,oe.fillStyle="rgba(0,0,0,0.7)",oe.fillRect(0,0,se.width,se.height),oe.strokeStyle=Z,oe.lineWidth=2,oe.strokeRect(0,0,se.width,se.height),oe.font="bold 28px Arial",oe.fillStyle=Z,oe.textAlign="center",oe.textBaseline="middle",oe.fillText(U,se.width/2,se.height/2);const G=new sV(se),W=new rF({map:G}),ee=new eV(W);return ee.scale.set(8,2,1),ee},R=e&&e.length>1,F=R?e[0]:null,O=R?e[e.length-1]:null;if(t.forEach(U=>{const Z=f.current.get(U.name);if(!Z)return;const se=e==null?void 0:e.includes(U.name),oe=U.name===F,G=U.name===O;if(R){if(se){let W;oe||G?W=new Ca(E,oe?M:A):W=new Ca(y,b),W.position.set(Z.x,Z.y,Z.z),_.add(W),u.current.push(W);const ee=C(U.name,oe?"#22c55e":G?"#ef4444":"#fbbf24");ee.position.set(Z.x,Z.y+3,Z.z),_.add(ee),u.current.push(ee)}}else{const W=new Ca(x,w);W.position.set(Z.x,Z.y,Z.z),_.add(W),u.current.push(W)}}),R&&e.length>1){const U=[];if(e.forEach(Z=>{const se=f.current.get(Z);se&&U.push(new _e(se.x,se.y,se.z))}),U.length>1){const Z=new lF(U),se=new k2(Z,U.length*10,.3,8,!1),oe=new O0({color:62463,emissive:62463,emissiveIntensity:.5}),G=new Ca(se,oe);_.add(G),u.current.push(G)}}const k=new P2({color:62463,linewidth:3}),D=new Set;t.forEach(U=>{if(!U.relation)return;const Z=U.relation.split(",").map(oe=>oe.trim()).filter(Boolean),se=f.current.get(U.name);Z.forEach(oe=>{const G=f.current.get(oe);if(se&&G){const W=[U.name,oe].sort().join("-");if(D.has(W))return;D.add(W);const ee=m(se,G),Y=new Zi().setFromPoints(ee);let pe=!1;if(e&&e.length>1){for(let z=0;z<e.length-1;z++)if(e[z]===U.name&&e[z+1]===oe||e[z]===oe&&e[z+1]===U.name){pe=!0;break}}if(pe){const z=new aF(Y,k);_.add(z),u.current.push(z)}}})})};return L.jsx("div",{ref:r,className:"w-full h-full rounded-lg overflow-hidden shadow-2xl bg-black/40"})};var iE={},mP;function VK(){return mP||(mP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=EI(),n=uc();function r(ee){let Y=ee;for(;Y;){if(Y.dir)return Y.dir==="rtl";Y=Y.parentElement}return!1}function i(ee,Y){const[pe,z]=n.useState(Y==="rtl");return n.useLayoutEffect(()=>{ee&&(Y||z(r(ee)))},[Y,ee]),pe}const a=typeof window<"u"?n.useLayoutEffect:n.useEffect;function s(ee){if(ee!==void 0)switch(typeof ee){case"number":return ee;case"string":{if(ee.endsWith("px"))return parseFloat(ee);break}}}function l({box:ee,defaultHeight:Y,defaultWidth:pe,disabled:z,element:I,mode:V,style:X}){const{styleHeight:te,styleWidth:J}=n.useMemo(()=>({styleHeight:s(X==null?void 0:X.height),styleWidth:s(X==null?void 0:X.width)}),[X==null?void 0:X.height,X==null?void 0:X.width]),[fe,ae]=n.useState({height:Y,width:pe}),Q=z||V==="only-height"&&te!==void 0||V==="only-width"&&J!==void 0||te!==void 0&&J!==void 0;return a(()=>{if(I===null||Q)return;const de=new ResizeObserver(Ae=>{for(const j of Ae){const{contentRect:We,target:Le}=j;I===Le&&ae(Je=>Je.height===We.height&&Je.width===We.width?Je:{height:We.height,width:We.width})}});return de.observe(I,{box:ee}),()=>{de==null||de.unobserve(I)}},[ee,Q,I,te,J]),n.useMemo(()=>({height:te??fe.height,width:J??fe.width}),[fe,te,J])}function u(ee){const Y=n.useRef(()=>{throw new Error("Cannot call during render.")});return a(()=>{Y.current=ee},[ee]),n.useCallback(pe=>{var z;return(z=Y.current)==null?void 0:z.call(Y,pe)},[Y])}let f=null;function h(ee=!1){if(f===null||ee){const Y=document.createElement("div"),pe=Y.style;pe.width="50px",pe.height="50px",pe.overflow="scroll",pe.direction="rtl";const z=document.createElement("div"),I=z.style;return I.width="100px",I.height="100px",Y.appendChild(z),document.body.appendChild(Y),Y.scrollLeft>0?f="positive-descending":(Y.scrollLeft=1,Y.scrollLeft===0?f="negative":f="positive-ascending"),document.body.removeChild(Y),f}return f}function p({containerElement:ee,direction:Y,isRtl:pe,scrollOffset:z}){if(Y==="horizontal"&&pe)switch(h()){case"negative":return-z;case"positive-descending":{if(ee){const{clientWidth:I,scrollLeft:V,scrollWidth:X}=ee;return X-I-V}break}}return z}function m(ee,Y="Assertion error"){if(!ee)throw console.error(Y),Error(Y)}function g(ee,Y){if(ee===Y)return!0;if(!!ee!=!!Y||(m(ee!==void 0),m(Y!==void 0),Object.keys(ee).length!==Object.keys(Y).length))return!1;for(const pe in ee)if(!Object.is(Y[pe],ee[pe]))return!1;return!0}function _({cachedBounds:ee,itemCount:Y,itemSize:pe}){if(Y===0)return 0;if(typeof pe=="number")return Y*pe;{const z=ee.get(ee.size===0?0:ee.size-1);m(z!==void 0,"Unexpected bounds cache miss");const I=(z.scrollOffset+z.size)/ee.size;return Y*I}}function x({align:ee,cachedBounds:Y,index:pe,itemCount:z,itemSize:I,containerScrollOffset:V,containerSize:X}){if(pe<0||pe>=z)throw RangeError(`Invalid index specified: ${pe}`,{cause:`Index ${pe} is not within the range of 0 - ${z-1}`});const te=_({cachedBounds:Y,itemCount:z,itemSize:I}),J=Y.get(pe),fe=Math.max(0,Math.min(te-X,J.scrollOffset)),ae=Math.max(0,J.scrollOffset-X+J.size);switch(ee==="smart"&&(V>=ae&&V<=fe?ee="auto":ee="center"),ee){case"start":return fe;case"end":return ae;case"center":return J.scrollOffset<=X/2?0:J.scrollOffset+J.size/2>=te-X/2?te-X:J.scrollOffset+J.size/2-X/2;case"auto":default:return V>=ae&&V<=fe?V:V<ae?ae:fe}}function y({cachedBounds:ee,containerScrollOffset:Y,containerSize:pe,itemCount:z,overscanCount:I}){const V=z-1;let X=0,te=-1,J=0,fe=-1,ae=0;for(;ae<V;){const Q=ee.get(ae);if(Q.scrollOffset+Q.size>Y)break;ae++}for(X=ae,J=Math.max(0,X-I);ae<V;){const Q=ee.get(ae);if(Q.scrollOffset+Q.size>=Y+pe)break;ae++}return te=Math.min(V,ae),fe=Math.min(z-1,te+I),X<0&&(X=0,te=-1,J=0,fe=-1),{startIndexVisible:X,stopIndexVisible:te,startIndexOverscan:J,stopIndexOverscan:fe}}function E({itemCount:ee,itemProps:Y,itemSize:pe}){const z=new Map;return{get(I){for(m(I<ee,`Invalid index ${I}`);z.size-1<I;){const X=z.size;let te;switch(typeof pe){case"function":{te=pe(X,Y);break}case"number":{te=pe;break}}if(X===0)z.set(X,{size:te,scrollOffset:0});else{const J=z.get(X-1);m(J!==void 0,`Unexpected bounds cache miss for index ${I}`),z.set(X,{scrollOffset:J.scrollOffset+J.size,size:te})}}const V=z.get(I);return m(V!==void 0,`Unexpected bounds cache miss for index ${I}`),V},set(I,V){z.set(I,V)},get size(){return z.size}}}function w({itemCount:ee,itemProps:Y,itemSize:pe}){return n.useMemo(()=>E({itemCount:ee,itemProps:Y,itemSize:pe}),[ee,Y,pe])}function b({containerSize:ee,itemSize:Y}){let pe;switch(typeof Y){case"string":{m(Y.endsWith("%"),`Invalid item size: "${Y}"; string values must be percentages (e.g. "100%")`),m(ee!==void 0,"Container size must be defined if a percentage item size is specified"),pe=ee*parseInt(Y)/100;break}default:{pe=Y;break}}return pe}function M({containerElement:ee,containerStyle:Y,defaultContainerSize:pe=0,direction:z,isRtl:I=!1,itemCount:V,itemProps:X,itemSize:te,onResize:J,overscanCount:fe}){const[ae,Q]=n.useState({startIndexVisible:0,startIndexOverscan:0,stopIndexVisible:-1,stopIndexOverscan:-1}),{startIndexVisible:de,startIndexOverscan:Ae,stopIndexVisible:j,stopIndexOverscan:We}={startIndexVisible:Math.min(V-1,ae.startIndexVisible),startIndexOverscan:Math.min(V-1,ae.startIndexOverscan),stopIndexVisible:Math.min(V-1,ae.stopIndexVisible),stopIndexOverscan:Math.min(V-1,ae.stopIndexOverscan)},{height:Le=pe,width:Je=pe}=l({defaultHeight:z==="vertical"?pe:void 0,defaultWidth:z==="horizontal"?pe:void 0,element:ee,mode:z==="vertical"?"only-height":"only-width",style:Y}),Xe=n.useRef({height:0,width:0}),Ge=z==="vertical"?Le:Je,ce=b({containerSize:Ge,itemSize:te});n.useLayoutEffect(()=>{if(typeof J=="function"){const B=Xe.current;(B.height!==Le||B.width!==Je)&&(J({height:Le,width:Je},{...B}),B.height=Le,B.width=Je)}},[Le,J,Je]);const Ft=w({itemCount:V,itemProps:X,itemSize:ce}),Ct=n.useCallback(B=>Ft.get(B),[Ft]),Nt=n.useCallback(()=>_({cachedBounds:Ft,itemCount:V,itemSize:ce}),[Ft,V,ce]),rt=n.useCallback(B=>{const ve=p({containerElement:ee,direction:z,isRtl:I,scrollOffset:B});return y({cachedBounds:Ft,containerScrollOffset:ve,containerSize:Ge,itemCount:V,overscanCount:fe})},[Ft,ee,Ge,z,I,V,fe]);a(()=>{const B=(z==="vertical"?ee==null?void 0:ee.scrollTop:ee==null?void 0:ee.scrollLeft)??0;Q(rt(B))},[ee,z,rt]),a(()=>{if(!ee)return;const B=()=>{Q(ve=>{const{scrollLeft:Ie,scrollTop:Ue}=ee,Te=p({containerElement:ee,direction:z,isRtl:I,scrollOffset:z==="vertical"?Ue:Ie}),dt=y({cachedBounds:Ft,containerScrollOffset:Te,containerSize:Ge,itemCount:V,overscanCount:fe});return g(dt,ve)?ve:dt})};return ee.addEventListener("scroll",B),()=>{ee.removeEventListener("scroll",B)}},[Ft,ee,Ge,z,V,fe]);const ie=u(({align:B="auto",containerScrollOffset:ve,index:Ie})=>{let Ue=x({align:B,cachedBounds:Ft,containerScrollOffset:ve,containerSize:Ge,index:Ie,itemCount:V,itemSize:ce});if(ee){if(Ue=p({containerElement:ee,direction:z,isRtl:I,scrollOffset:Ue}),typeof ee.scrollTo!="function"){const Te=rt(Ue);g(ae,Te)||Q(Te)}return Ue}});return{getCellBounds:Ct,getEstimatedSize:Nt,scrollToIndex:ie,startIndexOverscan:Ae,startIndexVisible:de,stopIndexOverscan:We,stopIndexVisible:j}}function A(ee){return n.useMemo(()=>ee,Object.values(ee))}function C(ee,Y){const{ariaAttributes:pe,style:z,...I}=ee,{ariaAttributes:V,style:X,...te}=Y;return g(pe,V)&&g(z,X)&&g(I,te)}function R({cellComponent:ee,cellProps:Y,children:pe,className:z,columnCount:I,columnWidth:V,defaultHeight:X=0,defaultWidth:te=0,dir:J,gridRef:fe,onCellsRendered:ae,onResize:Q,overscanCount:de=3,rowCount:Ae,rowHeight:j,style:We,tagName:Le="div",...Je}){const Xe=A(Y),Ge=n.useMemo(()=>n.memo(ee,C),[ee]),[ce,Ft]=n.useState(null),Ct=i(ce,J),{getCellBounds:Nt,getEstimatedSize:rt,startIndexOverscan:ie,startIndexVisible:B,scrollToIndex:ve,stopIndexOverscan:Ie,stopIndexVisible:Ue}=M({containerElement:ce,containerStyle:We,defaultContainerSize:te,direction:"horizontal",isRtl:Ct,itemCount:I,itemProps:Xe,itemSize:V,onResize:Q,overscanCount:de}),{getCellBounds:Te,getEstimatedSize:dt,startIndexOverscan:Be,startIndexVisible:st,scrollToIndex:Tt,stopIndexOverscan:Ve,stopIndexVisible:Qe}=M({containerElement:ce,containerStyle:We,defaultContainerSize:X,direction:"vertical",itemCount:Ae,itemProps:Xe,itemSize:j,onResize:Q,overscanCount:de});n.useImperativeHandle(fe,()=>({get element(){return ce},scrollToCell({behavior:it="auto",columnAlign:Pt="auto",columnIndex:ge,rowAlign:at="auto",rowIndex:et}){const pt=ve({align:Pt,containerScrollOffset:(ce==null?void 0:ce.scrollLeft)??0,index:ge}),$e=Tt({align:at,containerScrollOffset:(ce==null?void 0:ce.scrollTop)??0,index:et});typeof(ce==null?void 0:ce.scrollTo)=="function"&&ce.scrollTo({behavior:it,left:pt,top:$e})},scrollToColumn({align:it="auto",behavior:Pt="auto",index:ge}){const at=ve({align:it,containerScrollOffset:(ce==null?void 0:ce.scrollLeft)??0,index:ge});typeof(ce==null?void 0:ce.scrollTo)=="function"&&ce.scrollTo({behavior:Pt,left:at})},scrollToRow({align:it="auto",behavior:Pt="auto",index:ge}){const at=Tt({align:it,containerScrollOffset:(ce==null?void 0:ce.scrollTop)??0,index:ge});typeof(ce==null?void 0:ce.scrollTo)=="function"&&ce.scrollTo({behavior:Pt,top:at})}}),[ce,ve,Tt]),n.useEffect(()=>{ie>=0&&Ie>=0&&Be>=0&&Ve>=0&&ae&&ae({columnStartIndex:B,columnStopIndex:Ue,rowStartIndex:st,rowStopIndex:Qe},{columnStartIndex:ie,columnStopIndex:Ie,rowStartIndex:Be,rowStopIndex:Ve})},[ae,ie,B,Ie,Ue,Be,st,Ve,Qe]);const gt=n.useMemo(()=>{const it=[];if(I>0&&Ae>0)for(let Pt=Be;Pt<=Ve;Pt++){const ge=Te(Pt),at=[];for(let et=ie;et<=Ie;et++){const pt=Nt(et);at.push(n.createElement(Ge,{...Xe,ariaAttributes:{"aria-colindex":et+1,role:"gridcell"},columnIndex:et,key:et,rowIndex:Pt,style:{position:"absolute",left:Ct?void 0:0,right:Ct?0:void 0,transform:`translate(${Ct?-pt.scrollOffset:pt.scrollOffset}px, ${ge.scrollOffset}px)`,height:ge.size,width:pt.size}}))}it.push(e.jsx("div",{role:"row","aria-rowindex":Pt+1,children:at},Pt))}return it},[Ge,Xe,I,ie,Ie,Nt,Te,Ct,Ae,Be,Ve]),vt=e.jsx("div",{"aria-hidden":!0,style:{height:dt(),width:rt(),zIndex:-1}});return n.createElement(Le,{"aria-colcount":I,"aria-rowcount":Ae,role:"grid",...Je,className:z,dir:J,ref:Ft,style:{position:"relative",width:"100%",height:"100%",maxHeight:"100%",maxWidth:"100%",flexGrow:1,overflow:"auto",...We}},gt,pe,vt)}const F=n.useState,O=n.useRef;function k(ee){return ee!=null&&typeof ee=="object"&&"getAverageRowHeight"in ee&&typeof ee.getAverageRowHeight=="function"}const D="data-react-window-index";function U({children:ee,className:Y,defaultHeight:pe=0,listRef:z,onResize:I,onRowsRendered:V,overscanCount:X=3,rowComponent:te,rowCount:J,rowHeight:fe,rowProps:ae,tagName:Q="div",style:de,...Ae}){const j=A(ae),We=n.useMemo(()=>n.memo(te,C),[te]),[Le,Je]=n.useState(null),Xe=k(fe),Ge=n.useMemo(()=>Xe?Ue=>fe.getRowHeight(Ue)??fe.getAverageRowHeight():fe,[Xe,fe]),{getCellBounds:ce,getEstimatedSize:Ft,scrollToIndex:Ct,startIndexOverscan:Nt,startIndexVisible:rt,stopIndexOverscan:ie,stopIndexVisible:B}=M({containerElement:Le,containerStyle:de,defaultContainerSize:pe,direction:"vertical",itemCount:J,itemProps:j,itemSize:Ge,onResize:I,overscanCount:X});n.useImperativeHandle(z,()=>({get element(){return Le},scrollToRow({align:Ue="auto",behavior:Te="auto",index:dt}){const Be=Ct({align:Ue,containerScrollOffset:(Le==null?void 0:Le.scrollTop)??0,index:dt});typeof(Le==null?void 0:Le.scrollTo)=="function"&&Le.scrollTo({behavior:Te,top:Be})}}),[Le,Ct]),a(()=>{if(!Le)return;const Ue=Array.from(Le.children).filter((Te,dt)=>{if(Te.hasAttribute("aria-hidden"))return!1;const Be=`${Nt+dt}`;return Te.setAttribute(D,Be),!0});if(Xe)return fe.observeRowElements(Ue)},[Le,Xe,fe,Nt,ie]),n.useEffect(()=>{Nt>=0&&ie>=0&&V&&V({startIndex:rt,stopIndex:B},{startIndex:Nt,stopIndex:ie})},[V,Nt,rt,ie,B]);const ve=n.useMemo(()=>{const Ue=[];if(J>0)for(let Te=Nt;Te<=ie;Te++){const dt=ce(Te);Ue.push(n.createElement(We,{...j,ariaAttributes:{"aria-posinset":Te+1,"aria-setsize":J,role:"listitem"},key:Te,index:Te,style:{position:"absolute",left:0,transform:`translateY(${dt.scrollOffset}px)`,height:Xe?void 0:dt.size,width:"100%"}}))}return Ue},[We,ce,Xe,J,j,Nt,ie]),Ie=e.jsx("div",{"aria-hidden":!0,style:{height:Ft(),width:"100%",zIndex:-1}});return n.createElement(Q,{role:"list",...Ae,className:Y,ref:Je,style:{position:"relative",maxHeight:"100%",flexGrow:1,overflowY:"auto",...de}},ve,ee,Ie)}function Z({defaultRowHeight:ee,key:Y}){const[pe,z]=n.useState({key:Y,map:new Map});pe.key!==Y&&z({key:Y,map:new Map});const{map:I}=pe,V=n.useCallback(()=>{let Q=0;return I.forEach(de=>{Q+=de}),Q===0?ee:Q/I.size},[ee,I]),X=n.useCallback(Q=>{const de=I.get(Q);return de!==void 0?de:(I.set(Q,ee),ee)},[ee,I]),te=n.useCallback((Q,de)=>{z(Ae=>{if(Ae.map.get(Q)===de)return Ae;const j=new Map(Ae.map);return j.set(Q,de),{...Ae,map:j}})},[]),J=u(Q=>{Q.length!==0&&Q.forEach(de=>{const{borderBoxSize:Ae,target:j}=de,We=j.getAttribute(D);m(We!==null,`Invalid ${D} attribute value`);const Le=parseInt(We),{blockSize:Je}=Ae[0];Je&&te(Le,Je)})}),[fe]=n.useState(()=>new ResizeObserver(J));n.useEffect(()=>()=>{fe.disconnect()},[fe]);const ae=n.useCallback(Q=>(Q.forEach(de=>fe.observe(de)),()=>{Q.forEach(de=>fe.unobserve(de))}),[fe]);return n.useMemo(()=>({getAverageRowHeight:V,getRowHeight:X,setRowHeight:te,observeRowElements:ae}),[V,X,te,ae])}const se=n.useState,oe=n.useRef;let G=-1;function W(ee=!1){if(G===-1||ee){const Y=document.createElement("div"),pe=Y.style;pe.width="50px",pe.height="50px",pe.overflow="scroll",document.body.appendChild(Y),G=Y.offsetWidth-Y.clientWidth,document.body.removeChild(Y)}return G}t.Grid=R,t.List=U,t.getScrollbarSize=W,t.useDynamicRowHeight=Z,t.useGridCallbackRef=F,t.useGridRef=O,t.useListCallbackRef=se,t.useListRef=oe})(iE)),iE}var WK=VK(),aE={},vP;function YK(){return vP||(vP=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=uc();let n;typeof window<"u"?n=window:typeof self<"u"?n=self:n=Mj;let r=null,i=null;const a=20,s=n.clearTimeout,l=n.setTimeout,u=n.cancelAnimationFrame||n.mozCancelAnimationFrame||n.webkitCancelAnimationFrame,f=n.requestAnimationFrame||n.mozRequestAnimationFrame||n.webkitRequestAnimationFrame;u==null||f==null?(r=s,i=function(y){return l(y,a)}):(r=function([y,E]){u(y),s(E)},i=function(y){const E=f(function(){s(w),y()}),w=l(function(){u(E),y()},a);return[E,w]});function h(x){let y,E,w,b,M,A,C;const R=typeof document<"u"&&document.attachEvent;if(!R){A=function(G){const W=G.__resizeTriggers__,ee=W.firstElementChild,Y=W.lastElementChild,pe=ee.firstElementChild;Y.scrollLeft=Y.scrollWidth,Y.scrollTop=Y.scrollHeight,pe.style.width=ee.offsetWidth+1+"px",pe.style.height=ee.offsetHeight+1+"px",ee.scrollLeft=ee.scrollWidth,ee.scrollTop=ee.scrollHeight},M=function(G){return G.offsetWidth!==G.__resizeLast__.width||G.offsetHeight!==G.__resizeLast__.height},C=function(G){if(G.target.className&&typeof G.target.className.indexOf=="function"&&G.target.className.indexOf("contract-trigger")<0&&G.target.className.indexOf("expand-trigger")<0)return;const W=this;A(this),this.__resizeRAF__&&r(this.__resizeRAF__),this.__resizeRAF__=i(function(){M(W)&&(W.__resizeLast__.width=W.offsetWidth,W.__resizeLast__.height=W.offsetHeight,W.__resizeListeners__.forEach(function(pe){pe.call(W,G)}))})};let D=!1,U="";w="animationstart";const Z="Webkit Moz O ms".split(" ");let se="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),oe="";{const G=document.createElement("fakeelement");if(G.style.animationName!==void 0&&(D=!0),D===!1){for(let W=0;W<Z.length;W++)if(G.style[Z[W]+"AnimationName"]!==void 0){oe=Z[W],U="-"+oe.toLowerCase()+"-",w=se[W],D=!0;break}}}E="resizeanim",y="@"+U+"keyframes "+E+" { from { opacity: 0; } to { opacity: 0; } } ",b=U+"animation: 1ms "+E+"; "}const F=function(D){if(!D.getElementById("detectElementResize")){const U=(y||"")+".resize-triggers { "+(b||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',Z=D.head||D.getElementsByTagName("head")[0],se=D.createElement("style");se.id="detectElementResize",se.type="text/css",x!=null&&se.setAttribute("nonce",x),se.styleSheet?se.styleSheet.cssText=U:se.appendChild(D.createTextNode(U)),Z.appendChild(se)}};return{addResizeListener:function(D,U){if(R)D.attachEvent("onresize",U);else{if(!D.__resizeTriggers__){const Z=D.ownerDocument,se=n.getComputedStyle(D);se&&se.position==="static"&&(D.style.position="relative"),F(Z),D.__resizeLast__={},D.__resizeListeners__=[],(D.__resizeTriggers__=Z.createElement("div")).className="resize-triggers";const oe=Z.createElement("div");oe.className="expand-trigger",oe.appendChild(Z.createElement("div"));const G=Z.createElement("div");G.className="contract-trigger",D.__resizeTriggers__.appendChild(oe),D.__resizeTriggers__.appendChild(G),D.appendChild(D.__resizeTriggers__),A(D),D.addEventListener("scroll",C,!0),w&&(D.__resizeTriggers__.__animationListener__=function(ee){ee.animationName===E&&A(D)},D.__resizeTriggers__.addEventListener(w,D.__resizeTriggers__.__animationListener__))}D.__resizeListeners__.push(U)}},removeResizeListener:function(D,U){if(R)D.detachEvent("onresize",U);else if(D.__resizeListeners__.splice(D.__resizeListeners__.indexOf(U),1),!D.__resizeListeners__.length){D.removeEventListener("scroll",C,!0),D.__resizeTriggers__.__animationListener__&&(D.__resizeTriggers__.removeEventListener(w,D.__resizeTriggers__.__animationListener__),D.__resizeTriggers__.__animationListener__=null);try{D.__resizeTriggers__=!D.removeChild(D.__resizeTriggers__)}catch{}}}}}class p extends e.Component{constructor(...y){super(...y),this.state={height:this.props.defaultHeight||0,width:this.props.defaultWidth||0},this._autoSizer=null,this._detectElementResize=null,this._didLogDeprecationWarning=!1,this._parentNode=null,this._resizeObserver=null,this._timeoutId=null,this._onResize=()=>{this._timeoutId=null;const{disableHeight:E,disableWidth:w,onResize:b}=this.props;if(this._parentNode){const M=window.getComputedStyle(this._parentNode)||{},A=parseFloat(M.paddingLeft||"0"),C=parseFloat(M.paddingRight||"0"),R=parseFloat(M.paddingTop||"0"),F=parseFloat(M.paddingBottom||"0"),O=this._parentNode.getBoundingClientRect(),k=O.height-R-F,D=O.width-A-C;if(!E&&this.state.height!==k||!w&&this.state.width!==D){this.setState({height:k,width:D});const U=()=>{this._didLogDeprecationWarning||(this._didLogDeprecationWarning=!0,console.warn("scaledWidth and scaledHeight parameters have been deprecated; use width and height instead"))};typeof b=="function"&&b({height:k,width:D,get scaledHeight(){return U(),k},get scaledWidth(){return U(),D}})}}},this._setRef=E=>{this._autoSizer=E}}componentDidMount(){const{nonce:y}=this.props,E=this._autoSizer?this._autoSizer.parentNode:null;if(E!=null&&E.ownerDocument&&E.ownerDocument.defaultView&&E instanceof E.ownerDocument.defaultView.HTMLElement){this._parentNode=E;const w=E.ownerDocument.defaultView.ResizeObserver;w!=null?(this._resizeObserver=new w(()=>{this._timeoutId=setTimeout(this._onResize,0)}),this._resizeObserver.observe(E)):(this._detectElementResize=h(y),this._detectElementResize.addResizeListener(E,this._onResize)),this._onResize()}}componentWillUnmount(){this._parentNode&&(this._detectElementResize&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize),this._timeoutId!==null&&clearTimeout(this._timeoutId),this._resizeObserver&&this._resizeObserver.disconnect())}render(){const{children:y,defaultHeight:E,defaultWidth:w,disableHeight:b=!1,disableWidth:M=!1,doNotBailOutOnEmptyChildren:A=!1,nonce:C,onResize:R,style:F={},tagName:O="div",...k}=this.props,{height:D,width:U}=this.state,Z={overflow:"visible"},se={};let oe=!1;return b||(D===0&&(oe=!0),Z.height=0,se.height=D,se.scaledHeight=D),M||(U===0&&(oe=!0),Z.width=0,se.width=U,se.scaledWidth=U),A&&(oe=!1),e.createElement(O,{ref:this._setRef,style:{...Z,...F},...k},!oe&&y(se))}}function m(x){return x&&x.disableHeight!==!0&&x.disableWidth!==!0}function g(x){return x&&x.disableHeight!==!0&&x.disableWidth===!0}function _(x){return x&&x.disableHeight===!0&&x.disableWidth!==!0}t.default=p,t.isHeightAndWidthProps=m,t.isHeightOnlyProps=g,t.isWidthOnlyProps=_})(aE)),aE}var XK=YK();const qK=Os(XK),KK=({cables:t,isLoading:e,onSelectCable:n,onCalculateRoute:r,onCalculateAll:i,onCalculateSelected:a,onView3D:s,triggerImport:l,onExport:u})=>{var pe;const[f,h]=P.useState(new Set),[p,m]=P.useState(null),[g,_]=P.useState(""),[x,y]=P.useState(!1),[E,w]=P.useState(null),[b,M]=P.useState("asc"),A=z=>{E===z?M(I=>I==="asc"?"desc":"asc"):(w(z),M("asc"))},C=P.useMemo(()=>t.filter(z=>!z.length||z.length===0).length,[t]),R=P.useRef(!1),F=P.useRef(-1),O=P.useMemo(()=>{if(f.size===0)return null;const z=Array.from(f)[0];return t.find(I=>I.id===z)||null},[f,t]),k=()=>t.filter(z=>f.has(z.id)),D=[{key:"id",label:"NO",width:40,align:"center"},{key:"system",label:"CABLE_SYSTEM",width:80},{key:"page",label:"WD_PAGE",width:60,align:"center"},{key:"name",label:"CABLE_NAME",width:130,color:"text-seastar-cyan font-bold"},{key:"type",label:"COMP_NAME",width:100},{key:"fromRoom",label:"FROM_ROOM",width:80,bg:"bg-blue-900",bgOpp:.1},{key:"fromEquip",label:"FROM_EQUIP",width:130,bg:"bg-blue-900",bgOpp:.1},{key:"fromNode",label:"FROM_NODE",width:80,bg:"bg-blue-900",bgOpp:.1},{key:"fromRest",label:"FROM_REST",width:60,bg:"bg-blue-900",bgOpp:.1},{key:"toRoom",label:"TO_ROOM",width:80,bg:"bg-green-900",bgOpp:.1},{key:"toEquip",label:"TO_EQUIP",width:130,bg:"bg-green-900",bgOpp:.1},{key:"toNode",label:"TO_NODE",width:80,bg:"bg-green-900",bgOpp:.1},{key:"toRest",label:"TO_REST",width:60,bg:"bg-green-900",bgOpp:.1},{key:"length",label:"POR_LENGTH",width:80,align:"right",color:"text-yellow-400 font-mono font-bold"},{key:"path",label:"CABLE_PATH",width:200,color:"text-green-400 font-mono text-[10px]"},{key:"od",label:"CABLE_OUTDIA",width:80,align:"right"},{key:"checkNode",label:"CHECK_NODE",width:80},{key:"supplyDeck",label:"SUPPLY_DECK",width:80},{key:"weight",label:"POR_WEIGHT",width:80,align:"right"},{key:"drum",label:"DRUM_",width:80},{key:"remark",label:"REMARK",width:130}],U=P.useMemo(()=>{const z=g.toLowerCase();let I=t.filter(V=>z?Object.values(V).some(X=>String(X||"").toLowerCase().includes(z)):!0);return x&&(I=I.filter(V=>!V.length||V.length===0)),E&&(I=[...I].sort((V,X)=>{const te=V[E]??"",J=X[E]??"";if(typeof te=="number"&&typeof J=="number")return b==="asc"?te-J:J-te;const fe=String(te).toLowerCase(),ae=String(J).toLowerCase();return b==="asc"?fe.localeCompare(ae):ae.localeCompare(fe)})),I},[t,g,x,E,b]),Z=z=>{h(z?new Set(U.map(I=>I.id)):new Set)},se=(z,I,V)=>{if(R.current=!0,F.current=V,z.ctrlKey||z.metaKey){const X=new Set(f);X.has(I)?X.delete(I):X.add(I),h(X),m(I)}else if(z.shiftKey&&p){const X=U.findIndex(ae=>ae.id===p),te=Math.min(X,V),J=Math.max(X,V),fe=new Set(f);for(let ae=te;ae<=J;ae++)U[ae]&&fe.add(U[ae].id);h(fe)}else h(new Set([I])),m(I),n(U[V])},oe=z=>{if(R.current&&F.current!==-1){const I=Math.min(F.current,z),V=Math.max(F.current,z),X=new Set;for(let te=I;te<=V;te++)U[te]&&X.add(U[te].id);h(X)}},G=nh.memo(({index:z,style:I})=>{const V=U[z],X=f.has(V.id),te=z%2===0;return L.jsxs("div",{style:I,onMouseDown:J=>se(J,V.id,z),onMouseEnter:()=>oe(z),className:`flex items-center text-[11px] border-b border-gray-200 cursor-pointer overflow-hidden
                    ${X?"bg-[#0078d7] text-white":te?"bg-[#f8fafc] text-gray-800 hover:bg-blue-50":"bg-white text-gray-800 hover:bg-blue-50"}
                `,children:[L.jsx("div",{className:"w-[32px] flex-shrink-0 flex items-center justify-center border-r border-gray-200 h-full",children:L.jsx("input",{type:"checkbox",checked:X,onChange:()=>{},className:"w-3 h-3 cursor-pointer"})}),D.map(J=>L.jsx("div",{className:`flex-shrink-0 px-1 border-r border-gray-200 h-full flex items-center overflow-hidden whitespace-nowrap
                            ${J.align==="center"?"justify-center":J.align==="right"?"justify-end":"justify-start"}
                            ${!X&&J.bg?"bg-blue-50/50":""} 
                        `,style:{width:J.width},title:String(V[J.key]||""),children:L.jsx("span",{className:`truncate ${X?"text-white":J.color||"text-gray-800"}`,children:V[J.key]})},`${V.id}-${J.key}`)),L.jsx("div",{className:"w-[32px] flex-shrink-0 flex items-center justify-center h-full sticky right-0 bg-inherit border-l border-gray-200",children:L.jsx("button",{title:"View 3D",onClick:J=>{J.stopPropagation(),s(V)},className:`hover:text-seastar-pink ${X?"text-white":"text-gray-500"}`,children:L.jsx(wI,{size:12})})})]})}),W=({icon:z,label:I,onClick:V,color:X="text-gray-200"})=>L.jsx("button",{onClick:V,className:"flex flex-col items-center justify-center px-2 py-1 hover:bg-[#334155] rounded transition-colors group",title:I,children:L.jsx(z,{size:18,className:`${X} group-hover:scale-110 transition-transform`})}),ee=()=>L.jsx("div",{className:"w-px h-6 bg-gray-600 mx-1"}),Y=()=>{R.current=!1,F.current=-1};return L.jsxs("div",{className:"flex flex-col h-full bg-[#e2e8f0] font-sans",onMouseUp:Y,children:[L.jsxs("div",{className:"h-9 bg-[#f1f5f9] border-b border-gray-300 flex items-center px-1 shadow-sm select-none shrink-0",children:[L.jsx(W,{icon:AI,label:"New",color:"text-yellow-600"}),L.jsx(W,{icon:MI,label:"Open Excel",onClick:l,color:"text-yellow-600"}),L.jsx(W,{icon:v2,label:"Save",color:"text-blue-600"}),L.jsx(W,{icon:CI,label:"Delete",color:"text-red-500"}),L.jsx(ee,{}),L.jsx(W,{icon:g2,label:"Search",color:"text-gray-600"}),L.jsx(ee,{}),L.jsx(W,{icon:Wj,label:"Down",color:"text-blue-500"}),L.jsx(W,{icon:Xj,label:"Up",color:"text-blue-500"}),L.jsx(ee,{}),L.jsx(W,{icon:Kj,label:"Route All",onClick:i,color:"text-gray-600"}),L.jsxs("button",{onClick:()=>a(k()),className:"flex items-center gap-1 px-2 py-1 text-[10px] font-bold bg-green-600 hover:bg-green-500 text-white rounded mx-1",disabled:f.size===0,title:"Route Selected",children:[L.jsx(YH,{size:12})," ROUTE (",f.size,")"]}),L.jsx(W,{icon:SH,label:"Pin",color:"text-gray-600"}),L.jsx(W,{icon:TH,label:"Print",color:"text-gray-600"}),L.jsx(ee,{}),L.jsx(W,{icon:ix,label:"Export",onClick:u,color:"text-green-600"}),L.jsx(ee,{}),L.jsxs("button",{onClick:()=>y(!x),className:`relative flex items-center gap-1 px-2 py-1 text-[10px] font-bold rounded mx-1 transition-all ${x?"bg-red-600 text-white":C>0?"bg-yellow-100 text-yellow-800 border border-yellow-400":"bg-gray-100 text-gray-500"}`,title:x?"Show All Cables":"Show Only Missing Length",children:[L.jsx(Yv,{size:12}),x?"SHOW ALL":"NO LENGTH",C>0&&L.jsx("span",{className:`ml-1 px-1.5 py-0.5 rounded-full text-[9px] font-bold ${x?"bg-white text-red-600":"bg-red-500 text-white"}`,children:C})]})]}),L.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[L.jsxs("div",{className:"w-48 bg-white border-r border-gray-300 flex flex-col shadow-inner shrink-0",children:[L.jsxs("div",{className:"p-2 border-b border-gray-200 bg-gray-50",children:[L.jsx("div",{className:"text-[10px] font-bold text-gray-500 mb-1",children:"Search"}),L.jsx("div",{className:"flex gap-1",children:L.jsx("input",{className:"flex-1 border border-gray-400 rounded px-2 py-1 text-[11px] bg-gray-800 text-white placeholder-gray-400",value:g,onChange:z=>_(z.target.value),placeholder:"Search all..."})})]}),L.jsx("div",{className:"flex-1 overflow-y-auto p-2",children:L.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-700 cursor-pointer hover:bg-blue-50",children:[L.jsx(fH,{size:12,className:"text-yellow-500"}),L.jsx("span",{children:"Cable Group"})]})})]}),L.jsxs("div",{className:"flex-1 flex flex-col bg-[#0f172a] overflow-hidden",children:[L.jsxs("div",{className:"bg-[#f8fafc] p-2 border-b border-gray-300 flex gap-4 min-h-[160px] text-gray-800 shrink-0",children:[L.jsxs("div",{className:"w-64 flex flex-col gap-1",children:[L.jsxs("div",{className:"flex items-center gap-2",children:[L.jsx("label",{className:"w-20 text-[10px] font-bold text-gray-600",children:"CABLE NAME"}),L.jsx("input",{className:"flex-1 border border-gray-300 bg-red-50 px-1 py-0.5 text-xs font-bold",value:(O==null?void 0:O.name)||"",readOnly:!0})]}),L.jsxs("div",{className:"flex items-center gap-2",children:[L.jsx("label",{className:"w-20 text-[10px] font-bold text-gray-600",children:"CABLE TYPE"}),L.jsx("input",{className:"flex-1 border border-gray-300 bg-white px-1 py-0.5 text-xs",value:(O==null?void 0:O.type)||"",readOnly:!0})]}),L.jsxs("div",{className:"flex items-center gap-2",children:[L.jsx("label",{className:"w-20 text-[10px] font-bold text-gray-600",children:"LENGTH"}),L.jsx("input",{className:"flex-1 border border-gray-300 bg-white px-1 py-0.5 text-xs text-right",value:(O==null?void 0:O.length)||"",readOnly:!0})]})]}),L.jsxs("div",{className:"flex-1 flex gap-4",children:[L.jsxs("div",{className:"flex-1 flex flex-col gap-1",children:[L.jsx("div",{className:"text-[10px] font-bold text-gray-800 border-b border-gray-300 mb-1",children:"FROM"}),L.jsxs("div",{className:"flex items-center gap-2",children:[L.jsx("label",{className:"w-10 text-[10px] font-bold text-gray-500",children:"NODE"}),L.jsx("input",{className:"flex-1 border border-gray-300 bg-white px-1 py-0.5 text-xs font-bold",value:(O==null?void 0:O.fromNode)||"",readOnly:!0})]})]}),L.jsxs("div",{className:"flex-1 flex flex-col gap-1",children:[L.jsx("div",{className:"text-[10px] font-bold text-gray-800 border-b border-gray-300 mb-1",children:"TO"}),L.jsxs("div",{className:"flex items-center gap-2",children:[L.jsx("label",{className:"w-10 text-[10px] font-bold text-gray-500",children:"NODE"}),L.jsx("input",{className:"flex-1 border border-gray-300 bg-white px-1 py-0.5 text-xs font-bold",value:(O==null?void 0:O.toNode)||"",readOnly:!0})]})]})]}),L.jsxs("div",{className:"w-64 flex flex-col gap-1 border-l border-gray-200 pl-2",children:[L.jsx("div",{className:"text-[10px] font-bold text-blue-800 mb-1",children:"ROUTING"}),L.jsx("div",{className:"text-[10px] font-mono leading-tight bg-white border border-gray-300 p-1 h-20 overflow-auto break-all mb-1",children:(O==null?void 0:O.path)||((pe=O==null?void 0:O.calculatedPath)==null?void 0:pe.join(","))||""}),L.jsx("button",{onClick:()=>O&&r(O),className:"bg-blue-600 hover:bg-blue-500 text-white text-[10px] font-bold py-1 rounded shadow",children:"ROUTE"})]})]}),L.jsxs("div",{className:"flex-1 overflow-hidden bg-white border-t border-gray-300 relative flex flex-col",children:[L.jsxs("div",{className:"flex items-center bg-[#e2e8f0] text-gray-700 shadow-sm h-7 text-[10px] border-b border-gray-300 overflow-hidden shrink-0 pr-[17px]",children:[" ",L.jsx("div",{className:"w-[32px] flex-shrink-0 flex items-center justify-center border-r border-gray-300 h-full font-bold",children:L.jsx("input",{type:"checkbox",checked:U.length>0&&f.size===U.length,onChange:z=>Z(z.target.checked),className:"w-3 h-3 cursor-pointer"})}),D.map(z=>L.jsxs("div",{className:`flex-shrink-0 px-1 font-bold border-r border-gray-300 h-full flex items-center overflow-hidden
                                        ${z.align==="center"?"justify-center":z.align==="right"?"justify-end":"justify-start"}
                                        cursor-pointer hover:bg-gray-300 select-none
                                    `,style:{width:z.width},onClick:()=>A(z.key),children:[z.label,E===z.key&&(b==="asc"?L.jsx(TI,{size:10,className:"ml-1 text-blue-600"}):L.jsx(m2,{size:10,className:"ml-1 text-blue-600"}))]},z.key)),L.jsx("div",{className:"w-[32px] flex-shrink-0 flex items-center justify-center font-bold",children:"3D"})]}),L.jsx("div",{className:"flex-1",children:L.jsx(qK,{children:({height:z,width:I})=>L.jsx(WK.FixedSizeList,{height:z,itemCount:U.length,itemSize:24,width:I,outerElementType:nh.forwardRef((V,X)=>L.jsx("div",{ref:X,...V,style:{...V.style,overflowY:"scroll"}})),children:G})})})]})]})]}),L.jsxs("div",{className:"h-6 bg-[#f1f5f9] border-t border-gray-300 flex justify-between items-center px-2 text-[10px] text-gray-500 shrink-0",children:[L.jsxs("div",{children:["Selected: ",L.jsx("span",{className:"font-bold text-blue-600",children:f.size})]}),L.jsxs("div",{children:["Total Items: ",L.jsx("span",{className:"font-bold",children:U.length})]})]})]})},$K=({title:t,data:e})=>{if(!e||e.length===0)return L.jsx("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:L.jsxs("p",{children:["No data available for ",t]})});const n=Object.keys(e[0]);return L.jsxs("div",{className:"flex flex-col h-full bg-seastar-900",children:[L.jsx("div",{className:"glass-panel p-4 mb-4 rounded-lg shadow-lg border border-seastar-700",children:L.jsx("h4",{className:"text-seastar-cyan font-bold uppercase text-sm tracking-wider",children:t})}),L.jsx("div",{className:"flex-1 overflow-auto rounded-lg border border-seastar-700 bg-seastar-800 shadow-inner custom-scrollbar",children:L.jsxs("table",{className:"w-full text-left border-collapse",children:[L.jsx("thead",{className:"bg-gray-300 text-seastar-900 sticky top-0 z-10 shadow-md",children:L.jsx("tr",{children:n.map(r=>L.jsx("th",{className:"p-2 text-[10px] font-bold border-r border-gray-400 uppercase whitespace-nowrap",children:r.replace(/_/g," ")},r))})}),L.jsx("tbody",{className:"divide-y divide-seastar-700",children:e.map((r,i)=>L.jsx("tr",{className:"hover:bg-seastar-700/50 transition-colors text-xs text-gray-300 odd:bg-seastar-800 even:bg-seastar-800/80",children:n.map(a=>L.jsx("td",{className:"p-2 border-r border-seastar-700 truncate max-w-[200px]",children:String(r[a]??"")},`${i}-${a}`))},i))})]})}),L.jsxs("div",{className:"bg-seastar-900 text-gray-500 text-[10px] p-2 border-t border-seastar-700",children:["Total Records: ",e.length]})]})},ZK=({data:t})=>{const[e,n]=P.useState(null),[r,i]=P.useState(""),a=P.useMemo(()=>t.filter(h=>String(h.TYPE_CODE||"").toLowerCase().includes(r.toLowerCase())),[t,r]),s=h=>{n(h)},l=(h,p)=>{e||i(p)},u=h=>e?String(e[h]||""):h==="TYPE_CODE"?r:"",f=t.length>0?Object.keys(t[0]):[];return L.jsxs("div",{className:"flex flex-col h-full bg-seastar-900",children:[L.jsxs("div",{className:`glass-panel p-4 mb-4 rounded-lg shadow-lg border transition-all duration-300 ${e?"border-seastar-pink bg-seastar-800/90":"border-seastar-700"}`,children:[L.jsxs("div",{className:"flex items-center justify-between mb-3 border-b border-seastar-700 pb-2",children:[L.jsx("h4",{className:`font-bold uppercase text-sm tracking-wider flex items-center gap-2 ${e?"text-seastar-pink":"text-seastar-cyan"}`,children:e?"CABLE TYPE DETAIL":"CABLE TYPE SEARCH"}),L.jsxs("div",{className:"flex gap-2",children:[e&&L.jsxs("button",{onClick:()=>n(null),className:"bg-seastar-700 hover:bg-gray-600 text-white px-3 py-1 rounded text-xs flex items-center gap-1",children:[L.jsx(AH,{size:12})," LIST"]}),L.jsxs("button",{className:"bg-seastar-cyan hover:bg-cyan-400 text-seastar-900 font-bold px-4 py-1 rounded text-xs flex items-center gap-1",children:[e?L.jsx(v2,{size:12}):L.jsx(g2,{size:12})," ",e?"SAVE":"SEARCH"]})]})]}),L.jsxs("div",{className:"grid grid-cols-12 gap-4 text-xs",children:[L.jsxs("div",{className:"col-span-4 flex items-center gap-2",children:[L.jsx("label",{className:"w-16 text-gray-400 font-mono",children:"CODE"}),L.jsx("input",{type:"text",value:u("TYPE_CODE"),onChange:h=>l("TYPE_CODE",h.target.value),className:`flex-1 border rounded px-2 py-1 outline-none ${e?"bg-seastar-900 border-seastar-pink text-seastar-pink font-bold":"bg-seastar-800 border-seastar-600 text-white"}`})]}),L.jsxs("div",{className:"col-span-4 flex items-center gap-2",children:[L.jsx("label",{className:"w-16 text-gray-400 font-mono",children:"ABBR"}),L.jsx("input",{type:"text",value:u("TYPE_ABBR"),readOnly:!e,className:"flex-1 bg-seastar-800 border border-seastar-600 rounded px-2 py-1 text-white"})]}),L.jsxs("div",{className:"col-span-2 flex items-center gap-2",children:[L.jsx("label",{className:"w-16 text-gray-400 font-mono",children:"WEIGHT"}),L.jsx("input",{type:"number",value:u("TYPE_WEIGHT"),readOnly:!e,className:"w-full bg-seastar-800 border border-seastar-600 rounded px-2 py-1 text-white text-right"})]}),L.jsxs("div",{className:"col-span-2 flex items-center gap-2",children:[L.jsx("label",{className:"w-16 text-gray-400 font-mono",children:"OUT DIA"}),L.jsx("input",{type:"number",value:u("OUT_DIA"),readOnly:!e,className:"w-full bg-seastar-800 border border-seastar-600 rounded px-2 py-1 text-white text-right"})]}),L.jsxs("div",{className:"col-span-4 flex items-center gap-2",children:[L.jsx("label",{className:"w-16 text-gray-400 font-mono",children:"PROD NAME"}),L.jsx("input",{type:"text",value:u("TYPE_SPEC"),readOnly:!e,className:"flex-1 bg-seastar-800 border border-seastar-600 rounded px-2 py-1 text-white"})]}),L.jsx("div",{className:"col-span-4"})," ",L.jsxs("div",{className:"col-span-2 flex items-center gap-2",children:[L.jsx("label",{className:"w-16 text-gray-400 font-mono",children:"AREA"}),L.jsx("input",{type:"number",value:u("TYPE_AREA"),readOnly:!e,className:"w-full bg-seastar-800 border border-seastar-600 rounded px-2 py-1 text-white text-right"})]}),L.jsxs("div",{className:"col-span-2 flex items-center gap-2",children:[L.jsx("label",{className:"w-16 text-gray-400 font-mono",children:"STD DRUM"}),L.jsx("input",{type:"number",value:u("DRUM_LEN"),readOnly:!e,className:"w-full bg-seastar-800 border border-seastar-600 rounded px-2 py-1 text-white text-right"})]}),L.jsx("div",{className:"col-span-8"}),L.jsxs("div",{className:"col-span-2 flex items-center gap-2",children:[L.jsx("label",{className:"w-16 text-gray-400 font-mono",children:"BIND GRP"}),L.jsx("input",{type:"text",value:u("BIND_GROUP"),readOnly:!e,className:"w-full bg-seastar-800 border border-seastar-600 rounded px-2 py-1 text-white text-center"})]}),L.jsxs("div",{className:"col-span-2 flex items-center gap-2",children:[L.jsx("label",{className:"w-16 text-gray-400 font-mono",children:"INS BLK"}),L.jsx("input",{type:"text",value:u("INSERT_BLOCK"),readOnly:!e,className:"w-full bg-seastar-800 border border-seastar-600 rounded px-2 py-1 text-white text-center"})]})]})]}),L.jsx("div",{className:"flex-1 overflow-auto rounded-lg border border-seastar-700 bg-seastar-800 shadow-inner custom-scrollbar",children:L.jsxs("table",{className:"w-full text-left border-collapse min-w-[1000px]",children:[L.jsx("thead",{className:"bg-gray-300 text-seastar-900 sticky top-0 z-10 shadow-md",children:L.jsx("tr",{children:f.map(h=>L.jsx("th",{className:"p-2 text-[10px] font-bold border-r border-gray-400 uppercase whitespace-nowrap",children:h.replace(/_/g," ")},h))})}),L.jsx("tbody",{className:"divide-y divide-seastar-700",children:a.map((h,p)=>L.jsx("tr",{onClick:()=>s(h),className:`hover:bg-seastar-700/50 transition-colors cursor-pointer text-xs ${e===h?"bg-seastar-700 border-l-4 border-seastar-pink":"odd:bg-seastar-800 even:bg-seastar-800/80 text-gray-300"}`,children:f.map(m=>L.jsx("td",{className:"p-2 border-r border-seastar-700 whitespace-nowrap",children:String(h[m]??"")},`${p}-${m}`))},p))})]})}),L.jsxs("div",{className:"bg-seastar-900 text-gray-500 text-[10px] p-2 border-t border-seastar-700 flex justify-between",children:[L.jsxs("span",{children:["Total Records: ",t.length]}),L.jsxs("span",{children:["Filtered: ",a.length]})]})]})},JK=({nodes:t,onUpdateNodes:e,triggerImport:n,onExport:r})=>{const[i,a]=P.useState([]),[s,l]=P.useState("ALL"),[u,f]=P.useState(null),[h,p]=P.useState(null);P.useEffect(()=>{a(t)},[t]);const m=P.useMemo(()=>["ALL",...Array.from(new Set(t.map(C=>C.deck).filter(Boolean))).sort()],[t]),g=(A,C)=>{f(A),p({...C})},_=A=>{if(h){const C=[...i];C[A]=h,a(C),e(C),f(null),p(null)}},x=(A,C)=>{h&&p({...h,[A]:C})},y=()=>{const A={name:"NEW",relation:"",linkLength:0,deck:"PR",x:0,y:0,z:0},C=[A,...i];a(C),e(C),f(0),p(A)},E=A=>{if(confirm("Delete this node?")){const C=i.filter((R,F)=>F!==A);a(C),e(C)}},w=i.filter(A=>s==="ALL"?!0:A.deck===s),b=({icon:A,label:C,onClick:R,color:F="text-gray-200"})=>L.jsx("button",{onClick:R,className:"flex flex-col items-center justify-center px-2 py-1 hover:bg-[#334155] rounded transition-colors group",title:C,children:L.jsx(A,{size:18,className:`${F} group-hover:scale-110 transition-transform`})}),M=()=>L.jsx("div",{className:"w-px h-6 bg-gray-600 mx-1"});return L.jsxs("div",{className:"flex flex-col h-full bg-[#e2e8f0]",children:[L.jsxs("div",{className:"h-9 bg-[#f1f5f9] border-b border-gray-300 flex items-center px-1 shadow-sm select-none",children:[L.jsx(b,{icon:AI,label:"Add Row",onClick:y,color:"text-yellow-600"}),L.jsx(b,{icon:MI,label:"Open Excel",onClick:n,color:"text-yellow-600"}),L.jsx(b,{icon:v2,label:"Save",color:"text-blue-600"}),L.jsx(M,{}),L.jsx(b,{icon:g2,label:"Search",color:"text-gray-600"}),L.jsx(M,{}),L.jsx(b,{icon:ix,label:"Export",onClick:r,color:"text-green-600"})]}),L.jsxs("div",{className:"bg-[#f8fafc] border-b border-gray-300 p-2 flex items-center gap-4",children:[L.jsxs("div",{className:"flex items-center gap-2 border border-gray-300 rounded px-2 py-1 bg-white",children:[L.jsx("span",{className:"text-[10px] text-gray-600 font-bold",children:"Deck Name"}),L.jsx("select",{className:"bg-transparent text-xs text-gray-800 outline-none w-24",value:s,onChange:A=>l(A.target.value),children:m.map(A=>L.jsx("option",{value:A,children:A},A))}),L.jsx("button",{className:"bg-blue-600 text-white px-2 py-0.5 text-[10px] rounded hover:bg-blue-500",children:"SEARCH"})]}),L.jsxs("div",{className:"text-[10px] text-gray-500",children:["Total Nodes: ",L.jsx("span",{className:"font-bold text-black",children:w.length})]})]}),L.jsx("div",{className:"flex-1 overflow-auto bg-white custom-scrollbar",children:L.jsxs("table",{className:"w-full text-left border-collapse min-w-max",children:[L.jsx("thead",{className:"bg-[#e2e8f0] text-gray-700 sticky top-0 z-10 shadow-sm border-b border-gray-300",children:L.jsx("tr",{children:["NODE_RNAME","STRUCTURE","COMPONENT","NODE_TYPE","RELATION","LINK_LENGTH","AREA_SIZE","MAX_CABLE","POINT","ACTION"].map(A=>L.jsx("th",{className:"p-2 text-[10px] font-bold border-r border-gray-300 uppercase whitespace-nowrap",children:A.replace("_"," ")},A))})}),L.jsx("tbody",{className:"divide-y divide-gray-200",children:w.map((A,C)=>{const R=u===C;return L.jsxs("tr",{className:`text-xs ${R?"bg-yellow-50":"odd:bg-white even:bg-[#f8fafc] text-gray-800"} hover:bg-blue-50`,children:[L.jsx("td",{className:"p-1 border-r border-gray-200",children:R?L.jsx("input",{className:"w-full border border-blue-400 p-1 rounded",value:h==null?void 0:h.name,onChange:F=>x("name",F.target.value)}):L.jsx("span",{className:"font-bold",children:A.name})}),L.jsx("td",{className:"p-1 border-r border-gray-200",children:R?L.jsx("input",{className:"w-full border border-blue-400 p-1 rounded",value:h==null?void 0:h.deck,onChange:F=>x("deck",F.target.value)}):A.deck||A.STRUCTURE_NAME||""}),L.jsx("td",{className:"p-1 border-r border-gray-200 text-gray-500",children:A.COMPONENT||"Tray"}),L.jsx("td",{className:"p-1 border-r border-gray-200 text-gray-500",children:A.NODE_TYPE||"Tray"}),L.jsx("td",{className:"p-1 border-r border-gray-200 max-w-xs truncate",title:A.relation,children:R?L.jsx("input",{className:"w-full border border-blue-400 p-1 rounded",value:h==null?void 0:h.relation,onChange:F=>x("relation",F.target.value)}):A.relation}),L.jsx("td",{className:"p-1 border-r border-gray-200",children:R?L.jsx("input",{type:"number",className:"w-full border border-blue-400 p-1 rounded",value:h==null?void 0:h.linkLength,onChange:F=>x("linkLength",parseFloat(F.target.value))}):A.linkLength}),L.jsx("td",{className:"p-1 border-r border-gray-200 text-right",children:A.AREA_SIZE||7e4}),L.jsx("td",{className:"p-1 border-r border-gray-200 text-right",children:A.MAX_CABLE||100}),L.jsx("td",{className:"p-1 border-r border-gray-200 text-[9px] font-mono text-gray-500",children:A.POINT?A.POINT:`S: 0,0,0 E: ${A.linkLength},0,0`}),L.jsx("td",{className:"p-1 text-center",children:R?L.jsxs("div",{className:"flex justify-center gap-1",children:[L.jsx("button",{onClick:()=>_(C),className:"text-green-600",children:L.jsx(Zj,{size:14})}),L.jsx("button",{onClick:()=>f(null),className:"text-red-600",children:L.jsx(Xv,{size:14})})]}):L.jsxs("div",{className:"flex justify-center gap-1 opacity-50 hover:opacity-100",children:[L.jsx("button",{onClick:()=>g(C,A),className:"text-blue-600",children:L.jsx(yH,{size:14})}),L.jsx("button",{onClick:()=>E(C),className:"text-red-600",children:L.jsx(CI,{size:14})})]})})]},C)})})]})})]})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var tg={};tg.version="0.18.5";var gF=1252,QK=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],F2={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},U2=function(t){QK.indexOf(t)!=-1&&(gF=F2[0]=t)};function e$(){U2(1252)}var bs=function(t){U2(t)};function B2(){bs(1200),e$()}function gP(t){for(var e=[],n=0,r=t.length;n<r;++n)e[n]=t.charCodeAt(n);return e}function t$(t){for(var e=[],n=0;n<t.length>>1;++n)e[n]=String.fromCharCode(t.charCodeAt(2*n)+(t.charCodeAt(2*n+1)<<8));return e.join("")}function xF(t){for(var e=[],n=0;n<t.length>>1;++n)e[n]=String.fromCharCode(t.charCodeAt(2*n+1)+(t.charCodeAt(2*n)<<8));return e.join("")}var W0=function(t){var e=t.charCodeAt(0),n=t.charCodeAt(1);return e==255&&n==254?t$(t.slice(2)):e==254&&n==255?xF(t.slice(2)):e==65279?t.slice(1):t},rv=function(e){return String.fromCharCode(e)},xP=function(e){return String.fromCharCode(e)},fd,Zl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function hd(t){for(var e="",n=0,r=0,i=0,a=0,s=0,l=0,u=0,f=0;f<t.length;)n=t.charCodeAt(f++),a=n>>2,r=t.charCodeAt(f++),s=(n&3)<<4|r>>4,i=t.charCodeAt(f++),l=(r&15)<<2|i>>6,u=i&63,isNaN(r)?l=u=64:isNaN(i)&&(u=64),e+=Zl.charAt(a)+Zl.charAt(s)+Zl.charAt(l)+Zl.charAt(u);return e}function Pa(t){var e="",n=0,r=0,i=0,a=0,s=0,l=0,u=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var f=0;f<t.length;)a=Zl.indexOf(t.charAt(f++)),s=Zl.indexOf(t.charAt(f++)),n=a<<2|s>>4,e+=String.fromCharCode(n),l=Zl.indexOf(t.charAt(f++)),r=(s&15)<<4|l>>2,l!==64&&(e+=String.fromCharCode(r)),u=Zl.indexOf(t.charAt(f++)),i=(l&3)<<6|u,u!==64&&(e+=String.fromCharCode(i));return e}var tn=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),rl=(function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,n){return n?new Buffer(e,n):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function rc(t){return tn?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function _P(t){return tn?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var wa=function(e){return tn?rl(e,"binary"):e.split("").map(function(n){return n.charCodeAt(0)&255})};function ux(t){if(typeof ArrayBuffer>"u")return wa(t);for(var e=new ArrayBuffer(t.length),n=new Uint8Array(e),r=0;r!=t.length;++r)n[r]=t.charCodeAt(r)&255;return e}function fc(t){if(Array.isArray(t))return t.map(function(r){return String.fromCharCode(r)}).join("");for(var e=[],n=0;n<t.length;++n)e[n]=String.fromCharCode(t[n]);return e.join("")}function n$(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}function z2(t){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(t instanceof ArrayBuffer)return z2(new Uint8Array(t));for(var e=new Array(t.length),n=0;n<t.length;++n)e[n]=t[n];return e}var ri=tn?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:rl(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,n=0;for(e=0;e<t.length;++e)n+=t[e].length;var r=new Uint8Array(n),i=0;for(e=0,n=0;e<t.length;n+=i,++e)if(i=t[e].length,t[e]instanceof Uint8Array)r.set(t[e],n);else{if(typeof t[e]=="string")throw"wtf";r.set(new Uint8Array(t[e]),n)}return r}return[].concat.apply([],t.map(function(a){return Array.isArray(a)?a:[].slice.call(a)}))};function r$(t){for(var e=[],n=0,r=t.length+250,i=rc(t.length+255),a=0;a<t.length;++a){var s=t.charCodeAt(a);if(s<128)i[n++]=s;else if(s<2048)i[n++]=192|s>>6&31,i[n++]=128|s&63;else if(s>=55296&&s<57344){s=(s&1023)+64;var l=t.charCodeAt(++a)&1023;i[n++]=240|s>>8&7,i[n++]=128|s>>2&63,i[n++]=128|l>>6&15|(s&3)<<4,i[n++]=128|l&63}else i[n++]=224|s>>12&15,i[n++]=128|s>>6&63,i[n++]=128|s&63;n>r&&(e.push(i.slice(0,n)),n=0,i=rc(65535),r=65530)}return e.push(i.slice(0,n)),ri(e)}var qi=/\u0000/g,Y0=/[\u0001-\u0006]/g;function $f(t){for(var e="",n=t.length-1;n>=0;)e+=t.charAt(n--);return e}function Ts(t,e){var n=""+t;return n.length>=e?n:pr("0",e-n.length)+n}function j2(t,e){var n=""+t;return n.length>=e?n:pr(" ",e-n.length)+n}function ng(t,e){var n=""+t;return n.length>=e?n:n+pr(" ",e-n.length)}function i$(t,e){var n=""+Math.round(t);return n.length>=e?n:pr("0",e-n.length)+n}function a$(t,e){var n=""+t;return n.length>=e?n:pr("0",e-n.length)+n}var yP=Math.pow(2,32);function kf(t,e){if(t>yP||t<-yP)return i$(t,e);var n=Math.round(t);return a$(n,e)}function rg(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var EP=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],sE=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function s$(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var jt={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},SP={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},o$={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function ig(t,e,n){for(var r=t<0?-1:1,i=t*r,a=0,s=1,l=0,u=1,f=0,h=0,p=Math.floor(i);f<e&&(p=Math.floor(i),l=p*s+a,h=p*f+u,!(i-p<5e-8));)i=1/(i-p),a=s,s=l,u=f,f=h;if(h>e&&(f>e?(h=u,l=a):(h=f,l=s)),!n)return[0,r*l,h];var m=Math.floor(r*l/h);return[m,r*l-m*h,h]}function Xc(t,e,n){if(t>2958465||t<0)return null;var r=t|0,i=Math.floor(86400*(t-r)),a=0,s=[],l={D:r,T:i,u:86400*(t-r)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),e&&e.date1904&&(r+=1462),l.u>.9999&&(l.u=0,++i==86400&&(l.T=i=0,++r,++l.D)),r===60)s=n?[1317,10,29]:[1900,2,29],a=3;else if(r===0)s=n?[1317,8,29]:[1900,1,0],a=6;else{r>60&&--r;var u=new Date(1900,0,1);u.setDate(u.getDate()+r-1),s=[u.getFullYear(),u.getMonth()+1,u.getDate()],a=u.getDay(),r<60&&(a=(a+6)%7),n&&(a=d$(u,s))}return l.y=s[0],l.m=s[1],l.d=s[2],l.S=i%60,i=Math.floor(i/60),l.M=i%60,i=Math.floor(i/60),l.H=i,l.q=a,l}var _F=new Date(1899,11,31,0,0,0),l$=_F.getTime(),c$=new Date(1900,2,1,0,0,0);function yF(t,e){var n=t.getTime();return e?n-=1461*24*60*60*1e3:t>=c$&&(n+=1440*60*1e3),(n-(l$+(t.getTimezoneOffset()-_F.getTimezoneOffset())*6e4))/(1440*60*1e3)}function H2(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function u$(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function f$(t){var e=t<0?12:11,n=H2(t.toFixed(12));return n.length<=e||(n=t.toPrecision(10),n.length<=e)?n:t.toExponential(5)}function h$(t){var e=H2(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function dd(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),n;return e>=-4&&e<=-1?n=t.toPrecision(10+e):Math.abs(e)<=9?n=f$(t):e===10?n=t.toFixed(10).substr(0,12):n=h$(t),H2(u$(n.toUpperCase()))}function lu(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):dd(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return as(14,yF(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function d$(t,e){e[0]-=581;var n=t.getDay();return t<60&&(n=(n+6)%7),n}function p$(t,e,n,r){var i="",a=0,s=0,l=n.y,u,f=0;switch(t){case 98:l=n.y+543;case 121:switch(e.length){case 1:case 2:u=l%100,f=2;break;default:u=l%1e4,f=4;break}break;case 109:switch(e.length){case 1:case 2:u=n.m,f=e.length;break;case 3:return sE[n.m-1][1];case 5:return sE[n.m-1][0];default:return sE[n.m-1][2]}break;case 100:switch(e.length){case 1:case 2:u=n.d,f=e.length;break;case 3:return EP[n.q][0];default:return EP[n.q][1]}break;case 104:switch(e.length){case 1:case 2:u=1+(n.H+11)%12,f=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:u=n.H,f=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:u=n.M,f=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return n.u===0&&(e=="s"||e=="ss")?Ts(n.S,e.length):(r>=2?s=r===3?1e3:100:s=r===1?10:1,a=Math.round(s*(n.S+n.u)),a>=60*s&&(a=0),e==="s"?a===0?"0":""+a/s:(i=Ts(a,2+r),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":u=n.D*24+n.H;break;case"[m]":case"[mm]":u=(n.D*24+n.H)*60+n.M;break;case"[s]":case"[ss]":u=((n.D*24+n.H)*60+n.M)*60+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+e}f=e.length===3?1:2;break;case 101:u=l,f=1;break}var h=f>0?Ts(u,f):"";return h}function Jl(t){var e=3;if(t.length<=e)return t;for(var n=t.length%e,r=t.substr(0,n);n!=t.length;n+=e)r+=(r.length>0?",":"")+t.substr(n,e);return r}var EF=/%/g;function m$(t,e,n){var r=e.replace(EF,""),i=e.length-r.length;return Ho(t,r,n*Math.pow(10,2*i))+pr("%",i)}function v$(t,e,n){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return Ho(t,e.substr(0,r),n/Math.pow(10,3*(e.length-r)))}function SF(t,e){var n,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+SF(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var a=Math.floor(Math.log(e)*Math.LOG10E)%i;if(a<0&&(a+=i),n=(e/Math.pow(10,a)).toPrecision(r+1+(i+a)%i),n.indexOf("e")===-1){var s=Math.floor(Math.log(e)*Math.LOG10E);for(n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(s-n.length+a):n+="E+"+(s-a);n.substr(0,2)==="0.";)n=n.charAt(0)+n.substr(2,i)+"."+n.substr(2+i),n=n.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,u,f,h){return u+f+h.substr(0,(i+a)%i)+"."+h.substr(a)+"E"})}else n=e.toExponential(r);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var bF=/# (\?+)( ?)\/( ?)(\d+)/;function g$(t,e,n){var r=parseInt(t[4],10),i=Math.round(e*r),a=Math.floor(i/r),s=i-a*r,l=r;return n+(a===0?"":""+a)+" "+(s===0?pr(" ",t[1].length+1+t[4].length):j2(s,t[1].length)+t[2]+"/"+t[3]+Ts(l,t[4].length))}function x$(t,e,n){return n+(e===0?"":""+e)+pr(" ",t[1].length+2+t[4].length)}var TF=/^#*0*\.([0#]+)/,wF=/\).*[0#]/,AF=/\(###\) ###\\?-####/;function Vi(t){for(var e="",n,r=0;r!=t.length;++r)switch(n=t.charCodeAt(r)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(n)}return e}function bP(t,e){var n=Math.pow(10,e);return""+Math.round(t*n)/n}function TP(t,e){var n=t-Math.floor(t),r=Math.pow(10,e);return e<(""+Math.round(n*r)).length?0:Math.round(n*r)}function _$(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function y$(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function Xa(t,e,n){if(t.charCodeAt(0)===40&&!e.match(wF)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?Xa("n",r,n):"("+Xa("n",r,-n)+")"}if(e.charCodeAt(e.length-1)===44)return v$(t,e,n);if(e.indexOf("%")!==-1)return m$(t,e,n);if(e.indexOf("E")!==-1)return SF(e,n);if(e.charCodeAt(0)===36)return"$"+Xa(t,e.substr(e.charAt(1)==" "?2:1),n);var i,a,s,l,u=Math.abs(n),f=n<0?"-":"";if(e.match(/^00+$/))return f+kf(u,e.length);if(e.match(/^[#?]+$/))return i=kf(n,0),i==="0"&&(i=""),i.length>e.length?i:Vi(e.substr(0,e.length-i.length))+i;if(a=e.match(bF))return g$(a,u,f);if(e.match(/^#+0+$/))return f+kf(u,e.length-e.indexOf("0"));if(a=e.match(TF))return i=bP(n,a[1].length).replace(/^([^\.]+)$/,"$1."+Vi(a[1])).replace(/\.$/,"."+Vi(a[1])).replace(/\.(\d*)$/,function(_,x){return"."+x+pr("0",Vi(a[1]).length-x.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),a=e.match(/^(0*)\.(#*)$/))return f+bP(u,a[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=e.match(/^#{1,3},##0(\.?)$/))return f+Jl(kf(u,0));if(a=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+Xa(t,e,-n):Jl(""+(Math.floor(n)+_$(n,a[1].length)))+"."+Ts(TP(n,a[1].length),a[1].length);if(a=e.match(/^#,#*,#0/))return Xa(t,e.replace(/^#,#*,/,""),n);if(a=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=$f(Xa(t,e.replace(/[\\-]/g,""),n)),s=0,$f($f(e.replace(/\\/g,"")).replace(/[0#]/g,function(_){return s<i.length?i.charAt(s++):_==="0"?"0":""}));if(e.match(AF))return i=Xa(t,"##########",n),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var h="";if(a=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(a[4].length,7),l=ig(u,Math.pow(10,s)-1,!1),i=""+f,h=Ho("n",a[1],l[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),i+=h+a[2]+"/"+a[3],h=ng(l[2],s),h.length<a[4].length&&(h=Vi(a[4].substr(a[4].length-h.length))+h),i+=h,i;if(a=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(a[1].length,a[4].length),7),l=ig(u,Math.pow(10,s)-1,!0),f+(l[0]||(l[1]?"":"0"))+" "+(l[1]?j2(l[1],s)+a[2]+"/"+a[3]+ng(l[2],s):pr(" ",2*s+1+a[2].length+a[3].length));if(a=e.match(/^[#0?]+$/))return i=kf(n,0),e.length<=i.length?i:Vi(e.substr(0,e.length-i.length))+i;if(a=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),s=i.indexOf(".");var p=e.indexOf(".")-s,m=e.length-i.length-p;return Vi(e.substr(0,p)+i+e.substr(e.length-m))}if(a=e.match(/^00,000\.([#0]*0)$/))return s=TP(n,a[1].length),n<0?"-"+Xa(t,e,-n):Jl(y$(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(_){return"00,"+(_.length<3?Ts(0,3-_.length):"")+_})+"."+Ts(s,a[1].length);switch(e){case"###,##0.00":return Xa(t,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var g=Jl(kf(u,0));return g!=="0"?f+g:"";case"###,###.00":return Xa(t,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return Xa(t,"#,##0.00",n).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function E$(t,e,n){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return Ho(t,e.substr(0,r),n/Math.pow(10,3*(e.length-r)))}function S$(t,e,n){var r=e.replace(EF,""),i=e.length-r.length;return Ho(t,r,n*Math.pow(10,2*i))+pr("%",i)}function MF(t,e){var n,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+MF(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var a=Math.floor(Math.log(e)*Math.LOG10E)%i;if(a<0&&(a+=i),n=(e/Math.pow(10,a)).toPrecision(r+1+(i+a)%i),!n.match(/[Ee]/)){var s=Math.floor(Math.log(e)*Math.LOG10E);n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(s-n.length+a):n+="E+"+(s-a),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,u,f,h){return u+f+h.substr(0,(i+a)%i)+"."+h.substr(a)+"E"})}else n=e.toExponential(r);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function Bs(t,e,n){if(t.charCodeAt(0)===40&&!e.match(wF)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?Bs("n",r,n):"("+Bs("n",r,-n)+")"}if(e.charCodeAt(e.length-1)===44)return E$(t,e,n);if(e.indexOf("%")!==-1)return S$(t,e,n);if(e.indexOf("E")!==-1)return MF(e,n);if(e.charCodeAt(0)===36)return"$"+Bs(t,e.substr(e.charAt(1)==" "?2:1),n);var i,a,s,l,u=Math.abs(n),f=n<0?"-":"";if(e.match(/^00+$/))return f+Ts(u,e.length);if(e.match(/^[#?]+$/))return i=""+n,n===0&&(i=""),i.length>e.length?i:Vi(e.substr(0,e.length-i.length))+i;if(a=e.match(bF))return x$(a,u,f);if(e.match(/^#+0+$/))return f+Ts(u,e.length-e.indexOf("0"));if(a=e.match(TF))return i=(""+n).replace(/^([^\.]+)$/,"$1."+Vi(a[1])).replace(/\.$/,"."+Vi(a[1])),i=i.replace(/\.(\d*)$/,function(_,x){return"."+x+pr("0",Vi(a[1]).length-x.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),a=e.match(/^(0*)\.(#*)$/))return f+(""+u).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=e.match(/^#{1,3},##0(\.?)$/))return f+Jl(""+u);if(a=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+Bs(t,e,-n):Jl(""+n)+"."+pr("0",a[1].length);if(a=e.match(/^#,#*,#0/))return Bs(t,e.replace(/^#,#*,/,""),n);if(a=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=$f(Bs(t,e.replace(/[\\-]/g,""),n)),s=0,$f($f(e.replace(/\\/g,"")).replace(/[0#]/g,function(_){return s<i.length?i.charAt(s++):_==="0"?"0":""}));if(e.match(AF))return i=Bs(t,"##########",n),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var h="";if(a=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(a[4].length,7),l=ig(u,Math.pow(10,s)-1,!1),i=""+f,h=Ho("n",a[1],l[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),i+=h+a[2]+"/"+a[3],h=ng(l[2],s),h.length<a[4].length&&(h=Vi(a[4].substr(a[4].length-h.length))+h),i+=h,i;if(a=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(a[1].length,a[4].length),7),l=ig(u,Math.pow(10,s)-1,!0),f+(l[0]||(l[1]?"":"0"))+" "+(l[1]?j2(l[1],s)+a[2]+"/"+a[3]+ng(l[2],s):pr(" ",2*s+1+a[2].length+a[3].length));if(a=e.match(/^[#0?]+$/))return i=""+n,e.length<=i.length?i:Vi(e.substr(0,e.length-i.length))+i;if(a=e.match(/^([#0]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),s=i.indexOf(".");var p=e.indexOf(".")-s,m=e.length-i.length-p;return Vi(e.substr(0,p)+i+e.substr(e.length-m))}if(a=e.match(/^00,000\.([#0]*0)$/))return n<0?"-"+Bs(t,e,-n):Jl(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(_){return"00,"+(_.length<3?Ts(0,3-_.length):"")+_})+"."+Ts(0,a[1].length);switch(e){case"###,###":case"##,###":case"#,###":var g=Jl(""+u);return g!=="0"?f+g:"";default:if(e.match(/\.[0#?]*$/))return Bs(t,e.slice(0,e.lastIndexOf(".")),n)+Vi(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function Ho(t,e,n){return(n|0)===n?Bs(t,e,n):Xa(t,e,n)}function b$(t){for(var e=[],n=!1,r=0,i=0;r<t.length;++r)switch(t.charCodeAt(r)){case 34:n=!n;break;case 95:case 42:case 92:++r;break;case 59:e[e.length]=t.substr(i,r-i),i=r+1}if(e[e.length]=t.substr(i),n===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var CF=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function yh(t){for(var e=0,n="",r="";e<t.length;)switch(n=t.charAt(e)){case"G":rg(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(r=n;t.charAt(e++)!=="]"&&e<t.length;)r+=t.charAt(e);if(r.match(CF))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(n=t.charAt(++e))>-1||n=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===n;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function T$(t,e,n,r){for(var i=[],a="",s=0,l="",u="t",f,h,p,m="H";s<t.length;)switch(l=t.charAt(s)){case"G":if(!rg(t,s))throw new Error("unrecognized character "+l+" in "+t);i[i.length]={t:"G",v:"General"},s+=7;break;case'"':for(a="";(p=t.charCodeAt(++s))!==34&&s<t.length;)a+=String.fromCharCode(p);i[i.length]={t:"t",v:a},++s;break;case"\\":var g=t.charAt(++s),_=g==="("||g===")"?g:"t";i[i.length]={t:_,v:g},++s;break;case"_":i[i.length]={t:"t",v:" "},s+=2;break;case"@":i[i.length]={t:"T",v:e},++s;break;case"B":case"b":if(t.charAt(s+1)==="1"||t.charAt(s+1)==="2"){if(f==null&&(f=Xc(e,n,t.charAt(s+1)==="2"),f==null))return"";i[i.length]={t:"X",v:t.substr(s,2)},u=l,s+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||f==null&&(f=Xc(e,n),f==null))return"";for(a=l;++s<t.length&&t.charAt(s).toLowerCase()===l;)a+=l;l==="m"&&u.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=m),i[i.length]={t:l,v:a},u=l;break;case"A":case"a":case"":var x={t:l,v:l};if(f==null&&(f=Xc(e,n)),t.substr(s,3).toUpperCase()==="A/P"?(f!=null&&(x.v=f.H>=12?"P":"A"),x.t="T",m="h",s+=3):t.substr(s,5).toUpperCase()==="AM/PM"?(f!=null&&(x.v=f.H>=12?"PM":"AM"),x.t="T",s+=5,m="h"):t.substr(s,5).toUpperCase()==="/"?(f!=null&&(x.v=f.H>=12?"":""),x.t="T",s+=5,m="h"):(x.t="t",++s),f==null&&x.t==="T")return"";i[i.length]=x,u=l;break;case"[":for(a=l;t.charAt(s++)!=="]"&&s<t.length;)a+=t.charAt(s);if(a.slice(-1)!=="]")throw'unterminated "[" block: |'+a+"|";if(a.match(CF)){if(f==null&&(f=Xc(e,n),f==null))return"";i[i.length]={t:"Z",v:a.toLowerCase()},u=a.charAt(1)}else a.indexOf("$")>-1&&(a=(a.match(/\$([^-\[\]]*)/)||[])[1]||"$",yh(t)||(i[i.length]={t:"t",v:a}));break;case".":if(f!=null){for(a=l;++s<t.length&&(l=t.charAt(s))==="0";)a+=l;i[i.length]={t:"s",v:a};break}case"0":case"#":for(a=l;++s<t.length&&"0#?.,E+-%".indexOf(l=t.charAt(s))>-1;)a+=l;i[i.length]={t:"n",v:a};break;case"?":for(a=l;t.charAt(++s)===l;)a+=l;i[i.length]={t:l,v:a},u=l;break;case"*":++s,(t.charAt(s)==" "||t.charAt(s)=="*")&&++s;break;case"(":case")":i[i.length]={t:r===1?"t":l,v:l},++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(a=l;s<t.length&&"0123456789".indexOf(t.charAt(++s))>-1;)a+=t.charAt(s);i[i.length]={t:"D",v:a};break;case" ":i[i.length]={t:l,v:l},++s;break;case"$":i[i.length]={t:"t",v:"$"},++s;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+t);i[i.length]={t:"t",v:l},++s;break}var y=0,E=0,w;for(s=i.length-1,u="t";s>=0;--s)switch(i[s].t){case"h":case"H":i[s].t=m,u="h",y<1&&(y=1);break;case"s":(w=i[s].v.match(/\.0+$/))&&(E=Math.max(E,w[0].length-1)),y<3&&(y=3);case"d":case"y":case"M":case"e":u=i[s].t;break;case"m":u==="s"&&(i[s].t="M",y<2&&(y=2));break;case"X":break;case"Z":y<1&&i[s].v.match(/[Hh]/)&&(y=1),y<2&&i[s].v.match(/[Mm]/)&&(y=2),y<3&&i[s].v.match(/[Ss]/)&&(y=3)}switch(y){case 0:break;case 1:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M),f.M>=60&&(f.M=0,++f.H);break;case 2:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M);break}var b="",M;for(s=0;s<i.length;++s)switch(i[s].t){case"t":case"T":case" ":case"D":break;case"X":i[s].v="",i[s].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[s].v=p$(i[s].t.charCodeAt(0),i[s].v,f,E),i[s].t="t";break;case"n":case"?":for(M=s+1;i[M]!=null&&((l=i[M].t)==="?"||l==="D"||(l===" "||l==="t")&&i[M+1]!=null&&(i[M+1].t==="?"||i[M+1].t==="t"&&i[M+1].v==="/")||i[s].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(i[M].v==="/"||i[M].v===" "&&i[M+1]!=null&&i[M+1].t=="?"));)i[s].v+=i[M].v,i[M]={v:"",t:";"},++M;b+=i[s].v,s=M-1;break;case"G":i[s].t="t",i[s].v=lu(e,n);break}var A="",C,R;if(b.length>0){b.charCodeAt(0)==40?(C=e<0&&b.charCodeAt(0)===45?-e:e,R=Ho("n",b,C)):(C=e<0&&r>1?-e:e,R=Ho("n",b,C),C<0&&i[0]&&i[0].t=="t"&&(R=R.substr(1),i[0].v="-"+i[0].v)),M=R.length-1;var F=i.length;for(s=0;s<i.length;++s)if(i[s]!=null&&i[s].t!="t"&&i[s].v.indexOf(".")>-1){F=s;break}var O=i.length;if(F===i.length&&R.indexOf("E")===-1){for(s=i.length-1;s>=0;--s)i[s]==null||"n?".indexOf(i[s].t)===-1||(M>=i[s].v.length-1?(M-=i[s].v.length,i[s].v=R.substr(M+1,i[s].v.length)):M<0?i[s].v="":(i[s].v=R.substr(0,M+1),M=-1),i[s].t="t",O=s);M>=0&&O<i.length&&(i[O].v=R.substr(0,M+1)+i[O].v)}else if(F!==i.length&&R.indexOf("E")===-1){for(M=R.indexOf(".")-1,s=F;s>=0;--s)if(!(i[s]==null||"n?".indexOf(i[s].t)===-1)){for(h=i[s].v.indexOf(".")>-1&&s===F?i[s].v.indexOf(".")-1:i[s].v.length-1,A=i[s].v.substr(h+1);h>=0;--h)M>=0&&(i[s].v.charAt(h)==="0"||i[s].v.charAt(h)==="#")&&(A=R.charAt(M--)+A);i[s].v=A,i[s].t="t",O=s}for(M>=0&&O<i.length&&(i[O].v=R.substr(0,M+1)+i[O].v),M=R.indexOf(".")+1,s=F;s<i.length;++s)if(!(i[s]==null||"n?(".indexOf(i[s].t)===-1&&s!==F)){for(h=i[s].v.indexOf(".")>-1&&s===F?i[s].v.indexOf(".")+1:0,A=i[s].v.substr(0,h);h<i[s].v.length;++h)M<R.length&&(A+=R.charAt(M++));i[s].v=A,i[s].t="t",O=s}}}for(s=0;s<i.length;++s)i[s]!=null&&"n?".indexOf(i[s].t)>-1&&(C=r>1&&e<0&&s>0&&i[s-1].v==="-"?-e:e,i[s].v=Ho(i[s].t,i[s].v,C),i[s].t="t");var k="";for(s=0;s!==i.length;++s)i[s]!=null&&(k+=i[s].v);return k}var wP=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function AP(t,e){if(e==null)return!1;var n=parseFloat(e[2]);switch(e[1]){case"=":if(t==n)return!0;break;case">":if(t>n)return!0;break;case"<":if(t<n)return!0;break;case"<>":if(t!=n)return!0;break;case">=":if(t>=n)return!0;break;case"<=":if(t<=n)return!0;break}return!1}function w$(t,e){var n=b$(t),r=n.length,i=n[r-1].indexOf("@");if(r<4&&i>-1&&--r,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if(typeof e!="number")return[4,n.length===4||i>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=i>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=i>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=i>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"];break}var a=e>0?n[0]:e<0?n[1]:n[2];if(n[0].indexOf("[")===-1&&n[1].indexOf("[")===-1)return[r,a];if(n[0].match(/\[[=<>]/)!=null||n[1].match(/\[[=<>]/)!=null){var s=n[0].match(wP),l=n[1].match(wP);return AP(e,s)?[r,n[0]]:AP(e,l)?[r,n[1]]:[r,n[s!=null&&l!=null?2:1]]}return[r,a]}function as(t,e,n){n==null&&(n={});var r="";switch(typeof t){case"string":t=="m/d/yy"&&n.dateNF?r=n.dateNF:r=t;break;case"number":t==14&&n.dateNF?r=n.dateNF:r=(n.table!=null?n.table:jt)[t],r==null&&(r=n.table&&n.table[SP[t]]||jt[SP[t]]),r==null&&(r=o$[t]||"General");break}if(rg(r,0))return lu(e,n);e instanceof Date&&(e=yF(e,n.date1904));var i=w$(r,e);if(rg(i[1]))return lu(e,n);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return T$(i[1],e,n,i[0])}function Go(t,e){if(typeof e!="number"){e=+e||-1;for(var n=0;n<392;++n){if(jt[n]==null){e<0&&(e=n);continue}if(jt[n]==t){e=n;break}}e<0&&(e=391)}return jt[e]=t,e}function fx(t){for(var e=0;e!=392;++e)t[e]!==void 0&&Go(t[e],e)}function Eh(){jt=s$()}var A$={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},RF=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function M$(t){var e=typeof t=="number"?jt[t]:t;return e=e.replace(RF,"(\\d+)"),new RegExp("^"+e+"$")}function C$(t,e,n){var r=-1,i=-1,a=-1,s=-1,l=-1,u=-1;(e.match(RF)||[]).forEach(function(p,m){var g=parseInt(n[m+1],10);switch(p.toLowerCase().charAt(0)){case"y":r=g;break;case"d":a=g;break;case"h":s=g;break;case"s":u=g;break;case"m":s>=0?l=g:i=g;break}}),u>=0&&l==-1&&i>=0&&(l=i,i=-1);var f=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(a>=1?a:1)).slice(-2);f.length==7&&(f="0"+f),f.length==8&&(f="20"+f);var h=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(u>=0?u:0)).slice(-2);return s==-1&&l==-1&&u==-1?f:r==-1&&i==-1&&a==-1?h:f+"T"+h}var R$=(function(){var t={};t.version="1.2.0";function e(){for(var R=0,F=new Array(256),O=0;O!=256;++O)R=O,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,F[O]=R;return typeof Int32Array<"u"?new Int32Array(F):F}var n=e();function r(R){var F=0,O=0,k=0,D=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(k=0;k!=256;++k)D[k]=R[k];for(k=0;k!=256;++k)for(O=R[k],F=256+k;F<4096;F+=256)O=D[F]=O>>>8^R[O&255];var U=[];for(k=1;k!=16;++k)U[k-1]=typeof Int32Array<"u"?D.subarray(k*256,k*256+256):D.slice(k*256,k*256+256);return U}var i=r(n),a=i[0],s=i[1],l=i[2],u=i[3],f=i[4],h=i[5],p=i[6],m=i[7],g=i[8],_=i[9],x=i[10],y=i[11],E=i[12],w=i[13],b=i[14];function M(R,F){for(var O=F^-1,k=0,D=R.length;k<D;)O=O>>>8^n[(O^R.charCodeAt(k++))&255];return~O}function A(R,F){for(var O=F^-1,k=R.length-15,D=0;D<k;)O=b[R[D++]^O&255]^w[R[D++]^O>>8&255]^E[R[D++]^O>>16&255]^y[R[D++]^O>>>24]^x[R[D++]]^_[R[D++]]^g[R[D++]]^m[R[D++]]^p[R[D++]]^h[R[D++]]^f[R[D++]]^u[R[D++]]^l[R[D++]]^s[R[D++]]^a[R[D++]]^n[R[D++]];for(k+=15;D<k;)O=O>>>8^n[(O^R[D++])&255];return~O}function C(R,F){for(var O=F^-1,k=0,D=R.length,U=0,Z=0;k<D;)U=R.charCodeAt(k++),U<128?O=O>>>8^n[(O^U)&255]:U<2048?(O=O>>>8^n[(O^(192|U>>6&31))&255],O=O>>>8^n[(O^(128|U&63))&255]):U>=55296&&U<57344?(U=(U&1023)+64,Z=R.charCodeAt(k++)&1023,O=O>>>8^n[(O^(240|U>>8&7))&255],O=O>>>8^n[(O^(128|U>>2&63))&255],O=O>>>8^n[(O^(128|Z>>6&15|(U&3)<<4))&255],O=O>>>8^n[(O^(128|Z&63))&255]):(O=O>>>8^n[(O^(224|U>>12&15))&255],O=O>>>8^n[(O^(128|U>>6&63))&255],O=O>>>8^n[(O^(128|U&63))&255]);return~O}return t.table=n,t.bstr=M,t.buf=A,t.str=C,t})(),It=(function(){var e={};e.version="1.2.1";function n(q,ue){for(var ne=q.split("/"),re=ue.split("/"),le=0,he=0,Ce=Math.min(ne.length,re.length);le<Ce;++le){if(he=ne[le].length-re[le].length)return he;if(ne[le]!=re[le])return ne[le]<re[le]?-1:1}return ne.length-re.length}function r(q){if(q.charAt(q.length-1)=="/")return q.slice(0,-1).indexOf("/")===-1?q:r(q.slice(0,-1));var ue=q.lastIndexOf("/");return ue===-1?q:q.slice(0,ue+1)}function i(q){if(q.charAt(q.length-1)=="/")return i(q.slice(0,-1));var ue=q.lastIndexOf("/");return ue===-1?q:q.slice(ue+1)}function a(q,ue){typeof ue=="string"&&(ue=new Date(ue));var ne=ue.getHours();ne=ne<<6|ue.getMinutes(),ne=ne<<5|ue.getSeconds()>>>1,q.write_shift(2,ne);var re=ue.getFullYear()-1980;re=re<<4|ue.getMonth()+1,re=re<<5|ue.getDate(),q.write_shift(2,re)}function s(q){var ue=q.read_shift(2)&65535,ne=q.read_shift(2)&65535,re=new Date,le=ne&31;ne>>>=5;var he=ne&15;ne>>>=4,re.setMilliseconds(0),re.setFullYear(ne+1980),re.setMonth(he-1),re.setDate(le);var Ce=ue&31;ue>>>=5;var ze=ue&63;return ue>>>=6,re.setHours(ue),re.setMinutes(ze),re.setSeconds(Ce<<1),re}function l(q){yi(q,0);for(var ue={},ne=0;q.l<=q.length-4;){var re=q.read_shift(2),le=q.read_shift(2),he=q.l+le,Ce={};switch(re){case 21589:ne=q.read_shift(1),ne&1&&(Ce.mtime=q.read_shift(4)),le>5&&(ne&2&&(Ce.atime=q.read_shift(4)),ne&4&&(Ce.ctime=q.read_shift(4))),Ce.mtime&&(Ce.mt=new Date(Ce.mtime*1e3));break}q.l=he,ue[re]=Ce}return ue}var u;function f(){return u||(u={})}function h(q,ue){if(q[0]==80&&q[1]==75)return at(q,ue);if((q[0]|32)==109&&(q[1]|32)==105)return $r(q,ue);if(q.length<512)throw new Error("CFB file size "+q.length+" < 512");var ne=3,re=512,le=0,he=0,Ce=0,ze=0,Re=0,Pe=[],Ne=q.slice(0,512);yi(Ne,0);var tt=p(Ne);switch(ne=tt[0],ne){case 3:re=512;break;case 4:re=4096;break;case 0:if(tt[1]==0)return at(q,ue);default:throw new Error("Major Version: Expected 3 or 4 saw "+ne)}re!==512&&(Ne=q.slice(0,re),yi(Ne,28));var lt=q.slice(0,re);m(Ne,ne);var xt=Ne.read_shift(4,"i");if(ne===3&&xt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+xt);Ne.l+=4,Ce=Ne.read_shift(4,"i"),Ne.l+=4,Ne.chk("00100000","Mini Stream Cutoff Size: "),ze=Ne.read_shift(4,"i"),le=Ne.read_shift(4,"i"),Re=Ne.read_shift(4,"i"),he=Ne.read_shift(4,"i");for(var nt=-1,mt=0;mt<109&&(nt=Ne.read_shift(4,"i"),!(nt<0));++mt)Pe[mt]=nt;var H=g(q,re);y(Re,he,H,re,Pe);var xe=w(H,Ce,Pe,re);xe[Ce].name="!Directory",le>0&&ze!==Z&&(xe[ze].name="!MiniFAT"),xe[Pe[0]].name="!FAT",xe.fat_addrs=Pe,xe.ssz=re;var we={},be=[],Se=[],ut=[];b(Ce,xe,H,be,le,we,Se,ze),_(Se,ut,be),be.shift();var _t={FileIndex:Se,FullPaths:ut};return ue&&ue.raw&&(_t.raw={header:lt,sectors:H}),_t}function p(q){if(q[q.l]==80&&q[q.l+1]==75)return[0,0];q.chk(se,"Header Signature: "),q.l+=16;var ue=q.read_shift(2,"u");return[q.read_shift(2,"u"),ue]}function m(q,ue){var ne=9;switch(q.l+=2,ne=q.read_shift(2)){case 9:if(ue!=3)throw new Error("Sector Shift: Expected 9 saw "+ne);break;case 12:if(ue!=4)throw new Error("Sector Shift: Expected 12 saw "+ne);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+ne)}q.chk("0600","Mini Sector Shift: "),q.chk("000000000000","Reserved: ")}function g(q,ue){for(var ne=Math.ceil(q.length/ue)-1,re=[],le=1;le<ne;++le)re[le-1]=q.slice(le*ue,(le+1)*ue);return re[ne-1]=q.slice(ne*ue),re}function _(q,ue,ne){for(var re=0,le=0,he=0,Ce=0,ze=0,Re=ne.length,Pe=[],Ne=[];re<Re;++re)Pe[re]=Ne[re]=re,ue[re]=ne[re];for(;ze<Ne.length;++ze)re=Ne[ze],le=q[re].L,he=q[re].R,Ce=q[re].C,Pe[re]===re&&(le!==-1&&Pe[le]!==le&&(Pe[re]=Pe[le]),he!==-1&&Pe[he]!==he&&(Pe[re]=Pe[he])),Ce!==-1&&(Pe[Ce]=re),le!==-1&&re!=Pe[re]&&(Pe[le]=Pe[re],Ne.lastIndexOf(le)<ze&&Ne.push(le)),he!==-1&&re!=Pe[re]&&(Pe[he]=Pe[re],Ne.lastIndexOf(he)<ze&&Ne.push(he));for(re=1;re<Re;++re)Pe[re]===re&&(he!==-1&&Pe[he]!==he?Pe[re]=Pe[he]:le!==-1&&Pe[le]!==le&&(Pe[re]=Pe[le]));for(re=1;re<Re;++re)if(q[re].type!==0){if(ze=re,ze!=Pe[ze])do ze=Pe[ze],ue[re]=ue[ze]+"/"+ue[re];while(ze!==0&&Pe[ze]!==-1&&ze!=Pe[ze]);Pe[re]=-1}for(ue[0]+="/",re=1;re<Re;++re)q[re].type!==2&&(ue[re]+="/")}function x(q,ue,ne){for(var re=q.start,le=q.size,he=[],Ce=re;ne&&le>0&&Ce>=0;)he.push(ue.slice(Ce*U,Ce*U+U)),le-=U,Ce=Vc(ne,Ce*4);return he.length===0?je(0):ri(he).slice(0,q.size)}function y(q,ue,ne,re,le){var he=Z;if(q===Z){if(ue!==0)throw new Error("DIFAT chain shorter than expected")}else if(q!==-1){var Ce=ne[q],ze=(re>>>2)-1;if(!Ce)return;for(var Re=0;Re<ze&&(he=Vc(Ce,Re*4))!==Z;++Re)le.push(he);y(Vc(Ce,re-4),ue-1,ne,re,le)}}function E(q,ue,ne,re,le){var he=[],Ce=[];le||(le=[]);var ze=re-1,Re=0,Pe=0;for(Re=ue;Re>=0;){le[Re]=!0,he[he.length]=Re,Ce.push(q[Re]);var Ne=ne[Math.floor(Re*4/re)];if(Pe=Re*4&ze,re<4+Pe)throw new Error("FAT boundary crossed: "+Re+" 4 "+re);if(!q[Ne])break;Re=Vc(q[Ne],Pe)}return{nodes:he,data:UP([Ce])}}function w(q,ue,ne,re){var le=q.length,he=[],Ce=[],ze=[],Re=[],Pe=re-1,Ne=0,tt=0,lt=0,xt=0;for(Ne=0;Ne<le;++Ne)if(ze=[],lt=Ne+ue,lt>=le&&(lt-=le),!Ce[lt]){Re=[];var nt=[];for(tt=lt;tt>=0;){nt[tt]=!0,Ce[tt]=!0,ze[ze.length]=tt,Re.push(q[tt]);var mt=ne[Math.floor(tt*4/re)];if(xt=tt*4&Pe,re<4+xt)throw new Error("FAT boundary crossed: "+tt+" 4 "+re);if(!q[mt]||(tt=Vc(q[mt],xt),nt[tt]))break}he[lt]={nodes:ze,data:UP([Re])}}return he}function b(q,ue,ne,re,le,he,Ce,ze){for(var Re=0,Pe=re.length?2:0,Ne=ue[q].data,tt=0,lt=0,xt;tt<Ne.length;tt+=128){var nt=Ne.slice(tt,tt+128);yi(nt,64),lt=nt.read_shift(2),xt=K2(nt,0,lt-Pe),re.push(xt);var mt={name:xt,type:nt.read_shift(1),color:nt.read_shift(1),L:nt.read_shift(4,"i"),R:nt.read_shift(4,"i"),C:nt.read_shift(4,"i"),clsid:nt.read_shift(16),state:nt.read_shift(4,"i"),start:0,size:0},H=nt.read_shift(2)+nt.read_shift(2)+nt.read_shift(2)+nt.read_shift(2);H!==0&&(mt.ct=M(nt,nt.l-8));var xe=nt.read_shift(2)+nt.read_shift(2)+nt.read_shift(2)+nt.read_shift(2);xe!==0&&(mt.mt=M(nt,nt.l-8)),mt.start=nt.read_shift(4,"i"),mt.size=nt.read_shift(4,"i"),mt.size<0&&mt.start<0&&(mt.size=mt.type=0,mt.start=Z,mt.name=""),mt.type===5?(Re=mt.start,le>0&&Re!==Z&&(ue[Re].name="!StreamData")):mt.size>=4096?(mt.storage="fat",ue[mt.start]===void 0&&(ue[mt.start]=E(ne,mt.start,ue.fat_addrs,ue.ssz)),ue[mt.start].name=mt.name,mt.content=ue[mt.start].data.slice(0,mt.size)):(mt.storage="minifat",mt.size<0?mt.size=0:Re!==Z&&mt.start!==Z&&ue[Re]&&(mt.content=x(mt,ue[Re].data,(ue[ze]||{}).data))),mt.content&&yi(mt.content,0),he[xt]=mt,Ce.push(mt)}}function M(q,ue){return new Date((ba(q,ue+4)/1e7*Math.pow(2,32)+ba(q,ue)/1e7-11644473600)*1e3)}function A(q,ue){return f(),h(u.readFileSync(q),ue)}function C(q,ue){var ne=ue&&ue.type;switch(ne||tn&&Buffer.isBuffer(q)&&(ne="buffer"),ne||"base64"){case"file":return A(q,ue);case"base64":return h(wa(Pa(q)),ue);case"binary":return h(wa(q),ue)}return h(q,ue)}function R(q,ue){var ne=ue||{},re=ne.root||"Root Entry";if(q.FullPaths||(q.FullPaths=[]),q.FileIndex||(q.FileIndex=[]),q.FullPaths.length!==q.FileIndex.length)throw new Error("inconsistent CFB structure");q.FullPaths.length===0&&(q.FullPaths[0]=re+"/",q.FileIndex[0]={name:re,type:5}),ne.CLSID&&(q.FileIndex[0].clsid=ne.CLSID),F(q)}function F(q){var ue="Sh33tJ5";if(!It.find(q,"/"+ue)){var ne=je(4);ne[0]=55,ne[1]=ne[3]=50,ne[2]=54,q.FileIndex.push({name:ue,type:2,content:ne,size:4,L:69,R:69,C:69}),q.FullPaths.push(q.FullPaths[0]+ue),O(q)}}function O(q,ue){R(q);for(var ne=!1,re=!1,le=q.FullPaths.length-1;le>=0;--le){var he=q.FileIndex[le];switch(he.type){case 0:re?ne=!0:(q.FileIndex.pop(),q.FullPaths.pop());break;case 1:case 2:case 5:re=!0,isNaN(he.R*he.L*he.C)&&(ne=!0),he.R>-1&&he.L>-1&&he.R==he.L&&(ne=!0);break;default:ne=!0;break}}if(!(!ne&&!ue)){var Ce=new Date(1987,1,19),ze=0,Re=Object.create?Object.create(null):{},Pe=[];for(le=0;le<q.FullPaths.length;++le)Re[q.FullPaths[le]]=!0,q.FileIndex[le].type!==0&&Pe.push([q.FullPaths[le],q.FileIndex[le]]);for(le=0;le<Pe.length;++le){var Ne=r(Pe[le][0]);re=Re[Ne],re||(Pe.push([Ne,{name:i(Ne).replace("/",""),type:1,clsid:G,ct:Ce,mt:Ce,content:null}]),Re[Ne]=!0)}for(Pe.sort(function(xt,nt){return n(xt[0],nt[0])}),q.FullPaths=[],q.FileIndex=[],le=0;le<Pe.length;++le)q.FullPaths[le]=Pe[le][0],q.FileIndex[le]=Pe[le][1];for(le=0;le<Pe.length;++le){var tt=q.FileIndex[le],lt=q.FullPaths[le];if(tt.name=i(lt).replace("/",""),tt.L=tt.R=tt.C=-(tt.color=1),tt.size=tt.content?tt.content.length:0,tt.start=0,tt.clsid=tt.clsid||G,le===0)tt.C=Pe.length>1?1:-1,tt.size=0,tt.type=5;else if(lt.slice(-1)=="/"){for(ze=le+1;ze<Pe.length&&r(q.FullPaths[ze])!=lt;++ze);for(tt.C=ze>=Pe.length?-1:ze,ze=le+1;ze<Pe.length&&r(q.FullPaths[ze])!=r(lt);++ze);tt.R=ze>=Pe.length?-1:ze,tt.type=1}else r(q.FullPaths[le+1]||"")==r(lt)&&(tt.R=le+1),tt.type=2}}}function k(q,ue){var ne=ue||{};if(ne.fileType=="mad")return fa(q,ne);switch(O(q),ne.fileType){case"zip":return pt(q,ne)}var re=(function(xt){for(var nt=0,mt=0,H=0;H<xt.FileIndex.length;++H){var xe=xt.FileIndex[H];if(xe.content){var we=xe.content.length;we>0&&(we<4096?nt+=we+63>>6:mt+=we+511>>9)}}for(var be=xt.FullPaths.length+3>>2,Se=nt+7>>3,ut=nt+127>>7,_t=Se+mt+be+ut,ft=_t+127>>7,St=ft<=109?0:Math.ceil((ft-109)/127);_t+ft+St+127>>7>ft;)St=++ft<=109?0:Math.ceil((ft-109)/127);var Et=[1,St,ft,ut,be,mt,nt,0];return xt.FileIndex[0].size=nt<<6,Et[7]=(xt.FileIndex[0].start=Et[0]+Et[1]+Et[2]+Et[3]+Et[4]+Et[5])+(Et[6]+7>>3),Et})(q),le=je(re[7]<<9),he=0,Ce=0;{for(he=0;he<8;++he)le.write_shift(1,oe[he]);for(he=0;he<8;++he)le.write_shift(2,0);for(le.write_shift(2,62),le.write_shift(2,3),le.write_shift(2,65534),le.write_shift(2,9),le.write_shift(2,6),he=0;he<3;++he)le.write_shift(2,0);for(le.write_shift(4,0),le.write_shift(4,re[2]),le.write_shift(4,re[0]+re[1]+re[2]+re[3]-1),le.write_shift(4,0),le.write_shift(4,4096),le.write_shift(4,re[3]?re[0]+re[1]+re[2]-1:Z),le.write_shift(4,re[3]),le.write_shift(-4,re[1]?re[0]-1:Z),le.write_shift(4,re[1]),he=0;he<109;++he)le.write_shift(-4,he<re[2]?re[1]+he:-1)}if(re[1])for(Ce=0;Ce<re[1];++Ce){for(;he<236+Ce*127;++he)le.write_shift(-4,he<re[2]?re[1]+he:-1);le.write_shift(-4,Ce===re[1]-1?Z:Ce+1)}var ze=function(xt){for(Ce+=xt;he<Ce-1;++he)le.write_shift(-4,he+1);xt&&(++he,le.write_shift(-4,Z))};for(Ce=he=0,Ce+=re[1];he<Ce;++he)le.write_shift(-4,W.DIFSECT);for(Ce+=re[2];he<Ce;++he)le.write_shift(-4,W.FATSECT);ze(re[3]),ze(re[4]);for(var Re=0,Pe=0,Ne=q.FileIndex[0];Re<q.FileIndex.length;++Re)Ne=q.FileIndex[Re],Ne.content&&(Pe=Ne.content.length,!(Pe<4096)&&(Ne.start=Ce,ze(Pe+511>>9)));for(ze(re[6]+7>>3);le.l&511;)le.write_shift(-4,W.ENDOFCHAIN);for(Ce=he=0,Re=0;Re<q.FileIndex.length;++Re)Ne=q.FileIndex[Re],Ne.content&&(Pe=Ne.content.length,!(!Pe||Pe>=4096)&&(Ne.start=Ce,ze(Pe+63>>6)));for(;le.l&511;)le.write_shift(-4,W.ENDOFCHAIN);for(he=0;he<re[4]<<2;++he){var tt=q.FullPaths[he];if(!tt||tt.length===0){for(Re=0;Re<17;++Re)le.write_shift(4,0);for(Re=0;Re<3;++Re)le.write_shift(4,-1);for(Re=0;Re<12;++Re)le.write_shift(4,0);continue}Ne=q.FileIndex[he],he===0&&(Ne.start=Ne.size?Ne.start-1:Z);var lt=he===0&&ne.root||Ne.name;if(Pe=2*(lt.length+1),le.write_shift(64,lt,"utf16le"),le.write_shift(2,Pe),le.write_shift(1,Ne.type),le.write_shift(1,Ne.color),le.write_shift(-4,Ne.L),le.write_shift(-4,Ne.R),le.write_shift(-4,Ne.C),Ne.clsid)le.write_shift(16,Ne.clsid,"hex");else for(Re=0;Re<4;++Re)le.write_shift(4,0);le.write_shift(4,Ne.state||0),le.write_shift(4,0),le.write_shift(4,0),le.write_shift(4,0),le.write_shift(4,0),le.write_shift(4,Ne.start),le.write_shift(4,Ne.size),le.write_shift(4,0)}for(he=1;he<q.FileIndex.length;++he)if(Ne=q.FileIndex[he],Ne.size>=4096)if(le.l=Ne.start+1<<9,tn&&Buffer.isBuffer(Ne.content))Ne.content.copy(le,le.l,0,Ne.size),le.l+=Ne.size+511&-512;else{for(Re=0;Re<Ne.size;++Re)le.write_shift(1,Ne.content[Re]);for(;Re&511;++Re)le.write_shift(1,0)}for(he=1;he<q.FileIndex.length;++he)if(Ne=q.FileIndex[he],Ne.size>0&&Ne.size<4096)if(tn&&Buffer.isBuffer(Ne.content))Ne.content.copy(le,le.l,0,Ne.size),le.l+=Ne.size+63&-64;else{for(Re=0;Re<Ne.size;++Re)le.write_shift(1,Ne.content[Re]);for(;Re&63;++Re)le.write_shift(1,0)}if(tn)le.l=le.length;else for(;le.l<le.length;)le.write_shift(1,0);return le}function D(q,ue){var ne=q.FullPaths.map(function(Re){return Re.toUpperCase()}),re=ne.map(function(Re){var Pe=Re.split("/");return Pe[Pe.length-(Re.slice(-1)=="/"?2:1)]}),le=!1;ue.charCodeAt(0)===47?(le=!0,ue=ne[0].slice(0,-1)+ue):le=ue.indexOf("/")!==-1;var he=ue.toUpperCase(),Ce=le===!0?ne.indexOf(he):re.indexOf(he);if(Ce!==-1)return q.FileIndex[Ce];var ze=!he.match(Y0);for(he=he.replace(qi,""),ze&&(he=he.replace(Y0,"!")),Ce=0;Ce<ne.length;++Ce)if((ze?ne[Ce].replace(Y0,"!"):ne[Ce]).replace(qi,"")==he||(ze?re[Ce].replace(Y0,"!"):re[Ce]).replace(qi,"")==he)return q.FileIndex[Ce];return null}var U=64,Z=-2,se="d0cf11e0a1b11ae1",oe=[208,207,17,224,161,177,26,225],G="00000000000000000000000000000000",W={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:Z,FREESECT:-1,HEADER_SIGNATURE:se,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:G,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function ee(q,ue,ne){f();var re=k(q,ne);u.writeFileSync(ue,re)}function Y(q){for(var ue=new Array(q.length),ne=0;ne<q.length;++ne)ue[ne]=String.fromCharCode(q[ne]);return ue.join("")}function pe(q,ue){var ne=k(q,ue);switch(ue&&ue.type||"buffer"){case"file":return f(),u.writeFileSync(ue.filename,ne),ne;case"binary":return typeof ne=="string"?ne:Y(ne);case"base64":return hd(typeof ne=="string"?ne:Y(ne));case"buffer":if(tn)return Buffer.isBuffer(ne)?ne:rl(ne);case"array":return typeof ne=="string"?wa(ne):ne}return ne}var z;function I(q){try{var ue=q.InflateRaw,ne=new ue;if(ne._processChunk(new Uint8Array([3,0]),ne._finishFlushFlag),ne.bytesRead)z=q;else throw new Error("zlib does not expose bytesRead")}catch(re){console.error("cannot use native zlib: "+(re.message||re))}}function V(q,ue){if(!z)return Pt(q,ue);var ne=z.InflateRaw,re=new ne,le=re._processChunk(q.slice(q.l),re._finishFlushFlag);return q.l+=re.bytesRead,le}function X(q){return z?z.deflateRawSync(q):Be(q)}var te=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],J=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],fe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ae(q){var ue=(q<<1|q<<11)&139536|(q<<5|q<<15)&558144;return(ue>>16|ue>>8|ue)&255}for(var Q=typeof Uint8Array<"u",de=Q?new Uint8Array(256):[],Ae=0;Ae<256;++Ae)de[Ae]=ae(Ae);function j(q,ue){var ne=de[q&255];return ue<=8?ne>>>8-ue:(ne=ne<<8|de[q>>8&255],ue<=16?ne>>>16-ue:(ne=ne<<8|de[q>>16&255],ne>>>24-ue))}function We(q,ue){var ne=ue&7,re=ue>>>3;return(q[re]|(ne<=6?0:q[re+1]<<8))>>>ne&3}function Le(q,ue){var ne=ue&7,re=ue>>>3;return(q[re]|(ne<=5?0:q[re+1]<<8))>>>ne&7}function Je(q,ue){var ne=ue&7,re=ue>>>3;return(q[re]|(ne<=4?0:q[re+1]<<8))>>>ne&15}function Xe(q,ue){var ne=ue&7,re=ue>>>3;return(q[re]|(ne<=3?0:q[re+1]<<8))>>>ne&31}function Ge(q,ue){var ne=ue&7,re=ue>>>3;return(q[re]|(ne<=1?0:q[re+1]<<8))>>>ne&127}function ce(q,ue,ne){var re=ue&7,le=ue>>>3,he=(1<<ne)-1,Ce=q[le]>>>re;return ne<8-re||(Ce|=q[le+1]<<8-re,ne<16-re)||(Ce|=q[le+2]<<16-re,ne<24-re)||(Ce|=q[le+3]<<24-re),Ce&he}function Ft(q,ue,ne){var re=ue&7,le=ue>>>3;return re<=5?q[le]|=(ne&7)<<re:(q[le]|=ne<<re&255,q[le+1]=(ne&7)>>8-re),ue+3}function Ct(q,ue,ne){var re=ue&7,le=ue>>>3;return ne=(ne&1)<<re,q[le]|=ne,ue+1}function Nt(q,ue,ne){var re=ue&7,le=ue>>>3;return ne<<=re,q[le]|=ne&255,ne>>>=8,q[le+1]=ne,ue+8}function rt(q,ue,ne){var re=ue&7,le=ue>>>3;return ne<<=re,q[le]|=ne&255,ne>>>=8,q[le+1]=ne&255,q[le+2]=ne>>>8,ue+16}function ie(q,ue){var ne=q.length,re=2*ne>ue?2*ne:ue+5,le=0;if(ne>=ue)return q;if(tn){var he=_P(re);if(q.copy)q.copy(he);else for(;le<q.length;++le)he[le]=q[le];return he}else if(Q){var Ce=new Uint8Array(re);if(Ce.set)Ce.set(q);else for(;le<ne;++le)Ce[le]=q[le];return Ce}return q.length=re,q}function B(q){for(var ue=new Array(q),ne=0;ne<q;++ne)ue[ne]=0;return ue}function ve(q,ue,ne){var re=1,le=0,he=0,Ce=0,ze=0,Re=q.length,Pe=Q?new Uint16Array(32):B(32);for(he=0;he<32;++he)Pe[he]=0;for(he=Re;he<ne;++he)q[he]=0;Re=q.length;var Ne=Q?new Uint16Array(Re):B(Re);for(he=0;he<Re;++he)Pe[le=q[he]]++,re<le&&(re=le),Ne[he]=0;for(Pe[0]=0,he=1;he<=re;++he)Pe[he+16]=ze=ze+Pe[he-1]<<1;for(he=0;he<Re;++he)ze=q[he],ze!=0&&(Ne[he]=Pe[ze+16]++);var tt=0;for(he=0;he<Re;++he)if(tt=q[he],tt!=0)for(ze=j(Ne[he],re)>>re-tt,Ce=(1<<re+4-tt)-1;Ce>=0;--Ce)ue[ze|Ce<<tt]=tt&15|he<<4;return re}var Ie=Q?new Uint16Array(512):B(512),Ue=Q?new Uint16Array(32):B(32);if(!Q){for(var Te=0;Te<512;++Te)Ie[Te]=0;for(Te=0;Te<32;++Te)Ue[Te]=0}(function(){for(var q=[],ue=0;ue<32;ue++)q.push(5);ve(q,Ue,32);var ne=[];for(ue=0;ue<=143;ue++)ne.push(8);for(;ue<=255;ue++)ne.push(9);for(;ue<=279;ue++)ne.push(7);for(;ue<=287;ue++)ne.push(8);ve(ne,Ie,288)})();var dt=(function(){for(var ue=Q?new Uint8Array(32768):[],ne=0,re=0;ne<fe.length-1;++ne)for(;re<fe[ne+1];++re)ue[re]=ne;for(;re<32768;++re)ue[re]=29;var le=Q?new Uint8Array(259):[];for(ne=0,re=0;ne<J.length-1;++ne)for(;re<J[ne+1];++re)le[re]=ne;function he(ze,Re){for(var Pe=0;Pe<ze.length;){var Ne=Math.min(65535,ze.length-Pe),tt=Pe+Ne==ze.length;for(Re.write_shift(1,+tt),Re.write_shift(2,Ne),Re.write_shift(2,~Ne&65535);Ne-- >0;)Re[Re.l++]=ze[Pe++]}return Re.l}function Ce(ze,Re){for(var Pe=0,Ne=0,tt=Q?new Uint16Array(32768):[];Ne<ze.length;){var lt=Math.min(65535,ze.length-Ne);if(lt<10){for(Pe=Ft(Re,Pe,+(Ne+lt==ze.length)),Pe&7&&(Pe+=8-(Pe&7)),Re.l=Pe/8|0,Re.write_shift(2,lt),Re.write_shift(2,~lt&65535);lt-- >0;)Re[Re.l++]=ze[Ne++];Pe=Re.l*8;continue}Pe=Ft(Re,Pe,+(Ne+lt==ze.length)+2);for(var xt=0;lt-- >0;){var nt=ze[Ne];xt=(xt<<5^nt)&32767;var mt=-1,H=0;if((mt=tt[xt])&&(mt|=Ne&-32768,mt>Ne&&(mt-=32768),mt<Ne))for(;ze[mt+H]==ze[Ne+H]&&H<250;)++H;if(H>2){nt=le[H],nt<=22?Pe=Nt(Re,Pe,de[nt+1]>>1)-1:(Nt(Re,Pe,3),Pe+=5,Nt(Re,Pe,de[nt-23]>>5),Pe+=3);var xe=nt<8?0:nt-4>>2;xe>0&&(rt(Re,Pe,H-J[nt]),Pe+=xe),nt=ue[Ne-mt],Pe=Nt(Re,Pe,de[nt]>>3),Pe-=3;var we=nt<4?0:nt-2>>1;we>0&&(rt(Re,Pe,Ne-mt-fe[nt]),Pe+=we);for(var be=0;be<H;++be)tt[xt]=Ne&32767,xt=(xt<<5^ze[Ne])&32767,++Ne;lt-=H-1}else nt<=143?nt=nt+48:Pe=Ct(Re,Pe,1),Pe=Nt(Re,Pe,de[nt]),tt[xt]=Ne&32767,++Ne}Pe=Nt(Re,Pe,0)-1}return Re.l=(Pe+7)/8|0,Re.l}return function(Re,Pe){return Re.length<8?he(Re,Pe):Ce(Re,Pe)}})();function Be(q){var ue=je(50+Math.floor(q.length*1.1)),ne=dt(q,ue);return ue.slice(0,ne)}var st=Q?new Uint16Array(32768):B(32768),Tt=Q?new Uint16Array(32768):B(32768),Ve=Q?new Uint16Array(128):B(128),Qe=1,gt=1;function vt(q,ue){var ne=Xe(q,ue)+257;ue+=5;var re=Xe(q,ue)+1;ue+=5;var le=Je(q,ue)+4;ue+=4;for(var he=0,Ce=Q?new Uint8Array(19):B(19),ze=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Re=1,Pe=Q?new Uint8Array(8):B(8),Ne=Q?new Uint8Array(8):B(8),tt=Ce.length,lt=0;lt<le;++lt)Ce[te[lt]]=he=Le(q,ue),Re<he&&(Re=he),Pe[he]++,ue+=3;var xt=0;for(Pe[0]=0,lt=1;lt<=Re;++lt)Ne[lt]=xt=xt+Pe[lt-1]<<1;for(lt=0;lt<tt;++lt)(xt=Ce[lt])!=0&&(ze[lt]=Ne[xt]++);var nt=0;for(lt=0;lt<tt;++lt)if(nt=Ce[lt],nt!=0){xt=de[ze[lt]]>>8-nt;for(var mt=(1<<7-nt)-1;mt>=0;--mt)Ve[xt|mt<<nt]=nt&7|lt<<3}var H=[];for(Re=1;H.length<ne+re;)switch(xt=Ve[Ge(q,ue)],ue+=xt&7,xt>>>=3){case 16:for(he=3+We(q,ue),ue+=2,xt=H[H.length-1];he-- >0;)H.push(xt);break;case 17:for(he=3+Le(q,ue),ue+=3;he-- >0;)H.push(0);break;case 18:for(he=11+Ge(q,ue),ue+=7;he-- >0;)H.push(0);break;default:H.push(xt),Re<xt&&(Re=xt);break}var xe=H.slice(0,ne),we=H.slice(ne);for(lt=ne;lt<286;++lt)xe[lt]=0;for(lt=re;lt<30;++lt)we[lt]=0;return Qe=ve(xe,st,286),gt=ve(we,Tt,30),ue}function it(q,ue){if(q[0]==3&&!(q[1]&3))return[rc(ue),2];for(var ne=0,re=0,le=_P(ue||1<<18),he=0,Ce=le.length>>>0,ze=0,Re=0;(re&1)==0;){if(re=Le(q,ne),ne+=3,re>>>1)re>>1==1?(ze=9,Re=5):(ne=vt(q,ne),ze=Qe,Re=gt);else{ne&7&&(ne+=8-(ne&7));var Pe=q[ne>>>3]|q[(ne>>>3)+1]<<8;if(ne+=32,Pe>0)for(!ue&&Ce<he+Pe&&(le=ie(le,he+Pe),Ce=le.length);Pe-- >0;)le[he++]=q[ne>>>3],ne+=8;continue}for(;;){!ue&&Ce<he+32767&&(le=ie(le,he+32767),Ce=le.length);var Ne=ce(q,ne,ze),tt=re>>>1==1?Ie[Ne]:st[Ne];if(ne+=tt&15,tt>>>=4,(tt>>>8&255)===0)le[he++]=tt;else{if(tt==256)break;tt-=257;var lt=tt<8?0:tt-4>>2;lt>5&&(lt=0);var xt=he+J[tt];lt>0&&(xt+=ce(q,ne,lt),ne+=lt),Ne=ce(q,ne,Re),tt=re>>>1==1?Ue[Ne]:Tt[Ne],ne+=tt&15,tt>>>=4;var nt=tt<4?0:tt-2>>1,mt=fe[tt];for(nt>0&&(mt+=ce(q,ne,nt),ne+=nt),!ue&&Ce<xt&&(le=ie(le,xt+100),Ce=le.length);he<xt;)le[he]=le[he-mt],++he}}}return ue?[le,ne+7>>>3]:[le.slice(0,he),ne+7>>>3]}function Pt(q,ue){var ne=q.slice(q.l||0),re=it(ne,ue);return q.l+=re[1],re[0]}function ge(q,ue){if(q)typeof console<"u"&&console.error(ue);else throw new Error(ue)}function at(q,ue){var ne=q;yi(ne,0);var re=[],le=[],he={FileIndex:re,FullPaths:le};R(he,{root:ue.root});for(var Ce=ne.length-4;(ne[Ce]!=80||ne[Ce+1]!=75||ne[Ce+2]!=5||ne[Ce+3]!=6)&&Ce>=0;)--Ce;ne.l=Ce+4,ne.l+=4;var ze=ne.read_shift(2);ne.l+=6;var Re=ne.read_shift(4);for(ne.l=Re,Ce=0;Ce<ze;++Ce){ne.l+=20;var Pe=ne.read_shift(4),Ne=ne.read_shift(4),tt=ne.read_shift(2),lt=ne.read_shift(2),xt=ne.read_shift(2);ne.l+=8;var nt=ne.read_shift(4),mt=l(ne.slice(ne.l+tt,ne.l+tt+lt));ne.l+=tt+lt+xt;var H=ne.l;ne.l=nt+4,et(ne,Pe,Ne,he,mt),ne.l=H}return he}function et(q,ue,ne,re,le){q.l+=2;var he=q.read_shift(2),Ce=q.read_shift(2),ze=s(q);if(he&8257)throw new Error("Unsupported ZIP encryption");for(var Re=q.read_shift(4),Pe=q.read_shift(4),Ne=q.read_shift(4),tt=q.read_shift(2),lt=q.read_shift(2),xt="",nt=0;nt<tt;++nt)xt+=String.fromCharCode(q[q.l++]);if(lt){var mt=l(q.slice(q.l,q.l+lt));(mt[21589]||{}).mt&&(ze=mt[21589].mt),((le||{})[21589]||{}).mt&&(ze=le[21589].mt)}q.l+=lt;var H=q.slice(q.l,q.l+Pe);switch(Ce){case 8:H=V(q,Ne);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Ce)}var xe=!1;he&8&&(Re=q.read_shift(4),Re==134695760&&(Re=q.read_shift(4),xe=!0),Pe=q.read_shift(4),Ne=q.read_shift(4)),Pe!=ue&&ge(xe,"Bad compressed size: "+ue+" != "+Pe),Ne!=ne&&ge(xe,"Bad uncompressed size: "+ne+" != "+Ne),oo(re,xt,H,{unsafe:!0,mt:ze})}function pt(q,ue){var ne=ue||{},re=[],le=[],he=je(1),Ce=ne.compression?8:0,ze=0,Re=0,Pe=0,Ne=0,tt=0,lt=q.FullPaths[0],xt=lt,nt=q.FileIndex[0],mt=[],H=0;for(Re=1;Re<q.FullPaths.length;++Re)if(xt=q.FullPaths[Re].slice(lt.length),nt=q.FileIndex[Re],!(!nt.size||!nt.content||xt=="Sh33tJ5")){var xe=Ne,we=je(xt.length);for(Pe=0;Pe<xt.length;++Pe)we.write_shift(1,xt.charCodeAt(Pe)&127);we=we.slice(0,we.l),mt[tt]=R$.buf(nt.content,0);var be=nt.content;Ce==8&&(be=X(be)),he=je(30),he.write_shift(4,67324752),he.write_shift(2,20),he.write_shift(2,ze),he.write_shift(2,Ce),nt.mt?a(he,nt.mt):he.write_shift(4,0),he.write_shift(-4,mt[tt]),he.write_shift(4,be.length),he.write_shift(4,nt.content.length),he.write_shift(2,we.length),he.write_shift(2,0),Ne+=he.length,re.push(he),Ne+=we.length,re.push(we),Ne+=be.length,re.push(be),he=je(46),he.write_shift(4,33639248),he.write_shift(2,0),he.write_shift(2,20),he.write_shift(2,ze),he.write_shift(2,Ce),he.write_shift(4,0),he.write_shift(-4,mt[tt]),he.write_shift(4,be.length),he.write_shift(4,nt.content.length),he.write_shift(2,we.length),he.write_shift(2,0),he.write_shift(2,0),he.write_shift(2,0),he.write_shift(2,0),he.write_shift(4,0),he.write_shift(4,xe),H+=he.l,le.push(he),H+=we.length,le.push(we),++tt}return he=je(22),he.write_shift(4,101010256),he.write_shift(2,0),he.write_shift(2,0),he.write_shift(2,tt),he.write_shift(2,tt),he.write_shift(4,H),he.write_shift(4,Ne),he.write_shift(2,0),ri([ri(re),ri(le),he])}var $e={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function qe(q,ue){if(q.ctype)return q.ctype;var ne=q.name||"",re=ne.match(/\.([^\.]+)$/);return re&&$e[re[1]]||ue&&(re=(ne=ue).match(/[\.\\]([^\.\\])+$/),re&&$e[re[1]])?$e[re[1]]:"application/octet-stream"}function ot(q){for(var ue=hd(q),ne=[],re=0;re<ue.length;re+=76)ne.push(ue.slice(re,re+76));return ne.join(`\r
`)+`\r
`}function Gt(q){var ue=q.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Pe){var Ne=Pe.charCodeAt(0).toString(16).toUpperCase();return"="+(Ne.length==1?"0"+Ne:Ne)});ue=ue.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),ue.charAt(0)==`
`&&(ue="=0D"+ue.slice(1)),ue=ue.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var ne=[],re=ue.split(`\r
`),le=0;le<re.length;++le){var he=re[le];if(he.length==0){ne.push("");continue}for(var Ce=0;Ce<he.length;){var ze=76,Re=he.slice(Ce,Ce+ze);Re.charAt(ze-1)=="="?ze--:Re.charAt(ze-2)=="="?ze-=2:Re.charAt(ze-3)=="="&&(ze-=3),Re=he.slice(Ce,Ce+ze),Ce+=ze,Ce<he.length&&(Re+="="),ne.push(Re)}}return ne.join(`\r
`)}function Sn(q){for(var ue=[],ne=0;ne<q.length;++ne){for(var re=q[ne];ne<=q.length&&re.charAt(re.length-1)=="=";)re=re.slice(0,re.length-1)+q[++ne];ue.push(re)}for(var le=0;le<ue.length;++le)ue[le]=ue[le].replace(/[=][0-9A-Fa-f]{2}/g,function(he){return String.fromCharCode(parseInt(he.slice(1),16))});return wa(ue.join(`\r
`))}function fn(q,ue,ne){for(var re="",le="",he="",Ce,ze=0;ze<10;++ze){var Re=ue[ze];if(!Re||Re.match(/^\s*$/))break;var Pe=Re.match(/^(.*?):\s*([^\s].*)$/);if(Pe)switch(Pe[1].toLowerCase()){case"content-location":re=Pe[2].trim();break;case"content-type":he=Pe[2].trim();break;case"content-transfer-encoding":le=Pe[2].trim();break}}switch(++ze,le.toLowerCase()){case"base64":Ce=wa(Pa(ue.slice(ze).join("")));break;case"quoted-printable":Ce=Sn(ue.slice(ze));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+le)}var Ne=oo(q,re.slice(ne.length),Ce,{unsafe:!0});he&&(Ne.ctype=he)}function $r(q,ue){if(Y(q.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var ne=ue&&ue.root||"",re=(tn&&Buffer.isBuffer(q)?q.toString("binary"):Y(q)).split(`\r
`),le=0,he="";for(le=0;le<re.length;++le)if(he=re[le],!!/^Content-Location:/i.test(he)&&(he=he.slice(he.indexOf("file")),ne||(ne=he.slice(0,he.lastIndexOf("/")+1)),he.slice(0,ne.length)!=ne))for(;ne.length>0&&(ne=ne.slice(0,ne.length-1),ne=ne.slice(0,ne.lastIndexOf("/")+1),he.slice(0,ne.length)!=ne););var Ce=(re[1]||"").match(/boundary="(.*?)"/);if(!Ce)throw new Error("MAD cannot find boundary");var ze="--"+(Ce[1]||""),Re=[],Pe=[],Ne={FileIndex:Re,FullPaths:Pe};R(Ne);var tt,lt=0;for(le=0;le<re.length;++le){var xt=re[le];xt!==ze&&xt!==ze+"--"||(lt++&&fn(Ne,re.slice(tt,le),ne),tt=le)}return Ne}function fa(q,ue){var ne=ue||{},re=ne.boundary||"SheetJS";re="------="+re;for(var le=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+re.slice(2)+'"',"","",""],he=q.FullPaths[0],Ce=he,ze=q.FileIndex[0],Re=1;Re<q.FullPaths.length;++Re)if(Ce=q.FullPaths[Re].slice(he.length),ze=q.FileIndex[Re],!(!ze.size||!ze.content||Ce=="Sh33tJ5")){Ce=Ce.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(H){return"_x"+H.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(H){return"_u"+H.charCodeAt(0).toString(16)+"_"});for(var Pe=ze.content,Ne=tn&&Buffer.isBuffer(Pe)?Pe.toString("binary"):Y(Pe),tt=0,lt=Math.min(1024,Ne.length),xt=0,nt=0;nt<=lt;++nt)(xt=Ne.charCodeAt(nt))>=32&&xt<128&&++tt;var mt=tt>=lt*4/5;le.push(re),le.push("Content-Location: "+(ne.root||"file:///C:/SheetJS/")+Ce),le.push("Content-Transfer-Encoding: "+(mt?"quoted-printable":"base64")),le.push("Content-Type: "+qe(ze,Ce)),le.push(""),le.push(mt?Gt(Ne):ot(Ne))}return le.push(re+`--\r
`),le.join(`\r
`)}function Iu(q){var ue={};return R(ue,q),ue}function oo(q,ue,ne,re){var le=re&&re.unsafe;le||R(q);var he=!le&&It.find(q,ue);if(!he){var Ce=q.FullPaths[0];ue.slice(0,Ce.length)==Ce?Ce=ue:(Ce.slice(-1)!="/"&&(Ce+="/"),Ce=(Ce+ue).replace("//","/")),he={name:i(ue),type:2},q.FileIndex.push(he),q.FullPaths.push(Ce),le||It.utils.cfb_gc(q)}return he.content=ne,he.size=ne?ne.length:0,re&&(re.CLSID&&(he.clsid=re.CLSID),re.mt&&(he.mt=re.mt),re.ct&&(he.ct=re.ct)),he}function dl(q,ue){R(q);var ne=It.find(q,ue);if(ne){for(var re=0;re<q.FileIndex.length;++re)if(q.FileIndex[re]==ne)return q.FileIndex.splice(re,1),q.FullPaths.splice(re,1),!0}return!1}function vc(q,ue,ne){R(q);var re=It.find(q,ue);if(re){for(var le=0;le<q.FileIndex.length;++le)if(q.FileIndex[le]==re)return q.FileIndex[le].name=i(ne),q.FullPaths[le]=ne,!0}return!1}function pl(q){O(q,!0)}return e.find=D,e.read=C,e.parse=h,e.write=pe,e.writeFile=ee,e.utils={cfb_new:Iu,cfb_add:oo,cfb_del:dl,cfb_mov:vc,cfb_gc:pl,ReadShift:J0,CheckField:ZF,prep_blob:yi,bconcat:ri,use_zlib:I,_deflateRaw:Be,_inflateRaw:Pt,consts:W},e})();function O$(t){return typeof t=="string"?ux(t):Array.isArray(t)?n$(t):t}function Hd(t,e,n){if(typeof Deno<"u"){if(n&&typeof e=="string")switch(n){case"utf8":e=new TextEncoder(n).encode(e);break;case"binary":e=ux(e);break;default:throw new Error("Unsupported encoding "+n)}return Deno.writeFileSync(t,e)}var r=n=="utf8"?Ys(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(r,t);if(typeof Blob<"u"){var i=new Blob([O$(r)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,t);if(typeof saveAs<"u")return saveAs(i,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var a=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),chrome.downloads.download({url:a,filename:t,saveAs:!0});var s=document.createElement("a");if(s.download!=null)return s.download=t,s.href=a,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),a}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var l=File(t);return l.open("w"),l.encoding="binary",Array.isArray(e)&&(e=fc(e)),l.write(e),l.close(),e}catch(u){if(!u.message||!u.message.match(/onstruct/))throw u}throw new Error("cannot save file "+t)}function P$(t){if(typeof Deno<"u")return Deno.readFileSync(t);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var e=File(t);e.open("r"),e.encoding="binary";var n=e.read();return e.close(),n}catch(r){if(!r.message||!r.message.match(/onstruct/))throw r}throw new Error("Cannot access file "+t)}function xr(t){for(var e=Object.keys(t),n=[],r=0;r<e.length;++r)Object.prototype.hasOwnProperty.call(t,e[r])&&n.push(e[r]);return n}function MP(t,e){for(var n=[],r=xr(t),i=0;i!==r.length;++i)n[t[r[i]][e]]==null&&(n[t[r[i]][e]]=r[i]);return n}function hx(t){for(var e=[],n=xr(t),r=0;r!==n.length;++r)e[t[n[r]]]=n[r];return e}function dx(t){for(var e=[],n=xr(t),r=0;r!==n.length;++r)e[t[n[r]]]=parseInt(n[r],10);return e}function D$(t){for(var e=[],n=xr(t),r=0;r!==n.length;++r)e[t[n[r]]]==null&&(e[t[n[r]]]=[]),e[t[n[r]]].push(n[r]);return e}var ag=new Date(1899,11,30,0,0,0);function Wr(t,e){var n=t.getTime(),r=ag.getTime()+(t.getTimezoneOffset()-ag.getTimezoneOffset())*6e4;return(n-r)/(1440*60*1e3)}var OF=new Date,N$=ag.getTime()+(OF.getTimezoneOffset()-ag.getTimezoneOffset())*6e4,CP=OF.getTimezoneOffset();function px(t){var e=new Date;return e.setTime(t*24*60*60*1e3+N$),e.getTimezoneOffset()!==CP&&e.setTime(e.getTime()+(e.getTimezoneOffset()-CP)*6e4),e}function k$(t){var e=0,n=0,r=!1,i=t.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!i)throw new Error("|"+t+"| is not an ISO8601 Duration");for(var a=1;a!=i.length;++a)if(i[a]){switch(n=1,a>3&&(r=!0),i[a].slice(i[a].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+i[a].slice(i[a].length-1));case"D":n*=24;case"H":n*=60;case"M":if(r)n*=60;else throw new Error("Unsupported ISO Duration Field: M")}e+=n*parseInt(i[a],10)}return e}var RP=new Date("2017-02-19T19:06:09.000Z"),PF=isNaN(RP.getFullYear())?new Date("2/19/17"):RP,L$=PF.getFullYear()==2017;function er(t,e){var n=new Date(t);if(L$)return e>0?n.setTime(n.getTime()+n.getTimezoneOffset()*60*1e3):e<0&&n.setTime(n.getTime()-n.getTimezoneOffset()*60*1e3),n;if(t instanceof Date)return t;if(PF.getFullYear()==1917&&!isNaN(n.getFullYear())){var r=n.getFullYear();return t.indexOf(""+r)>-1||n.setFullYear(n.getFullYear()+100),n}var i=t.match(/\d+/g)||["2017","2","19","0","0","0"],a=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return t.indexOf("Z")>-1&&(a=new Date(a.getTime()-a.getTimezoneOffset()*60*1e3)),a}function cu(t,e){if(tn&&Buffer.isBuffer(t)){if(e){if(t[0]==255&&t[1]==254)return Ys(t.slice(2).toString("utf16le"));if(t[1]==254&&t[2]==255)return Ys(xF(t.slice(2).toString("binary")))}return t.toString("binary")}if(typeof TextDecoder<"u")try{if(e){if(t[0]==255&&t[1]==254)return Ys(new TextDecoder("utf-16le").decode(t.slice(2)));if(t[0]==254&&t[1]==255)return Ys(new TextDecoder("utf-16be").decode(t.slice(2)))}var n={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(a){return n[a]||a})}catch{}for(var r=[],i=0;i!=t.length;++i)r.push(String.fromCharCode(t[i]));return r.join("")}function tr(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=tr(t[n]));return e}function pr(t,e){for(var n="";n.length<e;)n+=t;return n}function As(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var n=1,r=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return n*=100,""});return!isNaN(e=Number(r))||(r=r.replace(/[(](.*)[)]/,function(i,a){return n=-n,a}),!isNaN(e=Number(r)))?e/n:e}var I$=["january","february","march","april","may","june","july","august","september","october","november","december"];function lh(t){var e=new Date(t),n=new Date(NaN),r=e.getYear(),i=e.getMonth(),a=e.getDate();if(isNaN(a))return n;var s=t.toLowerCase();if(s.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(s=s.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),s.length>3&&I$.indexOf(s)==-1)return n}else if(s.match(/[a-z]/))return n;return r<0||r>8099?n:(i>0||a>1)&&r!=101?e:t.match(/[^-0-9:,\/\\]/)?n:e}var F$=(function(){var t="abacaba".split(/(:?b)/i).length==5;return function(n,r,i){if(t||typeof r=="string")return n.split(r);for(var a=n.split(r),s=[a[0]],l=1;l<a.length;++l)s.push(i),s.push(a[l]);return s}})();function DF(t){return t?t.content&&t.type?cu(t.content,!0):t.data?W0(t.data):t.asNodeBuffer&&tn?W0(t.asNodeBuffer().toString("binary")):t.asBinary?W0(t.asBinary()):t._data&&t._data.getContent?W0(cu(Array.prototype.slice.call(t._data.getContent(),0))):null:null}function NF(t){if(!t)return null;if(t.data)return gP(t.data);if(t.asNodeBuffer&&tn)return t.asNodeBuffer();if(t._data&&t._data.getContent){var e=t._data.getContent();return typeof e=="string"?gP(e):Array.prototype.slice.call(e)}return t.content&&t.type?t.content:null}function U$(t){return t&&t.name.slice(-4)===".bin"?NF(t):DF(t)}function Ja(t,e){for(var n=t.FullPaths||xr(t.files),r=e.toLowerCase().replace(/[\/]/g,"\\"),i=r.replace(/\\/g,"/"),a=0;a<n.length;++a){var s=n[a].replace(/^Root Entry[\/]/,"").toLowerCase();if(r==s||i==s)return t.files?t.files[n[a]]:t.FileIndex[a]}return null}function G2(t,e){var n=Ja(t,e);if(n==null)throw new Error("Cannot find file "+e+" in zip");return n}function Pr(t,e,n){if(!n)return U$(G2(t,e));if(!e)return null;try{return Pr(t,e)}catch{return null}}function Aa(t,e,n){if(!n)return DF(G2(t,e));if(!e)return null;try{return Aa(t,e)}catch{return null}}function B$(t,e,n){return NF(G2(t,e))}function OP(t){for(var e=t.FullPaths||xr(t.files),n=[],r=0;r<e.length;++r)e[r].slice(-1)!="/"&&n.push(e[r].replace(/^Root Entry[\/]/,""));return n.sort()}function Zt(t,e,n){if(t.FullPaths){if(typeof n=="string"){var r;return tn?r=rl(n):r=r$(n),It.utils.cfb_add(t,e,r)}It.utils.cfb_add(t,e,n)}else t.file(e,n)}function V2(){return It.utils.cfb_new()}function kF(t,e){switch(e.type){case"base64":return It.read(t,{type:"base64"});case"binary":return It.read(t,{type:"binary"});case"buffer":case"array":return It.read(t,{type:"buffer"})}throw new Error("Unrecognized type "+e.type)}function X0(t,e){if(t.charAt(0)=="/")return t.slice(1);var n=e.split("/");e.slice(-1)!="/"&&n.pop();for(var r=t.split("/");r.length!==0;){var i=r.shift();i===".."?n.pop():i!=="."&&n.push(i)}return n.join("/")}var Tr=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,z$=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,PP=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,j$=/<[^>]*>/g,zi=Tr.match(PP)?PP:j$,H$=/<\w*:/,G$=/<(\/?)\w+:/;function Wt(t,e,n){for(var r={},i=0,a=0;i!==t.length&&!((a=t.charCodeAt(i))===32||a===10||a===13);++i);if(e||(r[0]=t.slice(0,i)),i===t.length)return r;var s=t.match(z$),l=0,u="",f=0,h="",p="",m=1;if(s)for(f=0;f!=s.length;++f){for(p=s[f],a=0;a!=p.length&&p.charCodeAt(a)!==61;++a);for(h=p.slice(0,a).trim();p.charCodeAt(a+1)==32;)++a;for(m=(i=p.charCodeAt(a+1))==34||i==39?1:0,u=p.slice(a+1+m,p.length-m),l=0;l!=h.length&&h.charCodeAt(l)!==58;++l);if(l===h.length)h.indexOf("_")>0&&(h=h.slice(0,h.indexOf("_"))),r[h]=u,r[h.toLowerCase()]=u;else{var g=(l===5&&h.slice(0,5)==="xmlns"?"xmlns":"")+h.slice(l+1);if(r[g]&&h.slice(l-3,l)=="ext")continue;r[g]=u,r[g.toLowerCase()]=u}}return r}function io(t){return t.replace(G$,"<$1")}var LF={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},W2=hx(LF),mn=(function(){var t=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,e=/_x([\da-fA-F]{4})_/ig;return function n(r){var i=r+"",a=i.indexOf("<![CDATA[");if(a==-1)return i.replace(t,function(l,u){return LF[l]||String.fromCharCode(parseInt(u,l.indexOf("x")>-1?16:10))||l}).replace(e,function(l,u){return String.fromCharCode(parseInt(u,16))});var s=i.indexOf("]]>");return n(i.slice(0,a))+i.slice(a+9,s)+n(i.slice(s+3))}})(),Y2=/[&<>'"]/g,V$=/[\u0000-\u0008\u000b-\u001f]/g;function kn(t){var e=t+"";return e.replace(Y2,function(n){return W2[n]}).replace(V$,function(n){return"_x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+"_"})}function DP(t){return kn(t).replace(/ /g,"_x0020_")}var IF=/[\u0000-\u001f]/g;function X2(t){var e=t+"";return e.replace(Y2,function(n){return W2[n]}).replace(/\n/g,"<br/>").replace(IF,function(n){return"&#x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+";"})}function W$(t){var e=t+"";return e.replace(Y2,function(n){return W2[n]}).replace(IF,function(n){return"&#x"+n.charCodeAt(0).toString(16).toUpperCase()+";"})}var NP=(function(){var t=/&#(\d+);/g;function e(n,r){return String.fromCharCode(parseInt(r,10))}return function(r){return r.replace(t,e)}})();function Y$(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function Zn(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function oE(t){for(var e="",n=0,r=0,i=0,a=0,s=0,l=0;n<t.length;){if(r=t.charCodeAt(n++),r<128){e+=String.fromCharCode(r);continue}if(i=t.charCodeAt(n++),r>191&&r<224){s=(r&31)<<6,s|=i&63,e+=String.fromCharCode(s);continue}if(a=t.charCodeAt(n++),r<240){e+=String.fromCharCode((r&15)<<12|(i&63)<<6|a&63);continue}s=t.charCodeAt(n++),l=((r&7)<<18|(i&63)<<12|(a&63)<<6|s&63)-65536,e+=String.fromCharCode(55296+(l>>>10&1023)),e+=String.fromCharCode(56320+(l&1023))}return e}function kP(t){var e=rc(2*t.length),n,r,i=1,a=0,s=0,l;for(r=0;r<t.length;r+=i)i=1,(l=t.charCodeAt(r))<128?n=l:l<224?(n=(l&31)*64+(t.charCodeAt(r+1)&63),i=2):l<240?(n=(l&15)*4096+(t.charCodeAt(r+1)&63)*64+(t.charCodeAt(r+2)&63),i=3):(i=4,n=(l&7)*262144+(t.charCodeAt(r+1)&63)*4096+(t.charCodeAt(r+2)&63)*64+(t.charCodeAt(r+3)&63),n-=65536,s=55296+(n>>>10&1023),n=56320+(n&1023)),s!==0&&(e[a++]=s&255,e[a++]=s>>>8,s=0),e[a++]=n%256,e[a++]=n>>>8;return e.slice(0,a).toString("ucs2")}function LP(t){return rl(t,"binary").toString("utf8")}var iv="foo bar baz",Hn=tn&&(LP(iv)==oE(iv)&&LP||kP(iv)==oE(iv)&&kP)||oE,Ys=tn?function(t){return rl(t,"utf8").toString("binary")}:function(t){for(var e=[],n=0,r=0,i=0;n<t.length;)switch(r=t.charCodeAt(n++),!0){case r<128:e.push(String.fromCharCode(r));break;case r<2048:e.push(String.fromCharCode(192+(r>>6))),e.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,i=t.charCodeAt(n++)-56320+(r<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(r>>12))),e.push(String.fromCharCode(128+(r>>6&63))),e.push(String.fromCharCode(128+(r&63)))}return e.join("")},pd=(function(){var t={};return function(n,r){var i=n+"|"+(r||"");return t[i]?t[i]:t[i]=new RegExp("<(?:\\w+:)?"+n+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+n+">",r||"")}})(),FF=(function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(n){for(var r=n.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<t.length;++i)r=r.replace(t[i][0],t[i][1]);return r}})(),X$=(function(){var t={};return function(n){return t[n]!==void 0?t[n]:t[n]=new RegExp("<(?:vt:)?"+n+">([\\s\\S]*?)</(?:vt:)?"+n+">","g")}})(),q$=/<\/?(?:vt:)?variant>/g,K$=/<(?:vt:)([^>]*)>([\s\S]*)</;function IP(t,e){var n=Wt(t),r=t.match(X$(n.baseType))||[],i=[];if(r.length!=n.size){if(e.WTF)throw new Error("unexpected vector length "+r.length+" != "+n.size);return i}return r.forEach(function(a){var s=a.replace(q$,"").match(K$);s&&i.push({v:Hn(s[2]),t:s[1]})}),i}var UF=/(^\s|\s$|\n)/;function Ei(t,e){return"<"+t+(e.match(UF)?' xml:space="preserve"':"")+">"+e+"</"+t+">"}function md(t){return xr(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function ct(t,e,n){return"<"+t+(n!=null?md(n):"")+(e!=null?(e.match(UF)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function Qb(t,e){try{return t.toISOString().replace(/\.\d*/,"")}catch(n){if(e)throw n}return""}function $$(t,e){switch(typeof t){case"string":var n=ct("vt:lpwstr",kn(t));return n=n.replace(/&quot;/g,"_x0022_"),n;case"number":return ct((t|0)==t?"vt:i4":"vt:r8",kn(String(t)));case"boolean":return ct("vt:bool",t?"true":"false")}if(t instanceof Date)return ct("vt:filetime",Qb(t));throw new Error("Unable to serialize "+t)}function q2(t){if(tn&&Buffer.isBuffer(t))return t.toString("utf8");if(typeof t=="string")return t;if(typeof Uint8Array<"u"&&t instanceof Uint8Array)return Hn(fc(z2(t)));throw new Error("Bad input format: expected Buffer or string")}var vd=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,jr={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},wu=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Sa={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function Z$(t,e){for(var n=1-2*(t[e+7]>>>7),r=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),i=t[e+6]&15,a=5;a>=0;--a)i=i*256+t[e+a];return r==2047?i==0?n*(1/0):NaN:(r==0?r=-1022:(r-=1023,i+=Math.pow(2,52)),n*Math.pow(2,r-52)*i)}function J$(t,e,n){var r=(e<0||1/e==-1/0?1:0)<<7,i=0,a=0,s=r?-e:e;isFinite(s)?s==0?i=a=0:(i=Math.floor(Math.log(s)/Math.LN2),a=s*Math.pow(2,52-i),i<=-1023&&(!isFinite(a)||a<Math.pow(2,52))?i=-1022:(a-=Math.pow(2,52),i+=1023)):(i=2047,a=isNaN(e)?26985:0);for(var l=0;l<=5;++l,a/=256)t[n+l]=a&255;t[n+6]=(i&15)<<4|a&15,t[n+7]=i>>4|r}var FP=function(t){for(var e=[],n=10240,r=0;r<t[0].length;++r)if(t[0][r])for(var i=0,a=t[0][r].length;i<a;i+=n)e.push.apply(e,t[0][r].slice(i,i+n));return e},UP=tn?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:rl(e)})):FP(t)}:FP,BP=function(t,e,n){for(var r=[],i=e;i<n;i+=2)r.push(String.fromCharCode(Fo(t,i)));return r.join("").replace(qi,"")},K2=tn?function(t,e,n){return Buffer.isBuffer(t)?t.toString("utf16le",e,n).replace(qi,""):BP(t,e,n)}:BP,zP=function(t,e,n){for(var r=[],i=e;i<e+n;++i)r.push(("0"+t[i].toString(16)).slice(-2));return r.join("")},BF=tn?function(t,e,n){return Buffer.isBuffer(t)?t.toString("hex",e,e+n):zP(t,e,n)}:zP,jP=function(t,e,n){for(var r=[],i=e;i<n;i++)r.push(String.fromCharCode(jf(t,i)));return r.join("")},Gd=tn?function(e,n,r){return Buffer.isBuffer(e)?e.toString("utf8",n,r):jP(e,n,r)}:jP,zF=function(t,e){var n=ba(t,e);return n>0?Gd(t,e+4,e+4+n-1):""},jF=zF,HF=function(t,e){var n=ba(t,e);return n>0?Gd(t,e+4,e+4+n-1):""},GF=HF,VF=function(t,e){var n=2*ba(t,e);return n>0?Gd(t,e+4,e+4+n-1):""},WF=VF,YF=function(e,n){var r=ba(e,n);return r>0?K2(e,n+4,n+4+r):""},XF=YF,qF=function(t,e){var n=ba(t,e);return n>0?Gd(t,e+4,e+4+n):""},KF=qF,$F=function(t,e){return Z$(t,e)},sg=$F,$2=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};tn&&(jF=function(e,n){if(!Buffer.isBuffer(e))return zF(e,n);var r=e.readUInt32LE(n);return r>0?e.toString("utf8",n+4,n+4+r-1):""},GF=function(e,n){if(!Buffer.isBuffer(e))return HF(e,n);var r=e.readUInt32LE(n);return r>0?e.toString("utf8",n+4,n+4+r-1):""},WF=function(e,n){if(!Buffer.isBuffer(e))return VF(e,n);var r=2*e.readUInt32LE(n);return e.toString("utf16le",n+4,n+4+r-1)},XF=function(e,n){if(!Buffer.isBuffer(e))return YF(e,n);var r=e.readUInt32LE(n);return e.toString("utf16le",n+4,n+4+r)},KF=function(e,n){if(!Buffer.isBuffer(e))return qF(e,n);var r=e.readUInt32LE(n);return e.toString("utf8",n+4,n+4+r)},sg=function(e,n){return Buffer.isBuffer(e)?e.readDoubleLE(n):$F(e,n)},$2=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var jf=function(t,e){return t[e]},Fo=function(t,e){return t[e+1]*256+t[e]},Q$=function(t,e){var n=t[e+1]*256+t[e];return n<32768?n:(65535-n+1)*-1},ba=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},Vc=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},eZ=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function J0(t,e){var n="",r,i,a=[],s,l,u,f;switch(e){case"dbcs":if(f=this.l,tn&&Buffer.isBuffer(this))n=this.slice(this.l,this.l+2*t).toString("utf16le");else for(u=0;u<t;++u)n+=String.fromCharCode(Fo(this,f)),f+=2;t*=2;break;case"utf8":n=Gd(this,this.l,this.l+t);break;case"utf16le":t*=2,n=K2(this,this.l,this.l+t);break;case"wstr":return J0.call(this,t,"dbcs");case"lpstr-ansi":n=jF(this,this.l),t=4+ba(this,this.l);break;case"lpstr-cp":n=GF(this,this.l),t=4+ba(this,this.l);break;case"lpwstr":n=WF(this,this.l),t=4+2*ba(this,this.l);break;case"lpp4":t=4+ba(this,this.l),n=XF(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+ba(this,this.l),n=KF(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,n="";(s=jf(this,this.l+t++))!==0;)a.push(rv(s));n=a.join("");break;case"_wstr":for(t=0,n="";(s=Fo(this,this.l+t))!==0;)a.push(rv(s)),t+=2;t+=2,n=a.join("");break;case"dbcs-cont":for(n="",f=this.l,u=0;u<t;++u){if(this.lens&&this.lens.indexOf(f)!==-1)return s=jf(this,f),this.l=f+1,l=J0.call(this,t-u,s?"dbcs-cont":"sbcs-cont"),a.join("")+l;a.push(rv(Fo(this,f))),f+=2}n=a.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(n="",f=this.l,u=0;u!=t;++u){if(this.lens&&this.lens.indexOf(f)!==-1)return s=jf(this,f),this.l=f+1,l=J0.call(this,t-u,s?"dbcs-cont":"sbcs-cont"),a.join("")+l;a.push(rv(jf(this,f))),f+=1}n=a.join("");break;default:switch(t){case 1:return r=jf(this,this.l),this.l++,r;case 2:return r=(e==="i"?Q$:Fo)(this,this.l),this.l+=2,r;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(r=(t>0?Vc:eZ)(this,this.l),this.l+=4,r):(i=ba(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return t==8?i=sg(this,this.l):i=sg([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;t=8;case 16:n=BF(this,this.l,t);break}}return this.l+=t,n}var tZ=function(t,e,n){t[n]=e&255,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24&255},nZ=function(t,e,n){t[n]=e&255,t[n+1]=e>>8&255,t[n+2]=e>>16&255,t[n+3]=e>>24&255},rZ=function(t,e,n){t[n]=e&255,t[n+1]=e>>>8&255};function iZ(t,e,n){var r=0,i=0;if(n==="dbcs"){for(i=0;i!=e.length;++i)rZ(this,e.charCodeAt(i),this.l+2*i);r=2*e.length}else if(n==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;r=e.length}else if(n==="hex"){for(;i<t;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(n==="utf16le"){var a=Math.min(this.l+t,this.length);for(i=0;i<Math.min(e.length,t);++i){var s=e.charCodeAt(i);this[this.l++]=s&255,this[this.l++]=s>>8}for(;this.l<a;)this[this.l++]=0;return this}else switch(t){case 1:r=1,this[this.l]=e&255;break;case 2:r=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:r=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:r=4,tZ(this,e,this.l);break;case 8:if(r=8,n==="f"){J$(this,e,this.l);break}case 16:break;case-4:r=4,nZ(this,e,this.l);break}return this.l+=r,this}function ZF(t,e){var n=BF(this,this.l,t.length>>1);if(n!==t)throw new Error(e+"Expected "+t+" saw "+n);this.l+=t.length>>1}function yi(t,e){t.l=e,t.read_shift=J0,t.chk=ZF,t.write_shift=iZ}function Bi(t,e){t.l+=e}function je(t){var e=rc(t);return yi(e,0),e}function il(t,e,n){if(t){var r,i,a;yi(t,t.l||0);for(var s=t.length,l=0,u=0;t.l<s;){l=t.read_shift(1),l&128&&(l=(l&127)+((t.read_shift(1)&127)<<7));var f=Sd[l]||Sd[65535];for(r=t.read_shift(1),a=r&127,i=1;i<4&&r&128;++i)a+=((r=t.read_shift(1))&127)<<7*i;u=t.l+a;var h=f.f&&f.f(t,a,n);if(t.l=u,e(h,f,l))return}}}function la(){var t=[],e=tn?256:2048,n=function(f){var h=je(f);return yi(h,0),h},r=n(e),i=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&t.push(r),r=null)},a=function(f){return r&&f<r.length-r.l?r:(i(),r=n(Math.max(f+1,e)))},s=function(){return i(),ri(t)},l=function(f){i(),r=f,r.l==null&&(r.l=r.length),a(e)};return{next:a,push:l,end:s,_bufs:t}}function Ze(t,e,n,r){var i=+e,a;if(!isNaN(i)){r||(r=Sd[i].p||(n||[]).length||0),a=1+(i>=128?1:0)+1,r>=128&&++a,r>=16384&&++a,r>=2097152&&++a;var s=t.next(a);i<=127?s.write_shift(1,i):(s.write_shift(1,(i&127)+128),s.write_shift(1,i>>7));for(var l=0;l!=4;++l)if(r>=128)s.write_shift(1,(r&127)+128),r>>=7;else{s.write_shift(1,r);break}r>0&&$2(n)&&t.push(n)}}function Q0(t,e,n){var r=tr(t);if(e.s?(r.cRel&&(r.c+=e.s.c),r.rRel&&(r.r+=e.s.r)):(r.cRel&&(r.c+=e.c),r.rRel&&(r.r+=e.r)),!n||n.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function HP(t,e,n){var r=tr(t);return r.s=Q0(r.s,e.s,n),r.e=Q0(r.e,e.s,n),r}function ed(t,e){if(t.cRel&&t.c<0)for(t=tr(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=tr(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var n=Ht(t);return!t.cRel&&t.cRel!=null&&(n=oZ(n)),!t.rRel&&t.rRel!=null&&(n=aZ(n)),n}function lE(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+or(t.s.c)+":"+(t.e.cRel?"":"$")+or(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+br(t.s.r)+":"+(t.e.rRel?"":"$")+br(t.e.r):ed(t.s,e.biff)+":"+ed(t.e,e.biff)}function Z2(t){return parseInt(sZ(t),10)-1}function br(t){return""+(t+1)}function aZ(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function sZ(t){return t.replace(/\$(\d+)$/,"$1")}function J2(t){for(var e=lZ(t),n=0,r=0;r!==e.length;++r)n=26*n+e.charCodeAt(r)-64;return n-1}function or(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function oZ(t){return t.replace(/^([A-Z])/,"$$$1")}function lZ(t){return t.replace(/^\$([A-Z])/,"$1")}function cZ(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function lr(t){for(var e=0,n=0,r=0;r<t.length;++r){var i=t.charCodeAt(r);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(n=26*n+(i-64))}return{c:n-1,r:e-1}}function Ht(t){for(var e=t.c+1,n="";e;e=(e-1)/26|0)n=String.fromCharCode((e-1)%26+65)+n;return n+(t.r+1)}function ca(t){var e=t.indexOf(":");return e==-1?{s:lr(t),e:lr(t)}:{s:lr(t.slice(0,e)),e:lr(t.slice(e+1))}}function Kt(t,e){return typeof e>"u"||typeof e=="number"?Kt(t.s,t.e):(typeof t!="string"&&(t=Ht(t)),typeof e!="string"&&(e=Ht(e)),t==e?t:t+":"+e)}function vn(t){var e={s:{c:0,r:0},e:{c:0,r:0}},n=0,r=0,i=0,a=t.length;for(n=0;r<a&&!((i=t.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(e.s.c=--n,n=0;r<a&&!((i=t.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;if(e.s.r=--n,r===a||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++r,n=0;r!=a&&!((i=t.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(e.e.c=--n,n=0;r!=a&&!((i=t.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;return e.e.r=--n,e}function GP(t,e){var n=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=as(t.z,n?Wr(e):e)}catch{}try{return t.w=as((t.XF||{}).numFmtId||(n?14:0),n?Wr(e):e)}catch{return""+e}}function qo(t,e,n){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&n&&n.dateNF&&(t.z=n.dateNF),t.t=="e"?al[t.v]||t.v:e==null?GP(t,t.v):GP(t,e))}function hc(t,e){var n=e&&e.sheet?e.sheet:"Sheet1",r={};return r[n]=t,{SheetNames:[n],Sheets:r}}function JF(t,e,n){var r=n||{},i=t?Array.isArray(t):r.dense,a=t||(i?[]:{}),s=0,l=0;if(a&&r.origin!=null){if(typeof r.origin=="number")s=r.origin;else{var u=typeof r.origin=="string"?lr(r.origin):r.origin;s=u.r,l=u.c}a["!ref"]||(a["!ref"]="A1:A1")}var f={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(a["!ref"]){var h=vn(a["!ref"]);f.s.c=h.s.c,f.s.r=h.s.r,f.e.c=Math.max(f.e.c,h.e.c),f.e.r=Math.max(f.e.r,h.e.r),s==-1&&(f.e.r=s=h.e.r+1)}for(var p=0;p!=e.length;++p)if(e[p]){if(!Array.isArray(e[p]))throw new Error("aoa_to_sheet expects an array of arrays");for(var m=0;m!=e[p].length;++m)if(!(typeof e[p][m]>"u")){var g={v:e[p][m]},_=s+p,x=l+m;if(f.s.r>_&&(f.s.r=_),f.s.c>x&&(f.s.c=x),f.e.r<_&&(f.e.r=_),f.e.c<x&&(f.e.c=x),e[p][m]&&typeof e[p][m]=="object"&&!Array.isArray(e[p][m])&&!(e[p][m]instanceof Date))g=e[p][m];else if(Array.isArray(g.v)&&(g.f=e[p][m][1],g.v=g.v[0]),g.v===null)if(g.f)g.t="n";else if(r.nullError)g.t="e",g.v=0;else if(r.sheetStubs)g.t="z";else continue;else typeof g.v=="number"?g.t="n":typeof g.v=="boolean"?g.t="b":g.v instanceof Date?(g.z=r.dateNF||jt[14],r.cellDates?(g.t="d",g.w=as(g.z,Wr(g.v))):(g.t="n",g.v=Wr(g.v),g.w=as(g.z,g.v))):g.t="s";if(i)a[_]||(a[_]=[]),a[_][x]&&a[_][x].z&&(g.z=a[_][x].z),a[_][x]=g;else{var y=Ht({c:x,r:_});a[y]&&a[y].z&&(g.z=a[y].z),a[y]=g}}}return f.s.c<1e7&&(a["!ref"]=Kt(f)),a}function Sh(t,e){return JF(null,t,e)}function uZ(t){return t.read_shift(4,"i")}function Ms(t,e){return e||(e=je(4)),e.write_shift(4,t),e}function Fi(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function ii(t,e){var n=!1;return e==null&&(n=!0,e=je(4+2*t.length)),e.write_shift(4,t.length),t.length>0&&e.write_shift(0,t,"dbcs"),n?e.slice(0,e.l):e}function fZ(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function hZ(t,e){return e||(e=je(4)),e.write_shift(2,0),e.write_shift(2,0),e}function Q2(t,e){var n=t.l,r=t.read_shift(1),i=Fi(t),a=[],s={t:i,h:i};if((r&1)!==0){for(var l=t.read_shift(4),u=0;u!=l;++u)a.push(fZ(t));s.r=a}else s.r=[{ich:0,ifnt:0}];return t.l=n+e,s}function dZ(t,e){var n=!1;return e==null&&(n=!0,e=je(15+4*t.t.length)),e.write_shift(1,0),ii(t.t,e),n?e.slice(0,e.l):e}var pZ=Q2;function mZ(t,e){var n=!1;return e==null&&(n=!0,e=je(23+4*t.t.length)),e.write_shift(1,1),ii(t.t,e),e.write_shift(4,1),hZ({},e),n?e.slice(0,e.l):e}function cs(t){var e=t.read_shift(4),n=t.read_shift(2);return n+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:n}}function Au(t,e){return e==null&&(e=je(8)),e.write_shift(-4,t.c),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}function Mu(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}function Cu(t,e){return e==null&&(e=je(4)),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}var vZ=Fi,QF=ii;function ew(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}function og(t,e){var n=!1;return e==null&&(n=!0,e=je(127)),e.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&e.write_shift(0,t,"dbcs"),n?e.slice(0,e.l):e}var gZ=Fi,eT=ew,tw=og;function nw(t){var e=t.slice(t.l,t.l+4),n=e[0]&1,r=e[0]&2;t.l+=4;var i=r===0?sg([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):Vc(e,0)>>2;return n?i/100:i}function eU(t,e){e==null&&(e=je(4));var n=0,r=0,i=t*100;if(t==(t|0)&&t>=-536870912&&t<1<<29?r=1:i==(i|0)&&i>=-536870912&&i<1<<29&&(r=1,n=1),r)e.write_shift(-4,((n?i:t)<<2)+(n+2));else throw new Error("unsupported RkNumber "+t)}function tU(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}function xZ(t,e){return e||(e=je(16)),e.write_shift(4,t.s.r),e.write_shift(4,t.e.r),e.write_shift(4,t.s.c),e.write_shift(4,t.e.c),e}var Ru=tU,bh=xZ;function Ni(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function uu(t,e){return(e||je(8)).write_shift(8,t,"f")}function _Z(t){var e={},n=t.read_shift(1),r=n>>>1,i=t.read_shift(1),a=t.read_shift(2,"i"),s=t.read_shift(1),l=t.read_shift(1),u=t.read_shift(1);switch(t.l++,r){case 0:e.auto=1;break;case 1:e.index=i;var f=Zc[i];f&&(e.rgb=xd(f));break;case 2:e.rgb=xd([s,l,u]);break;case 3:e.theme=i;break}return a!=0&&(e.tint=a>0?a/32767:a/32768),e}function lg(t,e){if(e||(e=je(8)),!t||t.auto)return e.write_shift(4,0),e.write_shift(4,0),e;t.index!=null?(e.write_shift(1,2),e.write_shift(1,t.index)):t.theme!=null?(e.write_shift(1,6),e.write_shift(1,t.theme)):(e.write_shift(1,5),e.write_shift(1,0));var n=t.tint||0;if(n>0?n*=32767:n<0&&(n*=32768),e.write_shift(2,n),!t.rgb||t.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var r=t.rgb||"FFFFFF";typeof r=="number"&&(r=("000000"+r.toString(16)).slice(-6)),e.write_shift(1,parseInt(r.slice(0,2),16)),e.write_shift(1,parseInt(r.slice(2,4),16)),e.write_shift(1,parseInt(r.slice(4,6),16)),e.write_shift(1,255)}return e}function yZ(t){var e=t.read_shift(1);t.l++;var n={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return n}function EZ(t,e){e||(e=je(2));var n=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return e.write_shift(1,n),e.write_shift(1,0),e}function nU(t,e){var n={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},r=t.read_shift(4);switch(r){case 0:return"";case 4294967295:case 4294967294:return n[t.read_shift(4)]||""}if(r>400)throw new Error("Unsupported Clipboard: "+r.toString(16));return t.l-=4,t.read_shift(0,e==1?"lpstr":"lpwstr")}function SZ(t){return nU(t,1)}function bZ(t){return nU(t,2)}var rw=2,aa=3,av=11,VP=12,cg=19,sv=64,TZ=65,wZ=71,AZ=4108,MZ=4126,ti=80,rU=81,CZ=[ti,rU],tT={1:{n:"CodePage",t:rw},2:{n:"Category",t:ti},3:{n:"PresentationFormat",t:ti},4:{n:"ByteCount",t:aa},5:{n:"LineCount",t:aa},6:{n:"ParagraphCount",t:aa},7:{n:"SlideCount",t:aa},8:{n:"NoteCount",t:aa},9:{n:"HiddenCount",t:aa},10:{n:"MultimediaClipCount",t:aa},11:{n:"ScaleCrop",t:av},12:{n:"HeadingPairs",t:AZ},13:{n:"TitlesOfParts",t:MZ},14:{n:"Manager",t:ti},15:{n:"Company",t:ti},16:{n:"LinksUpToDate",t:av},17:{n:"CharacterCount",t:aa},19:{n:"SharedDoc",t:av},22:{n:"HyperlinksChanged",t:av},23:{n:"AppVersion",t:aa,p:"version"},24:{n:"DigSig",t:TZ},26:{n:"ContentType",t:ti},27:{n:"ContentStatus",t:ti},28:{n:"Language",t:ti},29:{n:"Version",t:ti},255:{},2147483648:{n:"Locale",t:cg},2147483651:{n:"Behavior",t:cg},1919054434:{}},nT={1:{n:"CodePage",t:rw},2:{n:"Title",t:ti},3:{n:"Subject",t:ti},4:{n:"Author",t:ti},5:{n:"Keywords",t:ti},6:{n:"Comments",t:ti},7:{n:"Template",t:ti},8:{n:"LastAuthor",t:ti},9:{n:"RevNumber",t:ti},10:{n:"EditTime",t:sv},11:{n:"LastPrinted",t:sv},12:{n:"CreatedDate",t:sv},13:{n:"ModifiedDate",t:sv},14:{n:"PageCount",t:aa},15:{n:"WordCount",t:aa},16:{n:"CharCount",t:aa},17:{n:"Thumbnail",t:wZ},18:{n:"Application",t:ti},19:{n:"DocSecurity",t:aa},255:{},2147483648:{n:"Locale",t:cg},2147483651:{n:"Behavior",t:cg},1919054434:{}},WP={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},RZ=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function OZ(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var PZ=OZ([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Zc=tr(PZ),al={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},iU={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},rT={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},ov={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function iw(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function DZ(t){var e=iw();if(!t||!t.match)return e;var n={};if((t.match(zi)||[]).forEach(function(r){var i=Wt(r);switch(i[0].replace(H$,"<")){case"<?xml":break;case"<Types":e.xmlns=i["xmlns"+(i[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":n[i.Extension]=i.ContentType;break;case"<Override":e[rT[i.ContentType]]!==void 0&&e[rT[i.ContentType]].push(i.PartName);break}}),e.xmlns!==jr.CT)throw new Error("Unknown Namespace: "+e.xmlns);return e.calcchain=e.calcchains.length>0?e.calcchains[0]:"",e.sst=e.strs.length>0?e.strs[0]:"",e.style=e.styles.length>0?e.styles[0]:"",e.defaults=n,delete e.calcchains,e}function aU(t,e){var n=D$(rT),r=[],i;r[r.length]=Tr,r[r.length]=ct("Types",null,{xmlns:jr.CT,"xmlns:xsd":jr.xsd,"xmlns:xsi":jr.xsi}),r=r.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(u){return ct("Default",null,{Extension:u[0],ContentType:u[1]})}));var a=function(u){t[u]&&t[u].length>0&&(i=t[u][0],r[r.length]=ct("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:ov[u][e.bookType]||ov[u].xlsx}))},s=function(u){(t[u]||[]).forEach(function(f){r[r.length]=ct("Override",null,{PartName:(f[0]=="/"?"":"/")+f,ContentType:ov[u][e.bookType]||ov[u].xlsx})})},l=function(u){(t[u]||[]).forEach(function(f){r[r.length]=ct("Override",null,{PartName:(f[0]=="/"?"":"/")+f,ContentType:n[u][0]})})};return a("workbooks"),s("sheets"),s("charts"),l("themes"),["strs","styles"].forEach(a),["coreprops","extprops","custprops"].forEach(l),l("vba"),l("comments"),l("threadedcomments"),l("drawings"),s("metadata"),l("people"),r.length>2&&(r[r.length]="</Types>",r[1]=r[1].replace("/>",">")),r.join("")}var nn={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function gd(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function td(t,e){var n={"!id":{}};if(!t)return n;e.charAt(0)!=="/"&&(e="/"+e);var r={};return(t.match(zi)||[]).forEach(function(i){var a=Wt(i);if(a[0]==="<Relationship"){var s={};s.Type=a.Type,s.Target=a.Target,s.Id=a.Id,a.TargetMode&&(s.TargetMode=a.TargetMode);var l=a.TargetMode==="External"?a.Target:X0(a.Target,e);n[l]=s,r[a.Id]=s}}),n["!id"]=r,n}function Zf(t){var e=[Tr,ct("Relationships",null,{xmlns:jr.RELS})];return xr(t["!id"]).forEach(function(n){e[e.length]=ct("Relationship",null,t["!id"][n])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function Dn(t,e,n,r,i,a){if(i||(i={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),e<0)for(e=t["!idx"];t["!id"]["rId"+e];++e);if(t["!idx"]=e+1,i.Id="rId"+e,i.Type=r,i.Target=n,[nn.HLINK,nn.XPATH,nn.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),t["!id"][i.Id])throw new Error("Cannot rewrite rId "+e);return t["!id"][i.Id]=i,t[("/"+i.Target).replace("//","/")]=i,e}var NZ="application/vnd.oasis.opendocument.spreadsheet";function kZ(t,e){for(var n=q2(t),r,i;r=vd.exec(n);)switch(r[3]){case"manifest":break;case"file-entry":if(i=Wt(r[0],!1),i.path=="/"&&i.type!==NZ)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(e&&e.WTF)throw r}}function LZ(t){var e=[Tr];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var n=0;n<t.length;++n)e.push('  <manifest:file-entry manifest:full-path="'+t[n][0]+'" manifest:media-type="'+t[n][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function YP(t,e,n){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(n||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function IZ(t,e){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function FZ(t){var e=[Tr];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var n=0;n!=t.length;++n)e.push(YP(t[n][0],t[n][1])),e.push(IZ("",t[n][0]));return e.push(YP("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function sU(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+tg.version+"</meta:generator></office:meta></office:document-meta>"}var is=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],UZ=(function(){for(var t=new Array(is.length),e=0;e<is.length;++e){var n=is[e],r="(?:"+n[0].slice(0,n[0].indexOf(":"))+":)"+n[0].slice(n[0].indexOf(":")+1);t[e]=new RegExp("<"+r+"[^>]*>([\\s\\S]*?)</"+r+">")}return t})();function oU(t){var e={};t=Hn(t);for(var n=0;n<is.length;++n){var r=is[n],i=t.match(UZ[n]);i!=null&&i.length>0&&(e[r[1]]=mn(i[1])),r[2]==="date"&&e[r[1]]&&(e[r[1]]=er(e[r[1]]))}return e}function cE(t,e,n,r,i){i[t]!=null||e==null||e===""||(i[t]=e,e=kn(e),r[r.length]=n?ct(t,e,n):Ei(t,e))}function lU(t,e){var n=e||{},r=[Tr,ct("cp:coreProperties",null,{"xmlns:cp":jr.CORE_PROPS,"xmlns:dc":jr.dc,"xmlns:dcterms":jr.dcterms,"xmlns:dcmitype":jr.dcmitype,"xmlns:xsi":jr.xsi})],i={};if(!t&&!n.Props)return r.join("");t&&(t.CreatedDate!=null&&cE("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:Qb(t.CreatedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i),t.ModifiedDate!=null&&cE("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:Qb(t.ModifiedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i));for(var a=0;a!=is.length;++a){var s=is[a],l=n.Props&&n.Props[s[1]]!=null?n.Props[s[1]]:t?t[s[1]]:null;l===!0?l="1":l===!1?l="0":typeof l=="number"&&(l=String(l)),l!=null&&cE(s[0],l,null,r,i)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}var Jc=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],cU=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function uU(t,e,n,r){var i=[];if(typeof t=="string")i=IP(t,r);else for(var a=0;a<t.length;++a)i=i.concat(t[a].map(function(h){return{v:h}}));var s=typeof e=="string"?IP(e,r).map(function(h){return h.v}):e,l=0,u=0;if(s.length>0)for(var f=0;f!==i.length;f+=2){switch(u=+i[f+1].v,i[f].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":n.Worksheets=u,n.SheetNames=s.slice(l,l+u);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":n.NamedRanges=u,n.DefinedNames=s.slice(l,l+u);break;case"Charts":case"Diagramme":n.Chartsheets=u,n.ChartNames=s.slice(l,l+u);break}l+=u}}function BZ(t,e,n){var r={};return e||(e={}),t=Hn(t),Jc.forEach(function(i){var a=(t.match(pd(i[0]))||[])[1];switch(i[2]){case"string":a&&(e[i[1]]=mn(a));break;case"bool":e[i[1]]=a==="true";break;case"raw":var s=t.match(new RegExp("<"+i[0]+"[^>]*>([\\s\\S]*?)</"+i[0]+">"));s&&s.length>0&&(r[i[1]]=s[1]);break}}),r.HeadingPairs&&r.TitlesOfParts&&uU(r.HeadingPairs,r.TitlesOfParts,e,n),e}function fU(t){var e=[],n=ct;return t||(t={}),t.Application="SheetJS",e[e.length]=Tr,e[e.length]=ct("Properties",null,{xmlns:jr.EXT_PROPS,"xmlns:vt":jr.vt}),Jc.forEach(function(r){if(t[r[1]]!==void 0){var i;switch(r[2]){case"string":i=kn(String(t[r[1]]));break;case"bool":i=t[r[1]]?"true":"false";break}i!==void 0&&(e[e.length]=n(r[0],i))}}),e[e.length]=n("HeadingPairs",n("vt:vector",n("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+n("vt:variant",n("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=n("TitlesOfParts",n("vt:vector",t.SheetNames.map(function(r){return"<vt:lpstr>"+kn(r)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var zZ=/<[^>]+>[^<]*/g;function jZ(t,e){var n={},r="",i=t.match(zZ);if(i)for(var a=0;a!=i.length;++a){var s=i[a],l=Wt(s);switch(l[0]){case"<?xml":break;case"<Properties":break;case"<property":r=mn(l.name);break;case"</property>":r=null;break;default:if(s.indexOf("<vt:")===0){var u=s.split(">"),f=u[0].slice(4),h=u[1];switch(f){case"lpstr":case"bstr":case"lpwstr":n[r]=mn(h);break;case"bool":n[r]=Zn(h);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":n[r]=parseInt(h,10);break;case"r4":case"r8":case"decimal":n[r]=parseFloat(h);break;case"filetime":case"date":n[r]=er(h);break;case"cy":case"error":n[r]=mn(h);break;default:if(f.slice(-1)=="/")break;e.WTF&&typeof console<"u"&&console.warn("Unexpected",s,f,u)}}else if(s.slice(0,2)!=="</"){if(e.WTF)throw new Error(s)}}}return n}function hU(t){var e=[Tr,ct("Properties",null,{xmlns:jr.CUST_PROPS,"xmlns:vt":jr.vt})];if(!t)return e.join("");var n=1;return xr(t).forEach(function(i){++n,e[e.length]=ct("property",$$(t[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:n,name:kn(i)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var iT={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},uE;function HZ(t,e,n){uE||(uE=hx(iT)),e=uE[e]||e,t[e]=n}function GZ(t,e){var n=[];return xr(iT).map(function(r){for(var i=0;i<is.length;++i)if(is[i][1]==r)return is[i];for(i=0;i<Jc.length;++i)if(Jc[i][1]==r)return Jc[i];throw r}).forEach(function(r){if(t[r[1]]!=null){var i=e&&e.Props&&e.Props[r[1]]!=null?e.Props[r[1]]:t[r[1]];switch(r[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),n.push(Ei(iT[r[1]]||r[1],i))}}),ct("DocumentProperties",n.join(""),{xmlns:Sa.o})}function VZ(t,e){var n=["Worksheets","SheetNames"],r="CustomDocumentProperties",i=[];return t&&xr(t).forEach(function(a){if(Object.prototype.hasOwnProperty.call(t,a)){for(var s=0;s<is.length;++s)if(a==is[s][1])return;for(s=0;s<Jc.length;++s)if(a==Jc[s][1])return;for(s=0;s<n.length;++s)if(a==n[s])return;var l=t[a],u="string";typeof l=="number"?(u="float",l=String(l)):l===!0||l===!1?(u="boolean",l=l?"1":"0"):l=String(l),i.push(ct(DP(a),l,{"dt:dt":u}))}}),e&&xr(e).forEach(function(a){if(Object.prototype.hasOwnProperty.call(e,a)&&!(t&&Object.prototype.hasOwnProperty.call(t,a))){var s=e[a],l="string";typeof s=="number"?(l="float",s=String(s)):s===!0||s===!1?(l="boolean",s=s?"1":"0"):s instanceof Date?(l="dateTime.tz",s=s.toISOString()):s=String(s),i.push(ct(DP(a),s,{"dt:dt":l}))}}),"<"+r+' xmlns="'+Sa.o+'">'+i.join("")+"</"+r+">"}function aw(t){var e=t.read_shift(4),n=t.read_shift(4);return new Date((n/1e7*Math.pow(2,32)+e/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function WZ(t){var e=typeof t=="string"?new Date(Date.parse(t)):t,n=e.getTime()/1e3+11644473600,r=n%Math.pow(2,32),i=(n-r)/Math.pow(2,32);r*=1e7,i*=1e7;var a=r/Math.pow(2,32)|0;a>0&&(r=r%Math.pow(2,32),i+=a);var s=je(8);return s.write_shift(4,r),s.write_shift(4,i),s}function dU(t,e,n){var r=t.l,i=t.read_shift(0,"lpstr-cp");if(n)for(;t.l-r&3;)++t.l;return i}function pU(t,e,n){var r=t.read_shift(0,"lpwstr");return r}function mU(t,e,n){return e===31?pU(t):dU(t,e,n)}function aT(t,e,n){return mU(t,e,n===!1?0:4)}function YZ(t,e){if(!e)throw new Error("VtUnalignedString must have positive length");return mU(t,e,0)}function XZ(t){for(var e=t.read_shift(4),n=[],r=0;r!=e;++r){var i=t.l;n[r]=t.read_shift(0,"lpwstr").replace(qi,""),t.l-i&2&&(t.l+=2)}return n}function qZ(t){for(var e=t.read_shift(4),n=[],r=0;r!=e;++r)n[r]=t.read_shift(0,"lpstr-cp").replace(qi,"");return n}function KZ(t){var e=t.l,n=ug(t,rU);t[t.l]==0&&t[t.l+1]==0&&t.l-e&2&&(t.l+=2);var r=ug(t,aa);return[n,r]}function $Z(t){for(var e=t.read_shift(4),n=[],r=0;r<e/2;++r)n.push(KZ(t));return n}function XP(t,e){for(var n=t.read_shift(4),r={},i=0;i!=n;++i){var a=t.read_shift(4),s=t.read_shift(4);r[a]=t.read_shift(s,e===1200?"utf16le":"utf8").replace(qi,"").replace(Y0,"!"),e===1200&&s%2&&(t.l+=2)}return t.l&3&&(t.l=t.l>>3<<2),r}function vU(t){var e=t.read_shift(4),n=t.slice(t.l,t.l+e);return t.l+=e,(e&3)>0&&(t.l+=4-(e&3)&3),n}function ZZ(t){var e={};return e.Size=t.read_shift(4),t.l+=e.Size+3-(e.Size-1)%4,e}function ug(t,e,n){var r=t.read_shift(2),i,a=n||{};if(t.l+=2,e!==VP&&r!==e&&CZ.indexOf(e)===-1&&!((e&65534)==4126&&(r&65534)==4126))throw new Error("Expected type "+e+" saw "+r);switch(e===VP?r:e){case 2:return i=t.read_shift(2,"i"),a.raw||(t.l+=2),i;case 3:return i=t.read_shift(4,"i"),i;case 11:return t.read_shift(4)!==0;case 19:return i=t.read_shift(4),i;case 30:return dU(t,r,4).replace(qi,"");case 31:return pU(t);case 64:return aw(t);case 65:return vU(t);case 71:return ZZ(t);case 80:return aT(t,r,!a.raw).replace(qi,"");case 81:return YZ(t,r).replace(qi,"");case 4108:return $Z(t);case 4126:case 4127:return r==4127?XZ(t):qZ(t);default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+r)}}function qP(t,e){var n=je(4),r=je(4);switch(n.write_shift(4,t==80?31:t),t){case 3:r.write_shift(-4,e);break;case 5:r=je(8),r.write_shift(8,e,"f");break;case 11:r.write_shift(4,e?1:0);break;case 64:r=WZ(e);break;case 31:case 80:for(r=je(4+2*(e.length+1)+(e.length%2?0:2)),r.write_shift(4,e.length+1),r.write_shift(0,e,"dbcs");r.l!=r.length;)r.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+e)}return ri([n,r])}function KP(t,e){var n=t.l,r=t.read_shift(4),i=t.read_shift(4),a=[],s=0,l=0,u=-1,f={};for(s=0;s!=i;++s){var h=t.read_shift(4),p=t.read_shift(4);a[s]=[h,p+n]}a.sort(function(w,b){return w[1]-b[1]});var m={};for(s=0;s!=i;++s){if(t.l!==a[s][1]){var g=!0;if(s>0&&e)switch(e[a[s-1][0]].t){case 2:t.l+2===a[s][1]&&(t.l+=2,g=!1);break;case 80:t.l<=a[s][1]&&(t.l=a[s][1],g=!1);break;case 4108:t.l<=a[s][1]&&(t.l=a[s][1],g=!1);break}if((!e||s==0)&&t.l<=a[s][1]&&(g=!1,t.l=a[s][1]),g)throw new Error("Read Error: Expected address "+a[s][1]+" at "+t.l+" :"+s)}if(e){var _=e[a[s][0]];if(m[_.n]=ug(t,_.t,{raw:!0}),_.p==="version"&&(m[_.n]=String(m[_.n]>>16)+"."+("0000"+String(m[_.n]&65535)).slice(-4)),_.n=="CodePage")switch(m[_.n]){case 0:m[_.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:bs(l=m[_.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+m[_.n])}}else if(a[s][0]===1){if(l=m.CodePage=ug(t,rw),bs(l),u!==-1){var x=t.l;t.l=a[u][1],f=XP(t,l),t.l=x}}else if(a[s][0]===0){if(l===0){u=s,t.l=a[s+1][1];continue}f=XP(t,l)}else{var y=f[a[s][0]],E;switch(t[t.l]){case 65:t.l+=4,E=vU(t);break;case 30:t.l+=4,E=aT(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 31:t.l+=4,E=aT(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 3:t.l+=4,E=t.read_shift(4,"i");break;case 19:t.l+=4,E=t.read_shift(4);break;case 5:t.l+=4,E=t.read_shift(8,"f");break;case 11:t.l+=4,E=Er(t,4);break;case 64:t.l+=4,E=er(aw(t));break;default:throw new Error("unparsed value: "+t[t.l])}m[y]=E}}return t.l=n+r,m}var gU=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function JZ(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function $P(t,e,n){var r=je(8),i=[],a=[],s=8,l=0,u=je(8),f=je(8);if(u.write_shift(4,2),u.write_shift(4,1200),f.write_shift(4,1),a.push(u),i.push(f),s+=8+u.length,!e){f=je(8),f.write_shift(4,0),i.unshift(f);var h=[je(4)];for(h[0].write_shift(4,t.length),l=0;l<t.length;++l){var p=t[l][0];for(u=je(8+2*(p.length+1)+(p.length%2?0:2)),u.write_shift(4,l+2),u.write_shift(4,p.length+1),u.write_shift(0,p,"dbcs");u.l!=u.length;)u.write_shift(1,0);h.push(u)}u=ri(h),a.unshift(u),s+=8+u.length}for(l=0;l<t.length;++l)if(!(e&&!e[t[l][0]])&&!(gU.indexOf(t[l][0])>-1||cU.indexOf(t[l][0])>-1)&&t[l][1]!=null){var m=t[l][1],g=0;if(e){g=+e[t[l][0]];var _=n[g];if(_.p=="version"&&typeof m=="string"){var x=m.split(".");m=(+x[0]<<16)+(+x[1]||0)}u=qP(_.t,m)}else{var y=JZ(m);y==-1&&(y=31,m=String(m)),u=qP(y,m)}a.push(u),f=je(8),f.write_shift(4,e?g:2+l),i.push(f),s+=8+u.length}var E=8*(a.length+1);for(l=0;l<a.length;++l)i[l].write_shift(4,E),E+=a[l].length;return r.write_shift(4,s),r.write_shift(4,a.length),ri([r].concat(i).concat(a))}function ZP(t,e,n){var r=t.content;if(!r)return{};yi(r,0);var i,a,s,l,u=0;r.chk("feff","Byte Order: "),r.read_shift(2);var f=r.read_shift(4),h=r.read_shift(16);if(h!==It.utils.consts.HEADER_CLSID&&h!==n)throw new Error("Bad PropertySet CLSID "+h);if(i=r.read_shift(4),i!==1&&i!==2)throw new Error("Unrecognized #Sets: "+i);if(a=r.read_shift(16),l=r.read_shift(4),i===1&&l!==r.l)throw new Error("Length mismatch: "+l+" !== "+r.l);i===2&&(s=r.read_shift(16),u=r.read_shift(4));var p=KP(r,e),m={SystemIdentifier:f};for(var g in p)m[g]=p[g];if(m.FMTID=a,i===1)return m;if(u-r.l==2&&(r.l+=2),r.l!==u)throw new Error("Length mismatch 2: "+r.l+" !== "+u);var _;try{_=KP(r,null)}catch{}for(g in _)m[g]=_[g];return m.FMTID=[a,s],m}function JP(t,e,n,r,i,a){var s=je(i?68:48),l=[s];s.write_shift(2,65534),s.write_shift(2,0),s.write_shift(4,842412599),s.write_shift(16,It.utils.consts.HEADER_CLSID,"hex"),s.write_shift(4,i?2:1),s.write_shift(16,e,"hex"),s.write_shift(4,i?68:48);var u=$P(t,n,r);if(l.push(u),i){var f=$P(i,null,null);s.write_shift(16,a,"hex"),s.write_shift(4,68+u.length),l.push(f)}return ri(l)}function Vl(t,e){return t.read_shift(e),null}function QZ(t,e){e||(e=je(t));for(var n=0;n<t;++n)e.write_shift(1,0);return e}function eJ(t,e,n){for(var r=[],i=t.l+e;t.l<i;)r.push(n(t,i-t.l));if(i!==t.l)throw new Error("Slurp error");return r}function Er(t,e){return t.read_shift(e)===1}function Wi(t,e){return e||(e=je(2)),e.write_shift(2,+!!t),e}function Dr(t){return t.read_shift(2,"u")}function Qa(t,e){return e||(e=je(2)),e.write_shift(2,t),e}function xU(t,e){return eJ(t,e,Dr)}function tJ(t){var e=t.read_shift(1),n=t.read_shift(1);return n===1?e:e===1}function _U(t,e,n){return n||(n=je(2)),n.write_shift(1,e=="e"?+t:+!!t),n.write_shift(1,e=="e"?1:0),n}function Vd(t,e,n){var r=t.read_shift(n&&n.biff>=12?2:1),i="sbcs-cont";if(n&&n.biff>=8,!n||n.biff==8){var a=t.read_shift(1);a&&(i="dbcs-cont")}else n.biff==12&&(i="wstr");n.biff>=2&&n.biff<=5&&(i="cpstr");var s=r?t.read_shift(r,i):"";return s}function nJ(t){var e=t.read_shift(2),n=t.read_shift(1),r=n&4,i=n&8,a=1+(n&1),s=0,l,u={};i&&(s=t.read_shift(2)),r&&(l=t.read_shift(4));var f=a==2?"dbcs-cont":"sbcs-cont",h=e===0?"":t.read_shift(e,f);return i&&(t.l+=4*s),r&&(t.l+=l),u.t=h,i||(u.raw="<t>"+u.t+"</t>",u.r=u.t),u}function rJ(t){var e=t.t||"",n=je(3);n.write_shift(2,e.length),n.write_shift(1,1);var r=je(2*e.length);r.write_shift(2*e.length,e,"utf16le");var i=[n,r];return ri(i)}function fu(t,e,n){var r;if(n){if(n.biff>=2&&n.biff<=5)return t.read_shift(e,"cpstr");if(n.biff>=12)return t.read_shift(e,"dbcs-cont")}var i=t.read_shift(1);return i===0?r=t.read_shift(e,"sbcs-cont"):r=t.read_shift(e,"dbcs-cont"),r}function Wd(t,e,n){var r=t.read_shift(n&&n.biff==2?1:2);return r===0?(t.l++,""):fu(t,r,n)}function Ou(t,e,n){if(n.biff>5)return Wd(t,e,n);var r=t.read_shift(1);return r===0?(t.l++,""):t.read_shift(r,n.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function yU(t,e,n){return n||(n=je(3+2*t.length)),n.write_shift(2,t.length),n.write_shift(1,1),n.write_shift(31,t,"utf16le"),n}function iJ(t){var e=t.read_shift(1);t.l++;var n=t.read_shift(2);return t.l+=2,[e,n]}function aJ(t){var e=t.read_shift(4),n=t.l,r=!1;e>24&&(t.l+=e-24,t.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(r=!0),t.l=n);var i=t.read_shift((r?e-24:e)>>1,"utf16le").replace(qi,"");return r&&(t.l+=24),i}function sJ(t){for(var e=t.read_shift(2),n="";e-- >0;)n+="../";var r=t.read_shift(0,"lpstr-ansi");if(t.l+=2,t.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var i=t.read_shift(4);if(i===0)return n+r.replace(/\\/g,"/");var a=t.read_shift(4);if(t.read_shift(2)!=3)throw new Error("Bad FileMoniker");var s=t.read_shift(a>>1,"utf16le").replace(qi,"");return n+s}function oJ(t,e){var n=t.read_shift(16);switch(n){case"e0c9ea79f9bace118c8200aa004ba90b":return aJ(t);case"0303000000000000c000000000000046":return sJ(t);default:throw new Error("Unsupported Moniker "+n)}}function lv(t){var e=t.read_shift(4),n=e>0?t.read_shift(e,"utf16le").replace(qi,""):"";return n}function QP(t,e){e||(e=je(6+t.length*2)),e.write_shift(4,1+t.length);for(var n=0;n<t.length;++n)e.write_shift(2,t.charCodeAt(n));return e.write_shift(2,0),e}function lJ(t,e){var n=t.l+e,r=t.read_shift(4);if(r!==2)throw new Error("Unrecognized streamVersion: "+r);var i=t.read_shift(2);t.l+=2;var a,s,l,u,f="",h,p;i&16&&(a=lv(t,n-t.l)),i&128&&(s=lv(t,n-t.l)),(i&257)===257&&(l=lv(t,n-t.l)),(i&257)===1&&(u=oJ(t,n-t.l)),i&8&&(f=lv(t,n-t.l)),i&32&&(h=t.read_shift(16)),i&64&&(p=aw(t)),t.l=n;var m=s||l||u||"";m&&f&&(m+="#"+f),m||(m="#"+f),i&2&&m.charAt(0)=="/"&&m.charAt(1)!="/"&&(m="file://"+m);var g={Target:m};return h&&(g.guid=h),p&&(g.time=p),a&&(g.Tooltip=a),g}function cJ(t){var e=je(512),n=0,r=t.Target;r.slice(0,7)=="file://"&&(r=r.slice(7));var i=r.indexOf("#"),a=i>-1?31:23;switch(r.charAt(0)){case"#":a=28;break;case".":a&=-3;break}e.write_shift(4,2),e.write_shift(4,a);var s=[8,6815827,6619237,4849780,83];for(n=0;n<s.length;++n)e.write_shift(4,s[n]);if(a==28)r=r.slice(1),QP(r,e);else if(a&2){for(s="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),n=0;n<s.length;++n)e.write_shift(1,parseInt(s[n],16));var l=i>-1?r.slice(0,i):r;for(e.write_shift(4,2*(l.length+1)),n=0;n<l.length;++n)e.write_shift(2,l.charCodeAt(n));e.write_shift(2,0),a&8&&QP(i>-1?r.slice(i+1):"",e)}else{for(s="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),n=0;n<s.length;++n)e.write_shift(1,parseInt(s[n],16));for(var u=0;r.slice(u*3,u*3+3)=="../"||r.slice(u*3,u*3+3)=="..\\";)++u;for(e.write_shift(2,u),e.write_shift(4,r.length-3*u+1),n=0;n<r.length-3*u;++n)e.write_shift(1,r.charCodeAt(n+3*u)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),n=0;n<6;++n)e.write_shift(4,0)}return e.slice(0,e.l)}function EU(t){var e=t.read_shift(1),n=t.read_shift(1),r=t.read_shift(1),i=t.read_shift(1);return[e,n,r,i]}function SU(t,e){var n=EU(t);return n[3]=0,n}function ao(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2);return{r:e,c:n,ixfe:r}}function hu(t,e,n,r){return r||(r=je(6)),r.write_shift(2,t),r.write_shift(2,e),r.write_shift(2,n||0),r}function uJ(t){var e=t.read_shift(2),n=t.read_shift(2);return t.l+=8,{type:e,flags:n}}function fJ(t,e,n){return e===0?"":Ou(t,e,n)}function hJ(t,e,n){var r=n.biff>8?4:2,i=t.read_shift(r),a=t.read_shift(r,"i"),s=t.read_shift(r,"i");return[i,a,s]}function bU(t){var e=t.read_shift(2),n=nw(t);return[e,n]}function dJ(t,e,n){t.l+=4,e-=4;var r=t.l+e,i=Vd(t,e,n),a=t.read_shift(2);if(r-=t.l,a!==r)throw new Error("Malformed AddinUdf: padding = "+r+" != "+a);return t.l+=a,i}function mx(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2),i=t.read_shift(2);return{s:{c:r,r:e},e:{c:i,r:n}}}function TU(t,e){return e||(e=je(8)),e.write_shift(2,t.s.r),e.write_shift(2,t.e.r),e.write_shift(2,t.s.c),e.write_shift(2,t.e.c),e}function wU(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(1),i=t.read_shift(1);return{s:{c:r,r:e},e:{c:i,r:n}}}var pJ=wU;function AU(t){t.l+=4;var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2);return t.l+=12,[n,e,r]}function mJ(t){var e={};return t.l+=4,t.l+=16,e.fSharedNote=t.read_shift(2),t.l+=4,e}function vJ(t){var e={};return t.l+=4,t.cf=t.read_shift(2),e}function Ci(t){t.l+=2,t.l+=t.read_shift(2)}var gJ={0:Ci,4:Ci,5:Ci,6:Ci,7:vJ,8:Ci,9:Ci,10:Ci,11:Ci,12:Ci,13:mJ,14:Ci,15:Ci,16:Ci,17:Ci,18:Ci,19:Ci,20:Ci,21:AU};function xJ(t,e){for(var n=t.l+e,r=[];t.l<n;){var i=t.read_shift(2);t.l-=2;try{r.push(gJ[i](t,n-t.l))}catch{return t.l=n,r}}return t.l!=n&&(t.l=n),r}function cv(t,e){var n={BIFFVer:0,dt:0};switch(n.BIFFVer=t.read_shift(2),e-=2,e>=2&&(n.dt=t.read_shift(2),t.l-=2),n.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(e>6)throw new Error("Unexpected BIFF Ver "+n.BIFFVer)}return t.read_shift(e),n}function sw(t,e,n){var r=1536,i=16;switch(n.bookType){case"biff8":break;case"biff5":r=1280,i=8;break;case"biff4":r=4,i=6;break;case"biff3":r=3,i=6;break;case"biff2":r=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var a=je(i);return a.write_shift(2,r),a.write_shift(2,e),i>4&&a.write_shift(2,29282),i>6&&a.write_shift(2,1997),i>8&&(a.write_shift(2,49161),a.write_shift(2,1),a.write_shift(2,1798),a.write_shift(2,0)),a}function _J(t,e){return e===0||t.read_shift(2),1200}function yJ(t,e,n){if(n.enc)return t.l+=e,"";var r=t.l,i=Ou(t,0,n);return t.read_shift(e+r-t.l),i}function EJ(t,e){var n=!e||e.biff==8,r=je(n?112:54);for(r.write_shift(e.biff==8?2:1,7),n&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(n?0:536870912));r.l<r.length;)r.write_shift(1,n?0:32);return r}function SJ(t,e,n){var r=n&&n.biff==8||e==2?t.read_shift(2):(t.l+=e,0);return{fDialog:r&16,fBelow:r&64,fRight:r&128}}function bJ(t,e,n){var r=t.read_shift(4),i=t.read_shift(1)&3,a=t.read_shift(1);switch(a){case 0:a="Worksheet";break;case 1:a="Macrosheet";break;case 2:a="Chartsheet";break;case 6:a="VBAModule";break}var s=Vd(t,0,n);return s.length===0&&(s="Sheet1"),{pos:r,hs:i,dt:a,name:s}}function TJ(t,e){var n=!e||e.biff>=8?2:1,r=je(8+n*t.name.length);r.write_shift(4,t.pos),r.write_shift(1,t.hs||0),r.write_shift(1,t.dt),r.write_shift(1,t.name.length),e.biff>=8&&r.write_shift(1,1),r.write_shift(n*t.name.length,t.name,e.biff<8?"sbcs":"utf16le");var i=r.slice(0,r.l);return i.l=r.l,i}function wJ(t,e){for(var n=t.l+e,r=t.read_shift(4),i=t.read_shift(4),a=[],s=0;s!=i&&t.l<n;++s)a.push(nJ(t));return a.Count=r,a.Unique=i,a}function AJ(t,e){var n=je(8);n.write_shift(4,t.Count),n.write_shift(4,t.Unique);for(var r=[],i=0;i<t.length;++i)r[i]=rJ(t[i]);var a=ri([n].concat(r));return a.parts=[n.length].concat(r.map(function(s){return s.length})),a}function MJ(t,e){var n={};return n.dsst=t.read_shift(2),t.l+=e-2,n}function CJ(t){var e={};e.r=t.read_shift(2),e.c=t.read_shift(2),e.cnt=t.read_shift(2)-e.c;var n=t.read_shift(2);t.l+=4;var r=t.read_shift(1);return t.l+=3,r&7&&(e.level=r&7),r&32&&(e.hidden=!0),r&64&&(e.hpt=n/20),e}function RJ(t){var e=uJ(t);if(e.type!=2211)throw new Error("Invalid Future Record "+e.type);var n=t.read_shift(4);return n!==0}function OJ(t){return t.read_shift(2),t.read_shift(4)}function eD(t,e,n){var r=0;n&&n.biff==2||(r=t.read_shift(2));var i=t.read_shift(2);n&&n.biff==2&&(r=1-(i>>15),i&=32767);var a={Unsynced:r&1,DyZero:(r&2)>>1,ExAsc:(r&4)>>2,ExDsc:(r&8)>>3};return[a,i]}function PJ(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2),i=t.read_shift(2),a=t.read_shift(2),s=t.read_shift(2),l=t.read_shift(2),u=t.read_shift(2),f=t.read_shift(2);return{Pos:[e,n],Dim:[r,i],Flags:a,CurTab:s,FirstTab:l,Selected:u,TabRatio:f}}function DJ(){var t=je(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function NJ(t,e,n){if(n&&n.biff>=2&&n.biff<5)return{};var r=t.read_shift(2);return{RTL:r&64}}function kJ(t){var e=je(18),n=1718;return t&&t.RTL&&(n|=64),e.write_shift(2,n),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function LJ(){}function IJ(t,e,n){var r={dyHeight:t.read_shift(2),fl:t.read_shift(2)};switch(n&&n.biff||8){case 2:break;case 3:case 4:t.l+=2;break;default:t.l+=10;break}return r.name=Vd(t,0,n),r}function FJ(t,e){var n=t.name||"Arial",r=e&&e.biff==5,i=r?15+n.length:16+2*n.length,a=je(i);return a.write_shift(2,t.sz*20),a.write_shift(4,0),a.write_shift(2,400),a.write_shift(4,0),a.write_shift(2,0),a.write_shift(1,n.length),r||a.write_shift(1,1),a.write_shift((r?1:2)*n.length,n,r?"sbcs":"utf16le"),a}function UJ(t){var e=ao(t);return e.isst=t.read_shift(4),e}function BJ(t,e,n,r){var i=je(10);return hu(t,e,r,i),i.write_shift(4,n),i}function zJ(t,e,n){n.biffguess&&n.biff==2&&(n.biff=5);var r=t.l+e,i=ao(t);n.biff==2&&t.l++;var a=Wd(t,r-t.l,n);return i.val=a,i}function jJ(t,e,n,r,i){var a=!i||i.biff==8,s=je(8+ +a+(1+a)*n.length);return hu(t,e,r,s),s.write_shift(2,n.length),a&&s.write_shift(1,1),s.write_shift((1+a)*n.length,n,a?"utf16le":"sbcs"),s}function HJ(t,e,n){var r=t.read_shift(2),i=Ou(t,0,n);return[r,i]}function GJ(t,e,n,r){var i=n&&n.biff==5;r||(r=je(i?3+e.length:5+2*e.length)),r.write_shift(2,t),r.write_shift(i?1:2,e.length),i||r.write_shift(1,1),r.write_shift((i?1:2)*e.length,e,i?"sbcs":"utf16le");var a=r.length>r.l?r.slice(0,r.l):r;return a.l==null&&(a.l=a.length),a}var VJ=Ou;function tD(t,e,n){var r=t.l+e,i=n.biff==8||!n.biff?4:2,a=t.read_shift(i),s=t.read_shift(i),l=t.read_shift(2),u=t.read_shift(2);return t.l=r,{s:{r:a,c:l},e:{r:s,c:u}}}function WJ(t,e){var n=e.biff==8||!e.biff?4:2,r=je(2*n+6);return r.write_shift(n,t.s.r),r.write_shift(n,t.e.r+1),r.write_shift(2,t.s.c),r.write_shift(2,t.e.c+1),r.write_shift(2,0),r}function YJ(t){var e=t.read_shift(2),n=t.read_shift(2),r=bU(t);return{r:e,c:n,ixfe:r[0],rknum:r[1]}}function XJ(t,e){for(var n=t.l+e-2,r=t.read_shift(2),i=t.read_shift(2),a=[];t.l<n;)a.push(bU(t));if(t.l!==n)throw new Error("MulRK read error");var s=t.read_shift(2);if(a.length!=s-i+1)throw new Error("MulRK length mismatch");return{r,c:i,C:s,rkrec:a}}function qJ(t,e){for(var n=t.l+e-2,r=t.read_shift(2),i=t.read_shift(2),a=[];t.l<n;)a.push(t.read_shift(2));if(t.l!==n)throw new Error("MulBlank read error");var s=t.read_shift(2);if(a.length!=s-i+1)throw new Error("MulBlank length mismatch");return{r,c:i,C:s,ixfe:a}}function KJ(t,e,n,r){var i={},a=t.read_shift(4),s=t.read_shift(4),l=t.read_shift(4),u=t.read_shift(2);return i.patternType=RZ[l>>26],r.cellStyles&&(i.alc=a&7,i.fWrap=a>>3&1,i.alcV=a>>4&7,i.fJustLast=a>>7&1,i.trot=a>>8&255,i.cIndent=a>>16&15,i.fShrinkToFit=a>>20&1,i.iReadOrder=a>>22&2,i.fAtrNum=a>>26&1,i.fAtrFnt=a>>27&1,i.fAtrAlc=a>>28&1,i.fAtrBdr=a>>29&1,i.fAtrPat=a>>30&1,i.fAtrProt=a>>31&1,i.dgLeft=s&15,i.dgRight=s>>4&15,i.dgTop=s>>8&15,i.dgBottom=s>>12&15,i.icvLeft=s>>16&127,i.icvRight=s>>23&127,i.grbitDiag=s>>30&3,i.icvTop=l&127,i.icvBottom=l>>7&127,i.icvDiag=l>>14&127,i.dgDiag=l>>21&15,i.icvFore=u&127,i.icvBack=u>>7&127,i.fsxButton=u>>14&1),i}function $J(t,e,n){var r={};return r.ifnt=t.read_shift(2),r.numFmtId=t.read_shift(2),r.flags=t.read_shift(2),r.fStyle=r.flags>>2&1,e-=6,r.data=KJ(t,e,r.fStyle,n),r}function nD(t,e,n,r){var i=n&&n.biff==5;r||(r=je(i?16:20)),r.write_shift(2,0),t.style?(r.write_shift(2,t.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,t.numFmtId||0),r.write_shift(2,e<<4));var a=0;return t.numFmtId>0&&i&&(a|=1024),r.write_shift(4,a),r.write_shift(4,0),i||r.write_shift(4,0),r.write_shift(2,0),r}function ZJ(t){t.l+=4;var e=[t.read_shift(2),t.read_shift(2)];if(e[0]!==0&&e[0]--,e[1]!==0&&e[1]--,e[0]>7||e[1]>7)throw new Error("Bad Gutters: "+e.join("|"));return e}function JJ(t){var e=je(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function rD(t,e,n){var r=ao(t);(n.biff==2||e==9)&&++t.l;var i=tJ(t);return r.val=i,r.t=i===!0||i===!1?"b":"e",r}function QJ(t,e,n,r,i,a){var s=je(8);return hu(t,e,r,s),_U(n,a,s),s}function eQ(t,e,n){n.biffguess&&n.biff==2&&(n.biff=5);var r=ao(t),i=Ni(t);return r.val=i,r}function tQ(t,e,n,r){var i=je(14);return hu(t,e,r,i),uu(n,i),i}var iD=fJ;function nQ(t,e,n){var r=t.l+e,i=t.read_shift(2),a=t.read_shift(2);if(n.sbcch=a,a==1025||a==14849)return[a,i];if(a<1||a>255)throw new Error("Unexpected SupBook type: "+a);for(var s=fu(t,a),l=[];r>t.l;)l.push(Wd(t));return[a,i,s,l]}function aD(t,e,n){var r=t.read_shift(2),i,a={fBuiltIn:r&1,fWantAdvise:r>>>1&1,fWantPict:r>>>2&1,fOle:r>>>3&1,fOleLink:r>>>4&1,cf:r>>>5&1023,fIcon:r>>>15&1};return n.sbcch===14849&&(i=dJ(t,e-2,n)),a.body=i||t.read_shift(e-2),typeof i=="string"&&(a.Name=i),a}var rQ=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function sD(t,e,n){var r=t.l+e,i=t.read_shift(2),a=t.read_shift(1),s=t.read_shift(1),l=t.read_shift(n&&n.biff==2?1:2),u=0;(!n||n.biff>=5)&&(n.biff!=5&&(t.l+=2),u=t.read_shift(2),n.biff==5&&(t.l+=2),t.l+=4);var f=fu(t,s,n);i&32&&(f=rQ[f.charCodeAt(0)]);var h=r-t.l;n&&n.biff==2&&--h;var p=r==t.l||l===0||!(h>0)?[]:xre(t,h,n,l);return{chKey:a,Name:f,itab:u,rgce:p}}function MU(t,e,n){if(n.biff<8)return iQ(t,e,n);for(var r=[],i=t.l+e,a=t.read_shift(n.biff>8?4:2);a--!==0;)r.push(hJ(t,n.biff>8?12:6,n));if(t.l!=i)throw new Error("Bad ExternSheet: "+t.l+" != "+i);return r}function iQ(t,e,n){t[t.l+1]==3&&t[t.l]++;var r=Vd(t,e,n);return r.charCodeAt(0)==3?r.slice(1):r}function aQ(t,e,n){if(n.biff<8){t.l+=e;return}var r=t.read_shift(2),i=t.read_shift(2),a=fu(t,r,n),s=fu(t,i,n);return[a,s]}function sQ(t,e,n){var r=wU(t);t.l++;var i=t.read_shift(1);return e-=8,[_re(t,e,n),i,r]}function oD(t,e,n){var r=pJ(t);switch(n.biff){case 2:t.l++,e-=7;break;case 3:case 4:t.l+=2,e-=8;break;default:t.l+=6,e-=12}return[r,vre(t,e,n)]}function oQ(t){var e=t.read_shift(4)!==0,n=t.read_shift(4)!==0,r=t.read_shift(4);return[e,n,r]}function lQ(t,e,n){if(!(n.biff<8)){var r=t.read_shift(2),i=t.read_shift(2),a=t.read_shift(2),s=t.read_shift(2),l=Ou(t,0,n);return n.biff<8&&t.read_shift(1),[{r,c:i},l,s,a]}}function cQ(t,e,n){return lQ(t,e,n)}function uQ(t,e){for(var n=[],r=t.read_shift(2);r--;)n.push(mx(t));return n}function fQ(t){var e=je(2+t.length*8);e.write_shift(2,t.length);for(var n=0;n<t.length;++n)TU(t[n],e);return e}function hQ(t,e,n){if(n&&n.biff<8)return pQ(t,e,n);var r=AU(t),i=xJ(t,e-22,r[1]);return{cmo:r,ft:i}}var dQ={8:function(t,e){var n=t.l+e;t.l+=10;var r=t.read_shift(2);t.l+=4,t.l+=2,t.l+=2,t.l+=2,t.l+=4;var i=t.read_shift(1);return t.l+=i,t.l=n,{fmt:r}}};function pQ(t,e,n){t.l+=4;var r=t.read_shift(2),i=t.read_shift(2),a=t.read_shift(2);t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=6,e-=36;var s=[];return s.push((dQ[r]||Bi)(t,e,n)),{cmo:[i,r,a],ft:s}}function mQ(t,e,n){var r=t.l,i="";try{t.l+=4;var a=(n.lastobj||{cmo:[0,0]}).cmo[1],s;[0,5,7,11,12,14].indexOf(a)==-1?t.l+=6:s=iJ(t,6,n);var l=t.read_shift(2);t.read_shift(2),Dr(t,2);var u=t.read_shift(2);t.l+=u;for(var f=1;f<t.lens.length-1;++f){if(t.l-r!=t.lens[f])throw new Error("TxO: bad continue record");var h=t[t.l],p=fu(t,t.lens[f+1]-t.lens[f]-1);if(i+=p,i.length>=(h?l:2*l))break}if(i.length!==l&&i.length!==l*2)throw new Error("cchText: "+l+" != "+i.length);return t.l=r+e,{t:i}}catch{return t.l=r+e,{t:i}}}function vQ(t,e){var n=mx(t);t.l+=16;var r=lJ(t,e-24);return[n,r]}function gQ(t){var e=je(24),n=lr(t[0]);e.write_shift(2,n.r),e.write_shift(2,n.r),e.write_shift(2,n.c),e.write_shift(2,n.c);for(var r="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)e.write_shift(1,parseInt(r[i],16));return ri([e,cJ(t[1])])}function xQ(t,e){t.read_shift(2);var n=mx(t),r=t.read_shift((e-10)/2,"dbcs-cont");return r=r.replace(qi,""),[n,r]}function _Q(t){var e=t[1].Tooltip,n=je(10+2*(e.length+1));n.write_shift(2,2048);var r=lr(t[0]);n.write_shift(2,r.r),n.write_shift(2,r.r),n.write_shift(2,r.c),n.write_shift(2,r.c);for(var i=0;i<e.length;++i)n.write_shift(2,e.charCodeAt(i));return n.write_shift(2,0),n}function yQ(t){var e=[0,0],n;return n=t.read_shift(2),e[0]=WP[n]||n,n=t.read_shift(2),e[1]=WP[n]||n,e}function EQ(t){return t||(t=je(4)),t.write_shift(2,1),t.write_shift(2,1),t}function SQ(t){for(var e=t.read_shift(2),n=[];e-- >0;)n.push(SU(t));return n}function bQ(t){for(var e=t.read_shift(2),n=[];e-- >0;)n.push(SU(t));return n}function TQ(t){t.l+=2;var e={cxfs:0,crc:0};return e.cxfs=t.read_shift(2),e.crc=t.read_shift(4),e}function CU(t,e,n){if(!n.cellStyles)return Bi(t,e);var r=n&&n.biff>=12?4:2,i=t.read_shift(r),a=t.read_shift(r),s=t.read_shift(r),l=t.read_shift(r),u=t.read_shift(2);r==2&&(t.l+=2);var f={s:i,e:a,w:s,ixfe:l,flags:u};return(n.biff>=5||!n.biff)&&(f.level=u>>8&7),f}function wQ(t,e){var n=je(12);n.write_shift(2,e),n.write_shift(2,e),n.write_shift(2,t.width*256),n.write_shift(2,0);var r=0;return t.hidden&&(r|=1),n.write_shift(1,r),r=t.level||0,n.write_shift(1,r),n.write_shift(2,0),n}function AQ(t,e){var n={};return e<32||(t.l+=16,n.header=Ni(t),n.footer=Ni(t),t.l+=2),n}function MQ(t,e,n){var r={area:!1};if(n.biff!=5)return t.l+=e,r;var i=t.read_shift(1);return t.l+=3,i&16&&(r.area=!0),r}function CQ(t){for(var e=je(2*t),n=0;n<t;++n)e.write_shift(2,n+1);return e}var RQ=ao,OQ=xU,PQ=Wd;function DQ(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(4),i={fmt:e,env:n,len:r,data:t.slice(t.l,t.l+r)};return t.l+=r,i}function NQ(t,e,n){n.biffguess&&n.biff==5&&(n.biff=2);var r=ao(t);++t.l;var i=Ou(t,e-7,n);return r.t="str",r.val=i,r}function kQ(t){var e=ao(t);++t.l;var n=Ni(t);return e.t="n",e.val=n,e}function LQ(t,e,n){var r=je(15);return Kd(r,t,e),r.write_shift(8,n,"f"),r}function IQ(t){var e=ao(t);++t.l;var n=t.read_shift(2);return e.t="n",e.val=n,e}function FQ(t,e,n){var r=je(9);return Kd(r,t,e),r.write_shift(2,n),r}function UQ(t){var e=t.read_shift(1);return e===0?(t.l++,""):t.read_shift(e,"sbcs-cont")}function BQ(t,e){t.l+=6,t.l+=2,t.l+=1,t.l+=3,t.l+=1,t.l+=e-13}function zQ(t,e,n){var r=t.l+e,i=ao(t),a=t.read_shift(2),s=fu(t,a,n);return t.l=r,i.t="str",i.val=s,i}var jQ=[2,3,48,49,131,139,140,245],sT=(function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=hx({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(l,u){var f=[],h=rc(1);switch(u.type){case"base64":h=wa(Pa(l));break;case"binary":h=wa(l);break;case"buffer":case"array":h=l;break}yi(h,0);var p=h.read_shift(1),m=!!(p&136),g=!1,_=!1;switch(p){case 2:break;case 3:break;case 48:g=!0,m=!0;break;case 49:g=!0,m=!0;break;case 131:break;case 139:break;case 140:_=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+p.toString(16))}var x=0,y=521;p==2&&(x=h.read_shift(2)),h.l+=3,p!=2&&(x=h.read_shift(4)),x>1048576&&(x=1e6),p!=2&&(y=h.read_shift(2));var E=h.read_shift(2),w=u.codepage||1252;p!=2&&(h.l+=16,h.read_shift(1),h[h.l]!==0&&(w=t[h[h.l]]),h.l+=1,h.l+=2),_&&(h.l+=36);for(var b=[],M={},A=Math.min(h.length,p==2?521:y-10-(g?264:0)),C=_?32:11;h.l<A&&h[h.l]!=13;)switch(M={},M.name=fd.utils.decode(w,h.slice(h.l,h.l+C)).replace(/[\u0000\r\n].*$/g,""),h.l+=C,M.type=String.fromCharCode(h.read_shift(1)),p!=2&&!_&&(M.offset=h.read_shift(4)),M.len=h.read_shift(1),p==2&&(M.offset=h.read_shift(2)),M.dec=h.read_shift(1),M.name.length&&b.push(M),p!=2&&(h.l+=_?13:14),M.type){case"B":(!g||M.len!=8)&&u.WTF&&console.log("Skipping "+M.name+":"+M.type);break;case"G":case"P":u.WTF&&console.log("Skipping "+M.name+":"+M.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+M.type)}if(h[h.l]!==13&&(h.l=y-1),h.read_shift(1)!==13)throw new Error("DBF Terminator not found "+h.l+" "+h[h.l]);h.l=y;var R=0,F=0;for(f[0]=[],F=0;F!=b.length;++F)f[0][F]=b[F].name;for(;x-- >0;){if(h[h.l]===42){h.l+=E;continue}for(++h.l,f[++R]=[],F=0,F=0;F!=b.length;++F){var O=h.slice(h.l,h.l+b[F].len);h.l+=b[F].len,yi(O,0);var k=fd.utils.decode(w,O);switch(b[F].type){case"C":k.trim().length&&(f[R][F]=k.replace(/\s+$/,""));break;case"D":k.length===8?f[R][F]=new Date(+k.slice(0,4),+k.slice(4,6)-1,+k.slice(6,8)):f[R][F]=k;break;case"F":f[R][F]=parseFloat(k.trim());break;case"+":case"I":f[R][F]=_?O.read_shift(-4,"i")^2147483648:O.read_shift(4,"i");break;case"L":switch(k.trim().toUpperCase()){case"Y":case"T":f[R][F]=!0;break;case"N":case"F":f[R][F]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+k+"|")}break;case"M":if(!m)throw new Error("DBF Unexpected MEMO for type "+p.toString(16));f[R][F]="##MEMO##"+(_?parseInt(k.trim(),10):O.read_shift(4));break;case"N":k=k.replace(/\u0000/g,"").trim(),k&&k!="."&&(f[R][F]=+k||0);break;case"@":f[R][F]=new Date(O.read_shift(-8,"f")-621356832e5);break;case"T":f[R][F]=new Date((O.read_shift(4)-2440588)*864e5+O.read_shift(4));break;case"Y":f[R][F]=O.read_shift(4,"i")/1e4+O.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":f[R][F]=-O.read_shift(-8,"f");break;case"B":if(g&&b[F].len==8){f[R][F]=O.read_shift(8,"f");break}case"G":case"P":O.l+=b[F].len;break;case"0":if(b[F].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+b[F].type)}}}if(p!=2&&h.l<h.length&&h[h.l++]!=26)throw new Error("DBF EOF Marker missing "+(h.l-1)+" of "+h.length+" "+h[h.l-1].toString(16));return u&&u.sheetRows&&(f=f.slice(0,u.sheetRows)),u.DBF=b,f}function r(l,u){var f=u||{};f.dateNF||(f.dateNF="yyyymmdd");var h=Sh(n(l,f),f);return h["!cols"]=f.DBF.map(function(p){return{wch:p.len,DBF:p}}),delete f.DBF,h}function i(l,u){try{return hc(r(l,u),u)}catch(f){if(u&&u.WTF)throw f}return{SheetNames:[],Sheets:{}}}var a={B:8,C:250,L:1,D:8,"?":0,"":0};function s(l,u){var f=u||{};if(+f.codepage>=0&&bs(+f.codepage),f.type=="string")throw new Error("Cannot write DBF to JS string");var h=la(),p=dg(l,{header:1,raw:!0,cellDates:!0}),m=p[0],g=p.slice(1),_=l["!cols"]||[],x=0,y=0,E=0,w=1;for(x=0;x<m.length;++x){if(((_[x]||{}).DBF||{}).name){m[x]=_[x].DBF.name,++E;continue}if(m[x]!=null){if(++E,typeof m[x]=="number"&&(m[x]=m[x].toString(10)),typeof m[x]!="string")throw new Error("DBF Invalid column name "+m[x]+" |"+typeof m[x]+"|");if(m.indexOf(m[x])!==x){for(y=0;y<1024;++y)if(m.indexOf(m[x]+"_"+y)==-1){m[x]+="_"+y;break}}}}var b=vn(l["!ref"]),M=[],A=[],C=[];for(x=0;x<=b.e.c-b.s.c;++x){var R="",F="",O=0,k=[];for(y=0;y<g.length;++y)g[y][x]!=null&&k.push(g[y][x]);if(k.length==0||m[x]==null){M[x]="?";continue}for(y=0;y<k.length;++y){switch(typeof k[y]){case"number":F="B";break;case"string":F="C";break;case"boolean":F="L";break;case"object":F=k[y]instanceof Date?"D":"C";break;default:F="C"}O=Math.max(O,String(k[y]).length),R=R&&R!=F?"C":F}O>250&&(O=250),F=((_[x]||{}).DBF||{}).type,F=="C"&&_[x].DBF.len>O&&(O=_[x].DBF.len),R=="B"&&F=="N"&&(R="N",C[x]=_[x].DBF.dec,O=_[x].DBF.len),A[x]=R=="C"||F=="N"?O:a[R]||0,w+=A[x],M[x]=R}var D=h.next(32);for(D.write_shift(4,318902576),D.write_shift(4,g.length),D.write_shift(2,296+32*E),D.write_shift(2,w),x=0;x<4;++x)D.write_shift(4,0);for(D.write_shift(4,0|(+e[gF]||3)<<8),x=0,y=0;x<m.length;++x)if(m[x]!=null){var U=h.next(32),Z=(m[x].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);U.write_shift(1,Z,"sbcs"),U.write_shift(1,M[x]=="?"?"C":M[x],"sbcs"),U.write_shift(4,y),U.write_shift(1,A[x]||a[M[x]]||0),U.write_shift(1,C[x]||0),U.write_shift(1,2),U.write_shift(4,0),U.write_shift(1,0),U.write_shift(4,0),U.write_shift(4,0),y+=A[x]||a[M[x]]||0}var se=h.next(264);for(se.write_shift(4,13),x=0;x<65;++x)se.write_shift(4,0);for(x=0;x<g.length;++x){var oe=h.next(w);for(oe.write_shift(1,0),y=0;y<m.length;++y)if(m[y]!=null)switch(M[y]){case"L":oe.write_shift(1,g[x][y]==null?63:g[x][y]?84:70);break;case"B":oe.write_shift(8,g[x][y]||0,"f");break;case"N":var G="0";for(typeof g[x][y]=="number"&&(G=g[x][y].toFixed(C[y]||0)),E=0;E<A[y]-G.length;++E)oe.write_shift(1,32);oe.write_shift(1,G,"sbcs");break;case"D":g[x][y]?(oe.write_shift(4,("0000"+g[x][y].getFullYear()).slice(-4),"sbcs"),oe.write_shift(2,("00"+(g[x][y].getMonth()+1)).slice(-2),"sbcs"),oe.write_shift(2,("00"+g[x][y].getDate()).slice(-2),"sbcs")):oe.write_shift(8,"00000000","sbcs");break;case"C":var W=String(g[x][y]!=null?g[x][y]:"").slice(0,A[y]);for(oe.write_shift(1,W,"sbcs"),E=0;E<A[y]-W.length;++E)oe.write_shift(1,32);break}}return h.next(1).write_shift(1,26),h.end()}return{to_workbook:i,to_sheet:r,from_sheet:s}})(),RU=(function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+xr(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(m,g){var _=t[g];return typeof _=="number"?xP(_):_},r=function(m,g,_){var x=g.charCodeAt(0)-32<<4|_.charCodeAt(0)-48;return x==59?m:xP(x)};t["|"]=254;function i(m,g){switch(g.type){case"base64":return a(Pa(m),g);case"binary":return a(m,g);case"buffer":return a(tn&&Buffer.isBuffer(m)?m.toString("binary"):fc(m),g);case"array":return a(cu(m),g)}throw new Error("Unrecognized type "+g.type)}function a(m,g){var _=m.split(/[\n\r]+/),x=-1,y=-1,E=0,w=0,b=[],M=[],A=null,C={},R=[],F=[],O=[],k=0,D;for(+g.codepage>=0&&bs(+g.codepage);E!==_.length;++E){k=0;var U=_[E].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(e,n),Z=U.replace(/;;/g,"\0").split(";").map(function(te){return te.replace(/\u0000/g,";")}),se=Z[0],oe;if(U.length>0)switch(se){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":Z[1].charAt(0)=="P"&&M.push(U.slice(3).replace(/;;/g,";"));break;case"C":var G=!1,W=!1,ee=!1,Y=!1,pe=-1,z=-1;for(w=1;w<Z.length;++w)switch(Z[w].charAt(0)){case"A":break;case"X":y=parseInt(Z[w].slice(1))-1,W=!0;break;case"Y":for(x=parseInt(Z[w].slice(1))-1,W||(y=0),D=b.length;D<=x;++D)b[D]=[];break;case"K":oe=Z[w].slice(1),oe.charAt(0)==='"'?oe=oe.slice(1,oe.length-1):oe==="TRUE"?oe=!0:oe==="FALSE"?oe=!1:isNaN(As(oe))?isNaN(lh(oe).getDate())||(oe=er(oe)):(oe=As(oe),A!==null&&yh(A)&&(oe=px(oe))),G=!0;break;case"E":Y=!0;var I=Jf(Z[w].slice(1),{r:x,c:y});b[x][y]=[b[x][y],I];break;case"S":ee=!0,b[x][y]=[b[x][y],"S5S"];break;case"G":break;case"R":pe=parseInt(Z[w].slice(1))-1;break;case"C":z=parseInt(Z[w].slice(1))-1;break;default:if(g&&g.WTF)throw new Error("SYLK bad record "+U)}if(G&&(b[x][y]&&b[x][y].length==2?b[x][y][0]=oe:b[x][y]=oe,A=null),ee){if(Y)throw new Error("SYLK shared formula cannot have own formula");var V=pe>-1&&b[pe][z];if(!V||!V[1])throw new Error("SYLK shared formula cannot find base");b[x][y][1]=XU(V[1],{r:x-pe,c:y-z})}break;case"F":var X=0;for(w=1;w<Z.length;++w)switch(Z[w].charAt(0)){case"X":y=parseInt(Z[w].slice(1))-1,++X;break;case"Y":for(x=parseInt(Z[w].slice(1))-1,D=b.length;D<=x;++D)b[D]=[];break;case"M":k=parseInt(Z[w].slice(1))/20;break;case"F":break;case"G":break;case"P":A=M[parseInt(Z[w].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(O=Z[w].slice(1).split(" "),D=parseInt(O[0],10);D<=parseInt(O[1],10);++D)k=parseInt(O[2],10),F[D-1]=k===0?{hidden:!0}:{wch:k},ic(F[D-1]);break;case"C":y=parseInt(Z[w].slice(1))-1,F[y]||(F[y]={});break;case"R":x=parseInt(Z[w].slice(1))-1,R[x]||(R[x]={}),k>0?(R[x].hpt=k,R[x].hpx=uh(k)):k===0&&(R[x].hidden=!0);break;default:if(g&&g.WTF)throw new Error("SYLK bad record "+U)}X<1&&(A=null);break;default:if(g&&g.WTF)throw new Error("SYLK bad record "+U)}}return R.length>0&&(C["!rows"]=R),F.length>0&&(C["!cols"]=F),g&&g.sheetRows&&(b=b.slice(0,g.sheetRows)),[b,C]}function s(m,g){var _=i(m,g),x=_[0],y=_[1],E=Sh(x,g);return xr(y).forEach(function(w){E[w]=y[w]}),E}function l(m,g){return hc(s(m,g),g)}function u(m,g,_,x){var y="C;Y"+(_+1)+";X"+(x+1)+";K";switch(m.t){case"n":y+=m.v||0,m.f&&!m.F&&(y+=";E"+hw(m.f,{r:_,c:x}));break;case"b":y+=m.v?"TRUE":"FALSE";break;case"e":y+=m.w||m.v;break;case"d":y+='"'+(m.w||m.v)+'"';break;case"s":y+='"'+m.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return y}function f(m,g){g.forEach(function(_,x){var y="F;W"+(x+1)+" "+(x+1)+" ";_.hidden?y+="0":(typeof _.width=="number"&&!_.wpx&&(_.wpx=_d(_.width)),typeof _.wpx=="number"&&!_.wch&&(_.wch=yd(_.wpx)),typeof _.wch=="number"&&(y+=Math.round(_.wch))),y.charAt(y.length-1)!=" "&&m.push(y)})}function h(m,g){g.forEach(function(_,x){var y="F;";_.hidden?y+="M0;":_.hpt?y+="M"+20*_.hpt+";":_.hpx&&(y+="M"+20*Ed(_.hpx)+";"),y.length>2&&m.push(y+"R"+(x+1))})}function p(m,g){var _=["ID;PWXL;N;E"],x=[],y=vn(m["!ref"]),E,w=Array.isArray(m),b=`\r
`;_.push("P;PGeneral"),_.push("F;P0;DG0G8;M255"),m["!cols"]&&f(_,m["!cols"]),m["!rows"]&&h(_,m["!rows"]),_.push("B;Y"+(y.e.r-y.s.r+1)+";X"+(y.e.c-y.s.c+1)+";D"+[y.s.c,y.s.r,y.e.c,y.e.r].join(" "));for(var M=y.s.r;M<=y.e.r;++M)for(var A=y.s.c;A<=y.e.c;++A){var C=Ht({r:M,c:A});E=w?(m[M]||[])[A]:m[C],!(!E||E.v==null&&(!E.f||E.F))&&x.push(u(E,m,M,A))}return _.join(b)+b+x.join(b)+b+"E"+b}return{to_workbook:l,to_sheet:s,from_sheet:p}})(),OU=(function(){function t(a,s){switch(s.type){case"base64":return e(Pa(a),s);case"binary":return e(a,s);case"buffer":return e(tn&&Buffer.isBuffer(a)?a.toString("binary"):fc(a),s);case"array":return e(cu(a),s)}throw new Error("Unrecognized type "+s.type)}function e(a,s){for(var l=a.split(`
`),u=-1,f=-1,h=0,p=[];h!==l.length;++h){if(l[h].trim()==="BOT"){p[++u]=[],f=0;continue}if(!(u<0)){var m=l[h].trim().split(","),g=m[0],_=m[1];++h;for(var x=l[h]||"";(x.match(/["]/g)||[]).length&1&&h<l.length-1;)x+=`
`+l[++h];switch(x=x.trim(),+g){case-1:if(x==="BOT"){p[++u]=[],f=0;continue}else if(x!=="EOD")throw new Error("Unrecognized DIF special command "+x);break;case 0:x==="TRUE"?p[u][f]=!0:x==="FALSE"?p[u][f]=!1:isNaN(As(_))?isNaN(lh(_).getDate())?p[u][f]=_:p[u][f]=er(_):p[u][f]=As(_),++f;break;case 1:x=x.slice(1,x.length-1),x=x.replace(/""/g,'"'),x&&x.match(/^=".*"$/)&&(x=x.slice(2,-1)),p[u][f++]=x!==""?x:null;break}if(x==="EOD")break}}return s&&s.sheetRows&&(p=p.slice(0,s.sheetRows)),p}function n(a,s){return Sh(t(a,s),s)}function r(a,s){return hc(n(a,s),s)}var i=(function(){var a=function(u,f,h,p,m){u.push(f),u.push(h+","+p),u.push('"'+m.replace(/"/g,'""')+'"')},s=function(u,f,h,p){u.push(f+","+h),u.push(f==1?'"'+p.replace(/"/g,'""')+'"':p)};return function(u){var f=[],h=vn(u["!ref"]),p,m=Array.isArray(u);a(f,"TABLE",0,1,"sheetjs"),a(f,"VECTORS",0,h.e.r-h.s.r+1,""),a(f,"TUPLES",0,h.e.c-h.s.c+1,""),a(f,"DATA",0,0,"");for(var g=h.s.r;g<=h.e.r;++g){s(f,-1,0,"BOT");for(var _=h.s.c;_<=h.e.c;++_){var x=Ht({r:g,c:_});if(p=m?(u[g]||[])[_]:u[x],!p){s(f,1,0,"");continue}switch(p.t){case"n":var y=p.w;!y&&p.v!=null&&(y=p.v),y==null?p.f&&!p.F?s(f,1,0,"="+p.f):s(f,1,0,""):s(f,0,y,"V");break;case"b":s(f,0,p.v?1:0,p.v?"TRUE":"FALSE");break;case"s":s(f,1,0,isNaN(p.v)?p.v:'="'+p.v+'"');break;case"d":p.w||(p.w=as(p.z||jt[14],Wr(er(p.v)))),s(f,0,p.w,"V");break;default:s(f,1,0,"")}}}s(f,-1,0,"EOD");var E=`\r
`,w=f.join(E);return w}})();return{to_workbook:r,to_sheet:n,from_sheet:i}})(),PU=(function(){function t(p){return p.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(p){return p.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function n(p,m){for(var g=p.split(`
`),_=-1,x=-1,y=0,E=[];y!==g.length;++y){var w=g[y].trim().split(":");if(w[0]==="cell"){var b=lr(w[1]);if(E.length<=b.r)for(_=E.length;_<=b.r;++_)E[_]||(E[_]=[]);switch(_=b.r,x=b.c,w[2]){case"t":E[_][x]=t(w[3]);break;case"v":E[_][x]=+w[3];break;case"vtf":var M=w[w.length-1];case"vtc":switch(w[3]){case"nl":E[_][x]=!!+w[4];break;default:E[_][x]=+w[4];break}w[2]=="vtf"&&(E[_][x]=[E[_][x],M])}}}return m&&m.sheetRows&&(E=E.slice(0,m.sheetRows)),E}function r(p,m){return Sh(n(p,m),m)}function i(p,m){return hc(r(p,m),m)}var a=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),s=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),u="--SocialCalcSpreadsheetControlSave--";function f(p){if(!p||!p["!ref"])return"";for(var m=[],g=[],_,x="",y=ca(p["!ref"]),E=Array.isArray(p),w=y.s.r;w<=y.e.r;++w)for(var b=y.s.c;b<=y.e.c;++b)if(x=Ht({r:w,c:b}),_=E?(p[w]||[])[b]:p[x],!(!_||_.v==null||_.t==="z")){switch(g=["cell",x,"t"],_.t){case"s":case"str":g.push(e(_.v));break;case"n":_.f?(g[2]="vtf",g[3]="n",g[4]=_.v,g[5]=e(_.f)):(g[2]="v",g[3]=_.v);break;case"b":g[2]="vt"+(_.f?"f":"c"),g[3]="nl",g[4]=_.v?"1":"0",g[5]=e(_.f||(_.v?"TRUE":"FALSE"));break;case"d":var M=Wr(er(_.v));g[2]="vtc",g[3]="nd",g[4]=""+M,g[5]=_.w||as(_.z||jt[14],M);break;case"e":continue}m.push(g.join(":"))}return m.push("sheet:c:"+(y.e.c-y.s.c+1)+":r:"+(y.e.r-y.s.r+1)+":tvf:1"),m.push("valueformat:1:text-wiki"),m.join(`
`)}function h(p){return[a,s,l,s,f(p),u].join(`
`)}return{to_workbook:i,to_sheet:r,from_sheet:h}})(),ch=(function(){function t(h,p,m,g,_){_.raw?p[m][g]=h:h===""||(h==="TRUE"?p[m][g]=!0:h==="FALSE"?p[m][g]=!1:isNaN(As(h))?isNaN(lh(h).getDate())?p[m][g]=h:p[m][g]=er(h):p[m][g]=As(h))}function e(h,p){var m=p||{},g=[];if(!h||h.length===0)return g;for(var _=h.split(/[\r\n]/),x=_.length-1;x>=0&&_[x].length===0;)--x;for(var y=10,E=0,w=0;w<=x;++w)E=_[w].indexOf(" "),E==-1?E=_[w].length:E++,y=Math.max(y,E);for(w=0;w<=x;++w){g[w]=[];var b=0;for(t(_[w].slice(0,y).trim(),g,w,b,m),b=1;b<=(_[w].length-y)/10+1;++b)t(_[w].slice(y+(b-1)*10,y+b*10).trim(),g,w,b,m)}return m.sheetRows&&(g=g.slice(0,m.sheetRows)),g}var n={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function i(h){for(var p={},m=!1,g=0,_=0;g<h.length;++g)(_=h.charCodeAt(g))==34?m=!m:!m&&_ in n&&(p[_]=(p[_]||0)+1);_=[];for(g in p)Object.prototype.hasOwnProperty.call(p,g)&&_.push([p[g],g]);if(!_.length){p=r;for(g in p)Object.prototype.hasOwnProperty.call(p,g)&&_.push([p[g],g])}return _.sort(function(x,y){return x[0]-y[0]||r[x[1]]-r[y[1]]}),n[_.pop()[1]]||44}function a(h,p){var m=p||{},g="",_=m.dense?[]:{},x={s:{c:0,r:0},e:{c:0,r:0}};h.slice(0,4)=="sep="?h.charCodeAt(5)==13&&h.charCodeAt(6)==10?(g=h.charAt(4),h=h.slice(7)):h.charCodeAt(5)==13||h.charCodeAt(5)==10?(g=h.charAt(4),h=h.slice(6)):g=i(h.slice(0,1024)):m&&m.FS?g=m.FS:g=i(h.slice(0,1024));var y=0,E=0,w=0,b=0,M=0,A=g.charCodeAt(0),C=!1,R=0,F=h.charCodeAt(0);h=h.replace(/\r\n/mg,`
`);var O=m.dateNF!=null?M$(m.dateNF):null;function k(){var D=h.slice(b,M),U={};if(D.charAt(0)=='"'&&D.charAt(D.length-1)=='"'&&(D=D.slice(1,-1).replace(/""/g,'"')),D.length===0)U.t="z";else if(m.raw)U.t="s",U.v=D;else if(D.trim().length===0)U.t="s",U.v=D;else if(D.charCodeAt(0)==61)D.charCodeAt(1)==34&&D.charCodeAt(D.length-1)==34?(U.t="s",U.v=D.slice(2,-1).replace(/""/g,'"')):nne(D)?(U.t="n",U.f=D.slice(1)):(U.t="s",U.v=D);else if(D=="TRUE")U.t="b",U.v=!0;else if(D=="FALSE")U.t="b",U.v=!1;else if(!isNaN(w=As(D)))U.t="n",m.cellText!==!1&&(U.w=D),U.v=w;else if(!isNaN(lh(D).getDate())||O&&D.match(O)){U.z=m.dateNF||jt[14];var Z=0;O&&D.match(O)&&(D=C$(D,m.dateNF,D.match(O)||[]),Z=1),m.cellDates?(U.t="d",U.v=er(D,Z)):(U.t="n",U.v=Wr(er(D,Z))),m.cellText!==!1&&(U.w=as(U.z,U.v instanceof Date?Wr(U.v):U.v)),m.cellNF||delete U.z}else U.t="s",U.v=D;if(U.t=="z"||(m.dense?(_[y]||(_[y]=[]),_[y][E]=U):_[Ht({c:E,r:y})]=U),b=M+1,F=h.charCodeAt(b),x.e.c<E&&(x.e.c=E),x.e.r<y&&(x.e.r=y),R==A)++E;else if(E=0,++y,m.sheetRows&&m.sheetRows<=y)return!0}e:for(;M<h.length;++M)switch(R=h.charCodeAt(M)){case 34:F===34&&(C=!C);break;case A:case 10:case 13:if(!C&&k())break e;break}return M-b>0&&k(),_["!ref"]=Kt(x),_}function s(h,p){return!(p&&p.PRN)||p.FS||h.slice(0,4)=="sep="||h.indexOf("	")>=0||h.indexOf(",")>=0||h.indexOf(";")>=0?a(h,p):Sh(e(h,p),p)}function l(h,p){var m="",g=p.type=="string"?[0,0,0,0]:yw(h,p);switch(p.type){case"base64":m=Pa(h);break;case"binary":m=h;break;case"buffer":p.codepage==65001?m=h.toString("utf8"):p.codepage&&typeof fd<"u"||(m=tn&&Buffer.isBuffer(h)?h.toString("binary"):fc(h));break;case"array":m=cu(h);break;case"string":m=h;break;default:throw new Error("Unrecognized type "+p.type)}return g[0]==239&&g[1]==187&&g[2]==191?m=Hn(m.slice(3)):p.type!="string"&&p.type!="buffer"&&p.codepage==65001?m=Hn(m):p.type=="binary"&&typeof fd<"u",m.slice(0,19)=="socialcalc:version:"?PU.to_sheet(p.type=="string"?m:Hn(m),p):s(m,p)}function u(h,p){return hc(l(h,p),p)}function f(h){for(var p=[],m=vn(h["!ref"]),g,_=Array.isArray(h),x=m.s.r;x<=m.e.r;++x){for(var y=[],E=m.s.c;E<=m.e.c;++E){var w=Ht({r:x,c:E});if(g=_?(h[x]||[])[E]:h[w],!g||g.v==null){y.push("          ");continue}for(var b=(g.w||(qo(g),g.w)||"").slice(0,10);b.length<10;)b+=" ";y.push(b+(E===0?" ":""))}p.push(y.join(""))}return p.join(`
`)}return{to_workbook:u,to_sheet:l,from_sheet:f}})();function HQ(t,e){var n=e||{},r=!!n.WTF;n.WTF=!0;try{var i=RU.to_workbook(t,n);return n.WTF=r,i}catch(a){if(n.WTF=r,!a.message.match(/SYLK bad record ID/)&&r)throw a;return ch.to_workbook(t,e)}}var Qc=(function(){function t(I,V,X){if(I){yi(I,I.l||0);for(var te=X.Enum||pe;I.l<I.length;){var J=I.read_shift(2),fe=te[J]||te[65535],ae=I.read_shift(2),Q=I.l+ae,de=fe.f&&fe.f(I,ae,X);if(I.l=Q,V(de,fe,J))return}}}function e(I,V){switch(V.type){case"base64":return n(wa(Pa(I)),V);case"binary":return n(wa(I),V);case"buffer":case"array":return n(I,V)}throw"Unsupported type "+V.type}function n(I,V){if(!I)return I;var X=V||{},te=X.dense?[]:{},J="Sheet1",fe="",ae=0,Q={},de=[],Ae=[],j={s:{r:0,c:0},e:{r:0,c:0}},We=X.sheetRows||0;if(I[2]==0&&(I[3]==8||I[3]==9)&&I.length>=16&&I[14]==5&&I[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(I[2]==2)X.Enum=pe,t(I,function(Ge,ce,Ft){switch(Ft){case 0:X.vers=Ge,Ge>=4096&&(X.qpro=!0);break;case 6:j=Ge;break;case 204:Ge&&(fe=Ge);break;case 222:fe=Ge;break;case 15:case 51:X.qpro||(Ge[1].v=Ge[1].v.slice(1));case 13:case 14:case 16:Ft==14&&(Ge[2]&112)==112&&(Ge[2]&15)>1&&(Ge[2]&15)<15&&(Ge[1].z=X.dateNF||jt[14],X.cellDates&&(Ge[1].t="d",Ge[1].v=px(Ge[1].v))),X.qpro&&Ge[3]>ae&&(te["!ref"]=Kt(j),Q[J]=te,de.push(J),te=X.dense?[]:{},j={s:{r:0,c:0},e:{r:0,c:0}},ae=Ge[3],J=fe||"Sheet"+(ae+1),fe="");var Ct=X.dense?(te[Ge[0].r]||[])[Ge[0].c]:te[Ht(Ge[0])];if(Ct){Ct.t=Ge[1].t,Ct.v=Ge[1].v,Ge[1].z!=null&&(Ct.z=Ge[1].z),Ge[1].f!=null&&(Ct.f=Ge[1].f);break}X.dense?(te[Ge[0].r]||(te[Ge[0].r]=[]),te[Ge[0].r][Ge[0].c]=Ge[1]):te[Ht(Ge[0])]=Ge[1];break}},X);else if(I[2]==26||I[2]==14)X.Enum=z,I[2]==14&&(X.qpro=!0,I.l=0),t(I,function(Ge,ce,Ft){switch(Ft){case 204:J=Ge;break;case 22:Ge[1].v=Ge[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Ge[3]>ae&&(te["!ref"]=Kt(j),Q[J]=te,de.push(J),te=X.dense?[]:{},j={s:{r:0,c:0},e:{r:0,c:0}},ae=Ge[3],J="Sheet"+(ae+1)),We>0&&Ge[0].r>=We)break;X.dense?(te[Ge[0].r]||(te[Ge[0].r]=[]),te[Ge[0].r][Ge[0].c]=Ge[1]):te[Ht(Ge[0])]=Ge[1],j.e.c<Ge[0].c&&(j.e.c=Ge[0].c),j.e.r<Ge[0].r&&(j.e.r=Ge[0].r);break;case 27:Ge[14e3]&&(Ae[Ge[14e3][0]]=Ge[14e3][1]);break;case 1537:Ae[Ge[0]]=Ge[1],Ge[0]==ae&&(J=Ge[1]);break}},X);else throw new Error("Unrecognized LOTUS BOF "+I[2]);if(te["!ref"]=Kt(j),Q[fe||J]=te,de.push(fe||J),!Ae.length)return{SheetNames:de,Sheets:Q};for(var Le={},Je=[],Xe=0;Xe<Ae.length;++Xe)Q[de[Xe]]?(Je.push(Ae[Xe]||de[Xe]),Le[Ae[Xe]]=Q[Ae[Xe]]||Q[de[Xe]]):(Je.push(Ae[Xe]),Le[Ae[Xe]]={"!ref":"A1"});return{SheetNames:Je,Sheets:Le}}function r(I,V){var X=V||{};if(+X.codepage>=0&&bs(+X.codepage),X.type=="string")throw new Error("Cannot write WK1 to JS string");var te=la(),J=vn(I["!ref"]),fe=Array.isArray(I),ae=[];ht(te,0,a(1030)),ht(te,6,u(J));for(var Q=Math.min(J.e.r,8191),de=J.s.r;de<=Q;++de)for(var Ae=br(de),j=J.s.c;j<=J.e.c;++j){de===J.s.r&&(ae[j]=or(j));var We=ae[j]+Ae,Le=fe?(I[de]||[])[j]:I[We];if(!(!Le||Le.t=="z"))if(Le.t=="n")(Le.v|0)==Le.v&&Le.v>=-32768&&Le.v<=32767?ht(te,13,g(de,j,Le.v)):ht(te,14,x(de,j,Le.v));else{var Je=qo(Le);ht(te,15,p(de,j,Je.slice(0,239)))}}return ht(te,1),te.end()}function i(I,V){var X=V||{};if(+X.codepage>=0&&bs(+X.codepage),X.type=="string")throw new Error("Cannot write WK3 to JS string");var te=la();ht(te,0,s(I));for(var J=0,fe=0;J<I.SheetNames.length;++J)(I.Sheets[I.SheetNames[J]]||{})["!ref"]&&ht(te,27,Y(I.SheetNames[J],fe++));var ae=0;for(J=0;J<I.SheetNames.length;++J){var Q=I.Sheets[I.SheetNames[J]];if(!(!Q||!Q["!ref"])){for(var de=vn(Q["!ref"]),Ae=Array.isArray(Q),j=[],We=Math.min(de.e.r,8191),Le=de.s.r;Le<=We;++Le)for(var Je=br(Le),Xe=de.s.c;Xe<=de.e.c;++Xe){Le===de.s.r&&(j[Xe]=or(Xe));var Ge=j[Xe]+Je,ce=Ae?(Q[Le]||[])[Xe]:Q[Ge];if(!(!ce||ce.t=="z"))if(ce.t=="n")ht(te,23,k(Le,Xe,ae,ce.v));else{var Ft=qo(ce);ht(te,22,R(Le,Xe,ae,Ft.slice(0,239)))}}++ae}}return ht(te,1),te.end()}function a(I){var V=je(2);return V.write_shift(2,I),V}function s(I){var V=je(26);V.write_shift(2,4096),V.write_shift(2,4),V.write_shift(4,0);for(var X=0,te=0,J=0,fe=0;fe<I.SheetNames.length;++fe){var ae=I.SheetNames[fe],Q=I.Sheets[ae];if(!(!Q||!Q["!ref"])){++J;var de=ca(Q["!ref"]);X<de.e.r&&(X=de.e.r),te<de.e.c&&(te=de.e.c)}}return X>8191&&(X=8191),V.write_shift(2,X),V.write_shift(1,J),V.write_shift(1,te),V.write_shift(2,0),V.write_shift(2,0),V.write_shift(1,1),V.write_shift(1,2),V.write_shift(4,0),V.write_shift(4,0),V}function l(I,V,X){var te={s:{c:0,r:0},e:{c:0,r:0}};return V==8&&X.qpro?(te.s.c=I.read_shift(1),I.l++,te.s.r=I.read_shift(2),te.e.c=I.read_shift(1),I.l++,te.e.r=I.read_shift(2),te):(te.s.c=I.read_shift(2),te.s.r=I.read_shift(2),V==12&&X.qpro&&(I.l+=2),te.e.c=I.read_shift(2),te.e.r=I.read_shift(2),V==12&&X.qpro&&(I.l+=2),te.s.c==65535&&(te.s.c=te.e.c=te.s.r=te.e.r=0),te)}function u(I){var V=je(8);return V.write_shift(2,I.s.c),V.write_shift(2,I.s.r),V.write_shift(2,I.e.c),V.write_shift(2,I.e.r),V}function f(I,V,X){var te=[{c:0,r:0},{t:"n",v:0},0,0];return X.qpro&&X.vers!=20768?(te[0].c=I.read_shift(1),te[3]=I.read_shift(1),te[0].r=I.read_shift(2),I.l+=2):(te[2]=I.read_shift(1),te[0].c=I.read_shift(2),te[0].r=I.read_shift(2)),te}function h(I,V,X){var te=I.l+V,J=f(I,V,X);if(J[1].t="s",X.vers==20768){I.l++;var fe=I.read_shift(1);return J[1].v=I.read_shift(fe,"utf8"),J}return X.qpro&&I.l++,J[1].v=I.read_shift(te-I.l,"cstr"),J}function p(I,V,X){var te=je(7+X.length);te.write_shift(1,255),te.write_shift(2,V),te.write_shift(2,I),te.write_shift(1,39);for(var J=0;J<te.length;++J){var fe=X.charCodeAt(J);te.write_shift(1,fe>=128?95:fe)}return te.write_shift(1,0),te}function m(I,V,X){var te=f(I,V,X);return te[1].v=I.read_shift(2,"i"),te}function g(I,V,X){var te=je(7);return te.write_shift(1,255),te.write_shift(2,V),te.write_shift(2,I),te.write_shift(2,X,"i"),te}function _(I,V,X){var te=f(I,V,X);return te[1].v=I.read_shift(8,"f"),te}function x(I,V,X){var te=je(13);return te.write_shift(1,255),te.write_shift(2,V),te.write_shift(2,I),te.write_shift(8,X,"f"),te}function y(I,V,X){var te=I.l+V,J=f(I,V,X);if(J[1].v=I.read_shift(8,"f"),X.qpro)I.l=te;else{var fe=I.read_shift(2);M(I.slice(I.l,I.l+fe),J),I.l+=fe}return J}function E(I,V,X){var te=V&32768;return V&=-32769,V=(te?I:0)+(V>=8192?V-16384:V),(te?"":"$")+(X?or(V):br(V))}var w={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},b=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function M(I,V){yi(I,0);for(var X=[],te=0,J="",fe="",ae="",Q="";I.l<I.length;){var de=I[I.l++];switch(de){case 0:X.push(I.read_shift(8,"f"));break;case 1:fe=E(V[0].c,I.read_shift(2),!0),J=E(V[0].r,I.read_shift(2),!1),X.push(fe+J);break;case 2:{var Ae=E(V[0].c,I.read_shift(2),!0),j=E(V[0].r,I.read_shift(2),!1);fe=E(V[0].c,I.read_shift(2),!0),J=E(V[0].r,I.read_shift(2),!1),X.push(Ae+j+":"+fe+J)}break;case 3:if(I.l<I.length){console.error("WK1 premature formula end");return}break;case 4:X.push("("+X.pop()+")");break;case 5:X.push(I.read_shift(2));break;case 6:{for(var We="";de=I[I.l++];)We+=String.fromCharCode(de);X.push('"'+We.replace(/"/g,'""')+'"')}break;case 8:X.push("-"+X.pop());break;case 23:X.push("+"+X.pop());break;case 22:X.push("NOT("+X.pop()+")");break;case 20:case 21:Q=X.pop(),ae=X.pop(),X.push(["AND","OR"][de-20]+"("+ae+","+Q+")");break;default:if(de<32&&b[de])Q=X.pop(),ae=X.pop(),X.push(ae+b[de]+Q);else if(w[de]){if(te=w[de][1],te==69&&(te=I[I.l++]),te>X.length){console.error("WK1 bad formula parse 0x"+de.toString(16)+":|"+X.join("|")+"|");return}var Le=X.slice(-te);X.length-=te,X.push(w[de][0]+"("+Le.join(",")+")")}else return de<=7?console.error("WK1 invalid opcode "+de.toString(16)):de<=24?console.error("WK1 unsupported op "+de.toString(16)):de<=30?console.error("WK1 invalid opcode "+de.toString(16)):de<=115?console.error("WK1 unsupported function opcode "+de.toString(16)):console.error("WK1 unrecognized opcode "+de.toString(16))}}X.length==1?V[1].f=""+X[0]:console.error("WK1 bad formula parse |"+X.join("|")+"|")}function A(I){var V=[{c:0,r:0},{t:"n",v:0},0];return V[0].r=I.read_shift(2),V[3]=I[I.l++],V[0].c=I[I.l++],V}function C(I,V){var X=A(I);return X[1].t="s",X[1].v=I.read_shift(V-4,"cstr"),X}function R(I,V,X,te){var J=je(6+te.length);J.write_shift(2,I),J.write_shift(1,X),J.write_shift(1,V),J.write_shift(1,39);for(var fe=0;fe<te.length;++fe){var ae=te.charCodeAt(fe);J.write_shift(1,ae>=128?95:ae)}return J.write_shift(1,0),J}function F(I,V){var X=A(I);X[1].v=I.read_shift(2);var te=X[1].v>>1;if(X[1].v&1)switch(te&7){case 0:te=(te>>3)*5e3;break;case 1:te=(te>>3)*500;break;case 2:te=(te>>3)/20;break;case 3:te=(te>>3)/200;break;case 4:te=(te>>3)/2e3;break;case 5:te=(te>>3)/2e4;break;case 6:te=(te>>3)/16;break;case 7:te=(te>>3)/64;break}return X[1].v=te,X}function O(I,V){var X=A(I),te=I.read_shift(4),J=I.read_shift(4),fe=I.read_shift(2);if(fe==65535)return te===0&&J===3221225472?(X[1].t="e",X[1].v=15):te===0&&J===3489660928?(X[1].t="e",X[1].v=42):X[1].v=0,X;var ae=fe&32768;return fe=(fe&32767)-16446,X[1].v=(1-ae*2)*(J*Math.pow(2,fe+32)+te*Math.pow(2,fe)),X}function k(I,V,X,te){var J=je(14);if(J.write_shift(2,I),J.write_shift(1,X),J.write_shift(1,V),te==0)return J.write_shift(4,0),J.write_shift(4,0),J.write_shift(2,65535),J;var fe=0,ae=0,Q=0,de=0;return te<0&&(fe=1,te=-te),ae=Math.log2(te)|0,te/=Math.pow(2,ae-31),de=te>>>0,(de&2147483648)==0&&(te/=2,++ae,de=te>>>0),te-=de,de|=2147483648,de>>>=0,te*=Math.pow(2,32),Q=te>>>0,J.write_shift(4,Q),J.write_shift(4,de),ae+=16383+(fe?32768:0),J.write_shift(2,ae),J}function D(I,V){var X=O(I);return I.l+=V-14,X}function U(I,V){var X=A(I),te=I.read_shift(4);return X[1].v=te>>6,X}function Z(I,V){var X=A(I),te=I.read_shift(8,"f");return X[1].v=te,X}function se(I,V){var X=Z(I);return I.l+=V-10,X}function oe(I,V){return I[I.l+V-1]==0?I.read_shift(V,"cstr"):""}function G(I,V){var X=I[I.l++];X>V-1&&(X=V-1);for(var te="";te.length<X;)te+=String.fromCharCode(I[I.l++]);return te}function W(I,V,X){if(!(!X.qpro||V<21)){var te=I.read_shift(1);I.l+=17,I.l+=1,I.l+=2;var J=I.read_shift(V-21,"cstr");return[te,J]}}function ee(I,V){for(var X={},te=I.l+V;I.l<te;){var J=I.read_shift(2);if(J==14e3){for(X[J]=[0,""],X[J][0]=I.read_shift(2);I[I.l];)X[J][1]+=String.fromCharCode(I[I.l]),I.l++;I.l++}}return X}function Y(I,V){var X=je(5+I.length);X.write_shift(2,14e3),X.write_shift(2,V);for(var te=0;te<I.length;++te){var J=I.charCodeAt(te);X[X.l++]=J>127?95:J}return X[X.l++]=0,X}var pe={0:{n:"BOF",f:Dr},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:m},14:{n:"NUMBER",f:_},15:{n:"LABEL",f:h},16:{n:"FORMULA",f:y},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:h},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:oe},222:{n:"SHEETNAMELP",f:G},65535:{n:""}},z={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:C},23:{n:"NUMBER17",f:O},24:{n:"NUMBER18",f:F},25:{n:"FORMULA19",f:D},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:ee},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:U},38:{n:"??"},39:{n:"NUMBER27",f:Z},40:{n:"FORMULA28",f:se},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:oe},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:W},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:i,to_workbook:e}})();function GQ(t){var e={},n=t.match(zi),r=0,i=!1;if(n)for(;r!=n.length;++r){var a=Wt(n[r]);switch(a[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!a.val)break;case"<shadow>":case"<shadow/>":e.shadow=1;break;case"</shadow>":break;case"<charset":if(a.val=="1")break;e.cp=F2[parseInt(a.val,10)];break;case"<outline":if(!a.val)break;case"<outline>":case"<outline/>":e.outline=1;break;case"</outline>":break;case"<rFont":e.name=a.val;break;case"<sz":e.sz=a.val;break;case"<strike":if(!a.val)break;case"<strike>":case"<strike/>":e.strike=1;break;case"</strike>":break;case"<u":if(!a.val)break;switch(a.val){case"double":e.uval="double";break;case"singleAccounting":e.uval="single-accounting";break;case"doubleAccounting":e.uval="double-accounting";break}case"<u>":case"<u/>":e.u=1;break;case"</u>":break;case"<b":if(a.val=="0")break;case"<b>":case"<b/>":e.b=1;break;case"</b>":break;case"<i":if(a.val=="0")break;case"<i>":case"<i/>":e.i=1;break;case"</i>":break;case"<color":a.rgb&&(e.color=a.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":e.family=a.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":e.valign=a.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(a[0].charCodeAt(1)!==47&&!i)throw new Error("Unrecognized rich format "+a[0])}}return e}var VQ=(function(){var t=pd("t"),e=pd("rPr");function n(a){var s=a.match(t);if(!s)return{t:"s",v:""};var l={t:"s",v:mn(s[1])},u=a.match(e);return u&&(l.s=GQ(u[1])),l}var r=/<(?:\w+:)?r>/g,i=/<\/(?:\w+:)?r>/;return function(s){return s.replace(r,"").split(i).map(n).filter(function(l){return l.v})}})(),WQ=(function(){var e=/(\r\n|\n)/g;function n(i,a,s){var l=[];i.u&&l.push("text-decoration: underline;"),i.uval&&l.push("text-underline-style:"+i.uval+";"),i.sz&&l.push("font-size:"+i.sz+"pt;"),i.outline&&l.push("text-effect: outline;"),i.shadow&&l.push("text-shadow: auto;"),a.push('<span style="'+l.join("")+'">'),i.b&&(a.push("<b>"),s.push("</b>")),i.i&&(a.push("<i>"),s.push("</i>")),i.strike&&(a.push("<s>"),s.push("</s>"));var u=i.valign||"";return u=="superscript"||u=="super"?u="sup":u=="subscript"&&(u="sub"),u!=""&&(a.push("<"+u+">"),s.push("</"+u+">")),s.push("</span>"),i}function r(i){var a=[[],i.v,[]];return i.v?(i.s&&n(i.s,a[0],a[2]),a[0].join("")+a[1].replace(e,"<br/>")+a[2].join("")):""}return function(a){return a.map(r).join("")}})(),YQ=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,XQ=/<(?:\w+:)?r>/,qQ=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function ow(t,e){var n=e?e.cellHTML:!0,r={};return t?(t.match(/^\s*<(?:\w+:)?t[^>]*>/)?(r.t=mn(Hn(t.slice(t.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),r.r=Hn(t),n&&(r.h=X2(r.t))):t.match(XQ)&&(r.r=Hn(t),r.t=mn(Hn((t.replace(qQ,"").match(YQ)||[]).join("").replace(zi,""))),n&&(r.h=WQ(VQ(r.r)))),r):{t:""}}var KQ=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,$Q=/<(?:\w+:)?(?:si|sstItem)>/g,ZQ=/<\/(?:\w+:)?(?:si|sstItem)>/;function JQ(t,e){var n=[],r="";if(!t)return n;var i=t.match(KQ);if(i){r=i[2].replace($Q,"").split(ZQ);for(var a=0;a!=r.length;++a){var s=ow(r[a].trim(),e);s!=null&&(n[n.length]=s)}i=Wt(i[1]),n.Count=i.count,n.Unique=i.uniqueCount}return n}var QQ=/^\s|\s$|[\t\n\r]/;function DU(t,e){if(!e.bookSST)return"";var n=[Tr];n[n.length]=ct("sst",null,{xmlns:wu[0],count:t.Count,uniqueCount:t.Unique});for(var r=0;r!=t.length;++r)if(t[r]!=null){var i=t[r],a="<si>";i.r?a+=i.r:(a+="<t",i.t||(i.t=""),i.t.match(QQ)&&(a+=' xml:space="preserve"'),a+=">"+kn(i.t)+"</t>"),a+="</si>",n[n.length]=a}return n.length>2&&(n[n.length]="</sst>",n[1]=n[1].replace("/>",">")),n.join("")}function eee(t){return[t.read_shift(4),t.read_shift(4)]}function tee(t,e){var n=[],r=!1;return il(t,function(a,s,l){switch(l){case 159:n.Count=a[0],n.Unique=a[1];break;case 19:n.push(a);break;case 160:return!0;case 35:r=!0;break;case 36:r=!1;break;default:if(s.T,!r||e.WTF)throw new Error("Unexpected record 0x"+l.toString(16))}}),n}function nee(t,e){return e||(e=je(8)),e.write_shift(4,t.Count),e.write_shift(4,t.Unique),e}var ree=dZ;function iee(t){var e=la();Ze(e,159,nee(t));for(var n=0;n<t.length;++n)Ze(e,19,ree(t[n]));return Ze(e,160),e.end()}function NU(t){for(var e=[],n=t.split(""),r=0;r<n.length;++r)e[r]=n[r].charCodeAt(0);return e}function Vo(t,e){var n={};return n.Major=t.read_shift(2),n.Minor=t.read_shift(2),e>=4&&(t.l+=e-4),n}function aee(t){var e={};return e.id=t.read_shift(0,"lpp4"),e.R=Vo(t,4),e.U=Vo(t,4),e.W=Vo(t,4),e}function see(t){for(var e=t.read_shift(4),n=t.l+e-4,r={},i=t.read_shift(4),a=[];i-- >0;)a.push({t:t.read_shift(4),v:t.read_shift(0,"lpp4")});if(r.name=t.read_shift(0,"lpp4"),r.comps=a,t.l!=n)throw new Error("Bad DataSpaceMapEntry: "+t.l+" != "+n);return r}function oee(t){var e=[];t.l+=4;for(var n=t.read_shift(4);n-- >0;)e.push(see(t));return e}function lee(t){var e=[];t.l+=4;for(var n=t.read_shift(4);n-- >0;)e.push(t.read_shift(0,"lpp4"));return e}function cee(t){var e={};return t.read_shift(4),t.l+=4,e.id=t.read_shift(0,"lpp4"),e.name=t.read_shift(0,"lpp4"),e.R=Vo(t,4),e.U=Vo(t,4),e.W=Vo(t,4),e}function uee(t){var e=cee(t);if(e.ename=t.read_shift(0,"8lpp4"),e.blksz=t.read_shift(4),e.cmode=t.read_shift(4),t.read_shift(4)!=4)throw new Error("Bad !Primary record");return e}function kU(t,e){var n=t.l+e,r={};r.Flags=t.read_shift(4)&63,t.l+=4,r.AlgID=t.read_shift(4);var i=!1;switch(r.AlgID){case 26126:case 26127:case 26128:i=r.Flags==36;break;case 26625:i=r.Flags==4;break;case 0:i=r.Flags==16||r.Flags==4||r.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+r.AlgID}if(!i)throw new Error("Encryption Flags/AlgID mismatch");return r.AlgIDHash=t.read_shift(4),r.KeySize=t.read_shift(4),r.ProviderType=t.read_shift(4),t.l+=8,r.CSPName=t.read_shift(n-t.l>>1,"utf16le"),t.l=n,r}function LU(t,e){var n={},r=t.l+e;return t.l+=4,n.Salt=t.slice(t.l,t.l+16),t.l+=16,n.Verifier=t.slice(t.l,t.l+16),t.l+=16,t.read_shift(4),n.VerifierHash=t.slice(t.l,r),t.l=r,n}function fee(t){var e=Vo(t);switch(e.Minor){case 2:return[e.Minor,hee(t)];case 3:return[e.Minor,dee()];case 4:return[e.Minor,pee(t)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+e.Minor)}function hee(t){var e=t.read_shift(4);if((e&63)!=36)throw new Error("EncryptionInfo mismatch");var n=t.read_shift(4),r=kU(t,n),i=LU(t,t.length-t.l);return{t:"Std",h:r,v:i}}function dee(){throw new Error("File is password-protected: ECMA-376 Extensible")}function pee(t){var e=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];t.l+=4;var n=t.read_shift(t.length-t.l,"utf8"),r={};return n.replace(zi,function(a){var s=Wt(a);switch(io(s[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":e.forEach(function(l){r[l]=s[l]});break;case"<dataIntegrity":r.encryptedHmacKey=s.encryptedHmacKey,r.encryptedHmacValue=s.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":r.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":r.uri=s.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":r.encs.push(s);break;default:throw s[0]}}),r}function mee(t,e){var n={},r=n.EncryptionVersionInfo=Vo(t,4);if(e-=4,r.Minor!=2)throw new Error("unrecognized minor version code: "+r.Minor);if(r.Major>4||r.Major<2)throw new Error("unrecognized major version code: "+r.Major);n.Flags=t.read_shift(4),e-=4;var i=t.read_shift(4);return e-=4,n.EncryptionHeader=kU(t,i),e-=i,n.EncryptionVerifier=LU(t,e),n}function vee(t){var e={},n=e.EncryptionVersionInfo=Vo(t,4);if(n.Major!=1||n.Minor!=1)throw"unrecognized version code "+n.Major+" : "+n.Minor;return e.Salt=t.read_shift(16),e.EncryptedVerifier=t.read_shift(16),e.EncryptedVerifierHash=t.read_shift(16),e}function lw(t){var e=0,n,r=NU(t),i=r.length+1,a,s,l,u,f;for(n=rc(i),n[0]=r.length,a=1;a!=i;++a)n[a]=r[a-1];for(a=i-1;a>=0;--a)s=n[a],l=(e&16384)===0?0:1,u=e<<1&32767,f=l|u,e=f^s;return e^52811}var IU=(function(){var t=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],e=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],n=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],r=function(s){return(s/2|s*128)&255},i=function(s,l){return r(s^l)},a=function(s){for(var l=e[s.length-1],u=104,f=s.length-1;f>=0;--f)for(var h=s[f],p=0;p!=7;++p)h&64&&(l^=n[u]),h*=2,--u;return l};return function(s){for(var l=NU(s),u=a(l),f=l.length,h=rc(16),p=0;p!=16;++p)h[p]=0;var m,g,_;for((f&1)===1&&(m=u>>8,h[f]=i(t[0],m),--f,m=u&255,g=l[l.length-1],h[f]=i(g,m));f>0;)--f,m=u>>8,h[f]=i(l[f],m),--f,m=u&255,h[f]=i(l[f],m);for(f=15,_=15-l.length;_>0;)m=u>>8,h[f]=i(t[_],m),--f,--_,m=u&255,h[f]=i(l[f],m),--f,--_;return h}})(),gee=function(t,e,n,r,i){i||(i=e),r||(r=IU(t));var a,s;for(a=0;a!=e.length;++a)s=e[a],s^=r[n],s=(s>>5|s<<3)&255,i[a]=s,++n;return[i,n,r]},xee=function(t){var e=0,n=IU(t);return function(r){var i=gee("",r,e,n);return e=i[1],i[0]}};function _ee(t,e,n,r){var i={key:Dr(t),verificationBytes:Dr(t)};return n.password&&(i.verifier=lw(n.password)),r.valid=i.verificationBytes===i.verifier,r.valid&&(r.insitu=xee(n.password)),i}function yee(t,e,n){var r=n||{};return r.Info=t.read_shift(2),t.l-=2,r.Info===1?r.Data=vee(t):r.Data=mee(t,e),r}function Eee(t,e,n){var r={Type:n.biff>=8?t.read_shift(2):0};return r.Type?yee(t,e-2,r):_ee(t,n.biff>=8?e:e-2,n,r),r}var FU=(function(){function t(i,a){switch(a.type){case"base64":return e(Pa(i),a);case"binary":return e(i,a);case"buffer":return e(tn&&Buffer.isBuffer(i)?i.toString("binary"):fc(i),a);case"array":return e(cu(i),a)}throw new Error("Unrecognized type "+a.type)}function e(i,a){var s=a||{},l=s.dense?[]:{},u=i.match(/\\trowd.*?\\row\b/g);if(!u.length)throw new Error("RTF missing table");var f={s:{c:0,r:0},e:{c:0,r:u.length-1}};return u.forEach(function(h,p){Array.isArray(l)&&(l[p]=[]);for(var m=/\\\w+\b/g,g=0,_,x=-1;_=m.exec(h);){switch(_[0]){case"\\cell":var y=h.slice(g,m.lastIndex-_[0].length);if(y[0]==" "&&(y=y.slice(1)),++x,y.length){var E={v:y,t:"s"};Array.isArray(l)?l[p][x]=E:l[Ht({r:p,c:x})]=E}break}g=m.lastIndex}x>f.e.c&&(f.e.c=x)}),l["!ref"]=Kt(f),l}function n(i,a){return hc(t(i,a),a)}function r(i){for(var a=["{\\rtf1\\ansi"],s=vn(i["!ref"]),l,u=Array.isArray(i),f=s.s.r;f<=s.e.r;++f){a.push("\\trowd\\trautofit1");for(var h=s.s.c;h<=s.e.c;++h)a.push("\\cellx"+(h+1));for(a.push("\\pard\\intbl"),h=s.s.c;h<=s.e.c;++h){var p=Ht({r:f,c:h});l=u?(i[f]||[])[h]:i[p],!(!l||l.v==null&&(!l.f||l.F))&&(a.push(" "+(l.w||(qo(l),l.w))),a.push("\\cell"))}a.push("\\pard\\intbl\\row")}return a.join("")+"}"}return{to_workbook:n,to_sheet:t,from_sheet:r}})();function See(t){var e=t.slice(t[0]==="#"?1:0).slice(0,6);return[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16)]}function xd(t){for(var e=0,n=1;e!=3;++e)n=n*256+(t[e]>255?255:t[e]<0?0:t[e]);return n.toString(16).toUpperCase().slice(1)}function bee(t){var e=t[0]/255,n=t[1]/255,r=t[2]/255,i=Math.max(e,n,r),a=Math.min(e,n,r),s=i-a;if(s===0)return[0,0,e];var l=0,u=0,f=i+a;switch(u=s/(f>1?2-f:f),i){case e:l=((n-r)/s+6)%6;break;case n:l=(r-e)/s+2;break;case r:l=(e-n)/s+4;break}return[l/6,u,f/2]}function Tee(t){var e=t[0],n=t[1],r=t[2],i=n*2*(r<.5?r:1-r),a=r-i/2,s=[a,a,a],l=6*e,u;if(n!==0)switch(l|0){case 0:case 6:u=i*l,s[0]+=i,s[1]+=u;break;case 1:u=i*(2-l),s[0]+=u,s[1]+=i;break;case 2:u=i*(l-2),s[1]+=i,s[2]+=u;break;case 3:u=i*(4-l),s[1]+=u,s[2]+=i;break;case 4:u=i*(l-4),s[2]+=i,s[0]+=u;break;case 5:u=i*(6-l),s[2]+=u,s[0]+=i;break}for(var f=0;f!=3;++f)s[f]=Math.round(s[f]*255);return s}function fg(t,e){if(e===0)return t;var n=bee(See(t));return e<0?n[2]=n[2]*(1+e):n[2]=1-(1-n[2])*(1-e),xd(Tee(n))}var UU=6,wee=15,Aee=1,Di=UU;function _d(t){return Math.floor((t+Math.round(128/Di)/256)*Di)}function yd(t){return Math.floor((t-5)/Di*100+.5)/100}function hg(t){return Math.round((t*Di+5)/Di*256)/256}function fE(t){return hg(yd(_d(t)))}function cw(t){var e=Math.abs(t-fE(t)),n=Di;if(e>.005)for(Di=Aee;Di<wee;++Di)Math.abs(t-fE(t))<=e&&(e=Math.abs(t-fE(t)),n=Di);Di=n}function ic(t){t.width?(t.wpx=_d(t.width),t.wch=yd(t.wpx),t.MDW=Di):t.wpx?(t.wch=yd(t.wpx),t.width=hg(t.wch),t.MDW=Di):typeof t.wch=="number"&&(t.width=hg(t.wch),t.wpx=_d(t.width),t.MDW=Di),t.customWidth&&delete t.customWidth}var Mee=96,BU=Mee;function Ed(t){return t*96/BU}function uh(t){return t*BU/96}var Cee={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function Ree(t,e,n,r){e.Borders=[];var i={},a=!1;(t[0].match(zi)||[]).forEach(function(s){var l=Wt(s);switch(io(l[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":i={},l.diagonalUp&&(i.diagonalUp=Zn(l.diagonalUp)),l.diagonalDown&&(i.diagonalDown=Zn(l.diagonalDown)),e.Borders.push(i);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+l[0]+" in borders")}})}function Oee(t,e,n,r){e.Fills=[];var i={},a=!1;(t[0].match(zi)||[]).forEach(function(s){var l=Wt(s);switch(io(l[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":i={},e.Fills.push(i);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":e.Fills.push(i),i={};break;case"<patternFill":case"<patternFill>":l.patternType&&(i.patternType=l.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":i.bgColor||(i.bgColor={}),l.indexed&&(i.bgColor.indexed=parseInt(l.indexed,10)),l.theme&&(i.bgColor.theme=parseInt(l.theme,10)),l.tint&&(i.bgColor.tint=parseFloat(l.tint)),l.rgb&&(i.bgColor.rgb=l.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":i.fgColor||(i.fgColor={}),l.theme&&(i.fgColor.theme=parseInt(l.theme,10)),l.tint&&(i.fgColor.tint=parseFloat(l.tint)),l.rgb!=null&&(i.fgColor.rgb=l.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+l[0]+" in fills")}})}function Pee(t,e,n,r){e.Fonts=[];var i={},a=!1;(t[0].match(zi)||[]).forEach(function(s){var l=Wt(s);switch(io(l[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":e.Fonts.push(i),i={};break;case"<name":l.val&&(i.name=Hn(l.val));break;case"<name/>":case"</name>":break;case"<b":i.bold=l.val?Zn(l.val):1;break;case"<b/>":i.bold=1;break;case"<i":i.italic=l.val?Zn(l.val):1;break;case"<i/>":i.italic=1;break;case"<u":switch(l.val){case"none":i.underline=0;break;case"single":i.underline=1;break;case"double":i.underline=2;break;case"singleAccounting":i.underline=33;break;case"doubleAccounting":i.underline=34;break}break;case"<u/>":i.underline=1;break;case"<strike":i.strike=l.val?Zn(l.val):1;break;case"<strike/>":i.strike=1;break;case"<outline":i.outline=l.val?Zn(l.val):1;break;case"<outline/>":i.outline=1;break;case"<shadow":i.shadow=l.val?Zn(l.val):1;break;case"<shadow/>":i.shadow=1;break;case"<condense":i.condense=l.val?Zn(l.val):1;break;case"<condense/>":i.condense=1;break;case"<extend":i.extend=l.val?Zn(l.val):1;break;case"<extend/>":i.extend=1;break;case"<sz":l.val&&(i.sz=+l.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":l.val&&(i.vertAlign=l.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":l.val&&(i.family=parseInt(l.val,10));break;case"<family/>":case"</family>":break;case"<scheme":l.val&&(i.scheme=l.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(l.val=="1")break;l.codepage=F2[parseInt(l.val,10)];break;case"<color":if(i.color||(i.color={}),l.auto&&(i.color.auto=Zn(l.auto)),l.rgb)i.color.rgb=l.rgb.slice(-6);else if(l.indexed){i.color.index=parseInt(l.indexed,10);var u=Zc[i.color.index];i.color.index==81&&(u=Zc[1]),u||(u=Zc[1]),i.color.rgb=u[0].toString(16)+u[1].toString(16)+u[2].toString(16)}else l.theme&&(i.color.theme=parseInt(l.theme,10),l.tint&&(i.color.tint=parseFloat(l.tint)),l.theme&&n.themeElements&&n.themeElements.clrScheme&&(i.color.rgb=fg(n.themeElements.clrScheme[i.color.theme].rgb,i.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+l[0]+" in fonts")}})}function Dee(t,e,n){e.NumberFmt=[];for(var r=xr(jt),i=0;i<r.length;++i)e.NumberFmt[r[i]]=jt[r[i]];var a=t[0].match(zi);if(a)for(i=0;i<a.length;++i){var s=Wt(a[i]);switch(io(s[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var l=mn(Hn(s.formatCode)),u=parseInt(s.numFmtId,10);if(e.NumberFmt[u]=l,u>0){if(u>392){for(u=392;u>60&&e.NumberFmt[u]!=null;--u);e.NumberFmt[u]=l}Go(l,u)}}break;case"</numFmt>":break;default:if(n.WTF)throw new Error("unrecognized "+s[0]+" in numFmts")}}}function Nee(t){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var r=n[0];r<=n[1];++r)t[r]!=null&&(e[e.length]=ct("numFmt",null,{numFmtId:r,formatCode:kn(t[r])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=ct("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}var uv=["numFmtId","fillId","fontId","borderId","xfId"],fv=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function kee(t,e,n){e.CellXf=[];var r,i=!1;(t[0].match(zi)||[]).forEach(function(a){var s=Wt(a),l=0;switch(io(s[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(r=s,delete r[0],l=0;l<uv.length;++l)r[uv[l]]&&(r[uv[l]]=parseInt(r[uv[l]],10));for(l=0;l<fv.length;++l)r[fv[l]]&&(r[fv[l]]=Zn(r[fv[l]]));if(e.NumberFmt&&r.numFmtId>392){for(l=392;l>60;--l)if(e.NumberFmt[r.numFmtId]==e.NumberFmt[l]){r.numFmtId=l;break}}e.CellXf.push(r);break;case"</xf>":break;case"<alignment":case"<alignment/>":var u={};s.vertical&&(u.vertical=s.vertical),s.horizontal&&(u.horizontal=s.horizontal),s.textRotation!=null&&(u.textRotation=s.textRotation),s.indent&&(u.indent=s.indent),s.wrapText&&(u.wrapText=Zn(s.wrapText)),r.alignment=u;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+s[0]+" in cellXfs")}})}function Lee(t){var e=[];return e[e.length]=ct("cellXfs",null),t.forEach(function(n){e[e.length]=ct("xf",null,n)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=ct("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}var Iee=(function(){var e=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,n=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,r=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,i=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,a=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(l,u,f){var h={};if(!l)return h;l=l.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var p;return(p=l.match(e))&&Dee(p,h,f),(p=l.match(i))&&Pee(p,h,u,f),(p=l.match(r))&&Oee(p,h,u,f),(p=l.match(a))&&Ree(p,h,u,f),(p=l.match(n))&&kee(p,h,f),h}})();function zU(t,e){var n=[Tr,ct("styleSheet",null,{xmlns:wu[0],"xmlns:vt":jr.vt})],r;return t.SSF&&(r=Nee(t.SSF))!=null&&(n[n.length]=r),n[n.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',n[n.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',n[n.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',n[n.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(r=Lee(e.cellXfs))&&(n[n.length]=r),n[n.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',n[n.length]='<dxfs count="0"/>',n[n.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',n.length>2&&(n[n.length]="</styleSheet>",n[1]=n[1].replace("/>",">")),n.join("")}function Fee(t,e){var n=t.read_shift(2),r=Fi(t);return[n,r]}function Uee(t,e,n){n||(n=je(6+4*e.length)),n.write_shift(2,t),ii(e,n);var r=n.length>n.l?n.slice(0,n.l):n;return n.l==null&&(n.l=n.length),r}function Bee(t,e,n){var r={};r.sz=t.read_shift(2)/20;var i=yZ(t);i.fItalic&&(r.italic=1),i.fCondense&&(r.condense=1),i.fExtend&&(r.extend=1),i.fShadow&&(r.shadow=1),i.fOutline&&(r.outline=1),i.fStrikeout&&(r.strike=1);var a=t.read_shift(2);switch(a===700&&(r.bold=1),t.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var s=t.read_shift(1);s!=0&&(r.underline=s);var l=t.read_shift(1);l>0&&(r.family=l);var u=t.read_shift(1);switch(u>0&&(r.charset=u),t.l++,r.color=_Z(t),t.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=Fi(t),r}function zee(t,e){e||(e=je(153)),e.write_shift(2,t.sz*20),EZ(t,e),e.write_shift(2,t.bold?700:400);var n=0;t.vertAlign=="superscript"?n=1:t.vertAlign=="subscript"&&(n=2),e.write_shift(2,n),e.write_shift(1,t.underline||0),e.write_shift(1,t.family||0),e.write_shift(1,t.charset||0),e.write_shift(1,0),lg(t.color,e);var r=0;return r=2,e.write_shift(1,r),ii(t.name,e),e.length>e.l?e.slice(0,e.l):e}var jee=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],hE,Hee=Bi;function lD(t,e){e||(e=je(84)),hE||(hE=hx(jee));var n=hE[t.patternType];n==null&&(n=40),e.write_shift(4,n);var r=0;if(n!=40)for(lg({auto:1},e),lg({auto:1},e);r<12;++r)e.write_shift(4,0);else{for(;r<4;++r)e.write_shift(4,0);for(;r<12;++r)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function Gee(t,e){var n=t.l+e,r=t.read_shift(2),i=t.read_shift(2);return t.l=n,{ixfe:r,numFmtId:i}}function jU(t,e,n){n||(n=je(16)),n.write_shift(2,e||0),n.write_shift(2,t.numFmtId||0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(1,0),n.write_shift(1,0);var r=0;return n.write_shift(1,r),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(1,0),n}function N0(t,e){return e||(e=je(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var Vee=Bi;function Wee(t,e){return e||(e=je(51)),e.write_shift(1,0),N0(null,e),N0(null,e),N0(null,e),N0(null,e),N0(null,e),e.length>e.l?e.slice(0,e.l):e}function Yee(t,e){return e||(e=je(52)),e.write_shift(4,t.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),og(t.name||"",e),e.length>e.l?e.slice(0,e.l):e}function Xee(t,e,n){var r=je(2052);return r.write_shift(4,t),og(e,r),og(n,r),r.length>r.l?r.slice(0,r.l):r}function qee(t,e,n){var r={};r.NumberFmt=[];for(var i in jt)r.NumberFmt[i]=jt[i];r.CellXf=[],r.Fonts=[];var a=[],s=!1;return il(t,function(u,f,h){switch(h){case 44:r.NumberFmt[u[0]]=u[1],Go(u[1],u[0]);break;case 43:r.Fonts.push(u),u.color.theme!=null&&e&&e.themeElements&&e.themeElements.clrScheme&&(u.color.rgb=fg(e.themeElements.clrScheme[u.color.theme].rgb,u.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:a[a.length-1]==617&&r.CellXf.push(u);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:a.push(h),s=!0;break;case 38:a.pop(),s=!1;break;default:if(f.T>0)a.push(h);else if(f.T<0)a.pop();else if(!s||n.WTF&&a[a.length-1]!=37)throw new Error("Unexpected record 0x"+h.toString(16))}}),r}function Kee(t,e){if(e){var n=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&++n}),n!=0&&(Ze(t,615,Ms(n)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&Ze(t,44,Uee(i,e[i]))}),Ze(t,616))}}function $ee(t){var e=1;Ze(t,611,Ms(e)),Ze(t,43,zee({sz:12,color:{theme:1},name:"Calibri",family:2})),Ze(t,612)}function Zee(t){var e=2;Ze(t,603,Ms(e)),Ze(t,45,lD({patternType:"none"})),Ze(t,45,lD({patternType:"gray125"})),Ze(t,604)}function Jee(t){var e=1;Ze(t,613,Ms(e)),Ze(t,46,Wee()),Ze(t,614)}function Qee(t){var e=1;Ze(t,626,Ms(e)),Ze(t,47,jU({numFmtId:0},65535)),Ze(t,627)}function ete(t,e){Ze(t,617,Ms(e.length)),e.forEach(function(n){Ze(t,47,jU(n,0))}),Ze(t,618)}function tte(t){var e=1;Ze(t,619,Ms(e)),Ze(t,48,Yee({xfId:0,name:"Normal"})),Ze(t,620)}function nte(t){var e=0;Ze(t,505,Ms(e)),Ze(t,506)}function rte(t){var e=0;Ze(t,508,Xee(e,"TableStyleMedium9","PivotStyleMedium4")),Ze(t,509)}function ite(t,e){var n=la();return Ze(n,278),Kee(n,t.SSF),$ee(n),Zee(n),Jee(n),Qee(n),ete(n,e.cellXfs),tte(n),nte(n),rte(n),Ze(n,279),n.end()}var ate=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function ste(t,e,n){e.themeElements.clrScheme=[];var r={};(t[0].match(zi)||[]).forEach(function(i){var a=Wt(i);switch(a[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":r.rgb=a.val;break;case"<a:sysClr":r.rgb=a.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":a[0].charAt(1)==="/"?(e.themeElements.clrScheme[ate.indexOf(a[0])]=r,r={}):r.name=a[0].slice(3,a[0].length-1);break;default:if(n&&n.WTF)throw new Error("Unrecognized "+a[0]+" in clrScheme")}})}function ote(){}function lte(){}var cte=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,ute=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,fte=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function hte(t,e,n){e.themeElements={};var r;[["clrScheme",cte,ste],["fontScheme",ute,ote],["fmtScheme",fte,lte]].forEach(function(i){if(!(r=t.match(i[1])))throw new Error(i[0]+" not found in themeElements");i[2](r,e,n)})}var dte=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function HU(t,e){(!t||t.length===0)&&(t=uw());var n,r={};if(!(n=t.match(dte)))throw new Error("themeElements not found in theme");return hte(n[0],r,e),r.raw=t,r}function uw(t,e){if(e&&e.themeXLSX)return e.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var n=[Tr];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function pte(t,e,n){var r=t.l+e,i=t.read_shift(4);if(i!==124226){if(!n.cellStyles){t.l=r;return}var a=t.slice(t.l);t.l=r;var s;try{s=kF(a,{type:"array"})}catch{return}var l=Aa(s,"theme/theme/theme1.xml",!0);if(l)return HU(l,n)}}function mte(t){return t.read_shift(4)}function vte(t){var e={};switch(e.xclrType=t.read_shift(2),e.nTintShade=t.read_shift(2),e.xclrType){case 0:t.l+=4;break;case 1:e.xclrValue=gte(t,4);break;case 2:e.xclrValue=EU(t);break;case 3:e.xclrValue=mte(t);break;case 4:t.l+=4;break}return t.l+=8,e}function gte(t,e){return Bi(t,e)}function xte(t,e){return Bi(t,e)}function _te(t){var e=t.read_shift(2),n=t.read_shift(2)-4,r=[e];switch(e){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:r[1]=vte(t);break;case 6:r[1]=xte(t,n);break;case 14:case 15:r[1]=t.read_shift(n===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+e+" "+n)}return r}function yte(t,e){var n=t.l+e;t.l+=2;var r=t.read_shift(2);t.l+=2;for(var i=t.read_shift(2),a=[];i-- >0;)a.push(_te(t,n-t.l));return{ixfe:r,ext:a}}function Ete(t,e){e.forEach(function(n){n[0]})}function Ste(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:Fi(t)}}function bte(t){var e=je(12+2*t.name.length);return e.write_shift(4,t.flags),e.write_shift(4,t.version),ii(t.name,e),e.slice(0,e.l)}function Tte(t){for(var e=[],n=t.read_shift(4);n-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function wte(t){var e=je(4+8*t.length);e.write_shift(4,t.length);for(var n=0;n<t.length;++n)e.write_shift(4,t[n][0]),e.write_shift(4,t[n][1]);return e}function Ate(t,e){var n=je(8+2*e.length);return n.write_shift(4,t),ii(e,n),n.slice(0,n.l)}function Mte(t){return t.l+=4,t.read_shift(4)!=0}function Cte(t,e){var n=je(8);return n.write_shift(4,t),n.write_shift(4,1),n}function Rte(t,e,n){var r={Types:[],Cell:[],Value:[]},i=n||{},a=[],s=!1,l=2;return il(t,function(u,f,h){switch(h){case 335:r.Types.push({name:u.name});break;case 51:u.forEach(function(p){l==1?r.Cell.push({type:r.Types[p[0]-1].name,index:p[1]}):l==0&&r.Value.push({type:r.Types[p[0]-1].name,index:p[1]})});break;case 337:l=u?1:0;break;case 338:l=2;break;case 35:a.push(h),s=!0;break;case 36:a.pop(),s=!1;break;default:if(!f.T){if(!s||i.WTF&&a[a.length-1]!=35)throw new Error("Unexpected record 0x"+h.toString(16))}}}),r}function Ote(){var t=la();return Ze(t,332),Ze(t,334,Ms(1)),Ze(t,335,bte({name:"XLDAPR",version:12e4,flags:3496657072})),Ze(t,336),Ze(t,339,Ate(1,"XLDAPR")),Ze(t,52),Ze(t,35,Ms(514)),Ze(t,4096,Ms(0)),Ze(t,4097,Qa(1)),Ze(t,36),Ze(t,53),Ze(t,340),Ze(t,337,Cte(1)),Ze(t,51,wte([[1,0]])),Ze(t,338),Ze(t,333),t.end()}function Pte(t,e,n){var r={Types:[],Cell:[],Value:[]};if(!t)return r;var i=!1,a=2,s;return t.replace(zi,function(l){var u=Wt(l);switch(io(u[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":r.Types.push({name:u.name});break;case"</metadataType>":break;case"<futureMetadata":for(var f=0;f<r.Types.length;++f)r.Types[f].name==u.name&&(s=r.Types[f]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":a==1?r.Cell.push({type:r.Types[u.t-1].name,index:+u.v}):a==0&&r.Value.push({type:r.Types[u.t-1].name,index:+u.v});break;case"</rc>":break;case"<cellMetadata":a=1;break;case"</cellMetadata>":a=2;break;case"<valueMetadata":a=0;break;case"</valueMetadata>":a=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;case"<rvb":if(!s)break;s.offsets||(s.offsets=[]),s.offsets.push(+u.i);break;default:if(!i&&n.WTF)throw new Error("unrecognized "+u[0]+" in metadata")}return l}),r}function GU(){var t=[Tr];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function Dte(t){var e=[];if(!t)return e;var n=1;return(t.match(zi)||[]).forEach(function(r){var i=Wt(r);switch(i[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete i[0],i.i?n=i.i:i.i=n,e.push(i);break}}),e}function Nte(t){var e={};e.i=t.read_shift(4);var n={};n.r=t.read_shift(4),n.c=t.read_shift(4),e.r=Ht(n);var r=t.read_shift(1);return r&2&&(e.l="1"),r&8&&(e.a="1"),e}function kte(t,e,n){var r=[];return il(t,function(a,s,l){switch(l){case 63:r.push(a);break;default:if(!s.T)throw new Error("Unexpected record 0x"+l.toString(16))}}),r}function Lte(t,e,n,r){if(!t)return t;var i=r||{},a=!1;il(t,function(l,u,f){switch(f){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:a=!0;break;case 36:a=!1;break;default:if(!u.T){if(!a||i.WTF)throw new Error("Unexpected record 0x"+f.toString(16))}}},i)}function Ite(t,e){if(!t)return"??";var n=(t.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return e["!id"][n].Target}var Vf=1024;function VU(t,e){for(var n=[21600,21600],r=["m0,0l0",n[1],n[0],n[1],n[0],"0xe"].join(","),i=[ct("xml",null,{"xmlns:v":Sa.v,"xmlns:o":Sa.o,"xmlns:x":Sa.x,"xmlns:mv":Sa.mv}).replace(/\/>/,">"),ct("o:shapelayout",ct("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),ct("v:shapetype",[ct("v:stroke",null,{joinstyle:"miter"}),ct("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:n.join(","),path:r})];Vf<t*1e3;)Vf+=1e3;return e.forEach(function(a){var s=lr(a[0]),l={color2:"#BEFF82",type:"gradient"};l.type=="gradient"&&(l.angle="-180");var u=l.type=="gradient"?ct("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,f=ct("v:fill",u,l),h={on:"t",obscured:"t"};++Vf,i=i.concat(["<v:shape"+md({id:"_x0000_s"+Vf,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(a[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",f,ct("v:shadow",null,h),ct("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Ei("x:Anchor",[s.c+1,0,s.r+1,0,s.c+3,20,s.r+5,20].join(",")),Ei("x:AutoFill","False"),Ei("x:Row",String(s.r)),Ei("x:Column",String(s.c)),a[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function cD(t,e,n,r){var i=Array.isArray(t),a;e.forEach(function(s){var l=lr(s.ref);if(i?(t[l.r]||(t[l.r]=[]),a=t[l.r][l.c]):a=t[s.ref],!a){a={t:"z"},i?t[l.r][l.c]=a:t[s.ref]=a;var u=vn(t["!ref"]||"BDWGO1000001:A1");u.s.r>l.r&&(u.s.r=l.r),u.e.r<l.r&&(u.e.r=l.r),u.s.c>l.c&&(u.s.c=l.c),u.e.c<l.c&&(u.e.c=l.c);var f=Kt(u);f!==t["!ref"]&&(t["!ref"]=f)}a.c||(a.c=[]);var h={a:s.author,t:s.t,r:s.r,T:n};s.h&&(h.h=s.h);for(var p=a.c.length-1;p>=0;--p){if(!n&&a.c[p].T)return;n&&!a.c[p].T&&a.c.splice(p,1)}if(n&&r){for(p=0;p<r.length;++p)if(h.a==r[p].id){h.a=r[p].name||h.a;break}}a.c.push(h)})}function Fte(t,e){if(t.match(/<(?:\w+:)?comments *\/>/))return[];var n=[],r=[],i=t.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);i&&i[1]&&i[1].split(/<\/\w*:?author>/).forEach(function(s){if(!(s===""||s.trim()==="")){var l=s.match(/<(?:\w+:)?author[^>]*>(.*)/);l&&n.push(l[1])}});var a=t.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return a&&a[1]&&a[1].split(/<\/\w*:?comment>/).forEach(function(s){if(!(s===""||s.trim()==="")){var l=s.match(/<(?:\w+:)?comment[^>]*>/);if(l){var u=Wt(l[0]),f={author:u.authorId&&n[u.authorId]||"sheetjsghost",ref:u.ref,guid:u.guid},h=lr(u.ref);if(!(e.sheetRows&&e.sheetRows<=h.r)){var p=s.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),m=!!p&&!!p[1]&&ow(p[1])||{r:"",t:"",h:""};f.r=m.r,m.r=="<t></t>"&&(m.t=m.h=""),f.t=(m.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.cellHTML&&(f.h=m.h),r.push(f)}}}}),r}function WU(t){var e=[Tr,ct("comments",null,{xmlns:wu[0]})],n=[];return e.push("<authors>"),t.forEach(function(r){r[1].forEach(function(i){var a=kn(i.a);n.indexOf(a)==-1&&(n.push(a),e.push("<author>"+a+"</author>")),i.T&&i.ID&&n.indexOf("tc="+i.ID)==-1&&(n.push("tc="+i.ID),e.push("<author>tc="+i.ID+"</author>"))})}),n.length==0&&(n.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),t.forEach(function(r){var i=0,a=[];if(r[1][0]&&r[1][0].T&&r[1][0].ID?i=n.indexOf("tc="+r[1][0].ID):r[1].forEach(function(u){u.a&&(i=n.indexOf(kn(u.a))),a.push(u.t||"")}),e.push('<comment ref="'+r[0]+'" authorId="'+i+'"><text>'),a.length<=1)e.push(Ei("t",kn(a[0]||"")));else{for(var s=`Comment:
    `+a[0]+`
`,l=1;l<a.length;++l)s+=`Reply:
    `+a[l]+`
`;e.push(Ei("t",kn(s)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function Ute(t,e){var n=[],r=!1,i={},a=0;return t.replace(zi,function(l,u){var f=Wt(l);switch(io(f[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":i={author:f.personId,guid:f.id,ref:f.ref,T:1};break;case"</threadedComment>":i.t!=null&&n.push(i);break;case"<text>":case"<text":a=u+l.length;break;case"</text>":i.t=t.slice(a,u).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":r=!0;break;case"</mentions>":r=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&e.WTF)throw new Error("unrecognized "+f[0]+" in threaded comments")}return l}),n}function Bte(t,e,n){var r=[Tr,ct("ThreadedComments",null,{xmlns:jr.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(i){var a="";(i[1]||[]).forEach(function(s,l){if(!s.T){delete s.ID;return}s.a&&e.indexOf(s.a)==-1&&e.push(s.a);var u={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+n.tcid++).slice(-12)+"}"};l==0?a=u.id:u.parentId=a,s.ID=u.id,s.a&&(u.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(s.a)).slice(-12)+"}"),r.push(ct("threadedComment",Ei("text",s.t||""),u))})}),r.push("</ThreadedComments>"),r.join("")}function zte(t,e){var n=[],r=!1;return t.replace(zi,function(a){var s=Wt(a);switch(io(s[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":n.push({name:s.displayname,id:s.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&e.WTF)throw new Error("unrecognized "+s[0]+" in threaded comments")}return a}),n}function jte(t){var e=[Tr,ct("personList",null,{xmlns:jr.TCMNT,"xmlns:x":wu[0]}).replace(/[\/]>/,">")];return t.forEach(function(n,r){e.push(ct("person",null,{displayName:n,id:"{54EE7950-7262-4200-6969-"+("000000000000"+r).slice(-12)+"}",userId:n,providerId:"None"}))}),e.push("</personList>"),e.join("")}function Hte(t){var e={};e.iauthor=t.read_shift(4);var n=Ru(t);return e.rfx=n.s,e.ref=Ht(n.s),t.l+=16,e}function Gte(t,e){return e==null&&(e=je(36)),e.write_shift(4,t[1].iauthor),bh(t[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var Vte=Fi;function Wte(t){return ii(t.slice(0,54))}function Yte(t,e){var n=[],r=[],i={},a=!1;return il(t,function(l,u,f){switch(f){case 632:r.push(l);break;case 635:i=l;break;case 637:i.t=l.t,i.h=l.h,i.r=l.r;break;case 636:if(i.author=r[i.iauthor],delete i.iauthor,e.sheetRows&&i.rfx&&e.sheetRows<=i.rfx.r)break;i.t||(i.t=""),delete i.rfx,n.push(i);break;case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:break;case 38:break;default:if(!u.T){if(!a||e.WTF)throw new Error("Unexpected record 0x"+f.toString(16))}}}),n}function Xte(t){var e=la(),n=[];return Ze(e,628),Ze(e,630),t.forEach(function(r){r[1].forEach(function(i){n.indexOf(i.a)>-1||(n.push(i.a.slice(0,54)),Ze(e,632,Wte(i.a)))})}),Ze(e,631),Ze(e,633),t.forEach(function(r){r[1].forEach(function(i){i.iauthor=n.indexOf(i.a);var a={s:lr(r[0]),e:lr(r[0])};Ze(e,635,Gte([a,i])),i.t&&i.t.length>0&&Ze(e,637,mZ(i)),Ze(e,636),delete i.iauthor})}),Ze(e,634),Ze(e,629),e.end()}var qte="application/vnd.ms-office.vbaProject";function Kte(t){var e=It.utils.cfb_new({root:"R"});return t.FullPaths.forEach(function(n,r){if(!(n.slice(-1)==="/"||!n.match(/_VBA_PROJECT_CUR/))){var i=n.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");It.utils.cfb_add(e,i,t.FileIndex[r].content)}}),It.write(e)}function $te(t,e){e.FullPaths.forEach(function(n,r){if(r!=0){var i=n.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&It.utils.cfb_add(t,i,e.FileIndex[r].content)}})}var YU=["xlsb","xlsm","xlam","biff8","xla"];function Zte(){return{"!type":"dialog"}}function Jte(){return{"!type":"dialog"}}function Qte(){return{"!type":"macro"}}function ene(){return{"!type":"macro"}}var Jf=(function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function n(r,i,a,s){var l=!1,u=!1;a.length==0?u=!0:a.charAt(0)=="["&&(u=!0,a=a.slice(1,-1)),s.length==0?l=!0:s.charAt(0)=="["&&(l=!0,s=s.slice(1,-1));var f=a.length>0?parseInt(a,10)|0:0,h=s.length>0?parseInt(s,10)|0:0;return l?h+=e.c:--h,u?f+=e.r:--f,i+(l?"":"$")+or(h)+(u?"":"$")+br(f)}return function(i,a){return e=a,i.replace(t,n)}})(),fw=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,hw=(function(){return function(e,n){return e.replace(fw,function(r,i,a,s,l,u){var f=J2(s)-(a?0:n.c),h=Z2(u)-(l?0:n.r),p=h==0?"":l?h+1:"["+h+"]",m=f==0?"":a?f+1:"["+f+"]";return i+"R"+p+"C"+m})}})();function XU(t,e){return t.replace(fw,function(n,r,i,a,s,l){return r+(i=="$"?i+a:or(J2(a)+e.c))+(s=="$"?s+l:br(Z2(l)+e.r))})}function tne(t,e,n){var r=ca(e),i=r.s,a=lr(n),s={r:a.r-i.r,c:a.c-i.c};return XU(t,s)}function nne(t){return t.length!=1}function uD(t){return t.replace(/_xlfn\./g,"")}function Or(t){t.l+=1}function ac(t,e){var n=t.read_shift(2);return[n&16383,n>>14&1,n>>15&1]}function qU(t,e,n){var r=2;if(n){if(n.biff>=2&&n.biff<=5)return KU(t);n.biff==12&&(r=4)}var i=t.read_shift(r),a=t.read_shift(r),s=ac(t),l=ac(t);return{s:{r:i,c:s[0],cRel:s[1],rRel:s[2]},e:{r:a,c:l[0],cRel:l[1],rRel:l[2]}}}function KU(t){var e=ac(t),n=ac(t),r=t.read_shift(1),i=t.read_shift(1);return{s:{r:e[0],c:r,cRel:e[1],rRel:e[2]},e:{r:n[0],c:i,cRel:n[1],rRel:n[2]}}}function rne(t,e,n){if(n.biff<8)return KU(t);var r=t.read_shift(n.biff==12?4:2),i=t.read_shift(n.biff==12?4:2),a=ac(t),s=ac(t);return{s:{r,c:a[0],cRel:a[1],rRel:a[2]},e:{r:i,c:s[0],cRel:s[1],rRel:s[2]}}}function $U(t,e,n){if(n&&n.biff>=2&&n.biff<=5)return ine(t);var r=t.read_shift(n&&n.biff==12?4:2),i=ac(t);return{r,c:i[0],cRel:i[1],rRel:i[2]}}function ine(t){var e=ac(t),n=t.read_shift(1);return{r:e[0],c:n,cRel:e[1],rRel:e[2]}}function ane(t){var e=t.read_shift(2),n=t.read_shift(2);return{r:e,c:n&255,fQuoted:!!(n&16384),cRel:n>>15,rRel:n>>15}}function sne(t,e,n){var r=n&&n.biff?n.biff:8;if(r>=2&&r<=5)return one(t);var i=t.read_shift(r>=12?4:2),a=t.read_shift(2),s=(a&16384)>>14,l=(a&32768)>>15;if(a&=16383,l==1)for(;i>524287;)i-=1048576;if(s==1)for(;a>8191;)a=a-16384;return{r:i,c:a,cRel:s,rRel:l}}function one(t){var e=t.read_shift(2),n=t.read_shift(1),r=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,r==1&&e>=8192&&(e=e-16384),i==1&&n>=128&&(n=n-256),{r:e,c:n,cRel:i,rRel:r}}function lne(t,e,n){var r=(t[t.l++]&96)>>5,i=qU(t,n.biff>=2&&n.biff<=5?6:8,n);return[r,i]}function cne(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2,"i"),a=8;if(n)switch(n.biff){case 5:t.l+=12,a=6;break;case 12:a=12;break}var s=qU(t,a,n);return[r,i,s]}function une(t,e,n){var r=(t[t.l++]&96)>>5;return t.l+=n&&n.biff>8?12:n.biff<8?6:8,[r]}function fne(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2),a=8;if(n)switch(n.biff){case 5:t.l+=12,a=6;break;case 12:a=12;break}return t.l+=a,[r,i]}function hne(t,e,n){var r=(t[t.l++]&96)>>5,i=rne(t,e-1,n);return[r,i]}function dne(t,e,n){var r=(t[t.l++]&96)>>5;return t.l+=n.biff==2?6:n.biff==12?14:7,[r]}function fD(t){var e=t[t.l+1]&1,n=1;return t.l+=4,[e,n]}function pne(t,e,n){t.l+=2;for(var r=t.read_shift(n&&n.biff==2?1:2),i=[],a=0;a<=r;++a)i.push(t.read_shift(n&&n.biff==2?1:2));return i}function mne(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(n&&n.biff==2?1:2)]}function vne(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(n&&n.biff==2?1:2)]}function gne(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function xne(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=n&&n.biff==2?3:4,[r]}function ZU(t){var e=t.read_shift(1),n=t.read_shift(1);return[e,n]}function _ne(t){return t.read_shift(2),ZU(t)}function yne(t){return t.read_shift(2),ZU(t)}function Ene(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=$U(t,0,n);return[r,i]}function Sne(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=sne(t,0,n);return[r,i]}function bne(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(2);n&&n.biff==5&&(t.l+=12);var a=$U(t,0,n);return[r,i,a]}function Tne(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(n&&n.biff<=3?1:2);return[Mre[i],e5[i],r]}function wne(t,e,n){var r=t[t.l++],i=t.read_shift(1),a=n&&n.biff<=3?[r==88?-1:0,t.read_shift(1)]:Ane(t);return[i,(a[0]===0?e5:Are)[a[1]]]}function Ane(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function Mne(t,e,n){t.l+=n&&n.biff==2?3:4}function Cne(t,e,n){if(t.l++,n&&n.biff==12)return[t.read_shift(4,"i"),0];var r=t.read_shift(2),i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function Rne(t){return t.l++,al[t.read_shift(1)]}function One(t){return t.l++,t.read_shift(2)}function Pne(t){return t.l++,t.read_shift(1)!==0}function Dne(t){return t.l++,Ni(t)}function Nne(t,e,n){return t.l++,Vd(t,e-1,n)}function kne(t,e){var n=[t.read_shift(1)];if(e==12)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2;break}switch(n[0]){case 4:n[1]=Er(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:n[1]=al[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:n[1]=Ni(t);break;case 2:n[1]=Ou(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function Lne(t,e,n){for(var r=t.read_shift(n.biff==12?4:2),i=[],a=0;a!=r;++a)i.push((n.biff==12?Ru:mx)(t));return i}function Ine(t,e,n){var r=0,i=0;n.biff==12?(r=t.read_shift(4),i=t.read_shift(4)):(i=1+t.read_shift(1),r=1+t.read_shift(2)),n.biff>=2&&n.biff<8&&(--r,--i==0&&(i=256));for(var a=0,s=[];a!=r&&(s[a]=[]);++a)for(var l=0;l!=i;++l)s[a][l]=kne(t,n.biff);return s}function Fne(t,e,n){var r=t.read_shift(1)>>>5&3,i=!n||n.biff>=8?4:2,a=t.read_shift(i);switch(n.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[r,0,a]}function Une(t,e,n){if(n.biff==5)return Bne(t);var r=t.read_shift(1)>>>5&3,i=t.read_shift(2),a=t.read_shift(4);return[r,i,a]}function Bne(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2,"i");t.l+=8;var r=t.read_shift(2);return t.l+=12,[e,n,r]}function zne(t,e,n){var r=t.read_shift(1)>>>5&3;t.l+=n&&n.biff==2?3:4;var i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function jne(t,e,n){var r=t.read_shift(1)>>>5&3,i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function Hne(t,e,n){var r=t.read_shift(1)>>>5&3;return t.l+=4,n.biff<8&&t.l--,n.biff==12&&(t.l+=2),[r]}function Gne(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2),a=4;if(n)switch(n.biff){case 5:a=15;break;case 12:a=6;break}return t.l+=a,[r,i]}var Vne=Bi,Wne=Bi,Yne=Bi;function Yd(t,e,n){return t.l+=2,[ane(t)]}function dw(t){return t.l+=6,[]}var Xne=Yd,qne=dw,Kne=dw,$ne=Yd;function JU(t){return t.l+=2,[Dr(t),t.read_shift(2)&1]}var Zne=Yd,Jne=JU,Qne=dw,ere=Yd,tre=Yd,nre=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function rre(t){t.l+=2;var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(4),i=t.read_shift(2),a=t.read_shift(2),s=nre[n>>2&31];return{ixti:e,coltype:n&3,rt:s,idx:r,c:i,C:a}}function ire(t){return t.l+=2,[t.read_shift(4)]}function are(t,e,n){return t.l+=5,t.l+=2,t.l+=n.biff==2?1:4,["PTGSHEET"]}function sre(t,e,n){return t.l+=n.biff==2?4:5,["PTGENDSHEET"]}function ore(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[e,n]}function lre(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[e,n]}function cre(t){return t.l+=4,[0,0]}var hD={1:{n:"PtgExp",f:Cne},2:{n:"PtgTbl",f:Yne},3:{n:"PtgAdd",f:Or},4:{n:"PtgSub",f:Or},5:{n:"PtgMul",f:Or},6:{n:"PtgDiv",f:Or},7:{n:"PtgPower",f:Or},8:{n:"PtgConcat",f:Or},9:{n:"PtgLt",f:Or},10:{n:"PtgLe",f:Or},11:{n:"PtgEq",f:Or},12:{n:"PtgGe",f:Or},13:{n:"PtgGt",f:Or},14:{n:"PtgNe",f:Or},15:{n:"PtgIsect",f:Or},16:{n:"PtgUnion",f:Or},17:{n:"PtgRange",f:Or},18:{n:"PtgUplus",f:Or},19:{n:"PtgUminus",f:Or},20:{n:"PtgPercent",f:Or},21:{n:"PtgParen",f:Or},22:{n:"PtgMissArg",f:Or},23:{n:"PtgStr",f:Nne},26:{n:"PtgSheet",f:are},27:{n:"PtgEndSheet",f:sre},28:{n:"PtgErr",f:Rne},29:{n:"PtgBool",f:Pne},30:{n:"PtgInt",f:One},31:{n:"PtgNum",f:Dne},32:{n:"PtgArray",f:dne},33:{n:"PtgFunc",f:Tne},34:{n:"PtgFuncVar",f:wne},35:{n:"PtgName",f:Fne},36:{n:"PtgRef",f:Ene},37:{n:"PtgArea",f:lne},38:{n:"PtgMemArea",f:zne},39:{n:"PtgMemErr",f:Vne},40:{n:"PtgMemNoMem",f:Wne},41:{n:"PtgMemFunc",f:jne},42:{n:"PtgRefErr",f:Hne},43:{n:"PtgAreaErr",f:une},44:{n:"PtgRefN",f:Sne},45:{n:"PtgAreaN",f:hne},46:{n:"PtgMemAreaN",f:ore},47:{n:"PtgMemNoMemN",f:lre},57:{n:"PtgNameX",f:Une},58:{n:"PtgRef3d",f:bne},59:{n:"PtgArea3d",f:cne},60:{n:"PtgRefErr3d",f:Gne},61:{n:"PtgAreaErr3d",f:fne},255:{}},ure={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},fre={1:{n:"PtgElfLel",f:JU},2:{n:"PtgElfRw",f:ere},3:{n:"PtgElfCol",f:Xne},6:{n:"PtgElfRwV",f:tre},7:{n:"PtgElfColV",f:$ne},10:{n:"PtgElfRadical",f:Zne},11:{n:"PtgElfRadicalS",f:Qne},13:{n:"PtgElfColS",f:qne},15:{n:"PtgElfColSV",f:Kne},16:{n:"PtgElfRadicalLel",f:Jne},25:{n:"PtgList",f:rre},29:{n:"PtgSxName",f:ire},255:{}},hre={0:{n:"PtgAttrNoop",f:cre},1:{n:"PtgAttrSemi",f:xne},2:{n:"PtgAttrIf",f:vne},4:{n:"PtgAttrChoose",f:pne},8:{n:"PtgAttrGoto",f:mne},16:{n:"PtgAttrSum",f:Mne},32:{n:"PtgAttrBaxcel",f:fD},33:{n:"PtgAttrBaxcel",f:fD},64:{n:"PtgAttrSpace",f:_ne},65:{n:"PtgAttrSpaceSemi",f:yne},128:{n:"PtgAttrIfError",f:gne},255:{}};function Xd(t,e,n,r){if(r.biff<8)return Bi(t,e);for(var i=t.l+e,a=[],s=0;s!==n.length;++s)switch(n[s][0]){case"PtgArray":n[s][1]=Ine(t,0,r),a.push(n[s][1]);break;case"PtgMemArea":n[s][2]=Lne(t,n[s][1],r),a.push(n[s][2]);break;case"PtgExp":r&&r.biff==12&&(n[s][1][1]=t.read_shift(4),a.push(n[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[s][0]}return e=i-t.l,e!==0&&a.push(Bi(t,e)),a}function qd(t,e,n){for(var r=t.l+e,i,a,s=[];r!=t.l;)e=r-t.l,a=t[t.l],i=hD[a]||hD[ure[a]],(a===24||a===25)&&(i=(a===24?fre:hre)[t[t.l+1]]),!i||!i.f?Bi(t,e):s.push([i.n,i.f(t,e,n)]);return s}function dre(t){for(var e=[],n=0;n<t.length;++n){for(var r=t[n],i=[],a=0;a<r.length;++a){var s=r[a];if(s)switch(s[0]){case 2:i.push('"'+s[1].replace(/"/g,'""')+'"');break;default:i.push(s[1])}else i.push("")}e.push(i.join(","))}return e.join(";")}var pre={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function mre(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function QU(t,e,n){if(!t)return"SH33TJSERR0";if(n.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var r=t.XTI[e];if(n.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!r)return"SH33TJSERR1";var i="";if(n.biff>8)switch(t[r[0]][0]){case 357:return i=r[1]==-1?"#REF":t.SheetNames[r[1]],r[1]==r[2]?i:i+":"+t.SheetNames[r[2]];case 358:return n.SID!=null?t.SheetNames[n.SID]:"SH33TJSSAME"+t[r[0]][0];case 355:default:return"SH33TJSSRC"+t[r[0]][0]}switch(t[r[0]][0][0]){case 1025:return i=r[1]==-1?"#REF":t.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?i:i+":"+t.SheetNames[r[2]];case 14849:return t[r[0]].slice(1).map(function(a){return a.Name}).join(";;");default:return t[r[0]][0][3]?(i=r[1]==-1?"#REF":t[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?i:i+":"+t[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function dD(t,e,n){var r=QU(t,e,n);return r=="#REF"?r:mre(r,n)}function Pi(t,e,n,r,i){var a=i&&i.biff||8,s={s:{c:0,r:0}},l=[],u,f,h,p=0,m=0,g,_="";if(!t[0]||!t[0][0])return"";for(var x=-1,y="",E=0,w=t[0].length;E<w;++E){var b=t[0][E];switch(b[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(u=l.pop(),f=l.pop(),x>=0){switch(t[0][x][1][0]){case 0:y=pr(" ",t[0][x][1][1]);break;case 1:y=pr("\r",t[0][x][1][1]);break;default:if(y="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][x][1][0])}f=f+y,x=-1}l.push(f+pre[b[0]]+u);break;case"PtgIsect":u=l.pop(),f=l.pop(),l.push(f+" "+u);break;case"PtgUnion":u=l.pop(),f=l.pop(),l.push(f+","+u);break;case"PtgRange":u=l.pop(),f=l.pop(),l.push(f+":"+u);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":h=Q0(b[1][1],s,i),l.push(ed(h,a));break;case"PtgRefN":h=n?Q0(b[1][1],n,i):b[1][1],l.push(ed(h,a));break;case"PtgRef3d":p=b[1][1],h=Q0(b[1][2],s,i),_=dD(r,p,i),l.push(_+"!"+ed(h,a));break;case"PtgFunc":case"PtgFuncVar":var M=b[1][0],A=b[1][1];M||(M=0),M&=127;var C=M==0?[]:l.slice(-M);l.length-=M,A==="User"&&(A=C.shift()),l.push(A+"("+C.join(",")+")");break;case"PtgBool":l.push(b[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(b[1]);break;case"PtgNum":l.push(String(b[1]));break;case"PtgStr":l.push('"'+b[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(b[1]);break;case"PtgAreaN":g=HP(b[1][1],n?{s:n}:s,i),l.push(lE(g,i));break;case"PtgArea":g=HP(b[1][1],s,i),l.push(lE(g,i));break;case"PtgArea3d":p=b[1][1],g=b[1][2],_=dD(r,p,i),l.push(_+"!"+lE(g,i));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":m=b[1][2];var R=(r.names||[])[m-1]||(r[0]||[])[m],F=R?R.Name:"SH33TJSNAME"+String(m);F&&F.slice(0,6)=="_xlfn."&&!i.xlfn&&(F=F.slice(6)),l.push(F);break;case"PtgNameX":var O=b[1][1];m=b[1][2];var k;if(i.biff<=5)O<0&&(O=-O),r[O]&&(k=r[O][m]);else{var D="";if(((r[O]||[])[0]||[])[0]==14849||(((r[O]||[])[0]||[])[0]==1025?r[O][m]&&r[O][m].itab>0&&(D=r.SheetNames[r[O][m].itab-1]+"!"):D=r.SheetNames[m-1]+"!"),r[O]&&r[O][m])D+=r[O][m].Name;else if(r[0]&&r[0][m])D+=r[0][m].Name;else{var U=(QU(r,O,i)||"").split(";;");U[m-1]?D=U[m-1]:D+="SH33TJSERRX"}l.push(D);break}k||(k={Name:"SH33TJSERRY"}),l.push(k.Name);break;case"PtgParen":var Z="(",se=")";if(x>=0){switch(y="",t[0][x][1][0]){case 2:Z=pr(" ",t[0][x][1][1])+Z;break;case 3:Z=pr("\r",t[0][x][1][1])+Z;break;case 4:se=pr(" ",t[0][x][1][1])+se;break;case 5:se=pr("\r",t[0][x][1][1])+se;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][x][1][0])}x=-1}l.push(Z+l.pop()+se);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":h={c:b[1][1],r:b[1][0]};var oe={c:n.c,r:n.r};if(r.sharedf[Ht(h)]){var G=r.sharedf[Ht(h)];l.push(Pi(G,s,oe,r,i))}else{var W=!1;for(u=0;u!=r.arrayf.length;++u)if(f=r.arrayf[u],!(h.c<f[0].s.c||h.c>f[0].e.c)&&!(h.r<f[0].s.r||h.r>f[0].e.r)){l.push(Pi(f[1],s,oe,r,i)),W=!0;break}W||l.push(b[1])}break;case"PtgArray":l.push("{"+dre(b[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":x=E;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+b[1].idx+"[#"+b[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(b));default:throw new Error("Unrecognized Formula Token: "+String(b))}var ee=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&x>=0&&ee.indexOf(t[0][E][0])==-1){b=t[0][x];var Y=!0;switch(b[1][0]){case 4:Y=!1;case 0:y=pr(" ",b[1][1]);break;case 5:Y=!1;case 1:y=pr("\r",b[1][1]);break;default:if(y="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+b[1][0])}l.push((Y?y:"")+l.pop()+(Y?"":y)),x=-1}}if(l.length>1&&i.WTF)throw new Error("bad formula stack");return l[0]}function vre(t,e,n){var r=t.l+e,i=n.biff==2?1:2,a,s=t.read_shift(i);if(s==65535)return[[],Bi(t,e-2)];var l=qd(t,s,n);return e!==s+i&&(a=Xd(t,e-s-i,l,n)),t.l=r,[l,a]}function gre(t,e,n){var r=t.l+e,i=n.biff==2?1:2,a,s=t.read_shift(i);if(s==65535)return[[],Bi(t,e-2)];var l=qd(t,s,n);return e!==s+i&&(a=Xd(t,e-s-i,l,n)),t.l=r,[l,a]}function xre(t,e,n,r){var i=t.l+e,a=qd(t,r,n),s;return i!==t.l&&(s=Xd(t,i-t.l,a,n)),[a,s]}function _re(t,e,n){var r=t.l+e,i,a=t.read_shift(2),s=qd(t,a,n);return a==65535?[[],Bi(t,e-2)]:(e!==a+2&&(i=Xd(t,r-a-2,s,n)),[s,i])}function yre(t){var e;if(Fo(t,t.l+6)!==65535)return[Ni(t),"n"];switch(t[t.l]){case 0:return t.l+=8,["String","s"];case 1:return e=t[t.l+2]===1,t.l+=8,[e,"b"];case 2:return e=t[t.l+2],t.l+=8,[e,"e"];case 3:return t.l+=8,["","s"]}return[]}function Ere(t){if(t==null){var e=je(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof t=="number")return uu(t);return uu(0)}function dE(t,e,n){var r=t.l+e,i=ao(t);n.biff==2&&++t.l;var a=yre(t),s=t.read_shift(1);n.biff!=2&&(t.read_shift(1),n.biff>=5&&t.read_shift(4));var l=gre(t,r-t.l,n);return{cell:i,val:a[0],formula:l,shared:s>>3&1,tt:a[1]}}function Sre(t,e,n,r,i){var a=hu(e,n,i),s=Ere(t.v),l=je(6),u=33;l.write_shift(2,u),l.write_shift(4,0);for(var f=je(t.bf.length),h=0;h<t.bf.length;++h)f[h]=t.bf[h];var p=ri([a,s,l,f]);return p}function vx(t,e,n){var r=t.read_shift(4),i=qd(t,r,n),a=t.read_shift(4),s=a>0?Xd(t,a,i,n):null;return[i,s]}var bre=vx,gx=vx,Tre=vx,wre=vx,Are={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},e5={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},Mre={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function pD(t){return t.slice(0,3)=="of:"&&(t=t.slice(3)),t.charCodeAt(0)==61&&(t=t.slice(1),t.charCodeAt(0)==61&&(t=t.slice(1))),t=t.replace(/COM\.MICROSOFT\./g,""),t=t.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(e,n){return n.replace(/\./g,"")}),t=t.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),t.replace(/[;~]/g,",").replace(/\|/g,";")}function Cre(t){var e="of:="+t.replace(fw,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function pE(t){var e=t.split(":"),n=e[0].split(".")[0];return[n,e[0].split(".")[1]+(e.length>1?":"+(e[1].split(".")[1]||e[1].split(".")[0]):"")]}function Rre(t){return t.replace(/\./,"!")}var nd={},Qf={},rd=typeof Map<"u";function pw(t,e,n){var r=0,i=t.length;if(n){if(rd?n.has(e):Object.prototype.hasOwnProperty.call(n,e)){for(var a=rd?n.get(e):n[e];r<a.length;++r)if(t[a[r]].t===e)return t.Count++,a[r]}}else for(;r<i;++r)if(t[r].t===e)return t.Count++,r;return t[i]={t:e},t.Count++,t.Unique++,n&&(rd?(n.has(e)||n.set(e,[]),n.get(e).push(i)):(Object.prototype.hasOwnProperty.call(n,e)||(n[e]=[]),n[e].push(i))),i}function xx(t,e){var n={min:t+1,max:t+1},r=-1;return e.MDW&&(Di=e.MDW),e.width!=null?n.customWidth=1:e.wpx!=null?r=yd(e.wpx):e.wch!=null&&(r=e.wch),r>-1?(n.width=hg(r),n.customWidth=1):e.width!=null&&(n.width=e.width),e.hidden&&(n.hidden=!0),e.level!=null&&(n.outlineLevel=n.level=e.level),n}function eu(t,e){if(t){var n=[.7,.7,.75,.75,.3,.3];e=="xlml"&&(n=[1,1,1,1,.5,.5]),t.left==null&&(t.left=n[0]),t.right==null&&(t.right=n[1]),t.top==null&&(t.top=n[2]),t.bottom==null&&(t.bottom=n[3]),t.header==null&&(t.header=n[4]),t.footer==null&&(t.footer=n[5])}}function dc(t,e,n){var r=n.revssf[e.z!=null?e.z:"General"],i=60,a=t.length;if(r==null&&n.ssf){for(;i<392;++i)if(n.ssf[i]==null){Go(e.z,i),n.ssf[i]=e.z,n.revssf[e.z]=r=i;break}}for(i=0;i!=a;++i)if(t[i].numFmtId===r)return i;return t[a]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},a}function t5(t,e,n,r,i,a){try{r.cellNF&&(t.z=jt[e])}catch(l){if(r.WTF)throw l}if(!(t.t==="z"&&!r.cellStyles)){if(t.t==="d"&&typeof t.v=="string"&&(t.v=er(t.v)),(!r||r.cellText!==!1)&&t.t!=="z")try{if(jt[e]==null&&Go(A$[e]||"General",e),t.t==="e")t.w=t.w||al[t.v];else if(e===0)if(t.t==="n")(t.v|0)===t.v?t.w=t.v.toString(10):t.w=dd(t.v);else if(t.t==="d"){var s=Wr(t.v);(s|0)===s?t.w=s.toString(10):t.w=dd(s)}else{if(t.v===void 0)return"";t.w=lu(t.v,Qf)}else t.t==="d"?t.w=as(e,Wr(t.v),Qf):t.w=as(e,t.v,Qf)}catch(l){if(r.WTF)throw l}if(r.cellStyles&&n!=null)try{t.s=a.Fills[n],t.s.fgColor&&t.s.fgColor.theme&&!t.s.fgColor.rgb&&(t.s.fgColor.rgb=fg(i.themeElements.clrScheme[t.s.fgColor.theme].rgb,t.s.fgColor.tint||0),r.WTF&&(t.s.fgColor.raw_rgb=i.themeElements.clrScheme[t.s.fgColor.theme].rgb)),t.s.bgColor&&t.s.bgColor.theme&&(t.s.bgColor.rgb=fg(i.themeElements.clrScheme[t.s.bgColor.theme].rgb,t.s.bgColor.tint||0),r.WTF&&(t.s.bgColor.raw_rgb=i.themeElements.clrScheme[t.s.bgColor.theme].rgb))}catch(l){if(r.WTF&&a.Fills)throw l}}}function Ore(t,e,n){if(t&&t["!ref"]){var r=vn(t["!ref"]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw new Error("Bad range ("+n+"): "+t["!ref"])}}function Pre(t,e){var n=vn(e);n.s.r<=n.e.r&&n.s.c<=n.e.c&&n.s.r>=0&&n.s.c>=0&&(t["!ref"]=Kt(n))}var Dre=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,Nre=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,kre=/<(?:\w:)?hyperlink [^>]*>/mg,Lre=/"(\w*:\w*)"/,Ire=/<(?:\w:)?col\b[^>]*[\/]?>/g,Fre=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,Ure=/<(?:\w:)?pageMargins[^>]*\/>/g,n5=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,Bre=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,zre=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function jre(t,e,n,r,i,a,s){if(!t)return t;r||(r={"!id":{}});var l=e.dense?[]:{},u={s:{r:2e6,c:2e6},e:{r:0,c:0}},f="",h="",p=t.match(Nre);p?(f=t.slice(0,p.index),h=t.slice(p.index+p[0].length)):f=h=t;var m=f.match(n5);m?mw(m[0],l,i,n):(m=f.match(Bre))&&Gre(m[0],m[1]||"",l,i,n);var g=(f.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(g>0){var _=f.slice(g,g+50).match(Lre);_&&Pre(l,_[1])}var x=f.match(zre);x&&x[1]&&nie(x[1],i);var y=[];if(e.cellStyles){var E=f.match(Ire);E&&Zre(y,E)}p&&aie(p[1],l,e,u,a,s);var w=h.match(Fre);w&&(l["!autofilter"]=Qre(w[0]));var b=[],M=h.match(Dre);if(M)for(g=0;g!=M.length;++g)b[g]=vn(M[g].slice(M[g].indexOf('"')+1));var A=h.match(kre);A&&qre(l,A,r);var C=h.match(Ure);if(C&&(l["!margins"]=Kre(Wt(C[0]))),!l["!ref"]&&u.e.c>=u.s.c&&u.e.r>=u.s.r&&(l["!ref"]=Kt(u)),e.sheetRows>0&&l["!ref"]){var R=vn(l["!ref"]);e.sheetRows<=+R.e.r&&(R.e.r=e.sheetRows-1,R.e.r>u.e.r&&(R.e.r=u.e.r),R.e.r<R.s.r&&(R.s.r=R.e.r),R.e.c>u.e.c&&(R.e.c=u.e.c),R.e.c<R.s.c&&(R.s.c=R.e.c),l["!fullref"]=l["!ref"],l["!ref"]=Kt(R))}return y.length>0&&(l["!cols"]=y),b.length>0&&(l["!merges"]=b),l}function Hre(t){if(t.length===0)return"";for(var e='<mergeCells count="'+t.length+'">',n=0;n!=t.length;++n)e+='<mergeCell ref="'+Kt(t[n])+'"/>';return e+"</mergeCells>"}function mw(t,e,n,r){var i=Wt(t);n.Sheets[r]||(n.Sheets[r]={}),i.codeName&&(n.Sheets[r].CodeName=mn(Hn(i.codeName)))}function Gre(t,e,n,r,i){mw(t.slice(0,t.indexOf(">")),n,r,i)}function Vre(t,e,n,r,i){var a=!1,s={},l=null;if(r.bookType!=="xlsx"&&e.vbaraw){var u=e.SheetNames[n];try{e.Workbook&&(u=e.Workbook.Sheets[n].CodeName||u)}catch{}a=!0,s.codeName=Ys(kn(u))}if(t&&t["!outline"]){var f={summaryBelow:1,summaryRight:1};t["!outline"].above&&(f.summaryBelow=0),t["!outline"].left&&(f.summaryRight=0),l=(l||"")+ct("outlinePr",null,f)}!a&&!l||(i[i.length]=ct("sheetPr",l,s))}var Wre=["objects","scenarios","selectLockedCells","selectUnlockedCells"],Yre=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function Xre(t){var e={sheet:1};return Wre.forEach(function(n){t[n]!=null&&t[n]&&(e[n]="1")}),Yre.forEach(function(n){t[n]!=null&&!t[n]&&(e[n]="0")}),t.password&&(e.password=lw(t.password).toString(16).toUpperCase()),ct("sheetProtection",null,e)}function qre(t,e,n){for(var r=Array.isArray(t),i=0;i!=e.length;++i){var a=Wt(Hn(e[i]),!0);if(!a.ref)return;var s=((n||{})["!id"]||[])[a.id];s?(a.Target=s.Target,a.location&&(a.Target+="#"+mn(a.location))):(a.Target="#"+mn(a.location),s={Target:a.Target,TargetMode:"Internal"}),a.Rel=s,a.tooltip&&(a.Tooltip=a.tooltip,delete a.tooltip);for(var l=vn(a.ref),u=l.s.r;u<=l.e.r;++u)for(var f=l.s.c;f<=l.e.c;++f){var h=Ht({c:f,r:u});r?(t[u]||(t[u]=[]),t[u][f]||(t[u][f]={t:"z",v:void 0}),t[u][f].l=a):(t[h]||(t[h]={t:"z",v:void 0}),t[h].l=a)}}}function Kre(t){var e={};return["left","right","top","bottom","header","footer"].forEach(function(n){t[n]&&(e[n]=parseFloat(t[n]))}),e}function $re(t){return eu(t),ct("pageMargins",null,t)}function Zre(t,e){for(var n=!1,r=0;r!=e.length;++r){var i=Wt(e[r],!0);i.hidden&&(i.hidden=Zn(i.hidden));var a=parseInt(i.min,10)-1,s=parseInt(i.max,10)-1;for(i.outlineLevel&&(i.level=+i.outlineLevel||0),delete i.min,delete i.max,i.width=+i.width,!n&&i.width&&(n=!0,cw(i.width)),ic(i);a<=s;)t[a++]=tr(i)}}function Jre(t,e){for(var n=["<cols>"],r,i=0;i!=e.length;++i)(r=e[i])&&(n[n.length]=ct("col",null,xx(i,r)));return n[n.length]="</cols>",n.join("")}function Qre(t){var e={ref:(t.match(/ref="([^"]*)"/)||[])[1]};return e}function eie(t,e,n,r){var i=typeof t.ref=="string"?t.ref:Kt(t.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var a=n.Workbook.Names,s=ca(i);s.s.r==s.e.r&&(s.e.r=ca(e["!ref"]).e.r,i=Kt(s));for(var l=0;l<a.length;++l){var u=a[l];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==r){u.Ref="'"+n.SheetNames[r]+"'!"+i;break}}return l==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+i}),ct("autoFilter",null,{ref:i})}var tie=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function nie(t,e){e.Views||(e.Views=[{}]),(t.match(tie)||[]).forEach(function(n,r){var i=Wt(n);e.Views[r]||(e.Views[r]={}),+i.zoomScale&&(e.Views[r].zoom=+i.zoomScale),Zn(i.rightToLeft)&&(e.Views[r].RTL=!0)})}function rie(t,e,n,r){var i={workbookViewId:"0"};return(((r||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),ct("sheetViews",ct("sheetView",null,i),{})}function iie(t,e,n,r){if(t.c&&n["!comments"].push([e,t.c]),t.v===void 0&&typeof t.f!="string"||t.t==="z"&&!t.f)return"";var i="",a=t.t,s=t.v;if(t.t!=="z")switch(t.t){case"b":i=t.v?"1":"0";break;case"n":i=""+t.v;break;case"e":i=al[t.v];break;case"d":r&&r.cellDates?i=er(t.v,-1).toISOString():(t=tr(t),t.t="n",i=""+(t.v=Wr(er(t.v)))),typeof t.z>"u"&&(t.z=jt[14]);break;default:i=t.v;break}var l=Ei("v",kn(i)),u={r:e},f=dc(r.cellXfs,t,r);switch(f!==0&&(u.s=f),t.t){case"n":break;case"d":u.t="d";break;case"b":u.t="b";break;case"e":u.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(r&&r.bookSST){l=Ei("v",""+pw(r.Strings,t.v,r.revStrings)),u.t="s";break}u.t="str";break}if(t.t!=a&&(t.t=a,t.v=s),typeof t.f=="string"&&t.f){var h=t.F&&t.F.slice(0,e.length)==e?{t:"array",ref:t.F}:null;l=ct("f",kn(t.f),h)+(t.v!=null?l:"")}return t.l&&n["!links"].push([e,t.l]),t.D&&(u.cm=1),ct("c",l,u)}var aie=(function(){var t=/<(?:\w+:)?c[ \/>]/,e=/<\/(?:\w+:)?row>/,n=/r=["']([^"']*)["']/,r=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,i=/ref=["']([^"']*)["']/,a=pd("v"),s=pd("f");return function(u,f,h,p,m,g){for(var _=0,x="",y=[],E=[],w=0,b=0,M=0,A="",C,R,F=0,O=0,k,D,U=0,Z=0,se=Array.isArray(g.CellXf),oe,G=[],W=[],ee=Array.isArray(f),Y=[],pe={},z=!1,I=!!h.sheetStubs,V=u.split(e),X=0,te=V.length;X!=te;++X){x=V[X].trim();var J=x.length;if(J!==0){var fe=0;e:for(_=0;_<J;++_)switch(x[_]){case">":if(x[_-1]!="/"){++_;break e}if(h&&h.cellStyles){if(R=Wt(x.slice(fe,_),!0),F=R.r!=null?parseInt(R.r,10):F+1,O=-1,h.sheetRows&&h.sheetRows<F)continue;pe={},z=!1,R.ht&&(z=!0,pe.hpt=parseFloat(R.ht),pe.hpx=uh(pe.hpt)),R.hidden=="1"&&(z=!0,pe.hidden=!0),R.outlineLevel!=null&&(z=!0,pe.level=+R.outlineLevel),z&&(Y[F-1]=pe)}break;case"<":fe=_;break}if(fe>=_)break;if(R=Wt(x.slice(fe,_),!0),F=R.r!=null?parseInt(R.r,10):F+1,O=-1,!(h.sheetRows&&h.sheetRows<F)){p.s.r>F-1&&(p.s.r=F-1),p.e.r<F-1&&(p.e.r=F-1),h&&h.cellStyles&&(pe={},z=!1,R.ht&&(z=!0,pe.hpt=parseFloat(R.ht),pe.hpx=uh(pe.hpt)),R.hidden=="1"&&(z=!0,pe.hidden=!0),R.outlineLevel!=null&&(z=!0,pe.level=+R.outlineLevel),z&&(Y[F-1]=pe)),y=x.slice(_).split(t);for(var ae=0;ae!=y.length&&y[ae].trim().charAt(0)=="<";++ae);for(y=y.slice(ae),_=0;_!=y.length;++_)if(x=y[_].trim(),x.length!==0){if(E=x.match(n),w=_,b=0,M=0,x="<c "+(x.slice(0,1)=="<"?">":"")+x,E!=null&&E.length===2){for(w=0,A=E[1],b=0;b!=A.length&&!((M=A.charCodeAt(b)-64)<1||M>26);++b)w=26*w+M;--w,O=w}else++O;for(b=0;b!=x.length&&x.charCodeAt(b)!==62;++b);if(++b,R=Wt(x.slice(0,b),!0),R.r||(R.r=Ht({r:F-1,c:O})),A=x.slice(b),C={t:""},(E=A.match(a))!=null&&E[1]!==""&&(C.v=mn(E[1])),h.cellFormula){if((E=A.match(s))!=null&&E[1]!==""){if(C.f=mn(Hn(E[1])).replace(/\r\n/g,`
`),h.xlfn||(C.f=uD(C.f)),E[0].indexOf('t="array"')>-1)C.F=(A.match(i)||[])[1],C.F.indexOf(":")>-1&&G.push([vn(C.F),C.F]);else if(E[0].indexOf('t="shared"')>-1){D=Wt(E[0]);var Q=mn(Hn(E[1]));h.xlfn||(Q=uD(Q)),W[parseInt(D.si,10)]=[D,Q,R.r]}}else(E=A.match(/<f[^>]*\/>/))&&(D=Wt(E[0]),W[D.si]&&(C.f=tne(W[D.si][1],W[D.si][2],R.r)));var de=lr(R.r);for(b=0;b<G.length;++b)de.r>=G[b][0].s.r&&de.r<=G[b][0].e.r&&de.c>=G[b][0].s.c&&de.c<=G[b][0].e.c&&(C.F=G[b][1])}if(R.t==null&&C.v===void 0)if(C.f||C.F)C.v=0,C.t="n";else if(I)C.t="z";else continue;else C.t=R.t||"n";switch(p.s.c>O&&(p.s.c=O),p.e.c<O&&(p.e.c=O),C.t){case"n":if(C.v==""||C.v==null){if(!I)continue;C.t="z"}else C.v=parseFloat(C.v);break;case"s":if(typeof C.v>"u"){if(!I)continue;C.t="z"}else k=nd[parseInt(C.v,10)],C.v=k.t,C.r=k.r,h.cellHTML&&(C.h=k.h);break;case"str":C.t="s",C.v=C.v!=null?Hn(C.v):"",h.cellHTML&&(C.h=X2(C.v));break;case"inlineStr":E=A.match(r),C.t="s",E!=null&&(k=ow(E[1]))?(C.v=k.t,h.cellHTML&&(C.h=k.h)):C.v="";break;case"b":C.v=Zn(C.v);break;case"d":h.cellDates?C.v=er(C.v,1):(C.v=Wr(er(C.v,1)),C.t="n");break;case"e":(!h||h.cellText!==!1)&&(C.w=C.v),C.v=iU[C.v];break}if(U=Z=0,oe=null,se&&R.s!==void 0&&(oe=g.CellXf[R.s],oe!=null&&(oe.numFmtId!=null&&(U=oe.numFmtId),h.cellStyles&&oe.fillId!=null&&(Z=oe.fillId))),t5(C,U,Z,h,m,g),h.cellDates&&se&&C.t=="n"&&yh(jt[U])&&(C.t="d",C.v=px(C.v)),R.cm&&h.xlmeta){var Ae=(h.xlmeta.Cell||[])[+R.cm-1];Ae&&Ae.type=="XLDAPR"&&(C.D=!0)}if(ee){var j=lr(R.r);f[j.r]||(f[j.r]=[]),f[j.r][j.c]=C}else f[R.r]=C}}}}Y.length>0&&(f["!rows"]=Y)}})();function sie(t,e,n,r){var i=[],a=[],s=vn(t["!ref"]),l="",u,f="",h=[],p=0,m=0,g=t["!rows"],_=Array.isArray(t),x={r:f},y,E=-1;for(m=s.s.c;m<=s.e.c;++m)h[m]=or(m);for(p=s.s.r;p<=s.e.r;++p){for(a=[],f=br(p),m=s.s.c;m<=s.e.c;++m){u=h[m]+f;var w=_?(t[p]||[])[m]:t[u];w!==void 0&&(l=iie(w,u,t,e))!=null&&a.push(l)}(a.length>0||g&&g[p])&&(x={r:f},g&&g[p]&&(y=g[p],y.hidden&&(x.hidden=1),E=-1,y.hpx?E=Ed(y.hpx):y.hpt&&(E=y.hpt),E>-1&&(x.ht=E,x.customHeight=1),y.level&&(x.outlineLevel=y.level)),i[i.length]=ct("row",a.join(""),x))}if(g)for(;p<g.length;++p)g&&g[p]&&(x={r:p+1},y=g[p],y.hidden&&(x.hidden=1),E=-1,y.hpx?E=Ed(y.hpx):y.hpt&&(E=y.hpt),E>-1&&(x.ht=E,x.customHeight=1),y.level&&(x.outlineLevel=y.level),i[i.length]=ct("row","",x));return i.join("")}function r5(t,e,n,r){var i=[Tr,ct("worksheet",null,{xmlns:wu[0],"xmlns:r":jr.r})],a=n.SheetNames[t],s=0,l="",u=n.Sheets[a];u==null&&(u={});var f=u["!ref"]||"A1",h=vn(f);if(h.e.c>16383||h.e.r>1048575){if(e.WTF)throw new Error("Range "+f+" exceeds format limit A1:XFD1048576");h.e.c=Math.min(h.e.c,16383),h.e.r=Math.min(h.e.c,1048575),f=Kt(h)}r||(r={}),u["!comments"]=[];var p=[];Vre(u,n,t,e,i),i[i.length]=ct("dimension",null,{ref:f}),i[i.length]=rie(u,e,t,n),e.sheetFormat&&(i[i.length]=ct("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),u["!cols"]!=null&&u["!cols"].length>0&&(i[i.length]=Jre(u,u["!cols"])),i[s=i.length]="<sheetData/>",u["!links"]=[],u["!ref"]!=null&&(l=sie(u,e),l.length>0&&(i[i.length]=l)),i.length>s+1&&(i[i.length]="</sheetData>",i[s]=i[s].replace("/>",">")),u["!protect"]&&(i[i.length]=Xre(u["!protect"])),u["!autofilter"]!=null&&(i[i.length]=eie(u["!autofilter"],u,n,t)),u["!merges"]!=null&&u["!merges"].length>0&&(i[i.length]=Hre(u["!merges"]));var m=-1,g,_=-1;return u["!links"].length>0&&(i[i.length]="<hyperlinks>",u["!links"].forEach(function(x){x[1].Target&&(g={ref:x[0]},x[1].Target.charAt(0)!="#"&&(_=Dn(r,-1,kn(x[1].Target).replace(/#.*$/,""),nn.HLINK),g["r:id"]="rId"+_),(m=x[1].Target.indexOf("#"))>-1&&(g.location=kn(x[1].Target.slice(m+1))),x[1].Tooltip&&(g.tooltip=kn(x[1].Tooltip)),i[i.length]=ct("hyperlink",null,g))}),i[i.length]="</hyperlinks>"),delete u["!links"],u["!margins"]!=null&&(i[i.length]=$re(u["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(i[i.length]=Ei("ignoredErrors",ct("ignoredError",null,{numberStoredAsText:1,sqref:f}))),p.length>0&&(_=Dn(r,-1,"../drawings/drawing"+(t+1)+".xml",nn.DRAW),i[i.length]=ct("drawing",null,{"r:id":"rId"+_}),u["!drawing"]=p),u["!comments"].length>0&&(_=Dn(r,-1,"../drawings/vmlDrawing"+(t+1)+".vml",nn.VML),i[i.length]=ct("legacyDrawing",null,{"r:id":"rId"+_}),u["!legacy"]=_),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function oie(t,e){var n={},r=t.l+e;n.r=t.read_shift(4),t.l+=4;var i=t.read_shift(2);t.l+=1;var a=t.read_shift(1);return t.l=r,a&7&&(n.level=a&7),a&16&&(n.hidden=!0),a&32&&(n.hpt=i/20),n}function lie(t,e,n){var r=je(145),i=(n["!rows"]||[])[t]||{};r.write_shift(4,t),r.write_shift(4,0);var a=320;i.hpx?a=Ed(i.hpx)*20:i.hpt&&(a=i.hpt*20),r.write_shift(2,a),r.write_shift(1,0);var s=0;i.level&&(s|=i.level),i.hidden&&(s|=16),(i.hpx||i.hpt)&&(s|=32),r.write_shift(1,s),r.write_shift(1,0);var l=0,u=r.l;r.l+=4;for(var f={r:t,c:0},h=0;h<16;++h)if(!(e.s.c>h+1<<10||e.e.c<h<<10)){for(var p=-1,m=-1,g=h<<10;g<h+1<<10;++g){f.c=g;var _=Array.isArray(n)?(n[f.r]||[])[f.c]:n[Ht(f)];_&&(p<0&&(p=g),m=g)}p<0||(++l,r.write_shift(4,p),r.write_shift(4,m))}var x=r.l;return r.l=u,r.write_shift(4,l),r.l=x,r.length>r.l?r.slice(0,r.l):r}function cie(t,e,n,r){var i=lie(r,n,e);(i.length>17||(e["!rows"]||[])[r])&&Ze(t,0,i)}var uie=Ru,fie=bh;function hie(){}function die(t,e){var n={},r=t[t.l];return++t.l,n.above=!(r&64),n.left=!(r&128),t.l+=18,n.name=vZ(t),n}function pie(t,e,n){n==null&&(n=je(84+4*t.length));var r=192;e&&(e.above&&(r&=-65),e.left&&(r&=-129)),n.write_shift(1,r);for(var i=1;i<3;++i)n.write_shift(1,0);return lg({auto:1},n),n.write_shift(-4,-1),n.write_shift(-4,-1),QF(t,n),n.slice(0,n.l)}function mie(t){var e=cs(t);return[e]}function vie(t,e,n){return n==null&&(n=je(8)),Au(e,n)}function gie(t){var e=Mu(t);return[e]}function xie(t,e,n){return n==null&&(n=je(4)),Cu(e,n)}function _ie(t){var e=cs(t),n=t.read_shift(1);return[e,n,"b"]}function yie(t,e,n){return n==null&&(n=je(9)),Au(e,n),n.write_shift(1,t.v?1:0),n}function Eie(t){var e=Mu(t),n=t.read_shift(1);return[e,n,"b"]}function Sie(t,e,n){return n==null&&(n=je(5)),Cu(e,n),n.write_shift(1,t.v?1:0),n}function bie(t){var e=cs(t),n=t.read_shift(1);return[e,n,"e"]}function Tie(t,e,n){return n==null&&(n=je(9)),Au(e,n),n.write_shift(1,t.v),n}function wie(t){var e=Mu(t),n=t.read_shift(1);return[e,n,"e"]}function Aie(t,e,n){return n==null&&(n=je(8)),Cu(e,n),n.write_shift(1,t.v),n.write_shift(2,0),n.write_shift(1,0),n}function Mie(t){var e=cs(t),n=t.read_shift(4);return[e,n,"s"]}function Cie(t,e,n){return n==null&&(n=je(12)),Au(e,n),n.write_shift(4,e.v),n}function Rie(t){var e=Mu(t),n=t.read_shift(4);return[e,n,"s"]}function Oie(t,e,n){return n==null&&(n=je(8)),Cu(e,n),n.write_shift(4,e.v),n}function Pie(t){var e=cs(t),n=Ni(t);return[e,n,"n"]}function Die(t,e,n){return n==null&&(n=je(16)),Au(e,n),uu(t.v,n),n}function i5(t){var e=Mu(t),n=Ni(t);return[e,n,"n"]}function Nie(t,e,n){return n==null&&(n=je(12)),Cu(e,n),uu(t.v,n),n}function kie(t){var e=cs(t),n=nw(t);return[e,n,"n"]}function Lie(t,e,n){return n==null&&(n=je(12)),Au(e,n),eU(t.v,n),n}function Iie(t){var e=Mu(t),n=nw(t);return[e,n,"n"]}function Fie(t,e,n){return n==null&&(n=je(8)),Cu(e,n),eU(t.v,n),n}function Uie(t){var e=cs(t),n=Q2(t);return[e,n,"is"]}function Bie(t){var e=cs(t),n=Fi(t);return[e,n,"str"]}function zie(t,e,n){return n==null&&(n=je(12+4*t.v.length)),Au(e,n),ii(t.v,n),n.length>n.l?n.slice(0,n.l):n}function jie(t){var e=Mu(t),n=Fi(t);return[e,n,"str"]}function Hie(t,e,n){return n==null&&(n=je(8+4*t.v.length)),Cu(e,n),ii(t.v,n),n.length>n.l?n.slice(0,n.l):n}function Gie(t,e,n){var r=t.l+e,i=cs(t);i.r=n["!row"];var a=t.read_shift(1),s=[i,a,"b"];if(n.cellFormula){t.l+=2;var l=gx(t,r-t.l,n);s[3]=Pi(l,null,i,n.supbooks,n)}else t.l=r;return s}function Vie(t,e,n){var r=t.l+e,i=cs(t);i.r=n["!row"];var a=t.read_shift(1),s=[i,a,"e"];if(n.cellFormula){t.l+=2;var l=gx(t,r-t.l,n);s[3]=Pi(l,null,i,n.supbooks,n)}else t.l=r;return s}function Wie(t,e,n){var r=t.l+e,i=cs(t);i.r=n["!row"];var a=Ni(t),s=[i,a,"n"];if(n.cellFormula){t.l+=2;var l=gx(t,r-t.l,n);s[3]=Pi(l,null,i,n.supbooks,n)}else t.l=r;return s}function Yie(t,e,n){var r=t.l+e,i=cs(t);i.r=n["!row"];var a=Fi(t),s=[i,a,"str"];if(n.cellFormula){t.l+=2;var l=gx(t,r-t.l,n);s[3]=Pi(l,null,i,n.supbooks,n)}else t.l=r;return s}var Xie=Ru,qie=bh;function Kie(t,e){return e==null&&(e=je(4)),e.write_shift(4,t),e}function $ie(t,e){var n=t.l+e,r=Ru(t),i=ew(t),a=Fi(t),s=Fi(t),l=Fi(t);t.l=n;var u={rfx:r,relId:i,loc:a,display:l};return s&&(u.Tooltip=s),u}function Zie(t,e){var n=je(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));bh({s:lr(t[0]),e:lr(t[0])},n),tw("rId"+e,n);var r=t[1].Target.indexOf("#"),i=r==-1?"":t[1].Target.slice(r+1);return ii(i||"",n),ii(t[1].Tooltip||"",n),ii("",n),n.slice(0,n.l)}function Jie(){}function Qie(t,e,n){var r=t.l+e,i=tU(t),a=t.read_shift(1),s=[i];if(s[2]=a,n.cellFormula){var l=bre(t,r-t.l,n);s[1]=l}else t.l=r;return s}function eae(t,e,n){var r=t.l+e,i=Ru(t),a=[i];if(n.cellFormula){var s=wre(t,r-t.l,n);a[1]=s,t.l=r}else t.l=r;return a}function tae(t,e,n){n==null&&(n=je(18));var r=xx(t,e);n.write_shift(-4,t),n.write_shift(-4,t),n.write_shift(4,(r.width||10)*256),n.write_shift(4,0);var i=0;return e.hidden&&(i|=1),typeof r.width=="number"&&(i|=2),e.level&&(i|=e.level<<8),n.write_shift(2,i),n}var a5=["left","right","top","bottom","header","footer"];function nae(t){var e={};return a5.forEach(function(n){e[n]=Ni(t)}),e}function rae(t,e){return e==null&&(e=je(48)),eu(t),a5.forEach(function(n){uu(t[n],e)}),e}function iae(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function aae(t,e,n){n==null&&(n=je(30));var r=924;return(((e||{}).Views||[])[0]||{}).RTL&&(r|=32),n.write_shift(2,r),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(2,0),n.write_shift(2,100),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(4,0),n}function sae(t){var e=je(24);return e.write_shift(4,4),e.write_shift(4,1),bh(t,e),e}function oae(t,e){return e==null&&(e=je(66)),e.write_shift(2,t.password?lw(t.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(n){n[1]?e.write_shift(4,t[n[0]]!=null&&!t[n[0]]?1:0):e.write_shift(4,t[n[0]]!=null&&t[n[0]]?0:1)}),e}function lae(){}function cae(){}function uae(t,e,n,r,i,a,s){if(!t)return t;var l=e||{};r||(r={"!id":{}});var u=l.dense?[]:{},f,h={s:{r:2e6,c:2e6},e:{r:0,c:0}},p=!1,m=!1,g,_,x,y,E,w,b,M,A,C=[];l.biff=12,l["!row"]=0;var R=0,F=!1,O=[],k={},D=l.supbooks||i.supbooks||[[]];if(D.sharedf=k,D.arrayf=O,D.SheetNames=i.SheetNames||i.Sheets.map(function(ee){return ee.name}),!l.supbooks&&(l.supbooks=D,i.Names))for(var U=0;U<i.Names.length;++U)D[0][U+1]=i.Names[U];var Z=[],se=[],oe=!1;Sd[16]={n:"BrtShortReal",f:i5};var G;if(il(t,function(Y,pe,z){if(!m)switch(z){case 148:f=Y;break;case 0:g=Y,l.sheetRows&&l.sheetRows<=g.r&&(m=!0),M=br(y=g.r),l["!row"]=g.r,(Y.hidden||Y.hpt||Y.level!=null)&&(Y.hpt&&(Y.hpx=uh(Y.hpt)),se[Y.r]=Y);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(_={t:Y[2]},Y[2]){case"n":_.v=Y[1];break;case"s":b=nd[Y[1]],_.v=b.t,_.r=b.r;break;case"b":_.v=!!Y[1];break;case"e":_.v=Y[1],l.cellText!==!1&&(_.w=al[_.v]);break;case"str":_.t="s",_.v=Y[1];break;case"is":_.t="s",_.v=Y[1].t;break}if((x=s.CellXf[Y[0].iStyleRef])&&t5(_,x.numFmtId,null,l,a,s),E=Y[0].c==-1?E+1:Y[0].c,l.dense?(u[y]||(u[y]=[]),u[y][E]=_):u[or(E)+M]=_,l.cellFormula){for(F=!1,R=0;R<O.length;++R){var I=O[R];g.r>=I[0].s.r&&g.r<=I[0].e.r&&E>=I[0].s.c&&E<=I[0].e.c&&(_.F=Kt(I[0]),F=!0)}!F&&Y.length>3&&(_.f=Y[3])}if(h.s.r>g.r&&(h.s.r=g.r),h.s.c>E&&(h.s.c=E),h.e.r<g.r&&(h.e.r=g.r),h.e.c<E&&(h.e.c=E),l.cellDates&&x&&_.t=="n"&&yh(jt[x.numFmtId])){var V=Xc(_.v);V&&(_.t="d",_.v=new Date(V.y,V.m-1,V.d,V.H,V.M,V.S,V.u))}G&&(G.type=="XLDAPR"&&(_.D=!0),G=void 0);break;case 1:case 12:if(!l.sheetStubs||p)break;_={t:"z",v:void 0},E=Y[0].c==-1?E+1:Y[0].c,l.dense?(u[y]||(u[y]=[]),u[y][E]=_):u[or(E)+M]=_,h.s.r>g.r&&(h.s.r=g.r),h.s.c>E&&(h.s.c=E),h.e.r<g.r&&(h.e.r=g.r),h.e.c<E&&(h.e.c=E),G&&(G.type=="XLDAPR"&&(_.D=!0),G=void 0);break;case 176:C.push(Y);break;case 49:G=((l.xlmeta||{}).Cell||[])[Y-1];break;case 494:var X=r["!id"][Y.relId];for(X?(Y.Target=X.Target,Y.loc&&(Y.Target+="#"+Y.loc),Y.Rel=X):Y.relId==""&&(Y.Target="#"+Y.loc),y=Y.rfx.s.r;y<=Y.rfx.e.r;++y)for(E=Y.rfx.s.c;E<=Y.rfx.e.c;++E)l.dense?(u[y]||(u[y]=[]),u[y][E]||(u[y][E]={t:"z",v:void 0}),u[y][E].l=Y):(w=Ht({c:E,r:y}),u[w]||(u[w]={t:"z",v:void 0}),u[w].l=Y);break;case 426:if(!l.cellFormula)break;O.push(Y),A=l.dense?u[y][E]:u[or(E)+M],A.f=Pi(Y[1],h,{r:g.r,c:E},D,l),A.F=Kt(Y[0]);break;case 427:if(!l.cellFormula)break;k[Ht(Y[0].s)]=Y[1],A=l.dense?u[y][E]:u[or(E)+M],A.f=Pi(Y[1],h,{r:g.r,c:E},D,l);break;case 60:if(!l.cellStyles)break;for(;Y.e>=Y.s;)Z[Y.e--]={width:Y.w/256,hidden:!!(Y.flags&1),level:Y.level},oe||(oe=!0,cw(Y.w/256)),ic(Z[Y.e+1]);break;case 161:u["!autofilter"]={ref:Kt(Y)};break;case 476:u["!margins"]=Y;break;case 147:i.Sheets[n]||(i.Sheets[n]={}),Y.name&&(i.Sheets[n].CodeName=Y.name),(Y.above||Y.left)&&(u["!outline"]={above:Y.above,left:Y.left});break;case 137:i.Views||(i.Views=[{}]),i.Views[0]||(i.Views[0]={}),Y.RTL&&(i.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:p=!0;break;case 36:p=!1;break;case 37:p=!0;break;case 38:p=!1;break;default:if(!pe.T){if(!p||l.WTF)throw new Error("Unexpected record 0x"+z.toString(16))}}},l),delete l.supbooks,delete l["!row"],!u["!ref"]&&(h.s.r<2e6||f&&(f.e.r>0||f.e.c>0||f.s.r>0||f.s.c>0))&&(u["!ref"]=Kt(f||h)),l.sheetRows&&u["!ref"]){var W=vn(u["!ref"]);l.sheetRows<=+W.e.r&&(W.e.r=l.sheetRows-1,W.e.r>h.e.r&&(W.e.r=h.e.r),W.e.r<W.s.r&&(W.s.r=W.e.r),W.e.c>h.e.c&&(W.e.c=h.e.c),W.e.c<W.s.c&&(W.s.c=W.e.c),u["!fullref"]=u["!ref"],u["!ref"]=Kt(W))}return C.length>0&&(u["!merges"]=C),Z.length>0&&(u["!cols"]=Z),se.length>0&&(u["!rows"]=se),u}function fae(t,e,n,r,i,a,s){if(e.v===void 0)return!1;var l="";switch(e.t){case"b":l=e.v?"1":"0";break;case"d":e=tr(e),e.z=e.z||jt[14],e.v=Wr(er(e.v)),e.t="n";break;case"n":case"e":l=""+e.v;break;default:l=e.v;break}var u={r:n,c:r};switch(u.s=dc(i.cellXfs,e,i),e.l&&a["!links"].push([Ht(u),e.l]),e.c&&a["!comments"].push([Ht(u),e.c]),e.t){case"s":case"str":return i.bookSST?(l=pw(i.Strings,e.v,i.revStrings),u.t="s",u.v=l,s?Ze(t,18,Oie(e,u)):Ze(t,7,Cie(e,u))):(u.t="str",s?Ze(t,17,Hie(e,u)):Ze(t,6,zie(e,u))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?s?Ze(t,13,Fie(e,u)):Ze(t,2,Lie(e,u)):s?Ze(t,16,Nie(e,u)):Ze(t,5,Die(e,u)),!0;case"b":return u.t="b",s?Ze(t,15,Sie(e,u)):Ze(t,4,yie(e,u)),!0;case"e":return u.t="e",s?Ze(t,14,Aie(e,u)):Ze(t,3,Tie(e,u)),!0}return s?Ze(t,12,xie(e,u)):Ze(t,1,vie(e,u)),!0}function hae(t,e,n,r){var i=vn(e["!ref"]||"A1"),a,s="",l=[];Ze(t,145);var u=Array.isArray(e),f=i.e.r;e["!rows"]&&(f=Math.max(i.e.r,e["!rows"].length-1));for(var h=i.s.r;h<=f;++h){s=br(h),cie(t,e,i,h);var p=!1;if(h<=i.e.r)for(var m=i.s.c;m<=i.e.c;++m){h===i.s.r&&(l[m]=or(m)),a=l[m]+s;var g=u?(e[h]||[])[m]:e[a];if(!g){p=!1;continue}p=fae(t,g,h,m,r,e,p)}}Ze(t,146)}function dae(t,e){!e||!e["!merges"]||(Ze(t,177,Kie(e["!merges"].length)),e["!merges"].forEach(function(n){Ze(t,176,qie(n))}),Ze(t,178))}function pae(t,e){!e||!e["!cols"]||(Ze(t,390),e["!cols"].forEach(function(n,r){n&&Ze(t,60,tae(r,n))}),Ze(t,391))}function mae(t,e){!e||!e["!ref"]||(Ze(t,648),Ze(t,649,sae(vn(e["!ref"]))),Ze(t,650))}function vae(t,e,n){e["!links"].forEach(function(r){if(r[1].Target){var i=Dn(n,-1,r[1].Target.replace(/#.*$/,""),nn.HLINK);Ze(t,494,Zie(r,i))}}),delete e["!links"]}function gae(t,e,n,r){if(e["!comments"].length>0){var i=Dn(r,-1,"../drawings/vmlDrawing"+(n+1)+".vml",nn.VML);Ze(t,551,tw("rId"+i)),e["!legacy"]=i}}function xae(t,e,n,r){if(e["!autofilter"]){var i=e["!autofilter"],a=typeof i.ref=="string"?i.ref:Kt(i.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var s=n.Workbook.Names,l=ca(a);l.s.r==l.e.r&&(l.e.r=ca(e["!ref"]).e.r,a=Kt(l));for(var u=0;u<s.length;++u){var f=s[u];if(f.Name=="_xlnm._FilterDatabase"&&f.Sheet==r){f.Ref="'"+n.SheetNames[r]+"'!"+a;break}}u==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+a}),Ze(t,161,bh(vn(a))),Ze(t,162)}}function _ae(t,e,n){Ze(t,133),Ze(t,137,aae(e,n)),Ze(t,138),Ze(t,134)}function yae(t,e){e["!protect"]&&Ze(t,535,oae(e["!protect"]))}function Eae(t,e,n,r){var i=la(),a=n.SheetNames[t],s=n.Sheets[a]||{},l=a;try{n&&n.Workbook&&(l=n.Workbook.Sheets[t].CodeName||l)}catch{}var u=vn(s["!ref"]||"A1");if(u.e.c>16383||u.e.r>1048575){if(e.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575)}return s["!links"]=[],s["!comments"]=[],Ze(i,129),(n.vbaraw||s["!outline"])&&Ze(i,147,pie(l,s["!outline"])),Ze(i,148,fie(u)),_ae(i,s,n.Workbook),pae(i,s),hae(i,s,t,e),yae(i,s),xae(i,s,n,t),dae(i,s),vae(i,s,r),s["!margins"]&&Ze(i,476,rae(s["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&mae(i,s),gae(i,s,t,r),Ze(i,130),i.end()}function Sae(t){var e=[],n=t.match(/^<c:numCache>/),r;(t.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(a){var s=a.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);s&&(e[+s[1]]=n?+s[2]:s[2])});var i=mn((t.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(t.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(a){r=a.replace(/<.*?>/g,"")}),[e,i,r]}function bae(t,e,n,r,i,a){var s=a||{"!type":"chart"};if(!t)return a;var l=0,u=0,f="A",h={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(t.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(p){var m=Sae(p);h.s.r=h.s.c=0,h.e.c=l,f=or(l),m[0].forEach(function(g,_){s[f+br(_)]={t:"n",v:g,z:m[1]},u=_}),h.e.r<u&&(h.e.r=u),++l}),l>0&&(s["!ref"]=Kt(h)),s}function Tae(t,e,n,r,i){if(!t)return t;r||(r={"!id":{}});var a={"!type":"chart","!drawel":null,"!rel":""},s,l=t.match(n5);return l&&mw(l[0],a,i,n),(s=t.match(/drawing r:id="(.*?)"/))&&(a["!rel"]=s[1]),r["!id"][a["!rel"]]&&(a["!drawel"]=r["!id"][a["!rel"]]),a}function wae(t,e){t.l+=10;var n=Fi(t);return{name:n}}function Aae(t,e,n,r,i){if(!t)return t;r||(r={"!id":{}});var a={"!type":"chart","!drawel":null,"!rel":""},s=!1;return il(t,function(u,f,h){switch(h){case 550:a["!rel"]=u;break;case 651:i.Sheets[n]||(i.Sheets[n]={}),u.name&&(i.Sheets[n].CodeName=u.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!(f.T>0)){if(!(f.T<0)){if(!s||e.WTF)throw new Error("Unexpected record 0x"+h.toString(16))}}}},e),r["!id"][a["!rel"]]&&(a["!drawel"]=r["!id"][a["!rel"]]),a}var vw=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],Mae=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],Cae=[],Rae=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function mD(t,e){for(var n=0;n!=t.length;++n)for(var r=t[n],i=0;i!=e.length;++i){var a=e[i];if(r[a[0]]==null)r[a[0]]=a[1];else switch(a[2]){case"bool":typeof r[a[0]]=="string"&&(r[a[0]]=Zn(r[a[0]]));break;case"int":typeof r[a[0]]=="string"&&(r[a[0]]=parseInt(r[a[0]],10));break}}}function vD(t,e){for(var n=0;n!=e.length;++n){var r=e[n];if(t[r[0]]==null)t[r[0]]=r[1];else switch(r[2]){case"bool":typeof t[r[0]]=="string"&&(t[r[0]]=Zn(t[r[0]]));break;case"int":typeof t[r[0]]=="string"&&(t[r[0]]=parseInt(t[r[0]],10));break}}}function s5(t){vD(t.WBProps,vw),vD(t.CalcPr,Rae),mD(t.WBView,Mae),mD(t.Sheets,Cae),Qf.date1904=Zn(t.WBProps.date1904)}function Oae(t){return!t.Workbook||!t.Workbook.WBProps?"false":Zn(t.Workbook.WBProps.date1904)?"true":"false"}var Pae="][*?/\\".split("");function o5(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var n=!0;return Pae.forEach(function(r){if(t.indexOf(r)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),n}function Dae(t,e,n){t.forEach(function(r,i){o5(r);for(var a=0;a<i;++a)if(r==t[a])throw new Error("Duplicate Sheet Name: "+r);if(n){var s=e&&e[i]&&e[i].CodeName||r;if(s.charCodeAt(0)==95&&s.length>22)throw new Error("Bad Code Name: Worksheet"+s)}})}function Nae(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var e=t.Workbook&&t.Workbook.Sheets||[];Dae(t.SheetNames,e,!!t.vbaraw);for(var n=0;n<t.SheetNames.length;++n)Ore(t.Sheets[t.SheetNames[n]],t.SheetNames[n],n)}var kae=/<\w+:workbook/;function Lae(t,e){if(!t)throw new Error("Could not find file");var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},r=!1,i="xmlns",a={},s=0;if(t.replace(zi,function(u,f){var h=Wt(u);switch(io(h[0])){case"<?xml":break;case"<workbook":u.match(kae)&&(i="xmlns"+u.match(/<(\w+):/)[1]),n.xmlns=h[i];break;case"</workbook>":break;case"<fileVersion":delete h[0],n.AppVersion=h;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":vw.forEach(function(p){if(h[p[0]]!=null)switch(p[2]){case"bool":n.WBProps[p[0]]=Zn(h[p[0]]);break;case"int":n.WBProps[p[0]]=parseInt(h[p[0]],10);break;default:n.WBProps[p[0]]=h[p[0]]}}),h.codeName&&(n.WBProps.CodeName=Hn(h.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete h[0],n.WBView.push(h);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(h.state){case"hidden":h.Hidden=1;break;case"veryHidden":h.Hidden=2;break;default:h.Hidden=0}delete h.state,h.name=mn(Hn(h.name)),delete h[0],n.Sheets.push(h);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":r=!0;break;case"</definedNames>":r=!1;break;case"<definedName":a={},a.Name=Hn(h.name),h.comment&&(a.Comment=h.comment),h.localSheetId&&(a.Sheet=+h.localSheetId),Zn(h.hidden||"0")&&(a.Hidden=!0),s=f+u.length;break;case"</definedName>":a.Ref=mn(Hn(t.slice(s,f))),n.Names.push(a);break;case"<definedName/>":break;case"<calcPr":delete h[0],n.CalcPr=h;break;case"<calcPr/>":delete h[0],n.CalcPr=h;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":r=!0;break;case"</AlternateContent>":r=!1;break;case"<revisionPtr":break;default:if(!r&&e.WTF)throw new Error("unrecognized "+h[0]+" in workbook")}return u}),wu.indexOf(n.xmlns)===-1)throw new Error("Unknown Namespace: "+n.xmlns);return s5(n),n}function l5(t){var e=[Tr];e[e.length]=ct("workbook",null,{xmlns:wu[0],"xmlns:r":jr.r});var n=t.Workbook&&(t.Workbook.Names||[]).length>0,r={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(vw.forEach(function(l){t.Workbook.WBProps[l[0]]!=null&&t.Workbook.WBProps[l[0]]!=l[1]&&(r[l[0]]=t.Workbook.WBProps[l[0]])}),t.Workbook.WBProps.CodeName&&(r.codeName=t.Workbook.WBProps.CodeName,delete r.CodeName)),e[e.length]=ct("workbookPr",null,r);var i=t.Workbook&&t.Workbook.Sheets||[],a=0;if(i&&i[0]&&i[0].Hidden){for(e[e.length]="<bookViews>",a=0;a!=t.SheetNames.length&&!(!i[a]||!i[a].Hidden);++a);a==t.SheetNames.length&&(a=0),e[e.length]='<workbookView firstSheet="'+a+'" activeTab="'+a+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",a=0;a!=t.SheetNames.length;++a){var s={name:kn(t.SheetNames[a].slice(0,31))};if(s.sheetId=""+(a+1),s["r:id"]="rId"+(a+1),i[a])switch(i[a].Hidden){case 1:s.state="hidden";break;case 2:s.state="veryHidden";break}e[e.length]=ct("sheet",null,s)}return e[e.length]="</sheets>",n&&(e[e.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(l){var u={name:l.Name};l.Comment&&(u.comment=l.Comment),l.Sheet!=null&&(u.localSheetId=""+l.Sheet),l.Hidden&&(u.hidden="1"),l.Ref&&(e[e.length]=ct("definedName",kn(l.Ref),u))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function Iae(t,e){var n={};return n.Hidden=t.read_shift(4),n.iTabID=t.read_shift(4),n.strRelID=eT(t),n.name=Fi(t),n}function Fae(t,e){return e||(e=je(127)),e.write_shift(4,t.Hidden),e.write_shift(4,t.iTabID),tw(t.strRelID,e),ii(t.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function Uae(t,e){var n={},r=t.read_shift(4);n.defaultThemeVersion=t.read_shift(4);var i=e>8?Fi(t):"";return i.length>0&&(n.CodeName=i),n.autoCompressPictures=!!(r&65536),n.backupFile=!!(r&64),n.checkCompatibility=!!(r&4096),n.date1904=!!(r&1),n.filterPrivacy=!!(r&8),n.hidePivotFieldList=!!(r&1024),n.promptedSolutions=!!(r&16),n.publishItems=!!(r&2048),n.refreshAllConnections=!!(r&262144),n.saveExternalLinkValues=!!(r&128),n.showBorderUnselectedTables=!!(r&4),n.showInkAnnotation=!!(r&32),n.showObjects=["all","placeholders","none"][r>>13&3],n.showPivotChartFilter=!!(r&32768),n.updateLinks=["userSet","never","always"][r>>8&3],n}function Bae(t,e){e||(e=je(72));var n=0;return t&&t.filterPrivacy&&(n|=8),e.write_shift(4,n),e.write_shift(4,0),QF(t&&t.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function zae(t,e){var n={};return t.read_shift(4),n.ArchID=t.read_shift(4),t.l+=e-8,n}function jae(t,e,n){var r=t.l+e;t.l+=4,t.l+=1;var i=t.read_shift(4),a=gZ(t),s=Tre(t,0,n),l=ew(t);t.l=r;var u={Name:a,Ptg:s};return i<268435455&&(u.Sheet=i),l&&(u.Comment=l),u}function Hae(t,e){var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},r=[],i=!1;e||(e={}),e.biff=12;var a=[],s=[[]];return s.SheetNames=[],s.XTI=[],Sd[16]={n:"BrtFRTArchID$",f:zae},il(t,function(u,f,h){switch(h){case 156:s.SheetNames.push(u.name),n.Sheets.push(u);break;case 153:n.WBProps=u;break;case 39:u.Sheet!=null&&(e.SID=u.Sheet),u.Ref=Pi(u.Ptg,null,null,s,e),delete e.SID,delete u.Ptg,a.push(u);break;case 1036:break;case 357:case 358:case 355:case 667:s[0].length?s.push([h,u]):s[0]=[h,u],s[s.length-1].XTI=[];break;case 362:s.length===0&&(s[0]=[],s[0].XTI=[]),s[s.length-1].XTI=s[s.length-1].XTI.concat(u),s.XTI=s.XTI.concat(u);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:r.push(h),i=!0;break;case 36:r.pop(),i=!1;break;case 37:r.push(h),i=!0;break;case 38:r.pop(),i=!1;break;case 16:break;default:if(!f.T){if(!i||e.WTF&&r[r.length-1]!=37&&r[r.length-1]!=35)throw new Error("Unexpected record 0x"+h.toString(16))}}},e),s5(n),n.Names=a,n.supbooks=s,n}function Gae(t,e){Ze(t,143);for(var n=0;n!=e.SheetNames.length;++n){var r=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[n]&&e.Workbook.Sheets[n].Hidden||0,i={Hidden:r,iTabID:n+1,strRelID:"rId"+(n+1),name:e.SheetNames[n]};Ze(t,156,Fae(i))}Ze(t,144)}function Vae(t,e){e||(e=je(127));for(var n=0;n!=4;++n)e.write_shift(4,0);return ii("SheetJS",e),ii(tg.version,e),ii(tg.version,e),ii("7262",e),e.length>e.l?e.slice(0,e.l):e}function Wae(t,e){e||(e=je(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,t),e.write_shift(4,t);var n=120;return e.write_shift(1,n),e.length>e.l?e.slice(0,e.l):e}function Yae(t,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var n=e.Workbook.Sheets,r=0,i=-1,a=-1;r<n.length;++r)!n[r]||!n[r].Hidden&&i==-1?i=r:n[r].Hidden==1&&a==-1&&(a=r);a>i||(Ze(t,135),Ze(t,158,Wae(i)),Ze(t,136))}}function Xae(t,e){var n=la();return Ze(n,131),Ze(n,128,Vae()),Ze(n,153,Bae(t.Workbook&&t.Workbook.WBProps||null)),Yae(n,t),Gae(n,t),Ze(n,132),n.end()}function qae(t,e,n){return e.slice(-4)===".bin"?Hae(t,n):Lae(t,n)}function Kae(t,e,n,r,i,a,s,l){return e.slice(-4)===".bin"?uae(t,r,n,i,a,s,l):jre(t,r,n,i,a,s,l)}function $ae(t,e,n,r,i,a,s,l){return e.slice(-4)===".bin"?Aae(t,r,n,i,a):Tae(t,r,n,i,a)}function Zae(t,e,n,r,i,a,s,l){return e.slice(-4)===".bin"?Qte():ene()}function Jae(t,e,n,r,i,a,s,l){return e.slice(-4)===".bin"?Zte():Jte()}function Qae(t,e,n,r){return e.slice(-4)===".bin"?qee(t,n,r):Iee(t,n,r)}function ese(t,e,n){return HU(t,n)}function tse(t,e,n){return e.slice(-4)===".bin"?tee(t,n):JQ(t,n)}function nse(t,e,n){return e.slice(-4)===".bin"?Yte(t,n):Fte(t,n)}function rse(t,e,n){return e.slice(-4)===".bin"?kte(t):Dte(t)}function ise(t,e,n,r){return n.slice(-4)===".bin"?Lte(t,e,n,r):void 0}function ase(t,e,n){return e.slice(-4)===".bin"?Rte(t,e,n):Pte(t,e,n)}function sse(t,e,n){return(e.slice(-4)===".bin"?Xae:l5)(t)}function ose(t,e,n,r,i){return(e.slice(-4)===".bin"?Eae:r5)(t,n,r,i)}function lse(t,e,n){return(e.slice(-4)===".bin"?ite:zU)(t,n)}function cse(t,e,n){return(e.slice(-4)===".bin"?iee:DU)(t,n)}function use(t,e,n){return(e.slice(-4)===".bin"?Xte:WU)(t)}function fse(t){return(t.slice(-4)===".bin"?Ote:GU)()}var c5=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,u5=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function xs(t,e){var n=t.split(/\s+/),r=[];if(r[0]=n[0],n.length===1)return r;var i=t.match(c5),a,s,l,u;if(i)for(u=0;u!=i.length;++u)a=i[u].match(u5),(s=a[1].indexOf(":"))===-1?r[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?l="xmlns"+a[1].slice(6):l=a[1].slice(s+1),r[l]=a[2].slice(1,a[2].length-1));return r}function hse(t){var e=t.split(/\s+/),n={};if(e.length===1)return n;var r=t.match(c5),i,a,s,l;if(r)for(l=0;l!=r.length;++l)i=r[l].match(u5),(a=i[1].indexOf(":"))===-1?n[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?s="xmlns"+i[1].slice(6):s=i[1].slice(a+1),n[s]=i[2].slice(1,i[2].length-1));return n}var id;function dse(t,e){var n=id[t]||mn(t);return n==="General"?lu(e):as(n,e)}function pse(t,e,n,r){var i=r;switch((n[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":i=Zn(r);break;case"i2":case"int":i=parseInt(r,10);break;case"r4":case"float":i=parseFloat(r);break;case"date":case"dateTime.tz":i=er(r);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+n[0])}t[mn(e)]=i}function mse(t,e,n){if(t.t!=="z"){if(!n||n.cellText!==!1)try{t.t==="e"?t.w=t.w||al[t.v]:e==="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=dd(t.v):t.w=lu(t.v):t.w=dse(e||"General",t.v)}catch(a){if(n.WTF)throw a}try{var r=id[e]||e||"General";if(n.cellNF&&(t.z=r),n.cellDates&&t.t=="n"&&yh(r)){var i=Xc(t.v);i&&(t.t="d",t.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}catch(a){if(n.WTF)throw a}}}function vse(t,e,n){if(n.cellStyles&&e.Interior){var r=e.Interior;r.Pattern&&(r.patternType=Cee[r.Pattern]||r.Pattern)}t[e.ID]=e}function gse(t,e,n,r,i,a,s,l,u,f){var h="General",p=r.StyleID,m={};f=f||{};var g=[],_=0;for(p===void 0&&l&&(p=l.StyleID),p===void 0&&s&&(p=s.StyleID);a[p]!==void 0&&(a[p].nf&&(h=a[p].nf),a[p].Interior&&g.push(a[p].Interior),!!a[p].Parent);)p=a[p].Parent;switch(n.Type){case"Boolean":r.t="b",r.v=Zn(t);break;case"String":r.t="s",r.r=NP(mn(t)),r.v=t.indexOf("<")>-1?mn(e||t).replace(/<.*?>/g,""):r.r;break;case"DateTime":t.slice(-1)!="Z"&&(t+="Z"),r.v=(er(t)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),r.v!==r.v?r.v=mn(t):r.v<60&&(r.v=r.v-1),(!h||h=="General")&&(h="yyyy-mm-dd");case"Number":r.v===void 0&&(r.v=+t),r.t||(r.t="n");break;case"Error":r.t="e",r.v=iU[t],f.cellText!==!1&&(r.w=t);break;default:t==""&&e==""?r.t="z":(r.t="s",r.v=NP(e||t));break}if(mse(r,h,f),f.cellFormula!==!1)if(r.Formula){var x=mn(r.Formula);x.charCodeAt(0)==61&&(x=x.slice(1)),r.f=Jf(x,i),delete r.Formula,r.ArrayRange=="RC"?r.F=Jf("RC:RC",i):r.ArrayRange&&(r.F=Jf(r.ArrayRange,i),u.push([vn(r.F),r.F]))}else for(_=0;_<u.length;++_)i.r>=u[_][0].s.r&&i.r<=u[_][0].e.r&&i.c>=u[_][0].s.c&&i.c<=u[_][0].e.c&&(r.F=u[_][1]);f.cellStyles&&(g.forEach(function(y){!m.patternType&&y.patternType&&(m.patternType=y.patternType)}),r.s=m),r.StyleID!==void 0&&(r.ixfe=r.StyleID)}function xse(t){t.t=t.v||"",t.t=t.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.v=t.w=t.ixfe=void 0}function mE(t,e){var n=e||{};Eh();var r=W0(q2(t));(n.type=="binary"||n.type=="array"||n.type=="base64")&&(r=Hn(r));var i=r.slice(0,1024).toLowerCase(),a=!1;if(i=i.replace(/".*?"/g,""),(i.indexOf(">")&1023)>Math.min(i.indexOf(",")&1023,i.indexOf(";")&1023)){var s=tr(n);return s.type="string",ch.to_workbook(r,s)}if(i.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(ce){i.indexOf("<"+ce)>=0&&(a=!0)}),a)return roe(r,n);id={"General Number":"General","General Date":jt[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":jt[15],"Short Date":jt[14],"Long Time":jt[19],"Medium Time":jt[18],"Short Time":jt[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:jt[2],Standard:jt[4],Percent:jt[10],Scientific:jt[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var l,u=[],f,h={},p=[],m=n.dense?[]:{},g="",_={},x={},y=xs('<Data ss:Type="String">'),E=0,w=0,b=0,M={s:{r:2e6,c:2e6},e:{r:0,c:0}},A={},C={},R="",F=0,O=[],k={},D={},U=0,Z=[],se=[],oe={},G=[],W,ee=!1,Y=[],pe=[],z={},I=0,V=0,X={Sheets:[],WBProps:{date1904:!1}},te={};vd.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"");for(var J="";l=vd.exec(r);)switch(l[3]=(J=l[3]).toLowerCase()){case"data":if(J=="data"){if(l[1]==="/"){if((f=u.pop())[0]!==l[3])throw new Error("Bad state: "+f.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&u.push([l[3],!0]);break}if(u[u.length-1][1])break;l[1]==="/"?gse(r.slice(E,l.index),R,y,u[u.length-1][0]=="comment"?oe:_,{c:w,r:b},A,G[w],x,Y,n):(R="",y=xs(l[0]),E=l.index+l[0].length);break;case"cell":if(l[1]==="/")if(se.length>0&&(_.c=se),(!n.sheetRows||n.sheetRows>b)&&_.v!==void 0&&(n.dense?(m[b]||(m[b]=[]),m[b][w]=_):m[or(w)+br(b)]=_),_.HRef&&(_.l={Target:mn(_.HRef)},_.HRefScreenTip&&(_.l.Tooltip=_.HRefScreenTip),delete _.HRef,delete _.HRefScreenTip),(_.MergeAcross||_.MergeDown)&&(I=w+(parseInt(_.MergeAcross,10)|0),V=b+(parseInt(_.MergeDown,10)|0),O.push({s:{c:w,r:b},e:{c:I,r:V}})),!n.sheetStubs)_.MergeAcross?w=I+1:++w;else if(_.MergeAcross||_.MergeDown){for(var fe=w;fe<=I;++fe)for(var ae=b;ae<=V;++ae)(fe>w||ae>b)&&(n.dense?(m[ae]||(m[ae]=[]),m[ae][fe]={t:"z"}):m[or(fe)+br(ae)]={t:"z"});w=I+1}else++w;else _=hse(l[0]),_.Index&&(w=+_.Index-1),w<M.s.c&&(M.s.c=w),w>M.e.c&&(M.e.c=w),l[0].slice(-2)==="/>"&&++w,se=[];break;case"row":l[1]==="/"||l[0].slice(-2)==="/>"?(b<M.s.r&&(M.s.r=b),b>M.e.r&&(M.e.r=b),l[0].slice(-2)==="/>"&&(x=xs(l[0]),x.Index&&(b=+x.Index-1)),w=0,++b):(x=xs(l[0]),x.Index&&(b=+x.Index-1),z={},(x.AutoFitHeight=="0"||x.Height)&&(z.hpx=parseInt(x.Height,10),z.hpt=Ed(z.hpx),pe[b]=z),x.Hidden=="1"&&(z.hidden=!0,pe[b]=z));break;case"worksheet":if(l[1]==="/"){if((f=u.pop())[0]!==l[3])throw new Error("Bad state: "+f.join("|"));p.push(g),M.s.r<=M.e.r&&M.s.c<=M.e.c&&(m["!ref"]=Kt(M),n.sheetRows&&n.sheetRows<=M.e.r&&(m["!fullref"]=m["!ref"],M.e.r=n.sheetRows-1,m["!ref"]=Kt(M))),O.length&&(m["!merges"]=O),G.length>0&&(m["!cols"]=G),pe.length>0&&(m["!rows"]=pe),h[g]=m}else M={s:{r:2e6,c:2e6},e:{r:0,c:0}},b=w=0,u.push([l[3],!1]),f=xs(l[0]),g=mn(f.Name),m=n.dense?[]:{},O=[],Y=[],pe=[],te={name:g,Hidden:0},X.Sheets.push(te);break;case"table":if(l[1]==="/"){if((f=u.pop())[0]!==l[3])throw new Error("Bad state: "+f.join("|"))}else{if(l[0].slice(-2)=="/>")break;u.push([l[3],!1]),G=[],ee=!1}break;case"style":l[1]==="/"?vse(A,C,n):C=xs(l[0]);break;case"numberformat":C.nf=mn(xs(l[0]).Format||"General"),id[C.nf]&&(C.nf=id[C.nf]);for(var Q=0;Q!=392&&jt[Q]!=C.nf;++Q);if(Q==392){for(Q=57;Q!=392;++Q)if(jt[Q]==null){Go(C.nf,Q);break}}break;case"column":if(u[u.length-1][0]!=="table")break;if(W=xs(l[0]),W.Hidden&&(W.hidden=!0,delete W.Hidden),W.Width&&(W.wpx=parseInt(W.Width,10)),!ee&&W.wpx>10){ee=!0,Di=UU;for(var de=0;de<G.length;++de)G[de]&&ic(G[de])}ee&&ic(W),G[W.Index-1||G.length]=W;for(var Ae=0;Ae<+W.Span;++Ae)G[G.length]=tr(W);break;case"namedrange":if(l[1]==="/")break;X.Names||(X.Names=[]);var j=Wt(l[0]),We={Name:j.Name,Ref:Jf(j.RefersTo.slice(1),{r:0,c:0})};X.Sheets.length>0&&(We.Sheet=X.Sheets.length-1),X.Names.push(We);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(l[0].slice(-2)==="/>")break;l[1]==="/"?R+=r.slice(F,l.index):F=l.index+l[0].length;break;case"interior":if(!n.cellStyles)break;C.Interior=xs(l[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(l[0].slice(-2)==="/>")break;l[1]==="/"?HZ(k,J,r.slice(U,l.index)):U=l.index+l[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(l[1]==="/"){if((f=u.pop())[0]!==l[3])throw new Error("Bad state: "+f.join("|"))}else u.push([l[3],!1]);break;case"comment":if(l[1]==="/"){if((f=u.pop())[0]!==l[3])throw new Error("Bad state: "+f.join("|"));xse(oe),se.push(oe)}else u.push([l[3],!1]),f=xs(l[0]),oe={a:f.Author};break;case"autofilter":if(l[1]==="/"){if((f=u.pop())[0]!==l[3])throw new Error("Bad state: "+f.join("|"))}else if(l[0].charAt(l[0].length-2)!=="/"){var Le=xs(l[0]);m["!autofilter"]={ref:Jf(Le.Range).replace(/\$/g,"")},u.push([l[3],!0])}break;case"name":break;case"datavalidation":if(l[1]==="/"){if((f=u.pop())[0]!==l[3])throw new Error("Bad state: "+f.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&u.push([l[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(l[1]==="/"){if((f=u.pop())[0]!==l[3])throw new Error("Bad state: "+f.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&u.push([l[3],!0]);break;case"null":break;default:if(u.length==0&&l[3]=="document"||u.length==0&&l[3]=="uof")return ED(r,n);var Je=!0;switch(u[u.length-1][0]){case"officedocumentsettings":switch(l[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:Je=!1}break;case"componentoptions":switch(l[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:Je=!1}break;case"excelworkbook":switch(l[3]){case"date1904":X.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:Je=!1}break;case"workbookoptions":switch(l[3]){case"owcversion":break;case"height":break;case"width":break;default:Je=!1}break;case"worksheetoptions":switch(l[3]){case"visible":if(l[0].slice(-2)!=="/>")if(l[1]==="/")switch(r.slice(U,l.index)){case"SheetHidden":te.Hidden=1;break;case"SheetVeryHidden":te.Hidden=2;break}else U=l.index+l[0].length;break;case"header":m["!margins"]||eu(m["!margins"]={},"xlml"),isNaN(+Wt(l[0]).Margin)||(m["!margins"].header=+Wt(l[0]).Margin);break;case"footer":m["!margins"]||eu(m["!margins"]={},"xlml"),isNaN(+Wt(l[0]).Margin)||(m["!margins"].footer=+Wt(l[0]).Margin);break;case"pagemargins":var Xe=Wt(l[0]);m["!margins"]||eu(m["!margins"]={},"xlml"),isNaN(+Xe.Top)||(m["!margins"].top=+Xe.Top),isNaN(+Xe.Left)||(m["!margins"].left=+Xe.Left),isNaN(+Xe.Right)||(m["!margins"].right=+Xe.Right),isNaN(+Xe.Bottom)||(m["!margins"].bottom=+Xe.Bottom);break;case"displayrighttoleft":X.Views||(X.Views=[]),X.Views[0]||(X.Views[0]={}),X.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":m["!outline"]||(m["!outline"]={}),m["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":m["!outline"]||(m["!outline"]={}),m["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:Je=!1}break;case"pivottable":case"pivotcache":switch(l[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:Je=!1}break;case"pagebreaks":switch(l[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:Je=!1}break;case"autofilter":switch(l[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:Je=!1}break;case"querytable":switch(l[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:Je=!1}break;case"datavalidation":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:Je=!1}break;case"sorting":case"conditionalformatting":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:Je=!1}break;case"mapinfo":case"schema":case"data":switch(l[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:Je=!1}break;case"smarttags":break;default:Je=!1;break}if(Je||l[3].match(/!\[CDATA/))break;if(!u[u.length-1][1])throw"Unrecognized tag: "+l[3]+"|"+u.join("|");if(u[u.length-1][0]==="customdocumentproperties"){if(l[0].slice(-2)==="/>")break;l[1]==="/"?pse(D,J,Z,r.slice(U,l.index)):(Z=l,U=l.index+l[0].length);break}if(n.WTF)throw"Unrecognized tag: "+l[3]+"|"+u.join("|")}var Ge={};return!n.bookSheets&&!n.bookProps&&(Ge.Sheets=h),Ge.SheetNames=p,Ge.Workbook=X,Ge.SSF=tr(jt),Ge.Props=k,Ge.Custprops=D,Ge}function oT(t,e){switch(xw(e=e||{}),e.type||"base64"){case"base64":return mE(Pa(t),e);case"binary":case"buffer":case"file":return mE(t,e);case"array":return mE(fc(t),e)}}function _se(t,e){var n=[];return t.Props&&n.push(GZ(t.Props,e)),t.Custprops&&n.push(VZ(t.Props,t.Custprops)),n.join("")}function yse(){return""}function Ese(t,e){var n=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(r,i){var a=[];a.push(ct("NumberFormat",null,{"ss:Format":kn(jt[r.numFmtId])}));var s={"ss:ID":"s"+(21+i)};n.push(ct("Style",a.join(""),s))}),ct("Styles",n.join(""))}function f5(t){return ct("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+hw(t.Ref,{r:0,c:0})})}function Sse(t){if(!((t||{}).Workbook||{}).Names)return"";for(var e=t.Workbook.Names,n=[],r=0;r<e.length;++r){var i=e[r];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||n.push(f5(i)))}return ct("Names",n.join(""))}function bse(t,e,n,r){if(!t||!((r||{}).Workbook||{}).Names)return"";for(var i=r.Workbook.Names,a=[],s=0;s<i.length;++s){var l=i[s];l.Sheet==n&&(l.Name.match(/^_xlfn\./)||a.push(f5(l)))}return a.join("")}function Tse(t,e,n,r){if(!t)return"";var i=[];if(t["!margins"]&&(i.push("<PageSetup>"),t["!margins"].header&&i.push(ct("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&i.push(ct("Footer",null,{"x:Margin":t["!margins"].footer})),i.push(ct("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),i.push("</PageSetup>")),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[n])if(r.Workbook.Sheets[n].Hidden)i.push(ct("Visible",r.Workbook.Sheets[n].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var a=0;a<n&&!(r.Workbook.Sheets[a]&&!r.Workbook.Sheets[a].Hidden);++a);a==n&&i.push("<Selected/>")}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),t["!protect"]&&(i.push(Ei("ProtectContents","True")),t["!protect"].objects&&i.push(Ei("ProtectObjects","True")),t["!protect"].scenarios&&i.push(Ei("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?i.push(Ei("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&i.push(Ei("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(s){t["!protect"][s[0]]&&i.push("<"+s[1]+"/>")})),i.length==0?"":ct("WorksheetOptions",i.join(""),{xmlns:Sa.x})}function wse(t){return t.map(function(e){var n=Y$(e.t||""),r=ct("ss:Data",n,{xmlns:"http://www.w3.org/TR/REC-html40"});return ct("Comment",r,{"ss:Author":e.a})}).join("")}function Ase(t,e,n,r,i,a,s){if(!t||t.v==null&&t.f==null)return"";var l={};if(t.f&&(l["ss:Formula"]="="+kn(hw(t.f,s))),t.F&&t.F.slice(0,e.length)==e){var u=lr(t.F.slice(e.length+1));l["ss:ArrayRange"]="RC:R"+(u.r==s.r?"":"["+(u.r-s.r)+"]")+"C"+(u.c==s.c?"":"["+(u.c-s.c)+"]")}if(t.l&&t.l.Target&&(l["ss:HRef"]=kn(t.l.Target),t.l.Tooltip&&(l["x:HRefScreenTip"]=kn(t.l.Tooltip))),n["!merges"])for(var f=n["!merges"],h=0;h!=f.length;++h)f[h].s.c!=s.c||f[h].s.r!=s.r||(f[h].e.c>f[h].s.c&&(l["ss:MergeAcross"]=f[h].e.c-f[h].s.c),f[h].e.r>f[h].s.r&&(l["ss:MergeDown"]=f[h].e.r-f[h].s.r));var p="",m="";switch(t.t){case"z":if(!r.sheetStubs)return"";break;case"n":p="Number",m=String(t.v);break;case"b":p="Boolean",m=t.v?"1":"0";break;case"e":p="Error",m=al[t.v];break;case"d":p="DateTime",m=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||jt[14]);break;case"s":p="String",m=W$(t.v||"");break}var g=dc(r.cellXfs,t,r);l["ss:StyleID"]="s"+(21+g),l["ss:Index"]=s.c+1;var _=t.v!=null?m:"",x=t.t=="z"?"":'<Data ss:Type="'+p+'">'+_+"</Data>";return(t.c||[]).length>0&&(x+=wse(t.c)),ct("Cell",x,l)}function Mse(t,e){var n='<Row ss:Index="'+(t+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=uh(e.hpt)),e.hpx&&(n+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(n+=' ss:Hidden="1"')),n+">"}function Cse(t,e,n,r){if(!t["!ref"])return"";var i=vn(t["!ref"]),a=t["!merges"]||[],s=0,l=[];t["!cols"]&&t["!cols"].forEach(function(y,E){ic(y);var w=!!y.width,b=xx(E,y),M={"ss:Index":E+1};w&&(M["ss:Width"]=_d(b.width)),y.hidden&&(M["ss:Hidden"]="1"),l.push(ct("Column",null,M))});for(var u=Array.isArray(t),f=i.s.r;f<=i.e.r;++f){for(var h=[Mse(f,(t["!rows"]||[])[f])],p=i.s.c;p<=i.e.c;++p){var m=!1;for(s=0;s!=a.length;++s)if(!(a[s].s.c>p)&&!(a[s].s.r>f)&&!(a[s].e.c<p)&&!(a[s].e.r<f)){(a[s].s.c!=p||a[s].s.r!=f)&&(m=!0);break}if(!m){var g={r:f,c:p},_=Ht(g),x=u?(t[f]||[])[p]:t[_];h.push(Ase(x,_,t,e,n,r,g))}}h.push("</Row>"),h.length>2&&l.push(h.join(""))}return l.join("")}function Rse(t,e,n){var r=[],i=n.SheetNames[t],a=n.Sheets[i],s=a?bse(a,e,t,n):"";return s.length>0&&r.push("<Names>"+s+"</Names>"),s=a?Cse(a,e,t,n):"",s.length>0&&r.push("<Table>"+s+"</Table>"),r.push(Tse(a,e,t,n)),r.join("")}function Ose(t,e){e||(e={}),t.SSF||(t.SSF=tr(jt)),t.SSF&&(Eh(),fx(t.SSF),e.revssf=dx(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF,e.cellXfs=[],dc(e.cellXfs,{},{revssf:{General:0}}));var n=[];n.push(_se(t,e)),n.push(yse()),n.push(""),n.push("");for(var r=0;r<t.SheetNames.length;++r)n.push(ct("Worksheet",Rse(r,e,t),{"ss:Name":kn(t.SheetNames[r])}));return n[2]=Ese(t,e),n[3]=Sse(t),Tr+ct("Workbook",n.join(""),{xmlns:Sa.ss,"xmlns:o":Sa.o,"xmlns:x":Sa.x,"xmlns:ss":Sa.ss,"xmlns:dt":Sa.dt,"xmlns:html":Sa.html})}function Pse(t){var e={},n=t.content;if(n.l=28,e.AnsiUserType=n.read_shift(0,"lpstr-ansi"),e.AnsiClipboardFormat=SZ(n),n.length-n.l<=4)return e;var r=n.read_shift(4);if(r==0||r>40||(n.l-=4,e.Reserved1=n.read_shift(0,"lpstr-ansi"),n.length-n.l<=4)||(r=n.read_shift(4),r!==1907505652)||(e.UnicodeClipboardFormat=bZ(n),r=n.read_shift(4),r==0||r>40))return e;n.l-=4,e.Reserved2=n.read_shift(0,"lpwstr")}var Dse=[60,1084,2066,2165,2175];function Nse(t,e,n,r,i){var a=r,s=[],l=n.slice(n.l,n.l+a);if(i&&i.enc&&i.enc.insitu&&l.length>0)switch(t){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:i.enc.insitu(l)}s.push(l),n.l+=a;for(var u=Fo(n,n.l),f=lT[u],h=0;f!=null&&Dse.indexOf(u)>-1;)a=Fo(n,n.l+2),h=n.l+4,u==2066?h+=4:(u==2165||u==2175)&&(h+=12),l=n.slice(h,n.l+4+a),s.push(l),n.l+=4+a,f=lT[u=Fo(n,n.l)];var p=ri(s);yi(p,0);var m=0;p.lens=[];for(var g=0;g<s.length;++g)p.lens.push(m),m+=s[g].length;if(p.length<r)throw"XLS Record 0x"+t.toString(16)+" Truncated: "+p.length+" < "+r;return e.f(p,p.length,i)}function Fs(t,e,n){if(t.t!=="z"&&t.XF){var r=0;try{r=t.z||t.XF.numFmtId||0,e.cellNF&&(t.z=jt[r])}catch(a){if(e.WTF)throw a}if(!e||e.cellText!==!1)try{t.t==="e"?t.w=t.w||al[t.v]:r===0||r=="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=dd(t.v):t.w=lu(t.v):t.w=as(r,t.v,{date1904:!!n,dateNF:e&&e.dateNF})}catch(a){if(e.WTF)throw a}if(e.cellDates&&r&&t.t=="n"&&yh(jt[r]||String(r))){var i=Xc(t.v);i&&(t.t="d",t.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}}function hv(t,e,n){return{v:t,ixfe:e,t:n}}function kse(t,e){var n={opts:{}},r={},i=e.dense?[]:{},a={},s={},l=null,u=[],f="",h={},p,m="",g,_,x,y,E={},w=[],b,M,A=[],C=[],R={Sheets:[],WBProps:{date1904:!1},Views:[{}]},F={},O=function(Be){return Be<8?Zc[Be]:Be<64&&C[Be-8]||Zc[Be]},k=function(Be,st,Tt){var Ve=st.XF.data;if(!(!Ve||!Ve.patternType||!Tt||!Tt.cellStyles)){st.s={},st.s.patternType=Ve.patternType;var Qe;(Qe=xd(O(Ve.icvFore)))&&(st.s.fgColor={rgb:Qe}),(Qe=xd(O(Ve.icvBack)))&&(st.s.bgColor={rgb:Qe})}},D=function(Be,st,Tt){if(!(z>1)&&!(Tt.sheetRows&&Be.r>=Tt.sheetRows)){if(Tt.cellStyles&&st.XF&&st.XF.data&&k(Be,st,Tt),delete st.ixfe,delete st.XF,p=Be,m=Ht(Be),(!s||!s.s||!s.e)&&(s={s:{r:0,c:0},e:{r:0,c:0}}),Be.r<s.s.r&&(s.s.r=Be.r),Be.c<s.s.c&&(s.s.c=Be.c),Be.r+1>s.e.r&&(s.e.r=Be.r+1),Be.c+1>s.e.c&&(s.e.c=Be.c+1),Tt.cellFormula&&st.f){for(var Ve=0;Ve<w.length;++Ve)if(!(w[Ve][0].s.c>Be.c||w[Ve][0].s.r>Be.r)&&!(w[Ve][0].e.c<Be.c||w[Ve][0].e.r<Be.r)){st.F=Kt(w[Ve][0]),(w[Ve][0].s.c!=Be.c||w[Ve][0].s.r!=Be.r)&&delete st.f,st.f&&(st.f=""+Pi(w[Ve][1],s,Be,Y,U));break}}Tt.dense?(i[Be.r]||(i[Be.r]=[]),i[Be.r][Be.c]=st):i[m]=st}},U={enc:!1,sbcch:0,snames:[],sharedf:E,arrayf:w,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!e&&!!e.cellStyles,WTF:!!e&&!!e.wtf};e.password&&(U.password=e.password);var Z,se=[],oe=[],G=[],W=[],ee=!1,Y=[];Y.SheetNames=U.snames,Y.sharedf=U.sharedf,Y.arrayf=U.arrayf,Y.names=[],Y.XTI=[];var pe=0,z=0,I=0,V=[],X=[],te;U.codepage=1200,bs(1200);for(var J=!1;t.l<t.length-1;){var fe=t.l,ae=t.read_shift(2);if(ae===0&&pe===10)break;var Q=t.l===t.length?0:t.read_shift(2),de=lT[ae];if(de&&de.f){if(e.bookSheets&&pe===133&&ae!==133)break;if(pe=ae,de.r===2||de.r==12){var Ae=t.read_shift(2);if(Q-=2,!U.enc&&Ae!==ae&&((Ae&255)<<8|Ae>>8)!==ae)throw new Error("rt mismatch: "+Ae+"!="+ae);de.r==12&&(t.l+=10,Q-=10)}var j={};if(ae===10?j=de.f(t,Q,U):j=Nse(ae,de,t,Q,U),z==0&&[9,521,1033,2057].indexOf(pe)===-1)continue;switch(ae){case 34:n.opts.Date1904=R.WBProps.date1904=j;break;case 134:n.opts.WriteProtect=!0;break;case 47:if(U.enc||(t.l=0),U.enc=j,!e.password)throw new Error("File is password-protected");if(j.valid==null)throw new Error("Encryption scheme unsupported");if(!j.valid)throw new Error("Password is incorrect");break;case 92:U.lastuser=j;break;case 66:var We=Number(j);switch(We){case 21010:We=1200;break;case 32768:We=1e4;break;case 32769:We=1252;break}bs(U.codepage=We),J=!0;break;case 317:U.rrtabid=j;break;case 25:U.winlocked=j;break;case 439:n.opts.RefreshAll=j;break;case 12:n.opts.CalcCount=j;break;case 16:n.opts.CalcDelta=j;break;case 17:n.opts.CalcIter=j;break;case 13:n.opts.CalcMode=j;break;case 14:n.opts.CalcPrecision=j;break;case 95:n.opts.CalcSaveRecalc=j;break;case 15:U.CalcRefMode=j;break;case 2211:n.opts.FullCalc=j;break;case 129:j.fDialog&&(i["!type"]="dialog"),j.fBelow||((i["!outline"]||(i["!outline"]={})).above=!0),j.fRight||((i["!outline"]||(i["!outline"]={})).left=!0);break;case 224:A.push(j);break;case 430:Y.push([j]),Y[Y.length-1].XTI=[];break;case 35:case 547:Y[Y.length-1].push(j);break;case 24:case 536:te={Name:j.Name,Ref:Pi(j.rgce,s,null,Y,U)},j.itab>0&&(te.Sheet=j.itab-1),Y.names.push(te),Y[0]||(Y[0]=[],Y[0].XTI=[]),Y[Y.length-1].push(j),j.Name=="_xlnm._FilterDatabase"&&j.itab>0&&j.rgce&&j.rgce[0]&&j.rgce[0][0]&&j.rgce[0][0][0]=="PtgArea3d"&&(X[j.itab-1]={ref:Kt(j.rgce[0][0][1][2])});break;case 22:U.ExternCount=j;break;case 23:Y.length==0&&(Y[0]=[],Y[0].XTI=[]),Y[Y.length-1].XTI=Y[Y.length-1].XTI.concat(j),Y.XTI=Y.XTI.concat(j);break;case 2196:if(U.biff<8)break;te!=null&&(te.Comment=j[1]);break;case 18:i["!protect"]=j;break;case 19:j!==0&&U.WTF&&console.error("Password verifier: "+j);break;case 133:a[j.pos]=j,U.snames.push(j.name);break;case 10:{if(--z)break;if(s.e){if(s.e.r>0&&s.e.c>0){if(s.e.r--,s.e.c--,i["!ref"]=Kt(s),e.sheetRows&&e.sheetRows<=s.e.r){var Le=s.e.r;s.e.r=e.sheetRows-1,i["!fullref"]=i["!ref"],i["!ref"]=Kt(s),s.e.r=Le}s.e.r++,s.e.c++}se.length>0&&(i["!merges"]=se),oe.length>0&&(i["!objects"]=oe),G.length>0&&(i["!cols"]=G),W.length>0&&(i["!rows"]=W),R.Sheets.push(F)}f===""?h=i:r[f]=i,i=e.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(U.biff===8&&(U.biff={9:2,521:3,1033:4}[ae]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[j.BIFFVer]||8),U.biffguess=j.BIFFVer==0,j.BIFFVer==0&&j.dt==4096&&(U.biff=5,J=!0,bs(U.codepage=28591)),U.biff==8&&j.BIFFVer==0&&j.dt==16&&(U.biff=2),z++)break;if(i=e.dense?[]:{},U.biff<8&&!J&&(J=!0,bs(U.codepage=e.codepage||1252)),U.biff<5||j.BIFFVer==0&&j.dt==4096){f===""&&(f="Sheet1"),s={s:{r:0,c:0},e:{r:0,c:0}};var Je={pos:t.l-Q,name:f};a[Je.pos]=Je,U.snames.push(f)}else f=(a[fe]||{name:""}).name;j.dt==32&&(i["!type"]="chart"),j.dt==64&&(i["!type"]="macro"),se=[],oe=[],U.arrayf=w=[],G=[],W=[],ee=!1,F={Hidden:(a[fe]||{hs:0}).hs,name:f}}break;case 515:case 3:case 2:i["!type"]=="chart"&&(e.dense?(i[j.r]||[])[j.c]:i[Ht({c:j.c,r:j.r})])&&++j.c,b={ixfe:j.ixfe,XF:A[j.ixfe]||{},v:j.val,t:"n"},I>0&&(b.z=V[b.ixfe>>8&63]),Fs(b,e,n.opts.Date1904),D({c:j.c,r:j.r},b,e);break;case 5:case 517:b={ixfe:j.ixfe,XF:A[j.ixfe],v:j.val,t:j.t},I>0&&(b.z=V[b.ixfe>>8&63]),Fs(b,e,n.opts.Date1904),D({c:j.c,r:j.r},b,e);break;case 638:b={ixfe:j.ixfe,XF:A[j.ixfe],v:j.rknum,t:"n"},I>0&&(b.z=V[b.ixfe>>8&63]),Fs(b,e,n.opts.Date1904),D({c:j.c,r:j.r},b,e);break;case 189:for(var Xe=j.c;Xe<=j.C;++Xe){var Ge=j.rkrec[Xe-j.c][0];b={ixfe:Ge,XF:A[Ge],v:j.rkrec[Xe-j.c][1],t:"n"},I>0&&(b.z=V[b.ixfe>>8&63]),Fs(b,e,n.opts.Date1904),D({c:Xe,r:j.r},b,e)}break;case 6:case 518:case 1030:{if(j.val=="String"){l=j;break}if(b=hv(j.val,j.cell.ixfe,j.tt),b.XF=A[b.ixfe],e.cellFormula){var ce=j.formula;if(ce&&ce[0]&&ce[0][0]&&ce[0][0][0]=="PtgExp"){var Ft=ce[0][0][1][0],Ct=ce[0][0][1][1],Nt=Ht({r:Ft,c:Ct});E[Nt]?b.f=""+Pi(j.formula,s,j.cell,Y,U):b.F=((e.dense?(i[Ft]||[])[Ct]:i[Nt])||{}).F}else b.f=""+Pi(j.formula,s,j.cell,Y,U)}I>0&&(b.z=V[b.ixfe>>8&63]),Fs(b,e,n.opts.Date1904),D(j.cell,b,e),l=j}break;case 7:case 519:if(l)l.val=j,b=hv(j,l.cell.ixfe,"s"),b.XF=A[b.ixfe],e.cellFormula&&(b.f=""+Pi(l.formula,s,l.cell,Y,U)),I>0&&(b.z=V[b.ixfe>>8&63]),Fs(b,e,n.opts.Date1904),D(l.cell,b,e),l=null;else throw new Error("String record expects Formula");break;case 33:case 545:{w.push(j);var rt=Ht(j[0].s);if(g=e.dense?(i[j[0].s.r]||[])[j[0].s.c]:i[rt],e.cellFormula&&g){if(!l||!rt||!g)break;g.f=""+Pi(j[1],s,j[0],Y,U),g.F=Kt(j[0])}}break;case 1212:{if(!e.cellFormula)break;if(m){if(!l)break;E[Ht(l.cell)]=j[0],g=e.dense?(i[l.cell.r]||[])[l.cell.c]:i[Ht(l.cell)],(g||{}).f=""+Pi(j[0],s,p,Y,U)}}break;case 253:b=hv(u[j.isst].t,j.ixfe,"s"),u[j.isst].h&&(b.h=u[j.isst].h),b.XF=A[b.ixfe],I>0&&(b.z=V[b.ixfe>>8&63]),Fs(b,e,n.opts.Date1904),D({c:j.c,r:j.r},b,e);break;case 513:e.sheetStubs&&(b={ixfe:j.ixfe,XF:A[j.ixfe],t:"z"},I>0&&(b.z=V[b.ixfe>>8&63]),Fs(b,e,n.opts.Date1904),D({c:j.c,r:j.r},b,e));break;case 190:if(e.sheetStubs)for(var ie=j.c;ie<=j.C;++ie){var B=j.ixfe[ie-j.c];b={ixfe:B,XF:A[B],t:"z"},I>0&&(b.z=V[b.ixfe>>8&63]),Fs(b,e,n.opts.Date1904),D({c:ie,r:j.r},b,e)}break;case 214:case 516:case 4:b=hv(j.val,j.ixfe,"s"),b.XF=A[b.ixfe],I>0&&(b.z=V[b.ixfe>>8&63]),Fs(b,e,n.opts.Date1904),D({c:j.c,r:j.r},b,e);break;case 0:case 512:z===1&&(s=j);break;case 252:u=j;break;case 1054:if(U.biff==4){V[I++]=j[1];for(var ve=0;ve<I+163&&jt[ve]!=j[1];++ve);ve>=163&&Go(j[1],I+163)}else Go(j[1],j[0]);break;case 30:{V[I++]=j;for(var Ie=0;Ie<I+163&&jt[Ie]!=j;++Ie);Ie>=163&&Go(j,I+163)}break;case 229:se=se.concat(j);break;case 93:oe[j.cmo[0]]=U.lastobj=j;break;case 438:U.lastobj.TxO=j;break;case 127:U.lastobj.ImData=j;break;case 440:for(y=j[0].s.r;y<=j[0].e.r;++y)for(x=j[0].s.c;x<=j[0].e.c;++x)g=e.dense?(i[y]||[])[x]:i[Ht({c:x,r:y})],g&&(g.l=j[1]);break;case 2048:for(y=j[0].s.r;y<=j[0].e.r;++y)for(x=j[0].s.c;x<=j[0].e.c;++x)g=e.dense?(i[y]||[])[x]:i[Ht({c:x,r:y})],g&&g.l&&(g.l.Tooltip=j[1]);break;case 28:{if(U.biff<=5&&U.biff>=2)break;g=e.dense?(i[j[0].r]||[])[j[0].c]:i[Ht(j[0])];var Ue=oe[j[2]];g||(e.dense?(i[j[0].r]||(i[j[0].r]=[]),g=i[j[0].r][j[0].c]={t:"z"}):g=i[Ht(j[0])]={t:"z"},s.e.r=Math.max(s.e.r,j[0].r),s.s.r=Math.min(s.s.r,j[0].r),s.e.c=Math.max(s.e.c,j[0].c),s.s.c=Math.min(s.s.c,j[0].c)),g.c||(g.c=[]),_={a:j[1],t:Ue.TxO.t},g.c.push(_)}break;case 2173:Ete(A[j.ixfe],j.ext);break;case 125:{if(!U.cellStyles)break;for(;j.e>=j.s;)G[j.e--]={width:j.w/256,level:j.level||0,hidden:!!(j.flags&1)},ee||(ee=!0,cw(j.w/256)),ic(G[j.e+1])}break;case 520:{var Te={};j.level!=null&&(W[j.r]=Te,Te.level=j.level),j.hidden&&(W[j.r]=Te,Te.hidden=!0),j.hpt&&(W[j.r]=Te,Te.hpt=j.hpt,Te.hpx=uh(j.hpt))}break;case 38:case 39:case 40:case 41:i["!margins"]||eu(i["!margins"]={}),i["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[ae]]=j;break;case 161:i["!margins"]||eu(i["!margins"]={}),i["!margins"].header=j.header,i["!margins"].footer=j.footer;break;case 574:j.RTL&&(R.Views[0].RTL=!0);break;case 146:C=j;break;case 2198:Z=j;break;case 140:M=j;break;case 442:f?F.CodeName=j||F.name:R.WBProps.CodeName=j||"ThisWorkbook";break}}else de||console.error("Missing Info for XLS Record 0x"+ae.toString(16)),t.l+=Q}return n.SheetNames=xr(a).sort(function(dt,Be){return Number(dt)-Number(Be)}).map(function(dt){return a[dt].name}),e.bookSheets||(n.Sheets=r),!n.SheetNames.length&&h["!ref"]?(n.SheetNames.push("Sheet1"),n.Sheets&&(n.Sheets.Sheet1=h)):n.Preamble=h,n.Sheets&&X.forEach(function(dt,Be){n.Sheets[n.SheetNames[Be]]["!autofilter"]=dt}),n.Strings=u,n.SSF=tr(jt),U.enc&&(n.Encryption=U.enc),Z&&(n.Themes=Z),n.Metadata={},M!==void 0&&(n.Metadata.Country=M),Y.names.length>0&&(R.Names=Y.names),n.Workbook=R,n}var ad={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function Lse(t,e,n){var r=It.find(t,"/!DocumentSummaryInformation");if(r&&r.size>0)try{var i=ZP(r,tT,ad.DSI);for(var a in i)e[a]=i[a]}catch(f){if(n.WTF)throw f}var s=It.find(t,"/!SummaryInformation");if(s&&s.size>0)try{var l=ZP(s,nT,ad.SI);for(var u in l)e[u]==null&&(e[u]=l[u])}catch(f){if(n.WTF)throw f}e.HeadingPairs&&e.TitlesOfParts&&(uU(e.HeadingPairs,e.TitlesOfParts,e,n),delete e.HeadingPairs,delete e.TitlesOfParts)}function Ise(t,e){var n=[],r=[],i=[],a=0,s,l=MP(tT,"n"),u=MP(nT,"n");if(t.Props)for(s=xr(t.Props),a=0;a<s.length;++a)(Object.prototype.hasOwnProperty.call(l,s[a])?n:Object.prototype.hasOwnProperty.call(u,s[a])?r:i).push([s[a],t.Props[s[a]]]);if(t.Custprops)for(s=xr(t.Custprops),a=0;a<s.length;++a)Object.prototype.hasOwnProperty.call(t.Props||{},s[a])||(Object.prototype.hasOwnProperty.call(l,s[a])?n:Object.prototype.hasOwnProperty.call(u,s[a])?r:i).push([s[a],t.Custprops[s[a]]]);var f=[];for(a=0;a<i.length;++a)gU.indexOf(i[a][0])>-1||cU.indexOf(i[a][0])>-1||i[a][1]!=null&&f.push(i[a]);r.length&&It.utils.cfb_add(e,"/SummaryInformation",JP(r,ad.SI,u,nT)),(n.length||f.length)&&It.utils.cfb_add(e,"/DocumentSummaryInformation",JP(n,ad.DSI,l,tT,f.length?f:null,ad.UDI))}function h5(t,e){e||(e={}),xw(e),B2(),e.codepage&&U2(e.codepage);var n,r;if(t.FullPaths){if(It.find(t,"/encryption"))throw new Error("File is password-protected");n=It.find(t,"!CompObj"),r=It.find(t,"/Workbook")||It.find(t,"/Book")}else{switch(e.type){case"base64":t=wa(Pa(t));break;case"binary":t=wa(t);break;case"buffer":break;case"array":Array.isArray(t)||(t=Array.prototype.slice.call(t));break}yi(t,0),r={content:t}}var i,a;if(n&&Pse(n),e.bookProps&&!e.bookSheets)i={};else{var s=tn?"buffer":"array";if(r&&r.content)i=kse(r.content,e);else if((a=It.find(t,"PerfectOffice_MAIN"))&&a.content)i=Qc.to_workbook(a.content,(e.type=s,e));else if((a=It.find(t,"NativeContent_MAIN"))&&a.content)i=Qc.to_workbook(a.content,(e.type=s,e));else throw(a=It.find(t,"MN0"))&&a.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");e.bookVBA&&t.FullPaths&&It.find(t,"/_VBA_PROJECT_CUR/VBA/dir")&&(i.vbaraw=Kte(t))}var l={};return t.FullPaths&&Lse(t,l,e),i.Props=i.Custprops=l,e.bookFiles&&(i.cfb=t),i}function Fse(t,e){var n=e||{},r=It.utils.cfb_new({root:"R"}),i="/Workbook";switch(n.bookType||"xls"){case"xls":n.bookType="biff8";case"xla":n.bookType||(n.bookType="xla");case"biff8":i="/Workbook",n.biff=8;break;case"biff5":i="/Book",n.biff=5;break;default:throw new Error("invalid type "+n.bookType+" for XLS CFB")}return It.utils.cfb_add(r,i,d5(t,n)),n.biff==8&&(t.Props||t.Custprops)&&Ise(t,r),n.biff==8&&t.vbaraw&&$te(r,It.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),r}var Sd={0:{f:oie},1:{f:mie},2:{f:kie},3:{f:bie},4:{f:_ie},5:{f:Pie},6:{f:Bie},7:{f:Mie},8:{f:Yie},9:{f:Wie},10:{f:Gie},11:{f:Vie},12:{f:gie},13:{f:Iie},14:{f:wie},15:{f:Eie},16:{f:i5},17:{f:jie},18:{f:Rie},19:{f:Q2},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:jae},40:{},42:{},43:{f:Bee},44:{f:Fee},45:{f:Hee},46:{f:Vee},47:{f:Gee},48:{},49:{f:uZ},50:{},51:{f:Tte},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:CU},62:{f:Uie},63:{f:Nte},64:{f:lae},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Bi,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:iae},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:die},148:{f:uie,p:16},151:{f:Jie},152:{},153:{f:Uae},154:{},155:{},156:{f:Iae},157:{},158:{},159:{T:1,f:eee},160:{T:-1},161:{T:1,f:Ru},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:Xie},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:Ste},336:{T:-1},337:{f:Mte,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:eT},357:{},358:{},359:{},360:{T:1},361:{},362:{f:MU},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:Qie},427:{f:eae},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:nae},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:hie},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:$ie},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:eT},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Vte},633:{T:1},634:{T:-1},635:{T:1,f:Hte},636:{T:-1},637:{f:pZ},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:wae},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:cae},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},lT={6:{f:dE},10:{f:Vl},12:{f:Dr},13:{f:Dr},14:{f:Er},15:{f:Er},16:{f:Ni},17:{f:Er},18:{f:Er},19:{f:Dr},20:{f:iD},21:{f:iD},23:{f:MU},24:{f:sD},25:{f:Er},26:{},27:{},28:{f:cQ},29:{},34:{f:Er},35:{f:aD},38:{f:Ni},39:{f:Ni},40:{f:Ni},41:{f:Ni},42:{f:Er},43:{f:Er},47:{f:Eee},49:{f:IJ},51:{f:Dr},60:{},61:{f:PJ},64:{f:Er},65:{f:LJ},66:{f:Dr},77:{},80:{},81:{},82:{},85:{f:Dr},89:{},90:{},91:{},92:{f:yJ},93:{f:hQ},94:{},95:{f:Er},96:{},97:{},99:{f:Er},125:{f:CU},128:{f:ZJ},129:{f:SJ},130:{f:Dr},131:{f:Er},132:{f:Er},133:{f:bJ},134:{},140:{f:yQ},141:{f:Dr},144:{},146:{f:bQ},151:{},152:{},153:{},154:{},155:{},156:{f:Dr},157:{},158:{},160:{f:OQ},161:{f:AQ},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:XJ},190:{f:qJ},193:{f:Vl},197:{},198:{},199:{},200:{},201:{},202:{f:Er},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Dr},220:{},221:{f:Er},222:{},224:{f:$J},225:{f:_J},226:{f:Vl},227:{},229:{f:uQ},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:wJ},253:{f:UJ},255:{f:MJ},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:xU},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Er},353:{f:Vl},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:nQ},431:{f:Er},432:{},433:{},434:{},437:{},438:{f:mQ},439:{f:Er},440:{f:vQ},441:{},442:{f:Wd},443:{},444:{f:Dr},445:{},446:{},448:{f:Vl},449:{f:OJ,r:2},450:{f:Vl},512:{f:tD},513:{f:RQ},515:{f:eQ},516:{f:zJ},517:{f:rD},519:{f:PQ},520:{f:CJ},523:{},545:{f:oD},549:{f:eD},566:{},574:{f:NJ},638:{f:YJ},659:{},1048:{},1054:{f:HJ},1084:{},1212:{f:sQ},2048:{f:xQ},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:cv},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Vl},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:TQ,r:12},2173:{f:yte,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Er,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:aQ,r:12},2197:{},2198:{f:pte,r:12},2199:{},2200:{},2201:{},2202:{f:oQ,r:12},2203:{f:Vl},2204:{},2205:{},2206:{},2207:{},2211:{f:RJ},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Dr},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:MQ},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:SQ},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:tD},1:{},2:{f:IQ},3:{f:kQ},4:{f:NQ},5:{f:rD},7:{f:UQ},8:{},9:{f:cv},11:{},22:{f:Dr},30:{f:VJ},31:{},32:{},33:{f:oD},36:{},37:{f:eD},50:{f:BQ},62:{},52:{},67:{},68:{f:Dr},69:{},86:{},126:{},127:{f:DQ},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:zQ},223:{},234:{},354:{},421:{},518:{f:dE},521:{f:cv},536:{f:sD},547:{f:aD},561:{},579:{},1030:{f:dE},1033:{f:cv},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function ht(t,e,n,r){var i=e;if(!isNaN(i)){var a=r||(n||[]).length||0,s=t.next(4);s.write_shift(2,i),s.write_shift(2,a),a>0&&$2(n)&&t.push(n)}}function Use(t,e,n,r){var i=(n||[]).length||0;if(i<=8224)return ht(t,e,n,i);var a=e;if(!isNaN(a)){for(var s=n.parts||[],l=0,u=0,f=0;f+(s[l]||8224)<=8224;)f+=s[l]||8224,l++;var h=t.next(4);for(h.write_shift(2,a),h.write_shift(2,f),t.push(n.slice(u,u+f)),u+=f;u<i;){for(h=t.next(4),h.write_shift(2,60),f=0;f+(s[l]||8224)<=8224;)f+=s[l]||8224,l++;h.write_shift(2,f),t.push(n.slice(u,u+f)),u+=f}}}function Kd(t,e,n){return t||(t=je(7)),t.write_shift(2,e),t.write_shift(2,n),t.write_shift(2,0),t.write_shift(1,0),t}function Bse(t,e,n,r){var i=je(9);return Kd(i,t,e),_U(n,r||"b",i),i}function zse(t,e,n){var r=je(8+2*n.length);return Kd(r,t,e),r.write_shift(1,n.length),r.write_shift(n.length,n,"sbcs"),r.l<r.length?r.slice(0,r.l):r}function jse(t,e,n,r){if(e.v!=null)switch(e.t){case"d":case"n":var i=e.t=="d"?Wr(er(e.v)):e.v;i==(i|0)&&i>=0&&i<65536?ht(t,2,FQ(n,r,i)):ht(t,3,LQ(n,r,i));return;case"b":case"e":ht(t,5,Bse(n,r,e.v,e.t));return;case"s":case"str":ht(t,4,zse(n,r,(e.v||"").slice(0,255)));return}ht(t,1,Kd(null,n,r))}function Hse(t,e,n,r){var i=Array.isArray(e),a=vn(e["!ref"]||"A1"),s,l="",u=[];if(a.e.c>255||a.e.r>16383){if(r.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");a.e.c=Math.min(a.e.c,255),a.e.r=Math.min(a.e.c,16383),s=Kt(a)}for(var f=a.s.r;f<=a.e.r;++f){l=br(f);for(var h=a.s.c;h<=a.e.c;++h){f===a.s.r&&(u[h]=or(h)),s=u[h]+l;var p=i?(e[f]||[])[h]:e[s];p&&jse(t,p,f,h)}}}function Gse(t,e){for(var n=e||{},r=la(),i=0,a=0;a<t.SheetNames.length;++a)t.SheetNames[a]==n.sheet&&(i=a);if(i==0&&n.sheet&&t.SheetNames[0]!=n.sheet)throw new Error("Sheet not found: "+n.sheet);return ht(r,n.biff==4?1033:n.biff==3?521:9,sw(t,16,n)),Hse(r,t.Sheets[t.SheetNames[i]],i,n),ht(r,10),r.end()}function Vse(t,e,n){ht(t,49,FJ({sz:12,name:"Arial"},n))}function Wse(t,e,n){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&ht(t,1054,GJ(i,e[i],n))})}function Yse(t,e){var n=je(19);n.write_shift(4,2151),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,1),n.write_shift(4,0),ht(t,2151,n),n=je(39),n.write_shift(4,2152),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,0),n.write_shift(4,0),n.write_shift(2,1),n.write_shift(4,4),n.write_shift(2,0),TU(vn(e["!ref"]||"A1"),n),n.write_shift(4,4),ht(t,2152,n)}function Xse(t,e){for(var n=0;n<16;++n)ht(t,224,nD({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(r){ht(t,224,nD(r,0,e))})}function qse(t,e){for(var n=0;n<e["!links"].length;++n){var r=e["!links"][n];ht(t,440,gQ(r)),r[1].Tooltip&&ht(t,2048,_Q(r))}delete e["!links"]}function Kse(t,e){if(e){var n=0;e.forEach(function(r,i){++n<=256&&r&&ht(t,125,wQ(xx(i,r),i))})}}function $se(t,e,n,r,i){var a=16+dc(i.cellXfs,e,i);if(e.v==null&&!e.bf){ht(t,513,hu(n,r,a));return}if(e.bf)ht(t,6,Sre(e,n,r,i,a));else switch(e.t){case"d":case"n":var s=e.t=="d"?Wr(er(e.v)):e.v;ht(t,515,tQ(n,r,s,a));break;case"b":case"e":ht(t,517,QJ(n,r,e.v,a,i,e.t));break;case"s":case"str":if(i.bookSST){var l=pw(i.Strings,e.v,i.revStrings);ht(t,253,BJ(n,r,l,a))}else ht(t,516,jJ(n,r,(e.v||"").slice(0,255),a,i));break;default:ht(t,513,hu(n,r,a))}}function Zse(t,e,n){var r=la(),i=n.SheetNames[t],a=n.Sheets[i]||{},s=(n||{}).Workbook||{},l=(s.Sheets||[])[t]||{},u=Array.isArray(a),f=e.biff==8,h,p="",m=[],g=vn(a["!ref"]||"A1"),_=f?65536:16384;if(g.e.c>255||g.e.r>=_){if(e.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:IV16384");g.e.c=Math.min(g.e.c,255),g.e.r=Math.min(g.e.c,_-1)}ht(r,2057,sw(n,16,e)),ht(r,13,Qa(1)),ht(r,12,Qa(100)),ht(r,15,Wi(!0)),ht(r,17,Wi(!1)),ht(r,16,uu(.001)),ht(r,95,Wi(!0)),ht(r,42,Wi(!1)),ht(r,43,Wi(!1)),ht(r,130,Qa(1)),ht(r,128,JJ()),ht(r,131,Wi(!1)),ht(r,132,Wi(!1)),f&&Kse(r,a["!cols"]),ht(r,512,WJ(g,e)),f&&(a["!links"]=[]);for(var x=g.s.r;x<=g.e.r;++x){p=br(x);for(var y=g.s.c;y<=g.e.c;++y){x===g.s.r&&(m[y]=or(y)),h=m[y]+p;var E=u?(a[x]||[])[y]:a[h];E&&($se(r,E,x,y,e),f&&E.l&&a["!links"].push([h,E.l]))}}var w=l.CodeName||l.name||i;return f&&ht(r,574,kJ((s.Views||[])[0])),f&&(a["!merges"]||[]).length&&ht(r,229,fQ(a["!merges"])),f&&qse(r,a),ht(r,442,yU(w)),f&&Yse(r,a),ht(r,10),r.end()}function Jse(t,e,n){var r=la(),i=(t||{}).Workbook||{},a=i.Sheets||[],s=i.WBProps||{},l=n.biff==8,u=n.biff==5;if(ht(r,2057,sw(t,5,n)),n.bookType=="xla"&&ht(r,135),ht(r,225,l?Qa(1200):null),ht(r,193,QZ(2)),u&&ht(r,191),u&&ht(r,192),ht(r,226),ht(r,92,EJ("SheetJS",n)),ht(r,66,Qa(l?1200:1252)),l&&ht(r,353,Qa(0)),l&&ht(r,448),ht(r,317,CQ(t.SheetNames.length)),l&&t.vbaraw&&ht(r,211),l&&t.vbaraw){var f=s.CodeName||"ThisWorkbook";ht(r,442,yU(f))}ht(r,156,Qa(17)),ht(r,25,Wi(!1)),ht(r,18,Wi(!1)),ht(r,19,Qa(0)),l&&ht(r,431,Wi(!1)),l&&ht(r,444,Qa(0)),ht(r,61,DJ()),ht(r,64,Wi(!1)),ht(r,141,Qa(0)),ht(r,34,Wi(Oae(t)=="true")),ht(r,14,Wi(!0)),l&&ht(r,439,Wi(!1)),ht(r,218,Qa(0)),Vse(r,t,n),Wse(r,t.SSF,n),Xse(r,n),l&&ht(r,352,Wi(!1));var h=r.end(),p=la();l&&ht(p,140,EQ()),l&&n.Strings&&Use(p,252,AJ(n.Strings)),ht(p,10);var m=p.end(),g=la(),_=0,x=0;for(x=0;x<t.SheetNames.length;++x)_+=(l?12:11)+(l?2:1)*t.SheetNames[x].length;var y=h.length+_+m.length;for(x=0;x<t.SheetNames.length;++x){var E=a[x]||{};ht(g,133,TJ({pos:y,hs:E.Hidden||0,dt:0,name:t.SheetNames[x]},n)),y+=e[x].length}var w=g.end();if(_!=w.length)throw new Error("BS8 "+_+" != "+w.length);var b=[];return h.length&&b.push(h),w.length&&b.push(w),m.length&&b.push(m),ri(b)}function Qse(t,e){var n=e||{},r=[];t&&!t.SSF&&(t.SSF=tr(jt)),t&&t.SSF&&(Eh(),fx(t.SSF),n.revssf=dx(t.SSF),n.revssf[t.SSF[65535]]=0,n.ssf=t.SSF),n.Strings=[],n.Strings.Count=0,n.Strings.Unique=0,_w(n),n.cellXfs=[],dc(n.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var i=0;i<t.SheetNames.length;++i)r[r.length]=Zse(i,n,t);return r.unshift(Jse(t,r,n)),ri(r)}function d5(t,e){for(var n=0;n<=t.SheetNames.length;++n){var r=t.Sheets[t.SheetNames[n]];if(!(!r||!r["!ref"])){var i=ca(r["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[n]+"' extends beyond column IV (255).  Data may be lost.")}}var a=e||{};switch(a.biff||2){case 8:case 5:return Qse(t,e);case 4:case 3:case 2:return Gse(t,e)}throw new Error("invalid type "+a.bookType+" for BIFF")}function gD(t,e){var n=e||{},r=n.dense?[]:{};t=t.replace(/<!--.*?-->/g,"");var i=t.match(/<table/i);if(!i)throw new Error("Invalid HTML: could not find <table>");var a=t.match(/<\/table/i),s=i.index,l=a&&a.index||t.length,u=F$(t.slice(s,l),/(:?<tr[^>]*>)/i,"<tr>"),f=-1,h=0,p=0,m=0,g={s:{r:1e7,c:1e7},e:{r:0,c:0}},_=[];for(s=0;s<u.length;++s){var x=u[s].trim(),y=x.slice(0,3).toLowerCase();if(y=="<tr"){if(++f,n.sheetRows&&n.sheetRows<=f){--f;break}h=0;continue}if(!(y!="<td"&&y!="<th")){var E=x.split(/<\/t[dh]>/i);for(l=0;l<E.length;++l){var w=E[l].trim();if(w.match(/<t[dh]/i)){for(var b=w,M=0;b.charAt(0)=="<"&&(M=b.indexOf(">"))>-1;)b=b.slice(M+1);for(var A=0;A<_.length;++A){var C=_[A];C.s.c==h&&C.s.r<f&&f<=C.e.r&&(h=C.e.c+1,A=-1)}var R=Wt(w.slice(0,w.indexOf(">")));m=R.colspan?+R.colspan:1,((p=+R.rowspan)>1||m>1)&&_.push({s:{r:f,c:h},e:{r:f+(p||1)-1,c:h+m-1}});var F=R.t||R["data-t"]||"";if(!b.length){h+=m;continue}if(b=FF(b),g.s.r>f&&(g.s.r=f),g.e.r<f&&(g.e.r=f),g.s.c>h&&(g.s.c=h),g.e.c<h&&(g.e.c=h),!b.length){h+=m;continue}var O={t:"s",v:b};n.raw||!b.trim().length||F=="s"||(b==="TRUE"?O={t:"b",v:!0}:b==="FALSE"?O={t:"b",v:!1}:isNaN(As(b))?isNaN(lh(b).getDate())||(O={t:"d",v:er(b)},n.cellDates||(O={t:"n",v:Wr(O.v)}),O.z=n.dateNF||jt[14]):O={t:"n",v:As(b)}),n.dense?(r[f]||(r[f]=[]),r[f][h]=O):r[Ht({r:f,c:h})]=O,h+=m}}}}return r["!ref"]=Kt(g),_.length&&(r["!merges"]=_),r}function eoe(t,e,n,r){for(var i=t["!merges"]||[],a=[],s=e.s.c;s<=e.e.c;++s){for(var l=0,u=0,f=0;f<i.length;++f)if(!(i[f].s.r>n||i[f].s.c>s)&&!(i[f].e.r<n||i[f].e.c<s)){if(i[f].s.r<n||i[f].s.c<s){l=-1;break}l=i[f].e.r-i[f].s.r+1,u=i[f].e.c-i[f].s.c+1;break}if(!(l<0)){var h=Ht({r:n,c:s}),p=r.dense?(t[n]||[])[s]:t[h],m=p&&p.v!=null&&(p.h||X2(p.w||(qo(p),p.w)||""))||"",g={};l>1&&(g.rowspan=l),u>1&&(g.colspan=u),r.editable?m='<span contenteditable="true">'+m+"</span>":p&&(g["data-t"]=p&&p.t||"z",p.v!=null&&(g["data-v"]=p.v),p.z!=null&&(g["data-z"]=p.z),p.l&&(p.l.Target||"#").charAt(0)!="#"&&(m='<a href="'+p.l.Target+'">'+m+"</a>")),g.id=(r.id||"sjs")+"-"+h,a.push(ct("td",m,g))}}var _="<tr>";return _+a.join("")+"</tr>"}var toe='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',noe="</body></html>";function roe(t,e){var n=t.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!n||n.length==0)throw new Error("Invalid HTML: could not find <table>");if(n.length==1)return hc(gD(n[0],e),e);var r=Sw();return n.forEach(function(i,a){bw(r,gD(i,e),"Sheet"+(a+1))}),r}function ioe(t,e,n){var r=[];return r.join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}function p5(t,e){var n=e||{},r=n.header!=null?n.header:toe,i=n.footer!=null?n.footer:noe,a=[r],s=ca(t["!ref"]);n.dense=Array.isArray(t),a.push(ioe(t,s,n));for(var l=s.s.r;l<=s.e.r;++l)a.push(eoe(t,s,l,n));return a.push("</table>"+i),a.join("")}function m5(t,e,n){var r=n||{},i=0,a=0;if(r.origin!=null)if(typeof r.origin=="number")i=r.origin;else{var s=typeof r.origin=="string"?lr(r.origin):r.origin;i=s.r,a=s.c}var l=e.getElementsByTagName("tr"),u=Math.min(r.sheetRows||1e7,l.length),f={s:{r:0,c:0},e:{r:i,c:a}};if(t["!ref"]){var h=ca(t["!ref"]);f.s.r=Math.min(f.s.r,h.s.r),f.s.c=Math.min(f.s.c,h.s.c),f.e.r=Math.max(f.e.r,h.e.r),f.e.c=Math.max(f.e.c,h.e.c),i==-1&&(f.e.r=i=h.e.r+1)}var p=[],m=0,g=t["!rows"]||(t["!rows"]=[]),_=0,x=0,y=0,E=0,w=0,b=0;for(t["!cols"]||(t["!cols"]=[]);_<l.length&&x<u;++_){var M=l[_];if(xD(M)){if(r.display)continue;g[x]={hidden:!0}}var A=M.children;for(y=E=0;y<A.length;++y){var C=A[y];if(!(r.display&&xD(C))){var R=C.hasAttribute("data-v")?C.getAttribute("data-v"):C.hasAttribute("v")?C.getAttribute("v"):FF(C.innerHTML),F=C.getAttribute("data-z")||C.getAttribute("z");for(m=0;m<p.length;++m){var O=p[m];O.s.c==E+a&&O.s.r<x+i&&x+i<=O.e.r&&(E=O.e.c+1-a,m=-1)}b=+C.getAttribute("colspan")||1,((w=+C.getAttribute("rowspan")||1)>1||b>1)&&p.push({s:{r:x+i,c:E+a},e:{r:x+i+(w||1)-1,c:E+a+(b||1)-1}});var k={t:"s",v:R},D=C.getAttribute("data-t")||C.getAttribute("t")||"";R!=null&&(R.length==0?k.t=D||"z":r.raw||R.trim().length==0||D=="s"||(R==="TRUE"?k={t:"b",v:!0}:R==="FALSE"?k={t:"b",v:!1}:isNaN(As(R))?isNaN(lh(R).getDate())||(k={t:"d",v:er(R)},r.cellDates||(k={t:"n",v:Wr(k.v)}),k.z=r.dateNF||jt[14]):k={t:"n",v:As(R)})),k.z===void 0&&F!=null&&(k.z=F);var U="",Z=C.getElementsByTagName("A");if(Z&&Z.length)for(var se=0;se<Z.length&&!(Z[se].hasAttribute("href")&&(U=Z[se].getAttribute("href"),U.charAt(0)!="#"));++se);U&&U.charAt(0)!="#"&&(k.l={Target:U}),r.dense?(t[x+i]||(t[x+i]=[]),t[x+i][E+a]=k):t[Ht({c:E+a,r:x+i})]=k,f.e.c<E+a&&(f.e.c=E+a),E+=b}}++x}return p.length&&(t["!merges"]=(t["!merges"]||[]).concat(p)),f.e.r=Math.max(f.e.r,x-1+i),t["!ref"]=Kt(f),x>=u&&(t["!fullref"]=Kt((f.e.r=l.length-_+x-1+i,f))),t}function v5(t,e){var n=e||{},r=n.dense?[]:{};return m5(r,t,e)}function aoe(t,e){return hc(v5(t,e),e)}function xD(t){var e="",n=soe(t);return n&&(e=n(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function soe(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function ooe(t){var e=t.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(r,i){return Array(parseInt(i,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),n=mn(e.replace(/<[^>]*>/g,""));return[n]}var _D={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function g5(t,e){var n=e||{},r=q2(t),i=[],a,s,l={name:""},u="",f=0,h,p,m={},g=[],_=n.dense?[]:{},x,y,E={value:""},w="",b=0,M=[],A=-1,C=-1,R={s:{r:1e6,c:1e7},e:{r:0,c:0}},F=0,O={},k=[],D={},U=0,Z=0,se=[],oe=1,G=1,W=[],ee={Names:[]},Y={},pe=["",""],z=[],I={},V="",X=0,te=!1,J=!1,fe=0;for(vd.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");x=vd.exec(r);)switch(x[3]=x[3].replace(/_.*$/,"")){case"table":case"":x[1]==="/"?(R.e.c>=R.s.c&&R.e.r>=R.s.r?_["!ref"]=Kt(R):_["!ref"]="A1:A1",n.sheetRows>0&&n.sheetRows<=R.e.r&&(_["!fullref"]=_["!ref"],R.e.r=n.sheetRows-1,_["!ref"]=Kt(R)),k.length&&(_["!merges"]=k),se.length&&(_["!rows"]=se),h.name=h.||h.name,typeof JSON<"u"&&JSON.stringify(h),g.push(h.name),m[h.name]=_,J=!1):x[0].charAt(x[0].length-2)!=="/"&&(h=Wt(x[0],!1),A=C=-1,R.s.r=R.s.c=1e7,R.e.r=R.e.c=0,_=n.dense?[]:{},k=[],se=[],J=!0);break;case"table-row-group":x[1]==="/"?--F:++F;break;case"table-row":case"":if(x[1]==="/"){A+=oe,oe=1;break}if(p=Wt(x[0],!1),p.?A=p.-1:A==-1&&(A=0),oe=+p["number-rows-repeated"]||1,oe<10)for(fe=0;fe<oe;++fe)F>0&&(se[A+fe]={level:F});C=-1;break;case"covered-table-cell":x[1]!=="/"&&++C,n.sheetStubs&&(n.dense?(_[A]||(_[A]=[]),_[A][C]={t:"z"}):_[Ht({r:A,c:C})]={t:"z"}),w="",M=[];break;case"table-cell":case"":if(x[0].charAt(x[0].length-2)==="/")++C,E=Wt(x[0],!1),G=parseInt(E["number-columns-repeated"]||"1",10),y={t:"z",v:null},E.formula&&n.cellFormula!=!1&&(y.f=pD(mn(E.formula))),(E.||E["value-type"])=="string"&&(y.t="s",y.v=mn(E["string-value"]||""),n.dense?(_[A]||(_[A]=[]),_[A][C]=y):_[Ht({r:A,c:C})]=y),C+=G-1;else if(x[1]!=="/"){++C,w="",b=0,M=[],G=1;var ae=oe?A+oe-1:A;if(C>R.e.c&&(R.e.c=C),C<R.s.c&&(R.s.c=C),A<R.s.r&&(R.s.r=A),ae>R.e.r&&(R.e.r=ae),E=Wt(x[0],!1),z=[],I={},y={t:E.||E["value-type"],v:null},n.cellFormula)if(E.formula&&(E.formula=mn(E.formula)),E["number-matrix-columns-spanned"]&&E["number-matrix-rows-spanned"]&&(U=parseInt(E["number-matrix-rows-spanned"],10)||0,Z=parseInt(E["number-matrix-columns-spanned"],10)||0,D={s:{r:A,c:C},e:{r:A+U-1,c:C+Z-1}},y.F=Kt(D),W.push([D,y.F])),E.formula)y.f=pD(E.formula);else for(fe=0;fe<W.length;++fe)A>=W[fe][0].s.r&&A<=W[fe][0].e.r&&C>=W[fe][0].s.c&&C<=W[fe][0].e.c&&(y.F=W[fe][1]);switch((E["number-columns-spanned"]||E["number-rows-spanned"])&&(U=parseInt(E["number-rows-spanned"],10)||0,Z=parseInt(E["number-columns-spanned"],10)||0,D={s:{r:A,c:C},e:{r:A+U-1,c:C+Z-1}},k.push(D)),E["number-columns-repeated"]&&(G=parseInt(E["number-columns-repeated"],10)),y.t){case"boolean":y.t="b",y.v=Zn(E["boolean-value"]);break;case"float":y.t="n",y.v=parseFloat(E.value);break;case"percentage":y.t="n",y.v=parseFloat(E.value);break;case"currency":y.t="n",y.v=parseFloat(E.value);break;case"date":y.t="d",y.v=er(E["date-value"]),n.cellDates||(y.t="n",y.v=Wr(y.v)),y.z="m/d/yy";break;case"time":y.t="n",y.v=k$(E["time-value"])/86400,n.cellDates&&(y.t="d",y.v=px(y.v)),y.z="HH:MM:SS";break;case"number":y.t="n",y.v=parseFloat(E.);break;default:if(y.t==="string"||y.t==="text"||!y.t)y.t="s",E["string-value"]!=null&&(w=mn(E["string-value"]),M=[]);else throw new Error("Unsupported value type "+y.t)}}else{if(te=!1,y.t==="s"&&(y.v=w||"",M.length&&(y.R=M),te=b==0),Y.Target&&(y.l=Y),z.length>0&&(y.c=z,z=[]),w&&n.cellText!==!1&&(y.w=w),te&&(y.t="z",delete y.v),(!te||n.sheetStubs)&&!(n.sheetRows&&n.sheetRows<=A))for(var Q=0;Q<oe;++Q){if(G=parseInt(E["number-columns-repeated"]||"1",10),n.dense)for(_[A+Q]||(_[A+Q]=[]),_[A+Q][C]=Q==0?y:tr(y);--G>0;)_[A+Q][C+G]=tr(y);else for(_[Ht({r:A+Q,c:C})]=y;--G>0;)_[Ht({r:A+Q,c:C+G})]=tr(y);R.e.c<=C&&(R.e.c=C)}G=parseInt(E["number-columns-repeated"]||"1",10),C+=G-1,G=0,y={},w="",M=[]}Y={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(x[1]==="/"){if((a=i.pop())[0]!==x[3])throw"Bad state: "+a}else x[0].charAt(x[0].length-2)!=="/"&&i.push([x[3],!0]);break;case"annotation":if(x[1]==="/"){if((a=i.pop())[0]!==x[3])throw"Bad state: "+a;I.t=w,M.length&&(I.R=M),I.a=V,z.push(I)}else x[0].charAt(x[0].length-2)!=="/"&&i.push([x[3],!1]);V="",X=0,w="",b=0,M=[];break;case"creator":x[1]==="/"?V=r.slice(X,x.index):X=x.index+x[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(x[1]==="/"){if((a=i.pop())[0]!==x[3])throw"Bad state: "+a}else x[0].charAt(x[0].length-2)!=="/"&&i.push([x[3],!1]);w="",b=0,M=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(x[1]==="/"){if(O[l.name]=u,(a=i.pop())[0]!==x[3])throw"Bad state: "+a}else x[0].charAt(x[0].length-2)!=="/"&&(u="",l=Wt(x[0],!1),i.push([x[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(i[i.length-1][0]){case"time-style":case"date-style":s=Wt(x[0],!1),u+=_D[x[3]][s.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(i[i.length-1][0]){case"time-style":case"date-style":s=Wt(x[0],!1),u+=_D[x[3]][s.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(x[0].slice(-2)==="/>")break;if(x[1]==="/")switch(i[i.length-1][0]){case"number-style":case"date-style":case"time-style":u+=r.slice(f,x.index);break}else f=x.index+x[0].length;break;case"named-range":s=Wt(x[0],!1),pe=pE(s["cell-range-address"]);var de={Name:s.name,Ref:pe[0]+"!"+pe[1]};J&&(de.Sheet=g.length),ee.Names.push(de);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(i[i.length-1][0])>-1)break;if(x[1]==="/"&&(!E||!E["string-value"])){var Ae=ooe(r.slice(b,x.index));w=(w.length>0?w+`
`:"")+Ae[0]}else Wt(x[0],!1),b=x.index+x[0].length;break;case"s":break;case"database-range":if(x[1]==="/")break;try{pe=pE(Wt(x[0])["target-range-address"]),m[pe[0]]["!autofilter"]={ref:pe[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(x[1]!=="/"){if(Y=Wt(x[0],!1),!Y.href)break;Y.Target=mn(Y.href),delete Y.href,Y.Target.charAt(0)=="#"&&Y.Target.indexOf(".")>-1?(pe=pE(Y.Target.slice(1)),Y.Target="#"+pe[0]+"!"+pe[1]):Y.Target.match(/^\.\.[\\\/]/)&&(Y.Target=Y.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(x[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(n.WTF)throw new Error(x)}}var j={Sheets:m,SheetNames:g,Workbook:ee};return n.bookSheets&&delete j.Sheets,j}function yD(t,e){e=e||{},Ja(t,"META-INF/manifest.xml")&&kZ(Pr(t,"META-INF/manifest.xml"),e);var n=Aa(t,"content.xml");if(!n)throw new Error("Missing content.xml in ODS / UOF file");var r=g5(Hn(n),e);return Ja(t,"meta.xml")&&(r.Props=oU(Pr(t,"meta.xml"))),r}function ED(t,e){return g5(t,e)}var loe=(function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+md({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return Tr+e}})(),SD=(function(){var t=function(a){return kn(a).replace(/  +/g,function(s){return'<text:s text:c="'+s.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,n=`          <table:covered-table-cell/>
`,r=function(a,s,l){var u=[];u.push('      <table:table table:name="'+kn(s.SheetNames[l])+`" table:style-name="ta1">
`);var f=0,h=0,p=ca(a["!ref"]||"A1"),m=a["!merges"]||[],g=0,_=Array.isArray(a);if(a["!cols"])for(h=0;h<=p.e.c;++h)u.push("        <table:table-column"+(a["!cols"][h]?' table:style-name="co'+a["!cols"][h].ods+'"':"")+`></table:table-column>
`);var x="",y=a["!rows"]||[];for(f=0;f<p.s.r;++f)x=y[f]?' table:style-name="ro'+y[f].ods+'"':"",u.push("        <table:table-row"+x+`></table:table-row>
`);for(;f<=p.e.r;++f){for(x=y[f]?' table:style-name="ro'+y[f].ods+'"':"",u.push("        <table:table-row"+x+`>
`),h=0;h<p.s.c;++h)u.push(e);for(;h<=p.e.c;++h){var E=!1,w={},b="";for(g=0;g!=m.length;++g)if(!(m[g].s.c>h)&&!(m[g].s.r>f)&&!(m[g].e.c<h)&&!(m[g].e.r<f)){(m[g].s.c!=h||m[g].s.r!=f)&&(E=!0),w["table:number-columns-spanned"]=m[g].e.c-m[g].s.c+1,w["table:number-rows-spanned"]=m[g].e.r-m[g].s.r+1;break}if(E){u.push(n);continue}var M=Ht({r:f,c:h}),A=_?(a[f]||[])[h]:a[M];if(A&&A.f&&(w["table:formula"]=kn(Cre(A.f)),A.F&&A.F.slice(0,M.length)==M)){var C=ca(A.F);w["table:number-matrix-columns-spanned"]=C.e.c-C.s.c+1,w["table:number-matrix-rows-spanned"]=C.e.r-C.s.r+1}if(!A){u.push(e);continue}switch(A.t){case"b":b=A.v?"TRUE":"FALSE",w["office:value-type"]="boolean",w["office:boolean-value"]=A.v?"true":"false";break;case"n":b=A.w||String(A.v||0),w["office:value-type"]="float",w["office:value"]=A.v||0;break;case"s":case"str":b=A.v==null?"":A.v,w["office:value-type"]="string";break;case"d":b=A.w||er(A.v).toISOString(),w["office:value-type"]="date",w["office:date-value"]=er(A.v).toISOString(),w["table:style-name"]="ce1";break;default:u.push(e);continue}var R=t(b);if(A.l&&A.l.Target){var F=A.l.Target;F=F.charAt(0)=="#"?"#"+Rre(F.slice(1)):F,F.charAt(0)!="#"&&!F.match(/^\w+:/)&&(F="../"+F),R=ct("text:a",R,{"xlink:href":F.replace(/&/g,"&amp;")})}u.push("          "+ct("table:table-cell",ct("text:p",R,{}),w)+`
`)}u.push(`        </table:table-row>
`)}return u.push(`      </table:table>
`),u.join("")},i=function(a,s){a.push(` <office:automatic-styles>
`),a.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),a.push(`   <number:month number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:day number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:year/>
`),a.push(`  </number:date-style>
`);var l=0;s.SheetNames.map(function(f){return s.Sheets[f]}).forEach(function(f){if(f&&f["!cols"]){for(var h=0;h<f["!cols"].length;++h)if(f["!cols"][h]){var p=f["!cols"][h];if(p.width==null&&p.wpx==null&&p.wch==null)continue;ic(p),p.ods=l;var m=f["!cols"][h].wpx+"px";a.push('  <style:style style:name="co'+l+`" style:family="table-column">
`),a.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+m+`"/>
`),a.push(`  </style:style>
`),++l}}});var u=0;s.SheetNames.map(function(f){return s.Sheets[f]}).forEach(function(f){if(f&&f["!rows"]){for(var h=0;h<f["!rows"].length;++h)if(f["!rows"][h]){f["!rows"][h].ods=u;var p=f["!rows"][h].hpx+"px";a.push('  <style:style style:name="ro'+u+`" style:family="table-row">
`),a.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+p+`"/>
`),a.push(`  </style:style>
`),++u}}}),a.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),a.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),a.push(`  </style:style>
`),a.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),a.push(` </office:automatic-styles>
`)};return function(s,l){var u=[Tr],f=md({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),h=md({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});l.bookType=="fods"?(u.push("<office:document"+f+h+`>
`),u.push(sU().replace(/office:document-meta/g,"office:meta"))):u.push("<office:document-content"+f+`>
`),i(u,s),u.push(`  <office:body>
`),u.push(`    <office:spreadsheet>
`);for(var p=0;p!=s.SheetNames.length;++p)u.push(r(s.Sheets[s.SheetNames[p]],s,p));return u.push(`    </office:spreadsheet>
`),u.push(`  </office:body>
`),l.bookType=="fods"?u.push("</office:document>"):u.push("</office:document-content>"),u.join("")}})();function x5(t,e){if(e.bookType=="fods")return SD(t,e);var n=V2(),r="",i=[],a=[];return r="mimetype",Zt(n,r,"application/vnd.oasis.opendocument.spreadsheet"),r="content.xml",Zt(n,r,SD(t,e)),i.push([r,"text/xml"]),a.push([r,"ContentFile"]),r="styles.xml",Zt(n,r,loe(t,e)),i.push([r,"text/xml"]),a.push([r,"StylesFile"]),r="meta.xml",Zt(n,r,Tr+sU()),i.push([r,"text/xml"]),a.push([r,"MetadataFile"]),r="manifest.rdf",Zt(n,r,FZ(a)),i.push([r,"application/rdf+xml"]),r="META-INF/manifest.xml",Zt(n,r,LZ(i)),n}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function du(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function cT(t){return typeof TextDecoder<"u"?new TextDecoder().decode(t):Hn(fc(t))}function coe(t){return typeof TextEncoder<"u"?new TextEncoder().encode(t):wa(Ys(t))}function uoe(t,e){e:for(var n=0;n<=t.length-e.length;++n){for(var r=0;r<e.length;++r)if(t[n+r]!=e[r])continue e;return!0}return!1}function sc(t){var e=t.reduce(function(i,a){return i+a.length},0),n=new Uint8Array(e),r=0;return t.forEach(function(i){n.set(i,r),r+=i.length}),n}function bD(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),(t+(t>>4)&252645135)*16843009>>>24}function foe(t,e){for(var n=(t[e+15]&127)<<7|t[e+14]>>1,r=t[e+14]&1,i=e+13;i>=e;--i)r=r*256+t[i];return(t[e+15]&128?-r:r)*Math.pow(10,n-6176)}function hoe(t,e,n){var r=Math.floor(n==0?0:Math.LOG10E*Math.log(Math.abs(n)))+6176-20,i=n/Math.pow(10,r-6176);t[e+15]|=r>>7,t[e+14]|=(r&127)<<1;for(var a=0;i>=1;++a,i/=256)t[e+a]=i&255;t[e+15]|=n>=0?0:128}function bd(t,e){var n=e?e[0]:0,r=t[n]&127;e:if(t[n++]>=128&&(r|=(t[n]&127)<<7,t[n++]<128||(r|=(t[n]&127)<<14,t[n++]<128)||(r|=(t[n]&127)<<21,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,28),++n,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,35),++n,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,42),++n,t[n++]<128)))break e;return e&&(e[0]=n),r}function On(t){var e=new Uint8Array(7);e[0]=t&127;var n=1;e:if(t>127){if(e[n-1]|=128,e[n]=t>>7&127,++n,t<=16383||(e[n-1]|=128,e[n]=t>>14&127,++n,t<=2097151)||(e[n-1]|=128,e[n]=t>>21&127,++n,t<=268435455)||(e[n-1]|=128,e[n]=t/256>>>21&127,++n,t<=34359738367)||(e[n-1]|=128,e[n]=t/65536>>>21&127,++n,t<=4398046511103))break e;e[n-1]|=128,e[n]=t/16777216>>>21&127,++n}return e.slice(0,n)}function gr(t){var e=0,n=t[e]&127;e:if(t[e++]>=128){if(n|=(t[e]&127)<<7,t[e++]<128||(n|=(t[e]&127)<<14,t[e++]<128)||(n|=(t[e]&127)<<21,t[e++]<128))break e;n|=(t[e]&127)<<28}return n}function _n(t){for(var e=[],n=[0];n[0]<t.length;){var r=n[0],i=bd(t,n),a=i&7;i=Math.floor(i/8);var s=0,l;if(i==0)break;switch(a){case 0:{for(var u=n[0];t[n[0]++]>=128;);l=t.slice(u,n[0])}break;case 5:s=4,l=t.slice(n[0],n[0]+s),n[0]+=s;break;case 1:s=8,l=t.slice(n[0],n[0]+s),n[0]+=s;break;case 2:s=bd(t,n),l=t.slice(n[0],n[0]+s),n[0]+=s;break;case 3:case 4:default:throw new Error("PB Type ".concat(a," for Field ").concat(i," at offset ").concat(r))}var f={data:l,type:a};e[i]==null?e[i]=[f]:e[i].push(f)}return e}function gi(t){var e=[];return t.forEach(function(n,r){n.forEach(function(i){i.data&&(e.push(On(r*8+i.type)),i.type==2&&e.push(On(i.data.length)),e.push(i.data))})}),sc(e)}function gw(t,e){return(t==null?void 0:t.map(function(n){return e(n.data)}))||[]}function qa(t){for(var e,n=[],r=[0];r[0]<t.length;){var i=bd(t,r),a=_n(t.slice(r[0],r[0]+i));r[0]+=i;var s={id:gr(a[1][0].data),messages:[]};a[2].forEach(function(l){var u=_n(l.data),f=gr(u[3][0].data);s.messages.push({meta:u,data:t.slice(r[0],r[0]+f)}),r[0]+=f}),(e=a[3])!=null&&e[0]&&(s.merge=gr(a[3][0].data)>>>0>0),n.push(s)}return n}function Lf(t){var e=[];return t.forEach(function(n){var r=[];r[1]=[{data:On(n.id),type:0}],r[2]=[],n.merge!=null&&(r[3]=[{data:On(+!!n.merge),type:0}]);var i=[];n.messages.forEach(function(s){i.push(s.data),s.meta[3]=[{type:0,data:On(s.data.length)}],r[2].push({data:gi(s.meta),type:2})});var a=gi(r);e.push(On(a.length)),e.push(a),i.forEach(function(s){return e.push(s)})}),sc(e)}function doe(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var n=[0],r=bd(e,n),i=[];n[0]<e.length;){var a=e[n[0]]&3;if(a==0){var s=e[n[0]++]>>2;if(s<60)++s;else{var l=s-59;s=e[n[0]],l>1&&(s|=e[n[0]+1]<<8),l>2&&(s|=e[n[0]+2]<<16),l>3&&(s|=e[n[0]+3]<<24),s>>>=0,s++,n[0]+=l}i.push(e.slice(n[0],n[0]+s)),n[0]+=s;continue}else{var u=0,f=0;if(a==1?(f=(e[n[0]]>>2&7)+4,u=(e[n[0]++]&224)<<3,u|=e[n[0]++]):(f=(e[n[0]++]>>2)+1,a==2?(u=e[n[0]]|e[n[0]+1]<<8,n[0]+=2):(u=(e[n[0]]|e[n[0]+1]<<8|e[n[0]+2]<<16|e[n[0]+3]<<24)>>>0,n[0]+=4)),i=[sc(i)],u==0)throw new Error("Invalid offset 0");if(u>i[0].length)throw new Error("Invalid offset beyond length");if(f>=u)for(i.push(i[0].slice(-u)),f-=u;f>=i[i.length-1].length;)i.push(i[i.length-1]),f-=i[i.length-1].length;i.push(i[0].slice(-u,-u+f))}}var h=sc(i);if(h.length!=r)throw new Error("Unexpected length: ".concat(h.length," != ").concat(r));return h}function Ka(t){for(var e=[],n=0;n<t.length;){var r=t[n++],i=t[n]|t[n+1]<<8|t[n+2]<<16;n+=3,e.push(doe(r,t.slice(n,n+i))),n+=i}if(n!==t.length)throw new Error("data is not a valid framed stream!");return sc(e)}function If(t){for(var e=[],n=0;n<t.length;){var r=Math.min(t.length-n,268435455),i=new Uint8Array(4);e.push(i);var a=On(r),s=a.length;e.push(a),r<=60?(s++,e.push(new Uint8Array([r-1<<2]))):r<=256?(s+=2,e.push(new Uint8Array([240,r-1&255]))):r<=65536?(s+=3,e.push(new Uint8Array([244,r-1&255,r-1>>8&255]))):r<=16777216?(s+=4,e.push(new Uint8Array([248,r-1&255,r-1>>8&255,r-1>>16&255]))):r<=4294967296&&(s+=5,e.push(new Uint8Array([252,r-1&255,r-1>>8&255,r-1>>16&255,r-1>>>24&255]))),e.push(t.slice(n,n+r)),s+=r,i[0]=0,i[1]=s&255,i[2]=s>>8&255,i[3]=s>>16&255,n+=r}return sc(e)}function poe(t,e,n,r){var i=du(t),a=i.getUint32(4,!0),s=(r>1?12:8)+bD(a&(r>1?3470:398))*4,l=-1,u=-1,f=NaN,h=new Date(2001,0,1);a&512&&(l=i.getUint32(s,!0),s+=4),s+=bD(a&(r>1?12288:4096))*4,a&16&&(u=i.getUint32(s,!0),s+=4),a&32&&(f=i.getFloat64(s,!0),s+=8),a&64&&(h.setTime(h.getTime()+i.getFloat64(s,!0)*1e3),s+=8);var p;switch(t[2]){case 0:break;case 2:p={t:"n",v:f};break;case 3:p={t:"s",v:e[u]};break;case 5:p={t:"d",v:h};break;case 6:p={t:"b",v:f>0};break;case 7:p={t:"n",v:f/86400};break;case 8:p={t:"e",v:0};break;case 9:if(l>-1)p={t:"s",v:n[l]};else if(u>-1)p={t:"s",v:e[u]};else if(!isNaN(f))p={t:"n",v:f};else throw new Error("Unsupported cell type ".concat(t.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(t.slice(0,4)))}return p}function moe(t,e,n){var r=du(t),i=r.getUint32(8,!0),a=12,s=-1,l=-1,u=NaN,f=NaN,h=new Date(2001,0,1);i&1&&(u=foe(t,a),a+=16),i&2&&(f=r.getFloat64(a,!0),a+=8),i&4&&(h.setTime(h.getTime()+r.getFloat64(a,!0)*1e3),a+=8),i&8&&(l=r.getUint32(a,!0),a+=4),i&16&&(s=r.getUint32(a,!0),a+=4);var p;switch(t[1]){case 0:break;case 2:p={t:"n",v:u};break;case 3:p={t:"s",v:e[l]};break;case 5:p={t:"d",v:h};break;case 6:p={t:"b",v:f>0};break;case 7:p={t:"n",v:f/86400};break;case 8:p={t:"e",v:0};break;case 9:if(s>-1)p={t:"s",v:n[s]};else throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(i&31," : ").concat(t.slice(0,4)));break;case 10:p={t:"n",v:u};break;default:throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(i&31," : ").concat(t.slice(0,4)))}return p}function vE(t,e){var n=new Uint8Array(32),r=du(n),i=12,a=0;switch(n[0]=5,t.t){case"n":n[1]=2,hoe(n,i,t.v),a|=1,i+=16;break;case"b":n[1]=6,r.setFloat64(i,t.v?1:0,!0),a|=2,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));n[1]=3,r.setUint32(i,e.indexOf(t.v),!0),a|=8,i+=4;break;default:throw"unsupported cell type "+t.t}return r.setUint32(8,a,!0),n.slice(0,i)}function gE(t,e){var n=new Uint8Array(32),r=du(n),i=12,a=0;switch(n[0]=3,t.t){case"n":n[2]=2,r.setFloat64(i,t.v,!0),a|=32,i+=8;break;case"b":n[2]=6,r.setFloat64(i,t.v?1:0,!0),a|=32,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));n[2]=3,r.setUint32(i,e.indexOf(t.v),!0),a|=16,i+=4;break;default:throw"unsupported cell type "+t.t}return r.setUint32(4,a,!0),n.slice(0,i)}function voe(t,e,n){switch(t[0]){case 0:case 1:case 2:case 3:return poe(t,e,n,t[0]);case 5:return moe(t,e,n);default:throw new Error("Unsupported payload version ".concat(t[0]))}}function Oi(t){var e=_n(t);return bd(e[1][0].data)}function TD(t,e){var n=_n(e.data),r=gr(n[1][0].data),i=n[3],a=[];return(i||[]).forEach(function(s){var l=_n(s.data),u=gr(l[1][0].data)>>>0;switch(r){case 1:a[u]=cT(l[3][0].data);break;case 8:{var f=t[Oi(l[9][0].data)][0],h=_n(f.data),p=t[Oi(h[1][0].data)][0],m=gr(p.meta[1][0].data);if(m!=2001)throw new Error("2000 unexpected reference to ".concat(m));var g=_n(p.data);a[u]=g[3].map(function(_){return cT(_.data)}).join("")}break}}),a}function goe(t,e){var n,r,i,a,s,l,u,f,h,p,m,g,_,x,y=_n(t),E=gr(y[1][0].data)>>>0,w=gr(y[2][0].data)>>>0,b=((r=(n=y[8])==null?void 0:n[0])==null?void 0:r.data)&&gr(y[8][0].data)>0||!1,M,A;if((a=(i=y[7])==null?void 0:i[0])!=null&&a.data&&e!=0)M=(l=(s=y[7])==null?void 0:s[0])==null?void 0:l.data,A=(f=(u=y[6])==null?void 0:u[0])==null?void 0:f.data;else if((p=(h=y[4])==null?void 0:h[0])!=null&&p.data&&e!=1)M=(g=(m=y[4])==null?void 0:m[0])==null?void 0:g.data,A=(x=(_=y[3])==null?void 0:_[0])==null?void 0:x.data;else throw"NUMBERS Tile missing ".concat(e," cell storage");for(var C=b?4:1,R=du(M),F=[],O=0;O<M.length/2;++O){var k=R.getUint16(O*2,!0);k<65535&&F.push([O,k])}if(F.length!=w)throw"Expected ".concat(w," cells, found ").concat(F.length);var D=[];for(O=0;O<F.length-1;++O)D[F[O][0]]=A.subarray(F[O][1]*C,F[O+1][1]*C);return F.length>=1&&(D[F[F.length-1][0]]=A.subarray(F[F.length-1][1]*C)),{R:E,cells:D}}function xoe(t,e){var n,r=_n(e.data),i=(n=r==null?void 0:r[7])!=null&&n[0]?gr(r[7][0].data)>>>0>0?1:0:-1,a=gw(r[5],function(s){return goe(s,i)});return{nrows:gr(r[4][0].data)>>>0,data:a.reduce(function(s,l){return s[l.R]||(s[l.R]=[]),l.cells.forEach(function(u,f){if(s[l.R][f])throw new Error("Duplicate cell r=".concat(l.R," c=").concat(f));s[l.R][f]=u}),s},[])}}function _oe(t,e,n){var r,i=_n(e.data),a={s:{r:0,c:0},e:{r:0,c:0}};if(a.e.r=(gr(i[6][0].data)>>>0)-1,a.e.r<0)throw new Error("Invalid row varint ".concat(i[6][0].data));if(a.e.c=(gr(i[7][0].data)>>>0)-1,a.e.c<0)throw new Error("Invalid col varint ".concat(i[7][0].data));n["!ref"]=Kt(a);var s=_n(i[4][0].data),l=TD(t,t[Oi(s[4][0].data)][0]),u=(r=s[17])!=null&&r[0]?TD(t,t[Oi(s[17][0].data)][0]):[],f=_n(s[3][0].data),h=0;f[1].forEach(function(p){var m=_n(p.data),g=t[Oi(m[2][0].data)][0],_=gr(g.meta[1][0].data);if(_!=6002)throw new Error("6001 unexpected reference to ".concat(_));var x=xoe(t,g);x.data.forEach(function(y,E){y.forEach(function(w,b){var M=Ht({r:h+E,c:b}),A=voe(w,l,u);A&&(n[M]=A)})}),h+=x.nrows})}function yoe(t,e){var n=_n(e.data),r={"!ref":"A1"},i=t[Oi(n[2][0].data)],a=gr(i[0].meta[1][0].data);if(a!=6001)throw new Error("6000 unexpected reference to ".concat(a));return _oe(t,i[0],r),r}function Eoe(t,e){var n,r=_n(e.data),i={name:(n=r[1])!=null&&n[0]?cT(r[1][0].data):"",sheets:[]},a=gw(r[2],Oi);return a.forEach(function(s){t[s].forEach(function(l){var u=gr(l.meta[1][0].data);u==6e3&&i.sheets.push(yoe(t,l))})}),i}function Soe(t,e){var n=Sw(),r=_n(e.data),i=gw(r[1],Oi);if(i.forEach(function(a){t[a].forEach(function(s){var l=gr(s.meta[1][0].data);if(l==2){var u=Eoe(t,s);u.sheets.forEach(function(f,h){bw(n,f,h==0?u.name:u.name+"_"+h,!0)})}})}),n.SheetNames.length==0)throw new Error("Empty NUMBERS file");return n}function xE(t){var e,n,r,i,a={},s=[];if(t.FullPaths.forEach(function(u){if(u.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),t.FileIndex.forEach(function(u){if(u.name.match(/\.iwa$/)){var f;try{f=Ka(u.content)}catch(p){return console.log("?? "+u.content.length+" "+(p.message||p))}var h;try{h=qa(f)}catch(p){return console.log("## "+(p.message||p))}h.forEach(function(p){a[p.id]=p.messages,s.push(p.id)})}}),!s.length)throw new Error("File has no messages");var l=((i=(r=(n=(e=a==null?void 0:a[1])==null?void 0:e[0])==null?void 0:n.meta)==null?void 0:r[1])==null?void 0:i[0].data)&&gr(a[1][0].meta[1][0].data)==1&&a[1][0];if(l||s.forEach(function(u){a[u].forEach(function(f){var h=gr(f.meta[1][0].data)>>>0;if(h==1)if(!l)l=f;else throw new Error("Document has multiple roots")})}),!l)throw new Error("Cannot find Document root");return Soe(a,l)}function boe(t,e,n){var r,i,a,s;if(!((r=t[6])!=null&&r[0])||!((i=t[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var l=((s=(a=t[8])==null?void 0:a[0])==null?void 0:s.data)&&gr(t[8][0].data)>0||!1;if(l)throw"Math only works with normal offsets";for(var u=0,f=du(t[7][0].data),h=0,p=[],m=du(t[4][0].data),g=0,_=[],x=0;x<e.length;++x){if(e[x]==null){f.setUint16(x*2,65535,!0),m.setUint16(x*2,65535);continue}f.setUint16(x*2,h,!0),m.setUint16(x*2,g,!0);var y,E;switch(typeof e[x]){case"string":y=vE({t:"s",v:e[x]},n),E=gE({t:"s",v:e[x]},n);break;case"number":y=vE({t:"n",v:e[x]},n),E=gE({t:"n",v:e[x]},n);break;case"boolean":y=vE({t:"b",v:e[x]},n),E=gE({t:"b",v:e[x]},n);break;default:throw new Error("Unsupported value "+e[x])}p.push(y),h+=y.length,_.push(E),g+=E.length,++u}for(t[2][0].data=On(u);x<t[7][0].data.length/2;++x)f.setUint16(x*2,65535,!0),m.setUint16(x*2,65535,!0);return t[6][0].data=sc(p),t[3][0].data=sc(_),u}function Toe(t,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var n=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var r=ca(n["!ref"]);r.s.r=r.s.c=0;var i=!1;r.e.c>9&&(i=!0,r.e.c=9),r.e.r>49&&(i=!0,r.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(Kt(r)));var a=dg(n,{range:r,header:1}),s=["~Sh33tJ5~"];a.forEach(function(V){return V.forEach(function(X){typeof X=="string"&&s.push(X)})});var l={},u=[],f=It.read(e.numbers,{type:"base64"});f.FileIndex.map(function(V,X){return[V,f.FullPaths[X]]}).forEach(function(V){var X=V[0],te=V[1];if(X.type==2&&X.name.match(/\.iwa/)){var J=X.content,fe=Ka(J),ae=qa(fe);ae.forEach(function(Q){u.push(Q.id),l[Q.id]={deps:[],location:te,type:gr(Q.messages[0].meta[1][0].data)}})}}),u.sort(function(V,X){return V-X});var h=u.filter(function(V){return V>1}).map(function(V){return[V,On(V)]});f.FileIndex.map(function(V,X){return[V,f.FullPaths[X]]}).forEach(function(V){var X=V[0];if(V[1],!!X.name.match(/\.iwa/)){var te=qa(Ka(X.content));te.forEach(function(J){J.messages.forEach(function(fe){h.forEach(function(ae){J.messages.some(function(Q){return gr(Q.meta[1][0].data)!=11006&&uoe(Q.data,ae[1])})&&l[ae[0]].deps.push(J.id)})})})}});for(var p=It.find(f,l[1].location),m=qa(Ka(p.content)),g,_=0;_<m.length;++_){var x=m[_];x.id==1&&(g=x)}var y=Oi(_n(g.messages[0].data)[1][0].data);for(p=It.find(f,l[y].location),m=qa(Ka(p.content)),_=0;_<m.length;++_)x=m[_],x.id==y&&(g=x);for(y=Oi(_n(g.messages[0].data)[2][0].data),p=It.find(f,l[y].location),m=qa(Ka(p.content)),_=0;_<m.length;++_)x=m[_],x.id==y&&(g=x);for(y=Oi(_n(g.messages[0].data)[2][0].data),p=It.find(f,l[y].location),m=qa(Ka(p.content)),_=0;_<m.length;++_)x=m[_],x.id==y&&(g=x);var E=_n(g.messages[0].data);{E[6][0].data=On(r.e.r+1),E[7][0].data=On(r.e.c+1);var w=Oi(E[46][0].data),b=It.find(f,l[w].location),M=qa(Ka(b.content));{for(var A=0;A<M.length&&M[A].id!=w;++A);if(M[A].id!=w)throw"Bad ColumnRowUIDMapArchive";var C=_n(M[A].messages[0].data);C[1]=[],C[2]=[],C[3]=[];for(var R=0;R<=r.e.c;++R){var F=[];F[1]=F[2]=[{type:0,data:On(R+420690)}],C[1].push({type:2,data:gi(F)}),C[2].push({type:0,data:On(R)}),C[3].push({type:0,data:On(R)})}C[4]=[],C[5]=[],C[6]=[];for(var O=0;O<=r.e.r;++O)F=[],F[1]=F[2]=[{type:0,data:On(O+726270)}],C[4].push({type:2,data:gi(F)}),C[5].push({type:0,data:On(O)}),C[6].push({type:0,data:On(O)});M[A].messages[0].data=gi(C)}b.content=If(Lf(M)),b.size=b.content.length,delete E[46];var k=_n(E[4][0].data);{k[7][0].data=On(r.e.r+1);var D=_n(k[1][0].data),U=Oi(D[2][0].data);b=It.find(f,l[U].location),M=qa(Ka(b.content));{if(M[0].id!=U)throw"Bad HeaderStorageBucket";var Z=_n(M[0].messages[0].data);for(O=0;O<a.length;++O){var se=_n(Z[2][0].data);se[1][0].data=On(O),se[4][0].data=On(a[O].length),Z[2][O]={type:Z[2][0].type,data:gi(se)}}M[0].messages[0].data=gi(Z)}b.content=If(Lf(M)),b.size=b.content.length;var oe=Oi(k[2][0].data);b=It.find(f,l[oe].location),M=qa(Ka(b.content));{if(M[0].id!=oe)throw"Bad HeaderStorageBucket";for(Z=_n(M[0].messages[0].data),R=0;R<=r.e.c;++R)se=_n(Z[2][0].data),se[1][0].data=On(R),se[4][0].data=On(r.e.r+1),Z[2][R]={type:Z[2][0].type,data:gi(se)};M[0].messages[0].data=gi(Z)}b.content=If(Lf(M)),b.size=b.content.length;var G=Oi(k[4][0].data);(function(){for(var V=It.find(f,l[G].location),X=qa(Ka(V.content)),te,J=0;J<X.length;++J){var fe=X[J];fe.id==G&&(te=fe)}var ae=_n(te.messages[0].data);{ae[3]=[];var Q=[];s.forEach(function(j,We){Q[1]=[{type:0,data:On(We)}],Q[2]=[{type:0,data:On(1)}],Q[3]=[{type:2,data:coe(j)}],ae[3].push({type:2,data:gi(Q)})})}te.messages[0].data=gi(ae);var de=Lf(X),Ae=If(de);V.content=Ae,V.size=V.content.length})();var W=_n(k[3][0].data);{var ee=W[1][0];delete W[2];var Y=_n(ee.data);{var pe=Oi(Y[2][0].data);(function(){for(var V=It.find(f,l[pe].location),X=qa(Ka(V.content)),te,J=0;J<X.length;++J){var fe=X[J];fe.id==pe&&(te=fe)}var ae=_n(te.messages[0].data);{delete ae[6],delete W[7];var Q=new Uint8Array(ae[5][0].data);ae[5]=[];for(var de=0,Ae=0;Ae<=r.e.r;++Ae){var j=_n(Q);de+=boe(j,a[Ae],s),j[1][0].data=On(Ae),ae[5].push({data:gi(j),type:2})}ae[1]=[{type:0,data:On(r.e.c+1)}],ae[2]=[{type:0,data:On(r.e.r+1)}],ae[3]=[{type:0,data:On(de)}],ae[4]=[{type:0,data:On(r.e.r+1)}]}te.messages[0].data=gi(ae);var We=Lf(X),Le=If(We);V.content=Le,V.size=V.content.length})()}ee.data=gi(Y)}k[3][0].data=gi(W)}E[4][0].data=gi(k)}g.messages[0].data=gi(E);var z=Lf(m),I=If(z);return p.content=I,p.size=p.content.length,f}function _5(t){return function(n){for(var r=0;r!=t.length;++r){var i=t[r];n[i[0]]===void 0&&(n[i[0]]=i[1]),i[2]==="n"&&(n[i[0]]=Number(n[i[0]]))}}}function xw(t){_5([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(t)}function _w(t){_5([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function woe(t){return nn.WS.indexOf(t)>-1?"sheet":t==nn.CS?"chart":t==nn.DS?"dialog":t==nn.MS?"macro":t&&t.length?t:"sheet"}function Aoe(t,e){if(!t)return 0;try{t=e.map(function(r){return r.id||(r.id=r.strRelID),[r.name,t["!id"][r.id].Target,woe(t["!id"][r.id].Type)]})}catch{return null}return!t||t.length===0?null:t}function Moe(t,e,n,r,i,a,s,l,u,f,h,p){try{a[r]=td(Aa(t,n,!0),e);var m=Pr(t,e),g;switch(l){case"sheet":g=Kae(m,e,i,u,a[r],f,h,p);break;case"chart":if(g=$ae(m,e,i,u,a[r],f,h,p),!g||!g["!drawel"])break;var _=X0(g["!drawel"].Target,e),x=gd(_),y=Ite(Aa(t,_,!0),td(Aa(t,x,!0),_)),E=X0(y,_),w=gd(E);g=bae(Aa(t,E,!0),E,u,td(Aa(t,w,!0),E),f,g);break;case"macro":g=Zae(m,e,i,u,a[r],f,h,p);break;case"dialog":g=Jae(m,e,i,u,a[r],f,h,p);break;default:throw new Error("Unrecognized sheet type "+l)}s[r]=g;var b=[];a&&a[r]&&xr(a[r]).forEach(function(M){var A="";if(a[r][M].Type==nn.CMNT){A=X0(a[r][M].Target,e);var C=nse(Pr(t,A,!0),A,u);if(!C||!C.length)return;cD(g,C,!1)}a[r][M].Type==nn.TCMNT&&(A=X0(a[r][M].Target,e),b=b.concat(Ute(Pr(t,A,!0),u)))}),b&&b.length&&cD(g,b,!0,u.people||[])}catch(M){if(u.WTF)throw M}}function Va(t){return t.charAt(0)=="/"?t.slice(1):t}function Coe(t,e){if(Eh(),e=e||{},xw(e),Ja(t,"META-INF/manifest.xml")||Ja(t,"objectdata.xml"))return yD(t,e);if(Ja(t,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof xE<"u"){if(t.FileIndex)return xE(t);var n=It.utils.cfb_new();return OP(t).forEach(function(se){Zt(n,se,B$(t,se))}),xE(n)}throw new Error("Unsupported NUMBERS file")}if(!Ja(t,"[Content_Types].xml"))throw Ja(t,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Ja(t,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var r=OP(t),i=DZ(Aa(t,"[Content_Types].xml")),a=!1,s,l;if(i.workbooks.length===0&&(l="xl/workbook.xml",Pr(t,l,!0)&&i.workbooks.push(l)),i.workbooks.length===0){if(l="xl/workbook.bin",!Pr(t,l,!0))throw new Error("Could not find workbook");i.workbooks.push(l),a=!0}i.workbooks[0].slice(-3)=="bin"&&(a=!0);var u={},f={};if(!e.bookSheets&&!e.bookProps){if(nd=[],i.sst)try{nd=tse(Pr(t,Va(i.sst)),i.sst,e)}catch(se){if(e.WTF)throw se}e.cellStyles&&i.themes.length&&(u=ese(Aa(t,i.themes[0].replace(/^\//,""),!0)||"",i.themes[0],e)),i.style&&(f=Qae(Pr(t,Va(i.style)),i.style,u,e))}i.links.map(function(se){try{var oe=td(Aa(t,gd(Va(se))),se);return ise(Pr(t,Va(se)),oe,se,e)}catch{}});var h=qae(Pr(t,Va(i.workbooks[0])),i.workbooks[0],e),p={},m="";i.coreprops.length&&(m=Pr(t,Va(i.coreprops[0]),!0),m&&(p=oU(m)),i.extprops.length!==0&&(m=Pr(t,Va(i.extprops[0]),!0),m&&BZ(m,p,e)));var g={};(!e.bookSheets||e.bookProps)&&i.custprops.length!==0&&(m=Aa(t,Va(i.custprops[0]),!0),m&&(g=jZ(m,e)));var _={};if((e.bookSheets||e.bookProps)&&(h.Sheets?s=h.Sheets.map(function(oe){return oe.name}):p.Worksheets&&p.SheetNames.length>0&&(s=p.SheetNames),e.bookProps&&(_.Props=p,_.Custprops=g),e.bookSheets&&typeof s<"u"&&(_.SheetNames=s),e.bookSheets?_.SheetNames:e.bookProps))return _;s={};var x={};e.bookDeps&&i.calcchain&&(x=rse(Pr(t,Va(i.calcchain)),i.calcchain));var y=0,E={},w,b;{var M=h.Sheets;p.Worksheets=M.length,p.SheetNames=[];for(var A=0;A!=M.length;++A)p.SheetNames[A]=M[A].name}var C=a?"bin":"xml",R=i.workbooks[0].lastIndexOf("/"),F=(i.workbooks[0].slice(0,R+1)+"_rels/"+i.workbooks[0].slice(R+1)+".rels").replace(/^\//,"");Ja(t,F)||(F="xl/_rels/workbook."+C+".rels");var O=td(Aa(t,F,!0),F.replace(/_rels.*/,"s5s"));(i.metadata||[]).length>=1&&(e.xlmeta=ase(Pr(t,Va(i.metadata[0])),i.metadata[0],e)),(i.people||[]).length>=1&&(e.people=zte(Pr(t,Va(i.people[0])),e)),O&&(O=Aoe(O,h.Sheets));var k=Pr(t,"xl/worksheets/sheet.xml",!0)?1:0;e:for(y=0;y!=p.Worksheets;++y){var D="sheet";if(O&&O[y]?(w="xl/"+O[y][1].replace(/[\/]?xl\//,""),Ja(t,w)||(w=O[y][1]),Ja(t,w)||(w=F.replace(/_rels\/.*$/,"")+O[y][1]),D=O[y][2]):(w="xl/worksheets/sheet"+(y+1-k)+"."+C,w=w.replace(/sheet0\./,"sheet.")),b=w.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),e&&e.sheets!=null)switch(typeof e.sheets){case"number":if(y!=e.sheets)continue e;break;case"string":if(p.SheetNames[y].toLowerCase()!=e.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(e.sheets)){for(var U=!1,Z=0;Z!=e.sheets.length;++Z)typeof e.sheets[Z]=="number"&&e.sheets[Z]==y&&(U=1),typeof e.sheets[Z]=="string"&&e.sheets[Z].toLowerCase()==p.SheetNames[y].toLowerCase()&&(U=1);if(!U)continue e}}Moe(t,w,b,p.SheetNames[y],y,E,s,D,e,h,u,f)}return _={Directory:i,Workbook:h,Props:p,Custprops:g,Deps:x,Sheets:s,SheetNames:p.SheetNames,Strings:nd,Styles:f,Themes:u,SSF:tr(jt)},e&&e.bookFiles&&(t.files?(_.keys=r,_.files=t.files):(_.keys=[],_.files={},t.FullPaths.forEach(function(se,oe){se=se.replace(/^Root Entry[\/]/,""),_.keys.push(se),_.files[se]=t.FileIndex[oe]}))),e&&e.bookVBA&&(i.vba.length>0?_.vbaraw=Pr(t,Va(i.vba[0]),!0):i.defaults&&i.defaults.bin===qte&&(_.vbaraw=Pr(t,"xl/vbaProject.bin",!0))),_}function Roe(t,e){var n=e||{},r="Workbook",i=It.find(t,r);try{if(r="/!DataSpaces/Version",i=It.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(aee(i.content),r="/!DataSpaces/DataSpaceMap",i=It.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var a=oee(i.content);if(a.length!==1||a[0].comps.length!==1||a[0].comps[0].t!==0||a[0].name!=="StrongEncryptionDataSpace"||a[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",i=It.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var s=lee(i.content);if(s.length!=1||s[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",i=It.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);uee(i.content)}catch{}if(r="/EncryptionInfo",i=It.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var l=fee(i.content);if(r="/EncryptedPackage",i=It.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(l[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(l[1],i.content,n.password||"",n);if(l[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(l[1],i.content,n.password||"",n);throw new Error("File is password-protected")}function Ooe(t,e){return e.bookType=="ods"?x5(t,e):e.bookType=="numbers"?Toe(t,e):e.bookType=="xlsb"?Poe(t,e):Doe(t,e)}function Poe(t,e){Vf=1024,t&&!t.SSF&&(t.SSF=tr(jt)),t&&t.SSF&&(Eh(),fx(t.SSF),e.revssf=dx(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,rd?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var n=e.bookType=="xlsb"?"bin":"xml",r=YU.indexOf(e.bookType)>-1,i=iw();_w(e=e||{});var a=V2(),s="",l=0;if(e.cellXfs=[],dc(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),s="docProps/core.xml",Zt(a,s,lU(t.Props,e)),i.coreprops.push(s),Dn(e.rels,2,s,nn.CORE_PROPS),s="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var u=[],f=0;f<t.SheetNames.length;++f)(t.Workbook.Sheets[f]||{}).Hidden!=2&&u.push(t.SheetNames[f]);t.Props.SheetNames=u}for(t.Props.Worksheets=t.Props.SheetNames.length,Zt(a,s,fU(t.Props)),i.extprops.push(s),Dn(e.rels,3,s,nn.EXT_PROPS),t.Custprops!==t.Props&&xr(t.Custprops||{}).length>0&&(s="docProps/custom.xml",Zt(a,s,hU(t.Custprops)),i.custprops.push(s),Dn(e.rels,4,s,nn.CUST_PROPS)),l=1;l<=t.SheetNames.length;++l){var h={"!id":{}},p=t.Sheets[t.SheetNames[l-1]],m=(p||{})["!type"]||"sheet";switch(m){case"chart":default:s="xl/worksheets/sheet"+l+"."+n,Zt(a,s,ose(l-1,s,e,t,h)),i.sheets.push(s),Dn(e.wbrels,-1,"worksheets/sheet"+l+"."+n,nn.WS[0])}if(p){var g=p["!comments"],_=!1,x="";g&&g.length>0&&(x="xl/comments"+l+"."+n,Zt(a,x,use(g,x)),i.comments.push(x),Dn(h,-1,"../comments"+l+"."+n,nn.CMNT),_=!0),p["!legacy"]&&_&&Zt(a,"xl/drawings/vmlDrawing"+l+".vml",VU(l,p["!comments"])),delete p["!comments"],delete p["!legacy"]}h["!id"].rId1&&Zt(a,gd(s),Zf(h))}return e.Strings!=null&&e.Strings.length>0&&(s="xl/sharedStrings."+n,Zt(a,s,cse(e.Strings,s,e)),i.strs.push(s),Dn(e.wbrels,-1,"sharedStrings."+n,nn.SST)),s="xl/workbook."+n,Zt(a,s,sse(t,s)),i.workbooks.push(s),Dn(e.rels,1,s,nn.WB),s="xl/theme/theme1.xml",Zt(a,s,uw(t.Themes,e)),i.themes.push(s),Dn(e.wbrels,-1,"theme/theme1.xml",nn.THEME),s="xl/styles."+n,Zt(a,s,lse(t,s,e)),i.styles.push(s),Dn(e.wbrels,-1,"styles."+n,nn.STY),t.vbaraw&&r&&(s="xl/vbaProject.bin",Zt(a,s,t.vbaraw),i.vba.push(s),Dn(e.wbrels,-1,"vbaProject.bin",nn.VBA)),s="xl/metadata."+n,Zt(a,s,fse(s)),i.metadata.push(s),Dn(e.wbrels,-1,"metadata."+n,nn.XLMETA),Zt(a,"[Content_Types].xml",aU(i,e)),Zt(a,"_rels/.rels",Zf(e.rels)),Zt(a,"xl/_rels/workbook."+n+".rels",Zf(e.wbrels)),delete e.revssf,delete e.ssf,a}function Doe(t,e){Vf=1024,t&&!t.SSF&&(t.SSF=tr(jt)),t&&t.SSF&&(Eh(),fx(t.SSF),e.revssf=dx(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,rd?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var n="xml",r=YU.indexOf(e.bookType)>-1,i=iw();_w(e=e||{});var a=V2(),s="",l=0;if(e.cellXfs=[],dc(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),s="docProps/core.xml",Zt(a,s,lU(t.Props,e)),i.coreprops.push(s),Dn(e.rels,2,s,nn.CORE_PROPS),s="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var u=[],f=0;f<t.SheetNames.length;++f)(t.Workbook.Sheets[f]||{}).Hidden!=2&&u.push(t.SheetNames[f]);t.Props.SheetNames=u}t.Props.Worksheets=t.Props.SheetNames.length,Zt(a,s,fU(t.Props)),i.extprops.push(s),Dn(e.rels,3,s,nn.EXT_PROPS),t.Custprops!==t.Props&&xr(t.Custprops||{}).length>0&&(s="docProps/custom.xml",Zt(a,s,hU(t.Custprops)),i.custprops.push(s),Dn(e.rels,4,s,nn.CUST_PROPS));var h=["SheetJ5"];for(e.tcid=0,l=1;l<=t.SheetNames.length;++l){var p={"!id":{}},m=t.Sheets[t.SheetNames[l-1]],g=(m||{})["!type"]||"sheet";switch(g){case"chart":default:s="xl/worksheets/sheet"+l+"."+n,Zt(a,s,r5(l-1,e,t,p)),i.sheets.push(s),Dn(e.wbrels,-1,"worksheets/sheet"+l+"."+n,nn.WS[0])}if(m){var _=m["!comments"],x=!1,y="";if(_&&_.length>0){var E=!1;_.forEach(function(w){w[1].forEach(function(b){b.T==!0&&(E=!0)})}),E&&(y="xl/threadedComments/threadedComment"+l+"."+n,Zt(a,y,Bte(_,h,e)),i.threadedcomments.push(y),Dn(p,-1,"../threadedComments/threadedComment"+l+"."+n,nn.TCMNT)),y="xl/comments"+l+"."+n,Zt(a,y,WU(_)),i.comments.push(y),Dn(p,-1,"../comments"+l+"."+n,nn.CMNT),x=!0}m["!legacy"]&&x&&Zt(a,"xl/drawings/vmlDrawing"+l+".vml",VU(l,m["!comments"])),delete m["!comments"],delete m["!legacy"]}p["!id"].rId1&&Zt(a,gd(s),Zf(p))}return e.Strings!=null&&e.Strings.length>0&&(s="xl/sharedStrings."+n,Zt(a,s,DU(e.Strings,e)),i.strs.push(s),Dn(e.wbrels,-1,"sharedStrings."+n,nn.SST)),s="xl/workbook."+n,Zt(a,s,l5(t)),i.workbooks.push(s),Dn(e.rels,1,s,nn.WB),s="xl/theme/theme1.xml",Zt(a,s,uw(t.Themes,e)),i.themes.push(s),Dn(e.wbrels,-1,"theme/theme1.xml",nn.THEME),s="xl/styles."+n,Zt(a,s,zU(t,e)),i.styles.push(s),Dn(e.wbrels,-1,"styles."+n,nn.STY),t.vbaraw&&r&&(s="xl/vbaProject.bin",Zt(a,s,t.vbaraw),i.vba.push(s),Dn(e.wbrels,-1,"vbaProject.bin",nn.VBA)),s="xl/metadata."+n,Zt(a,s,GU()),i.metadata.push(s),Dn(e.wbrels,-1,"metadata."+n,nn.XLMETA),h.length>1&&(s="xl/persons/person.xml",Zt(a,s,jte(h)),i.people.push(s),Dn(e.wbrels,-1,"persons/person.xml",nn.PEOPLE)),Zt(a,"[Content_Types].xml",aU(i,e)),Zt(a,"_rels/.rels",Zf(e.rels)),Zt(a,"xl/_rels/workbook."+n+".rels",Zf(e.wbrels)),delete e.revssf,delete e.ssf,a}function yw(t,e){var n="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":n=Pa(t.slice(0,12));break;case"binary":n=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}function Noe(t,e){return It.find(t,"EncryptedPackage")?Roe(t,e):h5(t,e)}function koe(t,e){var n,r=t,i=e||{};return i.type||(i.type=tn&&Buffer.isBuffer(t)?"buffer":"base64"),n=kF(r,i),Coe(n,i)}function y5(t,e){var n=0;e:for(;n<t.length;)switch(t.charCodeAt(n)){case 10:case 13:case 32:++n;break;case 60:return oT(t.slice(n),e);default:break e}return ch.to_workbook(t,e)}function Loe(t,e){var n="",r=yw(t,e);switch(e.type){case"base64":n=Pa(t);break;case"binary":n=t;break;case"buffer":n=t.toString("binary");break;case"array":n=cu(t);break;default:throw new Error("Unrecognized type "+e.type)}return r[0]==239&&r[1]==187&&r[2]==191&&(n=Hn(n)),e.type="binary",y5(n,e)}function Ioe(t,e){var n=t;return e.type=="base64"&&(n=Pa(n)),n=fd.utils.decode(1200,n.slice(2),"str"),e.type="binary",y5(n,e)}function Foe(t){return t.match(/[^\x00-\x7F]/)?Ys(t):t}function _E(t,e,n,r){return r?(n.type="string",ch.to_workbook(t,n)):ch.to_workbook(e,n)}function uT(t,e){B2();var n=e||{};if(typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer)return uT(new Uint8Array(t),(n=tr(n),n.type="array",n));typeof Uint8Array<"u"&&t instanceof Uint8Array&&!n.type&&(n.type=typeof Deno<"u"?"buffer":"array");var r=t,i=[0,0,0,0],a=!1;if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),Qf={},n.dateNF&&(Qf.dateNF=n.dateNF),n.type||(n.type=tn&&Buffer.isBuffer(t)?"buffer":"base64"),n.type=="file"&&(n.type=tn?"buffer":"binary",r=P$(t),typeof Uint8Array<"u"&&!tn&&(n.type="array")),n.type=="string"&&(a=!0,n.type="binary",n.codepage=65001,r=Foe(t)),n.type=="array"&&typeof Uint8Array<"u"&&t instanceof Uint8Array&&typeof ArrayBuffer<"u"){var s=new ArrayBuffer(3),l=new Uint8Array(s);if(l.foo="bar",!l.foo)return n=tr(n),n.type="array",uT(z2(r),n)}switch((i=yw(r,n))[0]){case 208:if(i[1]===207&&i[2]===17&&i[3]===224&&i[4]===161&&i[5]===177&&i[6]===26&&i[7]===225)return Noe(It.read(r,n),n);break;case 9:if(i[1]<=8)return h5(r,n);break;case 60:return oT(r,n);case 73:if(i[1]===73&&i[2]===42&&i[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(i[1]===68)return HQ(r,n);break;case 84:if(i[1]===65&&i[2]===66&&i[3]===76)return OU.to_workbook(r,n);break;case 80:return i[1]===75&&i[2]<9&&i[3]<9?koe(r,n):_E(t,r,n,a);case 239:return i[3]===60?oT(r,n):_E(t,r,n,a);case 255:if(i[1]===254)return Ioe(r,n);if(i[1]===0&&i[2]===2&&i[3]===0)return Qc.to_workbook(r,n);break;case 0:if(i[1]===0&&(i[2]>=2&&i[3]===0||i[2]===0&&(i[3]===8||i[3]===9)))return Qc.to_workbook(r,n);break;case 3:case 131:case 139:case 140:return sT.to_workbook(r,n);case 123:if(i[1]===92&&i[2]===114&&i[3]===116)return FU.to_workbook(r,n);break;case 10:case 13:case 32:return Loe(r,n);case 137:if(i[1]===80&&i[2]===78&&i[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return jQ.indexOf(i[0])>-1&&i[2]<=12&&i[3]<=31?sT.to_workbook(r,n):_E(t,r,n,a)}function E5(t,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return Hd(e.file,It.write(t,{type:tn?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return It.write(t,e)}function Uoe(t,e){var n=tr(e||{}),r=Ooe(t,n);return Boe(r,n)}function Boe(t,e){var n={},r=tn?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(n.compression="DEFLATE"),e.password)n.type=r;else switch(e.type){case"base64":n.type="base64";break;case"binary":n.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":n.type=r;break;default:throw new Error("Unrecognized type "+e.type)}var i=t.FullPaths?It.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[n.type]||n.type,compression:!!e.compression}):t.generate(n);if(typeof Deno<"u"&&typeof i=="string"){if(e.type=="binary"||e.type=="base64")return i;i=new Uint8Array(ux(i))}return e.password&&typeof encrypt_agile<"u"?E5(encrypt_agile(i,e.password),e):e.type==="file"?Hd(e.file,i):e.type=="string"?Hn(i):i}function zoe(t,e){var n=e||{},r=Fse(t,n);return E5(r,n)}function zs(t,e,n){n||(n="");var r=n+t;switch(e.type){case"base64":return hd(Ys(r));case"binary":return Ys(r);case"string":return t;case"file":return Hd(e.file,r,"utf8");case"buffer":return tn?rl(r,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(r):zs(r,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function joe(t,e){switch(e.type){case"base64":return hd(t);case"binary":return t;case"string":return t;case"file":return Hd(e.file,t,"binary");case"buffer":return tn?rl(t,"binary"):t.split("").map(function(n){return n.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function dv(t,e){switch(e.type){case"string":case"base64":case"binary":for(var n="",r=0;r<t.length;++r)n+=String.fromCharCode(t[r]);return e.type=="base64"?hd(n):e.type=="string"?Hn(n):n;case"file":return Hd(e.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+e.type)}}function S5(t,e){B2(),Nae(t);var n=tr(e||{});if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),n.type=="array"){n.type="binary";var r=S5(t,n);return n.type="array",ux(r)}var i=0;if(n.sheet&&(typeof n.sheet=="number"?i=n.sheet:i=t.SheetNames.indexOf(n.sheet),!t.SheetNames[i]))throw new Error("Sheet not found: "+n.sheet+" : "+typeof n.sheet);switch(n.bookType||"xlsb"){case"xml":case"xlml":return zs(Ose(t,n),n);case"slk":case"sylk":return zs(RU.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"htm":case"html":return zs(p5(t.Sheets[t.SheetNames[i]],n),n);case"txt":return joe(b5(t.Sheets[t.SheetNames[i]],n),n);case"csv":return zs(Ew(t.Sheets[t.SheetNames[i]],n),n,"\uFEFF");case"dif":return zs(OU.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"dbf":return dv(sT.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"prn":return zs(ch.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"rtf":return zs(FU.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"eth":return zs(PU.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"fods":return zs(x5(t,n),n);case"wk1":return dv(Qc.sheet_to_wk1(t.Sheets[t.SheetNames[i]],n),n);case"wk3":return dv(Qc.book_to_wk3(t,n),n);case"biff2":n.biff||(n.biff=2);case"biff3":n.biff||(n.biff=3);case"biff4":return n.biff||(n.biff=4),dv(d5(t,n),n);case"biff5":n.biff||(n.biff=5);case"biff8":case"xla":case"xls":return n.biff||(n.biff=8),zoe(t,n);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return Uoe(t,n);default:throw new Error("Unrecognized bookType |"+n.bookType+"|")}}function Hoe(t){if(!t.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},n=t.file.slice(t.file.lastIndexOf(".")).toLowerCase();n.match(/^\.[a-z]+$/)&&(t.bookType=n.slice(1)),t.bookType=e[t.bookType]||t.bookType}}function Goe(t,e,n){var r={};return r.type="file",r.file=e,Hoe(r),S5(t,r)}function Voe(t,e,n,r,i,a,s,l){var u=br(n),f=l.defval,h=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),p=!0,m=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(m,"__rowNum__",{value:n,enumerable:!1})}catch{m.__rowNum__=n}else m.__rowNum__=n;if(!s||t[n])for(var g=e.s.c;g<=e.e.c;++g){var _=s?t[n][g]:t[r[g]+u];if(_===void 0||_.t===void 0){if(f===void 0)continue;a[g]!=null&&(m[a[g]]=f);continue}var x=_.v;switch(_.t){case"z":if(x==null)break;continue;case"e":x=x==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+_.t)}if(a[g]!=null){if(x==null)if(_.t=="e"&&x===null)m[a[g]]=null;else if(f!==void 0)m[a[g]]=f;else if(h&&x===null)m[a[g]]=null;else continue;else m[a[g]]=h&&(_.t!=="n"||_.t==="n"&&l.rawNumbers!==!1)?x:qo(_,x,l);x!=null&&(p=!1)}}return{row:m,isempty:p}}function dg(t,e){if(t==null||t["!ref"]==null)return[];var n={t:"n",v:0},r=0,i=1,a=[],s=0,l="",u={s:{r:0,c:0},e:{r:0,c:0}},f=e||{},h=f.range!=null?f.range:t["!ref"];switch(f.header===1?r=1:f.header==="A"?r=2:Array.isArray(f.header)?r=3:f.header==null&&(r=0),typeof h){case"string":u=vn(h);break;case"number":u=vn(t["!ref"]),u.s.r=h;break;default:u=h}r>0&&(i=0);var p=br(u.s.r),m=[],g=[],_=0,x=0,y=Array.isArray(t),E=u.s.r,w=0,b={};y&&!t[E]&&(t[E]=[]);var M=f.skipHidden&&t["!cols"]||[],A=f.skipHidden&&t["!rows"]||[];for(w=u.s.c;w<=u.e.c;++w)if(!(M[w]||{}).hidden)switch(m[w]=or(w),n=y?t[E][w]:t[m[w]+p],r){case 1:a[w]=w-u.s.c;break;case 2:a[w]=m[w];break;case 3:a[w]=f.header[w-u.s.c];break;default:if(n==null&&(n={w:"__EMPTY",t:"s"}),l=s=qo(n,null,f),x=b[s]||0,!x)b[s]=1;else{do l=s+"_"+x++;while(b[l]);b[s]=x,b[l]=1}a[w]=l}for(E=u.s.r+i;E<=u.e.r;++E)if(!(A[E]||{}).hidden){var C=Voe(t,u,E,m,r,a,y,f);(C.isempty===!1||(r===1?f.blankrows!==!1:f.blankrows))&&(g[_++]=C.row)}return g.length=_,g}var wD=/"/g;function Woe(t,e,n,r,i,a,s,l){for(var u=!0,f=[],h="",p=br(n),m=e.s.c;m<=e.e.c;++m)if(r[m]){var g=l.dense?(t[n]||[])[m]:t[r[m]+p];if(g==null)h="";else if(g.v!=null){u=!1,h=""+(l.rawNumbers&&g.t=="n"?g.v:qo(g,null,l));for(var _=0,x=0;_!==h.length;++_)if((x=h.charCodeAt(_))===i||x===a||x===34||l.forceQuotes){h='"'+h.replace(wD,'""')+'"';break}h=="ID"&&(h='"ID"')}else g.f!=null&&!g.F?(u=!1,h="="+g.f,h.indexOf(",")>=0&&(h='"'+h.replace(wD,'""')+'"')):h="";f.push(h)}return l.blankrows===!1&&u?null:f.join(s)}function Ew(t,e){var n=[],r=e??{};if(t==null||t["!ref"]==null)return"";var i=vn(t["!ref"]),a=r.FS!==void 0?r.FS:",",s=a.charCodeAt(0),l=r.RS!==void 0?r.RS:`
`,u=l.charCodeAt(0),f=new RegExp((a=="|"?"\\|":a)+"+$"),h="",p=[];r.dense=Array.isArray(t);for(var m=r.skipHidden&&t["!cols"]||[],g=r.skipHidden&&t["!rows"]||[],_=i.s.c;_<=i.e.c;++_)(m[_]||{}).hidden||(p[_]=or(_));for(var x=0,y=i.s.r;y<=i.e.r;++y)(g[y]||{}).hidden||(h=Woe(t,i,y,p,s,u,a,r),h!=null&&(r.strip&&(h=h.replace(f,"")),(h||r.blankrows!==!1)&&n.push((x++?l:"")+h)));return delete r.dense,n.join("")}function b5(t,e){e||(e={}),e.FS="	",e.RS=`
`;var n=Ew(t,e);return n}function Yoe(t){var e="",n,r="";if(t==null||t["!ref"]==null)return[];var i=vn(t["!ref"]),a="",s=[],l,u=[],f=Array.isArray(t);for(l=i.s.c;l<=i.e.c;++l)s[l]=or(l);for(var h=i.s.r;h<=i.e.r;++h)for(a=br(h),l=i.s.c;l<=i.e.c;++l)if(e=s[l]+a,n=f?(t[h]||[])[l]:t[e],r="",n!==void 0){if(n.F!=null){if(e=n.F,!n.f)continue;r=n.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(n.f!=null)r=n.f;else{if(n.t=="z")continue;if(n.t=="n"&&n.v!=null)r=""+n.v;else if(n.t=="b")r=n.v?"TRUE":"FALSE";else if(n.w!==void 0)r="'"+n.w;else{if(n.v===void 0)continue;n.t=="s"?r="'"+n.v:r=""+n.v}}u[u.length]=e+"="+r}return u}function T5(t,e,n){var r=n||{},i=+!r.skipHeader,a=t||{},s=0,l=0;if(a&&r.origin!=null)if(typeof r.origin=="number")s=r.origin;else{var u=typeof r.origin=="string"?lr(r.origin):r.origin;s=u.r,l=u.c}var f,h={s:{c:0,r:0},e:{c:l,r:s+e.length-1+i}};if(a["!ref"]){var p=vn(a["!ref"]);h.e.c=Math.max(h.e.c,p.e.c),h.e.r=Math.max(h.e.r,p.e.r),s==-1&&(s=p.e.r+1,h.e.r=s+e.length-1+i)}else s==-1&&(s=0,h.e.r=e.length-1+i);var m=r.header||[],g=0;e.forEach(function(x,y){xr(x).forEach(function(E){(g=m.indexOf(E))==-1&&(m[g=m.length]=E);var w=x[E],b="z",M="",A=Ht({c:l+g,r:s+y+i});f=Td(a,A),w&&typeof w=="object"&&!(w instanceof Date)?a[A]=w:(typeof w=="number"?b="n":typeof w=="boolean"?b="b":typeof w=="string"?b="s":w instanceof Date?(b="d",r.cellDates||(b="n",w=Wr(w)),M=r.dateNF||jt[14]):w===null&&r.nullError&&(b="e",w=0),f?(f.t=b,f.v=w,delete f.w,delete f.R,M&&(f.z=M)):a[A]=f={t:b,v:w},M&&(f.z=M))})}),h.e.c=Math.max(h.e.c,l+m.length-1);var _=br(s);if(i)for(g=0;g<m.length;++g)a[or(g+l)+_]={t:"s",v:m[g]};return a["!ref"]=Kt(h),a}function Xoe(t,e){return T5(null,t,e)}function Td(t,e,n){if(typeof e=="string"){if(Array.isArray(t)){var r=lr(e);return t[r.r]||(t[r.r]=[]),t[r.r][r.c]||(t[r.r][r.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?Td(t,Ht(e)):Td(t,Ht({r:e,c:n||0}))}function qoe(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var n=t.SheetNames.indexOf(e);if(n>-1)return n;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function Sw(){return{SheetNames:[],Sheets:{}}}function bw(t,e,n,r){var i=1;if(!n)for(;i<=65535&&t.SheetNames.indexOf(n="Sheet"+i)!=-1;++i,n=void 0);if(!n||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&t.SheetNames.indexOf(n)>=0){var a=n.match(/(^.*?)(\d+)$/);i=a&&+a[2]||0;var s=a&&a[1]||n;for(++i;i<=65535&&t.SheetNames.indexOf(n=s+i)!=-1;++i);}if(o5(n),t.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return t.SheetNames.push(n),t.Sheets[n]=e,n}function Koe(t,e,n){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var r=qoe(t,e);switch(t.Workbook.Sheets[r]||(t.Workbook.Sheets[r]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}t.Workbook.Sheets[r].Hidden=n}function $oe(t,e){return t.z=e,t}function w5(t,e,n){return e?(t.l={Target:e},n&&(t.l.Tooltip=n)):delete t.l,t}function Zoe(t,e,n){return w5(t,"#"+e,n)}function Joe(t,e,n){t.c||(t.c=[]),t.c.push({t:e,a:n||"SheetJS"})}function Qoe(t,e,n,r){for(var i=typeof e!="string"?e:vn(e),a=typeof e=="string"?e:Kt(e),s=i.s.r;s<=i.e.r;++s)for(var l=i.s.c;l<=i.e.c;++l){var u=Td(t,s,l);u.t="n",u.F=a,delete u.v,s==i.s.r&&l==i.s.c&&(u.f=n,r&&(u.D=!0))}return t}var pv={encode_col:or,encode_row:br,encode_cell:Ht,encode_range:Kt,decode_col:J2,decode_row:Z2,split_cell:cZ,decode_cell:lr,decode_range:ca,format_cell:qo,sheet_add_aoa:JF,sheet_add_json:T5,sheet_add_dom:m5,aoa_to_sheet:Sh,json_to_sheet:Xoe,table_to_sheet:v5,table_to_book:aoe,sheet_to_csv:Ew,sheet_to_txt:b5,sheet_to_json:dg,sheet_to_html:p5,sheet_to_formulae:Yoe,sheet_to_row_object_array:dg,sheet_get_cell:Td,book_new:Sw,book_append_sheet:bw,book_set_sheet_visibility:Koe,cell_set_number_format:$oe,cell_set_hyperlink:w5,cell_set_internal_link:Zoe,cell_add_comment:Joe,sheet_set_array_formula:Qoe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const AD={id:["NO","ID","No.","Serial"],system:["CABLE_SYSTEM","SYSTEM","System","Sys"],page:["WD_PAGE","WD_PAG","PAGE","Page"],name:["CABLE_NAME","NAME","Cable Name","Circuit Name","Circuit"],type:["COMP_NAME","CABLE_TYPE","TYPE","Type","Cable Type"],fromDeck:["FROM_ROOM","FROM_DECK","F_Deck","DECK_F"],fromRoom:["FROM_ROOM","F_Room","ROOM_F"],fromNode:["FROM_NODE","From Node","FROM","F_Node","NODE_F"],fromEquip:["FROM_EQUIP","From Equipment","F_Equip","EQUIP_F"],fromRest:["FROM_REST","FROM_RES","F_Res","REST_F"],toDeck:["TO_ROOM","TO_DECK","T_Deck","DECK_T"],toRoom:["TO_ROOM","T_Room","ROOM_T"],toNode:["TO_NODE","To Node","TO","T_Node","NODE_T"],toEquip:["TO_EQUIP","To Equipment","T_Equip","EQUIP_T"],toRest:["TO_REST","TO_RES","T_Res","REST_T"],length:["POR_LENGTH","LENGTH","Length","Total Length"],path:["CABLE_PATH","CABLE_ROUTE","PATH","Path"],od:["CABLE_OUTDIA","OUT_DIA","Diameter","OD","DIA"],checkNode:["CHECK_NODE","Check Node","Check"],supplyDeck:["SUPPLY_DECK","SUPPLY_DK","Supply"],weight:["POR_WEIGHT","WEIGHT","Weight"],drum:["DRUM","DRUM_","Drum","DRUM_NO"],remark:["REMARK","Remark","Comments"]},MD={name:["NODE_RNAME","NODE_NAME","NAME","Node"],structure:["STRUCTURE_NAME","STRUCTURE","Structure"],component:["COMPONENT","Component","COMP"],type:["NODE_TYPE","TYPE","Type"],cableList:["CABLE_LIST","CableList","CABLES"],relation:["RELATION","Relation","Link","Adj"],linkLength:["LINK_LENGTH","Link Length","LENGTH"],areaSize:["AREA_SIZE","AreaSize","AREA"],maxCable:["MAX_CABLE","MaxCable","MAX"],point:["POINT","Point","COORDINATE","COORD"],x:["X","x","POS_X"],y:["Y","y","POS_Y"],z:["Z","z","POS_Z"],deck:["DECK","Deck"]},ele=t=>{if(!t)return{x:0,y:0,z:0};const n=String(t).trim().match(/^(-?\d+\.?\d*),\s*(-?\d+\.?\d*),\s*(-?\d+\.?\d*)/);return n?{x:parseFloat(n[1]),y:parseFloat(n[2]),z:parseFloat(n[3])}:{x:0,y:0,z:0}},CD=(t,e)=>{const n=t.map(r=>String(r||"").toLowerCase().trim().replace(/_/g,""));for(const r of e){const i=r.toLowerCase().replace(/_/g,""),a=n.indexOf(i);if(a!==-1)return a}return-1},js={exportToExcel:(t,e,n="Sheet1")=>{const r=pv.book_new(),i=pv.json_to_sheet(t);pv.book_append_sheet(r,i,n),Goe(r,`${e}.xlsx`)},importFromExcel:t=>new Promise((e,n)=>{const r=new FileReader;r.onload=i=>{var a;try{const s=new Uint8Array((a=i.target)==null?void 0:a.result),l=uT(s,{type:"array"}),u=l.SheetNames[0],f=l.Sheets[u],h=pv.sheet_to_json(f,{header:1,defval:""});e(h)}catch(s){n(s)}},r.onerror=i=>n(i),r.readAsArrayBuffer(t)}),detectFileType:t=>{const e=t.map(r=>String(r).toUpperCase().replace(/_/g,"")),n=r=>e.some(i=>i.includes(r.toUpperCase()));return n("CABLENAME")||n("FROMNODE")&&n("TONODE")?"CABLE":(n("NODENAME")||n("NODERNAME")||n("NODE"))&&n("RELATION")?"NODE":n("TYPECODE")?"TYPE":"UNKNOWN"},mapRawToCable:t=>{if(t.length<2)return[];const e=t[0],n={};for(const i in AD)n[i]=CD(e,AD[i]);const r=[];for(let i=1;i<t.length;i++){const a=t[i];if(!a||a.length===0)continue;const s=m=>n[m]!==-1?a[n[m]]:void 0,l=m=>{const g=s(m);return g!=null?String(g).trim():""},u=m=>{const g=s(m),_=parseFloat(String(g).replace(/[^0-9.-]/g,""));return isNaN(_)?0:_},f=l("name");if(!f)continue;const p={id:l("id")||String(i),name:f,type:l("type"),system:l("system")||"POWER",page:l("page"),fromDeck:l("fromDeck"),fromRoom:l("fromRoom")||l("fromDeck"),fromNode:l("fromNode"),fromEquip:l("fromEquip"),fromRest:l("fromRest"),toDeck:l("toDeck"),toRoom:l("toRoom")||l("toDeck"),toNode:l("toNode"),toEquip:l("toEquip"),toRest:l("toRest"),length:u("length"),path:l("path"),od:u("od"),weight:u("weight"),checkNode:l("checkNode"),supplyDeck:l("supplyDeck"),drum:l("drum"),remark:l("remark"),...Object.fromEntries(e.map((m,g)=>[m,a[g]]))};r.push(p)}return r},mapRawToNode:t=>{if(t.length<2)return[];const e=t[0],n={};for(const r in MD)n[r]=CD(e,MD[r]);return console.log(" Node columns found:",Object.entries(n).filter(([r,i])=>i!==-1).map(([r])=>r)),t.slice(1).map(r=>{const i=g=>n[g]!==-1?r[n[g]]:void 0,a=g=>{const _=i(g);return _?String(_).trim():""},s=g=>{const _=parseFloat(String(i(g)));return isNaN(_)?0:_},l=a("name");if(!l)return null;const u=a("point"),f=ele(u);let h=s("x"),p=s("y"),m=s("z");return h===0&&p===0&&m===0&&(f.x!==0||f.y!==0||f.z!==0)&&(h=f.x,p=f.y,m=f.z,console.log(` Node ${l}: Using POINT coordinates (${h}, ${p}, ${m})`)),{name:l,relation:a("relation"),linkLength:s("linkLength")||1,x:h,y:p,z:m,deck:a("deck"),structure:a("structure"),component:a("component"),type:a("type"),cableList:a("cableList"),areaSize:s("areaSize"),maxCable:s("maxCable"),point:u,...Object.fromEntries(e.map((g,_)=>[g,r[_]]))}}).filter(r=>r!==null)}},Ff=[{key:"CONT",label:"Con.",match:["CONT","CONTROL","C"]},{key:"FIRE",label:"Fir.",match:["FIRE","FD","F"]},{key:"LIGHT",label:"Lig.",match:["LIGHT","LT","L"]},{key:"NAV",label:"Nav.",match:["NAV","COMM","N","CAT"]},{key:"POWER",label:"Pow.",match:["POWER","HV","LV","P"]},{key:"AUTO",label:"Aut.",match:["AUTO","A","AMS"]},{key:"DEFAULT",label:"D",match:[]}],tle=({cables:t})=>{const[e,n]=P.useState(""),r=P.useMemo(()=>{const a={};return t.forEach(s=>{const l=s.type||"UNKNOWN";a[l]||(a[l]={type:l,totalLen:0,totalWt:0,systems:{}},Ff.forEach(m=>{a[l].systems[m.key]={len:0,wt:0}}));const u=s.calculatedLength||s.length||0,f=s.weight||0;a[l].totalLen+=u,a[l].totalWt+=f;const h=(s.system||"").toUpperCase();let p="DEFAULT";for(const m of Ff)if(m.key!=="DEFAULT"&&m.match.some(g=>h.includes(g))){p=m.key;break}a[l].systems[p].len+=u,a[l].systems[p].wt+=f}),Object.values(a).filter(s=>s.type.toLowerCase().includes(e.toLowerCase())).sort((s,l)=>s.type.localeCompare(l.type))},[t,e]),i=()=>{const a=r.map(s=>{const l={"Cable Type":s.type};return Ff.forEach(u=>{l[`${u.key}_Len`]=s.systems[u.key].len,l[`${u.key}_Wt`]=s.systems[u.key].wt}),l.Total_Len=s.totalLen,l.Total_Wt=s.totalWt,l});js.exportToExcel(a,"CableRequirement_BOM")};return L.jsxs("div",{className:"flex flex-col h-full bg-[#0f172a]",children:[L.jsxs("div",{className:"bg-[#1e293b] border-b border-[#334155] p-2 flex justify-between items-center",children:[L.jsx("div",{className:"flex items-center gap-4",children:L.jsxs("div",{className:"flex items-center gap-2 bg-[#0f172a] border border-[#334155] rounded px-2 py-1",children:[L.jsx("span",{className:"text-[10px] text-gray-400 font-bold",children:"CABLE TYPE"}),L.jsx("input",{className:"bg-transparent outline-none text-xs text-white w-32",value:e,onChange:a=>n(a.target.value)}),L.jsx("button",{className:"bg-[#334155] px-2 py-0.5 text-[10px] text-white border border-gray-600 rounded",children:"SEARCH"})]})}),L.jsxs("button",{onClick:i,className:"bg-green-800 hover:bg-green-700 text-white px-3 py-1 rounded text-xs font-bold border border-green-600 flex items-center gap-1",children:[L.jsx(ix,{size:14})," EXPORT EXCEL"]})]}),L.jsx("div",{className:"flex-1 overflow-auto bg-[#0f172a] custom-scrollbar",children:L.jsxs("table",{className:"w-full text-left border-collapse min-w-max",children:[L.jsxs("thead",{className:"bg-white text-[#0f172a] sticky top-0 z-10 shadow-md",children:[L.jsxs("tr",{children:[L.jsx("th",{rowSpan:2,className:"p-2 text-[10px] font-bold border-r border-gray-300 uppercase w-12 text-center bg-gray-100",children:"No"}),L.jsx("th",{rowSpan:2,className:"p-2 text-[10px] font-bold border-r border-gray-300 uppercase w-32 bg-gray-100 sticky left-0 z-20 shadow-md",children:"Cable Type"}),Ff.map(a=>L.jsx("th",{colSpan:2,className:"p-1 text-[10px] font-bold border-r border-gray-300 border-b uppercase text-center w-32 bg-gray-50",children:a.label},a.key)),L.jsx("th",{colSpan:2,className:"p-1 text-[10px] font-bold border-b border-gray-300 uppercase text-center w-32 bg-yellow-100",children:"Total"})]}),L.jsxs("tr",{children:[Ff.map(a=>L.jsxs(nh.Fragment,{children:[L.jsx("th",{className:"p-1 text-[9px] font-bold border-r border-gray-300 text-center w-16 bg-gray-50",children:"Length"}),L.jsx("th",{className:"p-1 text-[9px] font-bold border-r border-gray-300 text-center w-16 bg-gray-50",children:"Weight"})]},`${a.key}-sub`)),L.jsx("th",{className:"p-1 text-[9px] font-bold border-r border-gray-300 text-center w-16 bg-yellow-50",children:"Length"}),L.jsx("th",{className:"p-1 text-[9px] font-bold text-center w-16 bg-yellow-50",children:"Weight"})]})]}),L.jsx("tbody",{className:"divide-y divide-[#334155]",children:r.map((a,s)=>L.jsxs("tr",{className:"hover:bg-blue-50 transition-colors text-xs text-gray-800 bg-white border-b border-gray-200",children:[L.jsx("td",{className:"p-1 border-r border-gray-200 text-center bg-gray-50",children:s+1}),L.jsx("td",{className:"p-1 border-r border-gray-200 font-bold text-blue-800 sticky left-0 bg-white z-10 shadow-sm",children:a.type}),Ff.map(l=>L.jsxs(nh.Fragment,{children:[L.jsx("td",{className:"p-1 border-r border-gray-200 text-right",children:a.systems[l.key].len>0?a.systems[l.key].len.toLocaleString():""}),L.jsx("td",{className:"p-1 border-r border-gray-200 text-right text-gray-500",children:a.systems[l.key].wt>0?a.systems[l.key].wt.toLocaleString():""})]},`${l.key}-val`)),L.jsx("td",{className:"p-1 border-r border-gray-200 text-right font-bold text-black bg-yellow-50",children:a.totalLen.toLocaleString()}),L.jsx("td",{className:"p-1 text-right font-bold text-gray-600 bg-yellow-50",children:a.totalWt.toLocaleString()})]},a.type))})]})})]})},nle=({systemResult:t,fillRatioLimit:e})=>{const n=w=>{let b=0;for(let A=0;A<w.length;A++)b=w.charCodeAt(A)+((b<<5)-b);return`hsl(${Math.abs(b)%360}, 65%, 60%)`},r=P.useMemo(()=>{let w=1;return t.tiers.map(b=>({...b,cables:b.cables.map(M=>({...M,displayIndex:w++}))}))},[t]),i=P.useMemo(()=>r.reduce((w,b)=>w+b.cables.reduce((M,A)=>M+A.od,0),0),[r]),a=P.useMemo(()=>r.reduce((w,b)=>w+b.cables.length,0),[r]),s=t.systemWidth,l=t.maxHeightPerTier,u=t.tiers.length,f=10,h=40,p=30,m=s+60,g=l+f+50,_=u>1,x=_?m+h*2:m*u+p*(u-1)+h*2,y=_?g*u+p*(u-1)+h*2:g+h*2,E=w=>_?{x:h,y:h+w*(g+p)}:{x:h+w*(m+p),y:h};return L.jsxs("div",{className:"h-full w-full bg-slate-100 flex flex-col overflow-hidden",children:[L.jsxs("div",{className:"bg-slate-800 text-white px-3 py-2 flex flex-wrap items-center justify-between gap-2 shrink-0",children:[L.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[L.jsxs("span",{className:"text-sm sm:text-base font-black",children:["W",s]}),L.jsxs("span",{className:"text-xs text-slate-400",children:["H",l]}),L.jsxs("span",{className:"text-xs text-slate-400 hidden sm:inline",children:[" ",u,""]})]}),L.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[L.jsxs("span",{className:"text-[10px] sm:text-xs text-slate-400",children:[a," | ",i.toFixed(0)]}),L.jsxs("div",{className:`px-2 py-0.5 rounded text-[10px] font-bold flex items-center gap-1 ${t.success?"bg-green-600":"bg-red-600"}`,children:[t.success?L.jsx(rH,{size:10}):L.jsx(Yv,{size:10}),t.success?"OK":"!"]})]})]}),L.jsx("div",{className:"flex-1 overflow-hidden p-2 sm:p-4 flex items-center justify-center",children:L.jsx("svg",{className:"w-full h-full bg-white rounded shadow border border-slate-200",viewBox:`0 0 ${x} ${y}`,preserveAspectRatio:"xMidYMid meet",children:r.map((w,b)=>{const M=E(b),A=M.y+l;return L.jsxs("g",{children:[L.jsxs("text",{x:M.x+s/2,y:M.y-8,textAnchor:"middle",fontSize:"12",fontWeight:"900",fill:"#334155",children:["T",b+1," (",w.cables.length,", ",w.fillRatio.toFixed(0),"%)"]}),L.jsx("rect",{x:M.x,y:A,width:s,height:f,fill:"#475569",stroke:"#1e293b",strokeWidth:"1"}),L.jsx("rect",{x:M.x-5,y:M.y-5,width:5,height:l+f+10,fill:"#64748b"}),L.jsx("rect",{x:M.x+s,y:M.y-5,width:5,height:l+f+10,fill:"#64748b"}),L.jsx("line",{x1:M.x,y1:M.y,x2:M.x+s,y2:M.y,stroke:"#ef4444",strokeWidth:"1",strokeDasharray:"3,2"}),w.cables.map(C=>{const R=C.od/2,F=M.x+C.x,O=A-C.y;return L.jsxs("g",{children:[L.jsx("circle",{cx:F,cy:O,r:R,fill:n(C.type),stroke:"#1e293b",strokeWidth:"0.5"}),L.jsx("text",{x:F,y:O,fontSize:Math.max(Math.min(C.od*.35,8),4),textAnchor:"middle",dominantBaseline:"middle",fill:"#000",fontWeight:"900",children:C.displayIndex})]},C.id)}),L.jsxs("text",{x:M.x+s/2,y:A+f+18,textAnchor:"middle",fontSize:"10",fontWeight:"bold",fill:"#000",children:[s,"mm"]})]},`tier-${b}`)})})}),L.jsx("div",{className:"bg-white border-t border-slate-300 shrink-0 max-h-24 sm:max-h-28 overflow-y-auto",children:L.jsx("div",{className:"flex flex-wrap gap-1 p-1.5 sm:p-2",children:r.flatMap(w=>w.cables.map(b=>L.jsxs("div",{className:"flex items-center gap-1 px-1.5 py-0.5 rounded text-[8px] sm:text-[10px] border border-slate-200",style:{backgroundColor:n(b.type)+"30"},children:[L.jsx("span",{className:"w-3 h-3 sm:w-4 sm:h-4 bg-slate-800 text-white rounded text-[7px] sm:text-[8px] flex items-center justify-center font-bold",children:b.displayIndex}),L.jsx("span",{className:"font-medium text-slate-700 max-w-[60px] sm:max-w-none truncate",children:b.name}),L.jsxs("span",{className:"text-slate-500",children:["",b.od]})]},b.id)))})})]})};var cn=(t=>(t.SCHEDULE="Schedule",t.DASHBOARD="Dashboard",t.MASTER_DATA="Master Data",t.CABLE_TYPE="Cable Type",t.USER_MGMT="User Management",t.SHIP_DEF="Ship Definition",t.REPORT_DRUM="Drum Schedule",t.REPORT_NODE="Node List",t.REPORT_BOM="Cable Requirement",t.TRAY_ANALYSIS="Tray Analysis",t.THREE_D="3D Visualization",t.GENERIC_GRID="Generic Grid",t))(cn||{});const mv=5,pg=20,Tw=(t,e)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)),rle=(t,e,n,r)=>{for(const a of t){const s=Tw({x:e,y:n},{x:a.x,y:a.y}),l=a.od/2+r-.05;if(s<l)return!0}return!1},ile=(t,e,n,r)=>{if(n<=r+.5)return!0;for(const i of t){const a=Tw({x:e,y:n},{x:i.x,y:i.y}),s=r+i.od/2;if(Math.abs(a-s)<1&&n>i.y)return!0}return!1},ale=(t,e,n,r)=>!ile(t,e,n,r),RD=(t,e,n)=>{const r=t.od/2+n,i=e.od/2+n,a=Tw({x:t.x,y:t.y},{x:e.x,y:e.y});if(a>r+i||a<Math.abs(r-i)||a===0)return[];const s=(r*r-i*i+a*a)/(2*a),l=Math.sqrt(Math.max(0,r*r-s*s)),u=t.x+s*(e.x-t.x)/a,f=t.y+s*(e.y-t.y)/a;return[{x:u+l*(e.y-t.y)/a,y:f-l*(e.x-t.x)/a},{x:u-l*(e.y-t.y)/a,y:f+l*(e.x-t.x)/a}]},yE=(t,e,n,r)=>{if(t<=e+.5)return 1;const i=n.filter(a=>Math.abs(a.x-r)<a.od/2+e&&a.y<t);return i.length===0?1:Math.max(...i.map(a=>a.layer))+1},OD=(t,e,n,r,i,a,s)=>{const l=t.od/2,u=[];let f=n-l;const h=e.filter(m=>m.y<=m.od/2+.5).sort((m,g)=>g.x-m.x);if(h.length>0?f=h[0].x+h[0].od/2:f=n,u.push({p:{x:f+l,y:l},layer:1,score:1}),a>1&&t.od<pg)for(let m=0;m<e.length;m++){const g=e[m].y+e[m].od/2+l;if(g+l<=i){const x=yE(g,l,e,e[m].x);x<=a&&u.push({p:{x:e[m].x,y:g},layer:x,score:x*10})}RD(e[m],{...e[m],y:-e[m].od/2,od:e[m].od,x:e[m].x},l).forEach(x=>{const y=yE(x.y,l,e,x.x);u.push({p:x,layer:y,score:y*10})});for(let x=m+1;x<e.length;x++)RD(e[m],e[x],l).forEach(E=>{const w=yE(E.y,l,e,E.x);u.push({p:E,layer:w,score:w*10})})}const p=u.filter(m=>!(isNaN(m.p.x)||isNaN(m.p.y)||m.p.x-l<n-.1||m.p.x+l>r+.1||m.p.y<l-.1||m.p.y+l>i+.1||m.layer>a||t.od>=pg&&m.layer>1||rle(e,m.p.x,m.p.y,l)||m.layer>1&&ale(e,m.p.x,m.p.y,l)));return p.length===0?null:(p.sort((m,g)=>Math.abs(m.p.x-g.p.x)>5?m.p.x-g.p.x:m.p.y-g.p.y),{point:p[0].p,layer:p[0].layer})},sle=(t,e,n,r)=>{const i=[...t].sort((p,m)=>m.od-p.od),a=t.reduce((p,m)=>p+Math.PI*Math.pow(m.od/2,2),0);let s=[],l=!0;const u=i.filter(p=>p.od>=pg),f=i.filter(p=>p.od<pg);for(const p of u){const m=OD(p,s,mv,e-mv,n,1);if(m)s.push({...p,x:m.point.x,y:m.point.y,layer:m.layer});else{l=!1;break}}if(l)for(const p of f){const m=OD(p,s,mv,e-mv,n,r);if(m)s.push({...p,x:m.point.x,y:m.point.y,layer:m.layer});else{l=!1;break}}const h=a/(e*n)*100;return{placed:s,success:l,fillRatio:h,totalArea:a}},ole=(t,e,n,r,i)=>{const a=Array.from({length:e},()=>[]);[...t].sort((u,f)=>f.od-u.od).forEach((u,f)=>{a[f%e].push(u)});const l=a.map((u,f)=>lle(u,f,n,r,3));return{systemWidth:n,tiers:l,success:l.every(u=>u.success),maxHeightPerTier:r}};function lle(t,e,n,r,i){const a=sle(t,n,r,i);return{tierIndex:e,width:n,cables:a.placed,success:a.success,fillRatio:a.fillRatio,totalODSum:t.reduce((s,l)=>s+l.od,0),totalCableArea:a.totalArea}}const cle=({cables:t,nodes:e})=>{const[n,r]=P.useState("fillRatio"),[i,a]=P.useState("desc"),[s,l]=P.useState(null),[u,f]=P.useState(null),h=P.useMemo(()=>{const w=new Map;e.forEach(A=>w.set(A.name,A));const b=new Map;t.forEach(A=>{if(!A.calculatedPath||A.calculatedPath.length===0)return;const C=A.od||10,R=Math.PI*Math.pow(C/2,2);A.calculatedPath.forEach(F=>{b.has(F)||b.set(F,{cables:[],totalArea:0});const O=b.get(F);O.cables.push(A),O.totalArea+=R})});const M=[];return e.forEach(A=>{const C=A.name,R=b.get(C)||{cables:[],totalArea:0},F=A.areaSize||300,O=F*60,k=R.totalArea/O*100;M.push({nodeName:C,trayWidth:F,trayCapacity:O,cableCount:R.cables.length,totalCableArea:R.totalArea,fillRatio:k,isOverfilled:k>40,cables:R.cables})}),M.sort((A,C)=>C.fillRatio-A.fillRatio),M},[t,e]),p=h.filter(w=>w.isOverfilled).length,m=h.length>0?h[0].fillRatio:0,g=w=>{n===w?a(b=>b==="asc"?"desc":"asc"):(r(w),a("desc"))},_=P.useMemo(()=>[...h].sort((w,b)=>{const M=w[n],A=b[n];if(typeof M=="number"&&typeof A=="number")return i==="asc"?M-A:A-M;const C=String(M).toLowerCase(),R=String(A).toLowerCase();return i==="asc"?C.localeCompare(R):R.localeCompare(C)}),[h,n,i]),x=w=>{l(w);const b=ole(w.cables,1,w.trayWidth,60);f(b)},y=()=>{l(null),f(null)},E=({column:w,label:b,align:M="left"})=>L.jsx("th",{className:`p-2 text-${M} cursor-pointer hover:bg-seastar-700 select-none`,onClick:()=>g(w),children:L.jsxs("div",{className:`flex items-center gap-1 ${M==="right"?"justify-end":""}`,children:[b,n===w&&(i==="asc"?L.jsx(TI,{size:12,className:"text-seastar-cyan"}):L.jsx(m2,{size:12,className:"text-seastar-cyan"}))]})});return L.jsxs("div",{className:"flex flex-col h-full bg-seastar-900 p-4 overflow-hidden relative",children:[L.jsxs("div",{className:"flex items-center justify-between mb-4 pb-4 border-b border-seastar-700",children:[L.jsxs("div",{className:"flex items-center gap-3",children:[L.jsx(l3,{size:24,className:"text-seastar-cyan"}),L.jsx("h2",{className:"text-xl font-bold text-white",children:"Tray Fill Ratio Analysis"})]}),L.jsxs("div",{className:"flex gap-6",children:[L.jsxs("div",{className:"text-center",children:[L.jsx("div",{className:"text-3xl font-bold text-seastar-cyan",children:h.length}),L.jsx("div",{className:"text-xs text-gray-400",children:"Active Nodes"})]}),L.jsxs("div",{className:"text-center",children:[L.jsx("div",{className:`text-3xl font-bold ${p>0?"text-red-400":"text-green-400"}`,children:p}),L.jsx("div",{className:"text-xs text-gray-400",children:"Overfilled (>40%)"})]}),L.jsxs("div",{className:"text-center",children:[L.jsxs("div",{className:`text-3xl font-bold ${m>40?"text-red-400":"text-yellow-400"}`,children:[m.toFixed(1),"%"]}),L.jsx("div",{className:"text-xs text-gray-400",children:"Max Fill Ratio"})]})]})]}),p>0&&L.jsxs("div",{className:"bg-red-900/50 border border-red-500 rounded-lg p-3 mb-4 flex items-center gap-3",children:[L.jsx(Yv,{size:24,className:"text-red-400"}),L.jsxs("div",{children:[L.jsx("div",{className:"font-bold text-red-300",children:" Capacity Warning"}),L.jsxs("div",{className:"text-sm text-red-200",children:[p," node(s) exceed 40% fill ratio! Cable capacity is limited."]})]})]}),L.jsx("div",{className:"flex-1 overflow-auto",children:L.jsxs("table",{className:"w-full text-sm",children:[L.jsx("thead",{className:"bg-seastar-800 sticky top-0",children:L.jsxs("tr",{className:"text-gray-400 text-xs",children:[L.jsx("th",{className:"p-2 text-left",children:"Status"}),L.jsx(E,{column:"nodeName",label:"Node Name"}),L.jsx(E,{column:"trayWidth",label:"Tray Width (mm)",align:"right"}),L.jsx(E,{column:"trayCapacity",label:"Tray Capacity (mm)",align:"right"}),L.jsx(E,{column:"cableCount",label:"Cable Count",align:"right"}),L.jsx(E,{column:"totalCableArea",label:"Total Cable Area (mm)",align:"right"}),L.jsx(E,{column:"fillRatio",label:"Fill Ratio",align:"right"}),L.jsx("th",{className:"p-2 text-right",children:"Action"})]})}),L.jsxs("tbody",{children:[_.map((w,b)=>L.jsxs("tr",{className:`border-b border-seastar-700 ${w.isOverfilled?"bg-red-900/30 hover:bg-red-900/50":"hover:bg-seastar-800"}`,children:[L.jsx("td",{className:"p-2",children:w.isOverfilled?L.jsx(Yv,{size:16,className:"text-red-400"}):L.jsx(tH,{size:16,className:"text-green-400"})}),L.jsx("td",{className:"p-2 font-mono text-seastar-cyan font-bold",children:w.nodeName}),L.jsx("td",{className:"p-2 text-right text-gray-300",children:w.trayWidth}),L.jsx("td",{className:"p-2 text-right text-gray-300",children:w.trayCapacity.toLocaleString()}),L.jsx("td",{className:"p-2 text-right text-white font-bold",children:w.cableCount}),L.jsx("td",{className:"p-2 text-right text-gray-300",children:w.totalCableArea.toFixed(1)}),L.jsxs("td",{className:`p-2 text-right font-bold ${w.fillRatio>40?"text-red-400":w.fillRatio>30?"text-yellow-400":"text-green-400"}`,children:[w.fillRatio.toFixed(1),"%",L.jsx("div",{className:"w-20 h-1 bg-gray-700 rounded mt-1 inline-block ml-2",children:L.jsx("div",{className:`h-full rounded ${w.fillRatio>40?"bg-red-500":w.fillRatio>30?"bg-yellow-500":"bg-green-500"}`,style:{width:`${Math.min(w.fillRatio,100)}%`}})})]}),L.jsx("td",{className:"p-2 text-right",children:L.jsx("button",{onClick:M=>{M.stopPropagation(),x(w)},className:"p-1 text-seastar-cyan hover:bg-seastar-700 rounded",title:"View Tray Visualizer",children:L.jsx(wI,{size:16})})})]},w.nodeName)),h.length===0&&L.jsx("tr",{children:L.jsx("td",{colSpan:8,className:"p-8 text-center text-gray-500",children:'No routing data available. Run "Route All" first to calculate fill ratios.'})})]})]})}),L.jsxs("div",{className:"mt-4 p-3 bg-seastar-800 rounded-lg text-xs text-gray-400",children:[L.jsx("strong",{className:"text-white",children:"Calculation Formula:"}),L.jsx("span",{className:"ml-2",children:"Tray Capacity = Width  60mm"}),L.jsx("span",{className:"mx-2",children:"|"}),L.jsx("span",{children:"Cable Area =   (OD/2)"}),L.jsx("span",{className:"mx-2",children:"|"}),L.jsx("span",{className:"text-yellow-400",children:"Fill Ratio = (Total Cable Area / Tray Capacity)  100%"}),L.jsx("span",{className:"mx-2",children:"|"}),L.jsx("span",{className:"text-red-400",children:"Warning if > 40%"})]}),s&&u&&L.jsx("div",{className:"absolute inset-0 z-50 bg-black/80 backdrop-blur-sm flex items-center justify-center p-8 animate-in fade-in duration-200",children:L.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full h-full max-w-6xl max-h-[90vh] flex flex-col overflow-hidden",children:[L.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-200 bg-gray-50 shrink-0",children:[L.jsxs("div",{children:[L.jsxs("h3",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[L.jsx(l3,{className:"text-seastar-cyan"}),"Tray Visualization: ",L.jsx("span",{className:"font-mono text-blue-600",children:s.nodeName})]}),L.jsxs("div",{className:"text-xs text-gray-500 flex gap-4 mt-1",children:[L.jsxs("span",{children:["Width: ",L.jsxs("strong",{children:[s.trayWidth,"mm"]})]}),L.jsxs("span",{children:["Height: ",L.jsx("strong",{children:"60mm"})]}),L.jsxs("span",{children:["Fill Ratio: ",L.jsxs("strong",{children:[s.fillRatio.toFixed(1),"%"]})]}),L.jsxs("span",{children:["Cables: ",L.jsx("strong",{children:s.cableCount})]})]})]}),L.jsx("button",{onClick:y,className:"p-2 text-gray-400 hover:text-gray-800 rounded-full hover:bg-gray-200",children:L.jsx(Xv,{size:24})})]}),L.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[L.jsxs("div",{className:"flex-[3] border-r border-gray-200 bg-slate-100 relative overflow-hidden flex flex-col",children:[L.jsx("div",{className:"absolute top-2 left-2 bg-white/80 px-2 py-1 text-xs font-bold rounded shadow z-10",children:"Cross-Section View"}),L.jsx("div",{className:"flex-1",children:L.jsx(nle,{systemResult:u,fillRatioLimit:40})})]}),L.jsxs("div",{className:"flex-[2] flex flex-col bg-white overflow-hidden",children:[L.jsxs("div",{className:"p-2 bg-gray-100 border-b border-gray-200 text-xs font-bold text-gray-700 flex justify-between",children:[L.jsx("span",{children:"Included Cables"}),L.jsxs("span",{className:"text-gray-500",children:[s.cables.length," items"]})]}),L.jsx("div",{className:"flex-1 overflow-auto",children:L.jsxs("table",{className:"w-full text-xs text-left",children:[L.jsx("thead",{className:"bg-gray-50 sticky top-0 z-10",children:L.jsxs("tr",{children:[L.jsx("th",{className:"p-2 border-b border-gray-200 font-bold text-gray-600",children:"No."}),L.jsx("th",{className:"p-2 border-b border-gray-200 font-bold text-gray-600",children:"Type"}),L.jsx("th",{className:"p-2 border-b border-gray-200 font-bold text-gray-600 text-right",children:"OD (mm)"})]})}),L.jsx("tbody",{className:"divide-y divide-gray-100",children:s.cables.map((w,b)=>L.jsxs("tr",{className:"hover:bg-blue-50",children:[L.jsx("td",{className:"p-2 font-mono text-blue-600",children:w.name}),L.jsx("td",{className:"p-2 text-gray-600",children:w.type}),L.jsx("td",{className:"p-2 text-right font-mono text-gray-800",children:w.od})]},b))})]})})]})]})]})})]})};function A5(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=A5(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ln(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=A5(t))&&(r&&(r+=" "),r+=e);return r}var ule=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function ww(t){if(typeof t!="string")return!1;var e=ule;return e.includes(t)}var fle=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],hle=new Set(fle);function M5(t){return typeof t!="string"?!1:hle.has(t)}function C5(t){return typeof t=="string"&&t.startsWith("data-")}function eo(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(M5(n)||C5(n))&&(e[n]=t[n]);return e}function wd(t){if(t==null)return null;if(P.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return eo(e)}return typeof t=="object"&&!Array.isArray(t)?eo(t):null}function ss(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(M5(n)||C5(n)||ww(n))&&(e[n]=t[n]);return e}var dle=["children","width","height","viewBox","className","style","title","desc"];function fT(){return fT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fT.apply(null,arguments)}function ple(t,e){if(t==null)return{};var n,r,i=mle(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function mle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Aw=P.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:a,className:s,style:l,title:u,desc:f}=t,h=ple(t,dle),p=a||{width:r,height:i,x:0,y:0},m=Ln("recharts-surface",s);return P.createElement("svg",fT({},ss(h),{className:m,width:r,height:i,style:l,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:e}),P.createElement("title",null,u),P.createElement("desc",null,f),n)}),vle=["children","className"];function hT(){return hT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hT.apply(null,arguments)}function gle(t,e){if(t==null)return{};var n,r,i=xle(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function xle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Ki=P.forwardRef((t,e)=>{var{children:n,className:r}=t,i=gle(t,vle),a=Ln("recharts-layer",r);return P.createElement("g",hT({className:a},ss(i),{ref:e}),n)}),Mw=SI(),R5=P.createContext(null),_le=()=>P.useContext(R5);function Yn(t){return function(){return t}}const O5=Math.cos,mg=Math.sin,Ps=Math.sqrt,vg=Math.PI,_x=2*vg,dT=Math.PI,pT=2*dT,Bc=1e-6,yle=pT-Bc;function P5(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Ele(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return P5;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Sle{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?P5:Ele(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,l=this._y1,u=r-e,f=i-n,h=s-e,p=l-n,m=h*h+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(m>Bc)if(!(Math.abs(p*u-f*h)>Bc)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let g=r-s,_=i-l,x=u*u+f*f,y=g*g+_*_,E=Math.sqrt(x),w=Math.sqrt(m),b=a*Math.tan((dT-Math.acos((x+m-y)/(2*E*w)))/2),M=b/w,A=b/E;Math.abs(M-1)>Bc&&this._append`L${e+M*h},${n+M*p}`,this._append`A${a},${a},0,0,${+(p*g>h*_)},${this._x1=e+A*u},${this._y1=n+A*f}`}}arc(e,n,r,i,a,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),u=r*Math.sin(i),f=e+l,h=n+u,p=1^s,m=s?i-a:a-i;this._x1===null?this._append`M${f},${h}`:(Math.abs(this._x1-f)>Bc||Math.abs(this._y1-h)>Bc)&&this._append`L${f},${h}`,r&&(m<0&&(m=m%pT+pT),m>yle?this._append`A${r},${r},0,1,${p},${e-l},${n-u}A${r},${r},0,1,${p},${this._x1=f},${this._y1=h}`:m>Bc&&this._append`A${r},${r},0,${+(m>=dT)},${p},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Cw(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Sle(e)}function Rw(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function D5(t){this._context=t}D5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function yx(t){return new D5(t)}function N5(t){return t[0]}function k5(t){return t[1]}function L5(t,e){var n=Yn(!0),r=null,i=yx,a=null,s=Cw(l);t=typeof t=="function"?t:t===void 0?N5:Yn(t),e=typeof e=="function"?e:e===void 0?k5:Yn(e);function l(u){var f,h=(u=Rw(u)).length,p,m=!1,g;for(r==null&&(a=i(g=s())),f=0;f<=h;++f)!(f<h&&n(p=u[f],f,u))===m&&((m=!m)?a.lineStart():a.lineEnd()),m&&a.point(+t(p,f,u),+e(p,f,u));if(g)return a=null,g+""||null}return l.x=function(u){return arguments.length?(t=typeof u=="function"?u:Yn(+u),l):t},l.y=function(u){return arguments.length?(e=typeof u=="function"?u:Yn(+u),l):e},l.defined=function(u){return arguments.length?(n=typeof u=="function"?u:Yn(!!u),l):n},l.curve=function(u){return arguments.length?(i=u,r!=null&&(a=i(r)),l):i},l.context=function(u){return arguments.length?(u==null?r=a=null:a=i(r=u),l):r},l}function vv(t,e,n){var r=null,i=Yn(!0),a=null,s=yx,l=null,u=Cw(f);t=typeof t=="function"?t:t===void 0?N5:Yn(+t),e=typeof e=="function"?e:Yn(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?k5:Yn(+n);function f(p){var m,g,_,x=(p=Rw(p)).length,y,E=!1,w,b=new Array(x),M=new Array(x);for(a==null&&(l=s(w=u())),m=0;m<=x;++m){if(!(m<x&&i(y=p[m],m,p))===E)if(E=!E)g=m,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),_=m-1;_>=g;--_)l.point(b[_],M[_]);l.lineEnd(),l.areaEnd()}E&&(b[m]=+t(y,m,p),M[m]=+e(y,m,p),l.point(r?+r(y,m,p):b[m],n?+n(y,m,p):M[m]))}if(w)return l=null,w+""||null}function h(){return L5().defined(i).curve(s).context(a)}return f.x=function(p){return arguments.length?(t=typeof p=="function"?p:Yn(+p),r=null,f):t},f.x0=function(p){return arguments.length?(t=typeof p=="function"?p:Yn(+p),f):t},f.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:Yn(+p),f):r},f.y=function(p){return arguments.length?(e=typeof p=="function"?p:Yn(+p),n=null,f):e},f.y0=function(p){return arguments.length?(e=typeof p=="function"?p:Yn(+p),f):e},f.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:Yn(+p),f):n},f.lineX0=f.lineY0=function(){return h().x(t).y(e)},f.lineY1=function(){return h().x(t).y(n)},f.lineX1=function(){return h().x(r).y(e)},f.defined=function(p){return arguments.length?(i=typeof p=="function"?p:Yn(!!p),f):i},f.curve=function(p){return arguments.length?(s=p,a!=null&&(l=s(a)),f):s},f.context=function(p){return arguments.length?(p==null?a=l=null:l=s(a=p),f):a},f}class I5{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function ble(t){return new I5(t,!0)}function Tle(t){return new I5(t,!1)}const Ow={draw(t,e){const n=Ps(e/vg);t.moveTo(n,0),t.arc(0,0,n,0,_x)}},wle={draw(t,e){const n=Ps(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},F5=Ps(1/3),Ale=F5*2,Mle={draw(t,e){const n=Ps(e/Ale),r=n*F5;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Cle={draw(t,e){const n=Ps(e),r=-n/2;t.rect(r,r,n,n)}},Rle=.8908130915292852,U5=mg(vg/10)/mg(7*vg/10),Ole=mg(_x/10)*U5,Ple=-O5(_x/10)*U5,Dle={draw(t,e){const n=Ps(e*Rle),r=Ole*n,i=Ple*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const s=_x*a/5,l=O5(s),u=mg(s);t.lineTo(u*n,-l*n),t.lineTo(l*r-u*i,u*r+l*i)}t.closePath()}},EE=Ps(3),Nle={draw(t,e){const n=-Ps(e/(EE*3));t.moveTo(0,n*2),t.lineTo(-EE*n,-n),t.lineTo(EE*n,-n),t.closePath()}},Wa=-.5,Ya=Ps(3)/2,mT=1/Ps(12),kle=(mT/2+1)*3,Lle={draw(t,e){const n=Ps(e/kle),r=n/2,i=n*mT,a=r,s=n*mT+n,l=-a,u=s;t.moveTo(r,i),t.lineTo(a,s),t.lineTo(l,u),t.lineTo(Wa*r-Ya*i,Ya*r+Wa*i),t.lineTo(Wa*a-Ya*s,Ya*a+Wa*s),t.lineTo(Wa*l-Ya*u,Ya*l+Wa*u),t.lineTo(Wa*r+Ya*i,Wa*i-Ya*r),t.lineTo(Wa*a+Ya*s,Wa*s-Ya*a),t.lineTo(Wa*l+Ya*u,Wa*u-Ya*l),t.closePath()}};function Ile(t,e){let n=null,r=Cw(i);t=typeof t=="function"?t:Yn(t||Ow),e=typeof e=="function"?e:Yn(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Yn(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Yn(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function gg(){}function xg(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function B5(t){this._context=t}B5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:xg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:xg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Fle(t){return new B5(t)}function z5(t){this._context=t}z5.prototype={areaStart:gg,areaEnd:gg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:xg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Ule(t){return new z5(t)}function j5(t){this._context=t}j5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:xg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Ble(t){return new j5(t)}function H5(t){this._context=t}H5.prototype={areaStart:gg,areaEnd:gg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function zle(t){return new H5(t)}function PD(t){return t<0?-1:1}function DD(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),l=(a*i+s*r)/(r+i);return(PD(a)+PD(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(l))||0}function ND(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function SE(t,e,n){var r=t._x0,i=t._y0,a=t._x1,s=t._y1,l=(a-r)/3;t._context.bezierCurveTo(r+l,i+l*e,a-l,s-l*n,a,s)}function _g(t){this._context=t}_g.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:SE(this,this._t0,ND(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,SE(this,ND(this,n=DD(this,t,e)),n);break;default:SE(this,this._t0,n=DD(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function G5(t){this._context=new V5(t)}(G5.prototype=Object.create(_g.prototype)).point=function(t,e){_g.prototype.point.call(this,e,t)};function V5(t){this._context=t}V5.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function jle(t){return new _g(t)}function Hle(t){return new G5(t)}function W5(t){this._context=t}W5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=kD(t),i=kD(e),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function kD(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function Gle(t){return new W5(t)}function Ex(t,e){this._context=t,this._t=e}Ex.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function Vle(t){return new Ex(t,.5)}function Wle(t){return new Ex(t,0)}function Yle(t){return new Ex(t,1)}function pu(t,e){if((s=t.length)>1)for(var n=1,r,i,a=t[e[0]],s,l=a.length;n<s;++n)for(i=a,a=t[e[n]],r=0;r<l;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function vT(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function Xle(t,e){return t[e]}function qle(t){const e=[];return e.key=t,e}function Kle(){var t=Yn([]),e=vT,n=pu,r=Xle;function i(a){var s=Array.from(t.apply(this,arguments),qle),l,u=s.length,f=-1,h;for(const p of a)for(l=0,++f;l<u;++l)(s[l][f]=[0,+r(p,s[l].key,f,a)]).data=p;for(l=0,h=Rw(e(s));l<u;++l)s[h[l]].index=l;return n(s,h),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Yn(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Yn(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?vT:typeof a=="function"?a:Yn(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??pu,i):n},i}function $le(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}pu(t,e)}}function Zle(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var s=0,l=0;s<i;++s)l+=t[s][n][1]||0;r[n][1]+=r[n][0]=-l/2}pu(t,e)}}function Jle(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var l=0,u=0,f=0;l<s;++l){for(var h=t[e[l]],p=h[r][1]||0,m=h[r-1][1]||0,g=(p-m)/2,_=0;_<l;++_){var x=t[e[_]],y=x[r][1]||0,E=x[r-1][1]||0;g+=y-E}u+=p,f+=g*p}i[r-1][1]+=i[r-1][0]=n,u&&(n-=f/u)}i[r-1][1]+=i[r-1][0]=n,pu(t,e)}}var bE={},TE={},LD;function Qle(){return LD||(LD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(TE)),TE}var wE={},ID;function Y5(){return ID||(ID=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(wE)),wE}var AE={},FD;function Pw(){return FD||(FD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e})(AE)),AE}var ME={},CE={},UD;function ece(){return UD||(UD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(CE)),CE}var BD;function Dw(){return BD||(BD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ece(),n=Pw();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const a=[],s=i.length;if(s===0)return a;let l=0,u="",f="",h=!1;for(i.charCodeAt(0)===46&&(a.push(""),l++);l<s;){const p=i[l];f?p==="\\"&&l+1<s?(l++,u+=i[l]):p===f?f="":u+=p:h?p==='"'||p==="'"?f=p:p==="]"?(h=!1,a.push(u),u=""):u+=p:p==="["?(h=!0,u&&(a.push(u),u="")):p==="."?u&&(a.push(u),u=""):u+=p,l++}return u&&a.push(u),a}t.toPath=r})(ME)),ME}var zD;function Nw(){return zD||(zD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Qle(),n=Y5(),r=Pw(),i=Dw();function a(l,u,f){if(l==null)return f;switch(typeof u){case"string":{if(e.isUnsafeProperty(u))return f;const h=l[u];return h===void 0?n.isDeepKey(u)?a(l,i.toPath(u),f):f:h}case"number":case"symbol":{typeof u=="number"&&(u=r.toKey(u));const h=l[u];return h===void 0?f:h}default:{if(Array.isArray(u))return s(l,u,f);if(Object.is(u==null?void 0:u.valueOf(),-0)?u="-0":u=String(u),e.isUnsafeProperty(u))return f;const h=l[u];return h===void 0?f:h}}}function s(l,u,f){if(u.length===0)return f;let h=l;for(let p=0;p<u.length;p++){if(h==null||e.isUnsafeProperty(u[p]))return f;h=h[u[p]]}return h===void 0?f:h}t.get=a})(bE)),bE}var RE,jD;function tce(){return jD||(jD=1,RE=Nw().get),RE}var nce=tce();const mu=Os(nce);var rce=4;function Ql(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:rce,n=10**e,r=Math.round(t*n)/n;return Object.is(r,-0)?0:r}function dr(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.reduce((i,a,s)=>{var l=n[s-1];return typeof l=="string"?i+l+a:l!==void 0?i+Ql(l)+a:i+a},"")}var bi=t=>t===0?0:t>0?1:-1,to=t=>typeof t=="number"&&t!=+t,Ko=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,kt=t=>(typeof t=="number"||t instanceof Number)&&!to(t),no=t=>kt(t)||typeof t=="string",ice=0,Ad=t=>{var e=++ice;return"".concat(t||"").concat(e)},Ui=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!kt(e)&&typeof e!="string")return r;var a;if(Ko(e)){if(n==null)return r;var s=e.indexOf("%");a=n*parseFloat(e.slice(0,s))/100}else a=+e;return to(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},X5=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[String(t[r])])n[String(t[r])]=!0;else return!0;return!1};function Br(t,e,n){return kt(t)&&kt(e)?Ql(t+n*(e-t)):e}function ace(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):mu(r,e))===n)}var si=t=>t===null||typeof t>"u",$d=t=>si(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function sce(t){return t!=null}function Zd(){}var oce=["type","size","sizeType"];function gT(){return gT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gT.apply(null,arguments)}function HD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function GD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HD(Object(n),!0).forEach(function(r){lce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lce(t,e,n){return(e=cce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cce(t){var e=uce(t,"string");return typeof e=="symbol"?e:e+""}function uce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fce(t,e){if(t==null)return{};var n,r,i=hce(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function hce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var q5={symbolCircle:Ow,symbolCross:wle,symbolDiamond:Mle,symbolSquare:Cle,symbolStar:Dle,symbolTriangle:Nle,symbolWye:Lle},dce=Math.PI/180,pce=t=>{var e="symbol".concat($d(t));return q5[e]||Ow},mce=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*dce;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},vce=(t,e)=>{q5["symbol".concat($d(t))]=e},kw=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=fce(t,oce),a=GD(GD({},i),{},{type:e,size:n,sizeType:r}),s="circle";typeof e=="string"&&(s=e);var l=()=>{var m=pce(s),g=Ile().type(m).size(mce(n,r,s)),_=g();if(_!==null)return _},{className:u,cx:f,cy:h}=a,p=ss(a);return kt(f)&&kt(h)&&kt(n)?P.createElement("path",gT({},p,{className:Ln("recharts-symbols",u),transform:"translate(".concat(f,", ").concat(h,")"),d:l()})):null};kw.registerSymbol=vce;var K5=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,gce=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(P.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{ww(i)&&(r[i]=(a=>n[i](n,a)))}),r},xce=(t,e,n)=>r=>(t(e,n,r),null),Jd=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var a=t[i];ww(i)&&typeof a=="function"&&(r||(r={}),r[i]=xce(a,e,n))}),r};function VD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _ce(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VD(Object(n),!0).forEach(function(r){yce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yce(t,e,n){return(e=Ece(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ece(t){var e=Sce(t,"string");return typeof e=="symbol"?e:e+""}function Sce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ti(t,e){var n=_ce({},t),r=e,i=Object.keys(e),a=i.reduce((s,l)=>(s[l]===void 0&&r[l]!==void 0&&(s[l]=r[l]),s),n);return a}function yg(){return yg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yg.apply(null,arguments)}function WD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bce(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WD(Object(n),!0).forEach(function(r){Tce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tce(t,e,n){return(e=wce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wce(t){var e=Ace(t,"string");return typeof e=="symbol"?e:e+""}function Ace(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Za=32,Mce={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function Cce(t){var{data:e,iconType:n,inactiveColor:r}=t,i=Za/2,a=Za/6,s=Za/3,l=e.inactive?r:e.color,u=n??e.type;if(u==="none")return null;if(u==="plainline"){var f;return P.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:(f=e.payload)===null||f===void 0?void 0:f.strokeDasharray,x1:0,y1:i,x2:Za,y2:i,className:"recharts-legend-icon"})}if(u==="line")return P.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(i,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(i,`
            H`).concat(Za,"M").concat(2*s,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(i),className:"recharts-legend-icon"});if(u==="rect")return P.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Za/8,"h").concat(Za,"v").concat(Za*3/4,"h").concat(-Za,"z"),className:"recharts-legend-icon"});if(P.isValidElement(e.legendIcon)){var h=bce({},e);return delete h.legendIcon,P.cloneElement(e.legendIcon,h)}return P.createElement(kw,{fill:l,cx:i,cy:i,size:Za,sizeType:"diameter",type:u})}function Rce(t){var{payload:e,iconSize:n,layout:r,formatter:i,inactiveColor:a,iconType:s}=t,l={x:0,y:0,width:Za,height:Za},u={display:r==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((h,p)=>{var m=h.formatter||i,g=Ln({"recharts-legend-item":!0,["legend-item-".concat(p)]:!0,inactive:h.inactive});if(h.type==="none")return null;var _=h.inactive?a:h.color,x=m?m(h.value,h,p):h.value;return P.createElement("li",yg({className:g,style:u,key:"legend-item-".concat(p)},Jd(t,h,p)),P.createElement(Aw,{width:n,height:n,viewBox:l,style:f,"aria-label":"".concat(x," legend icon")},P.createElement(Cce,{data:h,iconType:s,inactiveColor:a})),P.createElement("span",{className:"recharts-legend-item-text",style:{color:_}},x))})}var Oce=t=>{var e=Ti(t,Mce),{payload:n,layout:r,align:i}=e;if(!n||!n.length)return null;var a={padding:0,margin:0,textAlign:r==="horizontal"?i:"left"};return P.createElement("ul",{className:"recharts-default-legend",style:a},P.createElement(Rce,yg({},e,{payload:n})))},OE={},PE={},YD;function Pce(){return YD||(YD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let a=0;a<n.length;a++){const s=n[a],l=r(s);i.has(l)||i.set(l,s)}return Array.from(i.values())}t.uniqBy=e})(PE)),PE}var DE={},XD;function $5(){return XD||(XD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(DE)),DE}var NE={},kE={},LE={},qD;function Dce(){return qD||(qD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(LE)),LE}var KD;function Lw(){return KD||(KD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Dce();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(kE)),kE}var IE={},$D;function Nce(){return $D||($D=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(IE)),IE}var ZD;function kce(){return ZD||(ZD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Lw(),n=Nce();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(NE)),NE}var FE={},UE={},JD;function Lce(){return JD||(JD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Nw();function n(r){return function(i){return e.get(i,r)}}t.property=n})(UE)),UE}var BE={},zE={},jE={},HE={},QD;function Z5(){return QD||(QD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(HE)),HE}var GE={},eN;function J5(){return eN||(eN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(GE)),GE}var VE={},tN;function Q5(){return tN||(tN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(VE)),VE}var nN;function Ice(){return nN||(nN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Z5(),n=J5(),r=Q5();function i(h,p,m){return typeof m!="function"?i(h,p,()=>{}):a(h,p,function g(_,x,y,E,w,b){const M=m(_,x,y,E,w,b);return M!==void 0?!!M:a(_,x,g,b)},new Map)}function a(h,p,m,g){if(p===h)return!0;switch(typeof p){case"object":return s(h,p,m,g);case"function":return Object.keys(p).length>0?a(h,{...p},m,g):r.eq(h,p);default:return e.isObject(h)?typeof p=="string"?p==="":!0:r.eq(h,p)}}function s(h,p,m,g){if(p==null)return!0;if(Array.isArray(p))return u(h,p,m,g);if(p instanceof Map)return l(h,p,m,g);if(p instanceof Set)return f(h,p,m,g);const _=Object.keys(p);if(h==null||n.isPrimitive(h))return _.length===0;if(_.length===0)return!0;if(g!=null&&g.has(p))return g.get(p)===h;g==null||g.set(p,h);try{for(let x=0;x<_.length;x++){const y=_[x];if(!n.isPrimitive(h)&&!(y in h)||p[y]===void 0&&h[y]!==void 0||p[y]===null&&h[y]!==null||!m(h[y],p[y],y,h,p,g))return!1}return!0}finally{g==null||g.delete(p)}}function l(h,p,m,g){if(p.size===0)return!0;if(!(h instanceof Map))return!1;for(const[_,x]of p.entries()){const y=h.get(_);if(m(y,x,_,h,p,g)===!1)return!1}return!0}function u(h,p,m,g){if(p.length===0)return!0;if(!Array.isArray(h))return!1;const _=new Set;for(let x=0;x<p.length;x++){const y=p[x];let E=!1;for(let w=0;w<h.length;w++){if(_.has(w))continue;const b=h[w];let M=!1;if(m(b,y,x,h,p,g)&&(M=!0),M){_.add(w),E=!0;break}}if(!E)return!1}return!0}function f(h,p,m,g){return p.size===0?!0:h instanceof Set?u([...h],[...p],m,g):!1}t.isMatchWith=i,t.isSetMatch=f})(jE)),jE}var rN;function eB(){return rN||(rN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Ice();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(zE)),zE}var WE={},YE={},XE={},iN;function Fce(){return iN||(iN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(XE)),XE}var qE={},aN;function tB(){return aN||(aN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(qE)),qE}var KE={},sN;function nB(){return sN||(sN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",s="[object Symbol]",l="[object Date]",u="[object Map]",f="[object Set]",h="[object Array]",p="[object Function]",m="[object ArrayBuffer]",g="[object Object]",_="[object Error]",x="[object DataView]",y="[object Uint8Array]",E="[object Uint8ClampedArray]",w="[object Uint16Array]",b="[object Uint32Array]",M="[object BigUint64Array]",A="[object Int8Array]",C="[object Int16Array]",R="[object Int32Array]",F="[object BigInt64Array]",O="[object Float32Array]",k="[object Float64Array]";t.argumentsTag=a,t.arrayBufferTag=m,t.arrayTag=h,t.bigInt64ArrayTag=F,t.bigUint64ArrayTag=M,t.booleanTag=i,t.dataViewTag=x,t.dateTag=l,t.errorTag=_,t.float32ArrayTag=O,t.float64ArrayTag=k,t.functionTag=p,t.int16ArrayTag=C,t.int32ArrayTag=R,t.int8ArrayTag=A,t.mapTag=u,t.numberTag=r,t.objectTag=g,t.regexpTag=e,t.setTag=f,t.stringTag=n,t.symbolTag=s,t.uint16ArrayTag=w,t.uint32ArrayTag=b,t.uint8ArrayTag=y,t.uint8ClampedArrayTag=E})(KE)),KE}var $E={},oN;function Uce(){return oN||(oN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})($E)),$E}var lN;function rB(){return lN||(lN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Fce(),n=tB(),r=nB(),i=J5(),a=Uce();function s(h,p){return l(h,void 0,h,new Map,p)}function l(h,p,m,g=new Map,_=void 0){const x=_==null?void 0:_(h,p,m,g);if(x!==void 0)return x;if(i.isPrimitive(h))return h;if(g.has(h))return g.get(h);if(Array.isArray(h)){const y=new Array(h.length);g.set(h,y);for(let E=0;E<h.length;E++)y[E]=l(h[E],E,m,g,_);return Object.hasOwn(h,"index")&&(y.index=h.index),Object.hasOwn(h,"input")&&(y.input=h.input),y}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const y=new RegExp(h.source,h.flags);return y.lastIndex=h.lastIndex,y}if(h instanceof Map){const y=new Map;g.set(h,y);for(const[E,w]of h)y.set(E,l(w,E,m,g,_));return y}if(h instanceof Set){const y=new Set;g.set(h,y);for(const E of h)y.add(l(E,void 0,m,g,_));return y}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(a.isTypedArray(h)){const y=new(Object.getPrototypeOf(h)).constructor(h.length);g.set(h,y);for(let E=0;E<h.length;E++)y[E]=l(h[E],E,m,g,_);return y}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const y=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return g.set(h,y),u(y,h,m,g,_),y}if(typeof File<"u"&&h instanceof File){const y=new File([h],h.name,{type:h.type});return g.set(h,y),u(y,h,m,g,_),y}if(typeof Blob<"u"&&h instanceof Blob){const y=new Blob([h],{type:h.type});return g.set(h,y),u(y,h,m,g,_),y}if(h instanceof Error){const y=new h.constructor;return g.set(h,y),y.message=h.message,y.name=h.name,y.stack=h.stack,y.cause=h.cause,u(y,h,m,g,_),y}if(h instanceof Boolean){const y=new Boolean(h.valueOf());return g.set(h,y),u(y,h,m,g,_),y}if(h instanceof Number){const y=new Number(h.valueOf());return g.set(h,y),u(y,h,m,g,_),y}if(h instanceof String){const y=new String(h.valueOf());return g.set(h,y),u(y,h,m,g,_),y}if(typeof h=="object"&&f(h)){const y=Object.create(Object.getPrototypeOf(h));return g.set(h,y),u(y,h,m,g,_),y}return h}function u(h,p,m=h,g,_){const x=[...Object.keys(p),...e.getSymbols(p)];for(let y=0;y<x.length;y++){const E=x[y],w=Object.getOwnPropertyDescriptor(h,E);(w==null||w.writable)&&(h[E]=l(p[E],E,m,g,_))}}function f(h){switch(n.getTag(h)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=s,t.cloneDeepWithImpl=l,t.copyProperties=u})(YE)),YE}var cN;function Bce(){return cN||(cN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=rB();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(WE)),WE}var uN;function zce(){return uN||(uN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=eB(),n=Bce();function r(i){return i=n.cloneDeep(i),a=>e.isMatch(a,i)}t.matches=r})(BE)),BE}var ZE={},JE={},QE={},fN;function jce(){return fN||(fN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=rB(),n=nB();function r(i,a){return e.cloneDeepWith(i,(s,l,u,f)=>{const h=a==null?void 0:a(s,l,u,f);if(h!==void 0)return h;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const p=new i.constructor(i==null?void 0:i.valueOf());return e.copyProperties(p,i),p}case n.argumentsTag:{const p={};return e.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}})}t.cloneDeepWith=r})(QE)),QE}var hN;function Hce(){return hN||(hN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=jce();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(JE)),JE}var eS={},tS={},dN;function iB(){return dN||(dN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(tS)),tS}var nS={},pN;function Gce(){return pN||(pN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=tB();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(nS)),nS}var mN;function Vce(){return mN||(mN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Y5(),n=iB(),r=Gce(),i=Dw();function a(s,l){let u;if(Array.isArray(l)?u=l:typeof l=="string"&&e.isDeepKey(l)&&(s==null?void 0:s[l])==null?u=i.toPath(l):u=[l],u.length===0)return!1;let f=s;for(let h=0;h<u.length;h++){const p=u[h];if((f==null||!Object.hasOwn(f,p))&&!((Array.isArray(f)||r.isArguments(f))&&n.isIndex(p)&&p<f.length))return!1;f=f[p]}return!0}t.has=a})(eS)),eS}var vN;function Wce(){return vN||(vN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=eB(),n=Pw(),r=Hce(),i=Nw(),a=Vce();function s(l,u){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=n.toKey(l);break}}return u=r.cloneDeep(u),function(f){const h=i.get(f,l);return h===void 0?a.has(f,l):u===void 0?h===void 0:e.isMatch(h,u)}}t.matchesProperty=s})(ZE)),ZE}var gN;function Yce(){return gN||(gN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$5(),n=Lce(),r=zce(),i=Wce();function a(s){if(s==null)return e.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):r.matches(s);case"string":case"symbol":case"number":return n.property(s)}}t.iteratee=a})(FE)),FE}var xN;function Xce(){return xN||(xN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Pce(),n=$5(),r=kce(),i=Yce();function a(s,l=n.identity){return r.isArrayLikeObject(s)?e.uniqBy(Array.from(s),i.iteratee(l)):[]}t.uniqBy=a})(OE)),OE}var rS,_N;function qce(){return _N||(_N=1,rS=Xce().uniqBy),rS}var Kce=qce();const yN=Os(Kce);function aB(t,e,n){return e===!0?yN(t,n):typeof e=="function"?yN(t,e):t}var iS={exports:{}},aS={},sS={exports:{}},oS={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EN;function $ce(){if(EN)return oS;EN=1;var t=uc();function e(p,m){return p===m&&(p!==0||1/p===1/m)||p!==p&&m!==m}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,a=t.useLayoutEffect,s=t.useDebugValue;function l(p,m){var g=m(),_=r({inst:{value:g,getSnapshot:m}}),x=_[0].inst,y=_[1];return a(function(){x.value=g,x.getSnapshot=m,u(x)&&y({inst:x})},[p,g,m]),i(function(){return u(x)&&y({inst:x}),p(function(){u(x)&&y({inst:x})})},[p]),s(g),g}function u(p){var m=p.getSnapshot;p=p.value;try{var g=m();return!n(p,g)}catch{return!0}}function f(p,m){return m()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:l;return oS.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:h,oS}var SN;function Zce(){return SN||(SN=1,sS.exports=$ce()),sS.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bN;function Jce(){if(bN)return aS;bN=1;var t=uc(),e=Zce();function n(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,a=t.useRef,s=t.useEffect,l=t.useMemo,u=t.useDebugValue;return aS.useSyncExternalStoreWithSelector=function(f,h,p,m,g){var _=a(null);if(_.current===null){var x={hasValue:!1,value:null};_.current=x}else x=_.current;_=l(function(){function E(C){if(!w){if(w=!0,b=C,C=m(C),g!==void 0&&x.hasValue){var R=x.value;if(g(R,C))return M=R}return M=C}if(R=M,r(b,C))return R;var F=m(C);return g!==void 0&&g(R,F)?(b=C,R):(b=C,M=F)}var w=!1,b,M,A=p===void 0?null:p;return[function(){return E(h())},A===null?void 0:function(){return E(A())}]},[h,p,m,g]);var y=i(f,_[0],_[1]);return s(function(){x.hasValue=!0,x.value=y},[y]),u(y),y},aS}var TN;function Qce(){return TN||(TN=1,iS.exports=Jce()),iS.exports}var eue=Qce(),Iw=P.createContext(null),tue=t=>t,Xn=()=>{var t=P.useContext(Iw);return t?t.store.dispatch:tue},jv=()=>{},nue=()=>jv,rue=(t,e)=>t===e;function Ot(t){var e=P.useContext(Iw);return eue.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:nue,e?e.store.getState:jv,e?e.store.getState:jv,e?t:jv,rue)}function iue(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function aue(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function sue(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var wN=t=>Array.isArray(t)?t:[t];function oue(t){const e=Array.isArray(t[0])?t[0]:t;return sue(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function lue(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var cue=class{constructor(t){this.value=t}deref(){return this.value}},uue=typeof WeakRef<"u"?WeakRef:cue,fue=0,AN=1;function gv(){return{s:fue,v:void 0,o:null,p:null}}function sB(t,e={}){let n=gv();const{resultEqualityCheck:r}=e;let i,a=0;function s(){var p;let l=n;const{length:u}=arguments;for(let m=0,g=u;m<g;m++){const _=arguments[m];if(typeof _=="function"||typeof _=="object"&&_!==null){let x=l.o;x===null&&(l.o=x=new WeakMap);const y=x.get(_);y===void 0?(l=gv(),x.set(_,l)):l=y}else{let x=l.p;x===null&&(l.p=x=new Map);const y=x.get(_);y===void 0?(l=gv(),x.set(_,l)):l=y}}const f=l;let h;if(l.s===AN)h=l.v;else if(h=t.apply(null,arguments),a++,r){const m=((p=i==null?void 0:i.deref)==null?void 0:p.call(i))??i;m!=null&&r(m,h)&&(h=m,a!==0&&a--),i=typeof h=="object"&&h!==null||typeof h=="function"?new uue(h):h}return f.s=AN,f.v=h,h}return s.clearCache=()=>{n=gv(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function hue(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let a=0,s=0,l,u={},f=i.pop();typeof f=="object"&&(u=f,f=i.pop()),iue(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const h={...n,...u},{memoize:p,memoizeOptions:m=[],argsMemoize:g=sB,argsMemoizeOptions:_=[]}=h,x=wN(m),y=wN(_),E=oue(i),w=p(function(){return a++,f.apply(null,arguments)},...x),b=g(function(){s++;const A=lue(E,arguments);return l=w.apply(null,A),l},...y);return Object.assign(b,{resultFunc:f,memoizedResultFunc:w,dependencies:E,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>l,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:p,argsMemoize:g})};return Object.assign(r,{withTypes:()=>r}),r}var De=hue(sB),due=Object.assign((t,e=De)=>{aue(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(a=>t[a]);return e(r,(...a)=>a.reduce((s,l,u)=>(s[n[u]]=l,s),{}))},{withTypes:()=>due}),lS={},cS={},uS={},MN;function pue(){return MN||(MN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const s=e(r),l=e(i);if(s===l&&s===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?l-s:s-l}return 0};t.compareValues=n})(uS)),uS}var fS={},hS={},CN;function oB(){return CN||(CN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(hS)),hS}var RN;function mue(){return RN||(RN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=oB(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||e.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||s!=null&&Object.hasOwn(s,a)}t.isKey=i})(fS)),fS}var ON;function vue(){return ON||(ON=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=pue(),n=mue(),r=Dw();function i(a,s,l,u){if(a==null)return[];l=u?void 0:l,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(g=>String(g));const f=(g,_)=>{let x=g;for(let y=0;y<_.length&&x!=null;++y)x=x[_[y]];return x},h=(g,_)=>_==null||g==null?_:typeof g=="object"&&"key"in g?Object.hasOwn(_,g.key)?_[g.key]:f(_,g.path):typeof g=="function"?g(_):Array.isArray(g)?f(_,g):typeof _=="object"?_[g]:_,p=s.map(g=>(Array.isArray(g)&&g.length===1&&(g=g[0]),g==null||typeof g=="function"||Array.isArray(g)||n.isKey(g)?g:{key:g,path:r.toPath(g)}));return a.map(g=>({original:g,criteria:p.map(_=>h(_,g))})).slice().sort((g,_)=>{for(let x=0;x<p.length;x++){const y=e.compareValues(g.criteria[x],_.criteria[x],l[x]);if(y!==0)return y}return 0}).map(g=>g.original)}t.orderBy=i})(cS)),cS}var dS={},PN;function gue(){return PN||(PN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],a=Math.floor(r),s=(l,u)=>{for(let f=0;f<l.length;f++){const h=l[f];Array.isArray(h)&&u<a?s(h,u+1):i.push(h)}};return s(n,0),i}t.flatten=e})(dS)),dS}var pS={},DN;function lB(){return DN||(DN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=iB(),n=Lw(),r=Z5(),i=Q5();function a(s,l,u){return r.isObject(u)&&(typeof l=="number"&&n.isArrayLike(u)&&e.isIndex(l)&&l<u.length||typeof l=="string"&&l in u)?i.eq(u[l],s):!1}t.isIterateeCall=a})(pS)),pS}var NN;function xue(){return NN||(NN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=vue(),n=gue(),r=lB();function i(a,...s){const l=s.length;return l>1&&r.isIterateeCall(a,s[0],s[1])?s=[]:l>2&&r.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),e.orderBy(a,n.flatten(s),["asc"])}t.sortBy=i})(lS)),lS}var mS,kN;function _ue(){return kN||(kN=1,mS=xue().sortBy),mS}var yue=_ue();const Sx=Os(yue);var cB=t=>t.legend.settings,Eue=t=>t.legend.size,Sue=t=>t.legend.payload,bue=De([Sue,cB],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?Sx(r,n):r});function Tue(){return Ot(bue)}var xv=1;function uB(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=P.useState({height:0,left:0,top:0,width:0}),r=P.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-e.height)>xv||Math.abs(s.left-e.left)>xv||Math.abs(s.top-e.top)>xv||Math.abs(s.width-e.width)>xv)&&n({height:s.height,left:s.left,top:s.top,width:s.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function xi(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var wue=typeof Symbol=="function"&&Symbol.observable||"@@observable",LN=wue,vS=()=>Math.random().toString(36).substring(7).split("").join("."),Aue={INIT:`@@redux/INIT${vS()}`,REPLACE:`@@redux/REPLACE${vS()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${vS()}`},Eg=Aue;function Fw(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function fB(t,e,n){if(typeof t!="function")throw new Error(xi(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(xi(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(xi(1));return n(fB)(t,e)}let r=t,i=e,a=new Map,s=a,l=0,u=!1;function f(){s===a&&(s=new Map,a.forEach((y,E)=>{s.set(E,y)}))}function h(){if(u)throw new Error(xi(3));return i}function p(y){if(typeof y!="function")throw new Error(xi(4));if(u)throw new Error(xi(5));let E=!0;f();const w=l++;return s.set(w,y),function(){if(E){if(u)throw new Error(xi(6));E=!1,f(),s.delete(w),a=null}}}function m(y){if(!Fw(y))throw new Error(xi(7));if(typeof y.type>"u")throw new Error(xi(8));if(typeof y.type!="string")throw new Error(xi(17));if(u)throw new Error(xi(9));try{u=!0,i=r(i,y)}finally{u=!1}return(a=s).forEach(w=>{w()}),y}function g(y){if(typeof y!="function")throw new Error(xi(10));r=y,m({type:Eg.REPLACE})}function _(){const y=p;return{subscribe(E){if(typeof E!="object"||E===null)throw new Error(xi(11));function w(){const M=E;M.next&&M.next(h())}return w(),{unsubscribe:y(w)}},[LN](){return this}}}return m({type:Eg.INIT}),{dispatch:m,subscribe:p,getState:h,replaceReducer:g,[LN]:_}}function Mue(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Eg.INIT})>"u")throw new Error(xi(12));if(typeof n(void 0,{type:Eg.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(xi(13))})}function hB(t){const e=Object.keys(t),n={};for(let a=0;a<e.length;a++){const s=e[a];typeof t[s]=="function"&&(n[s]=t[s])}const r=Object.keys(n);let i;try{Mue(n)}catch(a){i=a}return function(s={},l){if(i)throw i;let u=!1;const f={};for(let h=0;h<r.length;h++){const p=r[h],m=n[p],g=s[p],_=m(g,l);if(typeof _>"u")throw l&&l.type,new Error(xi(14));f[p]=_,u=u||_!==g}return u=u||r.length!==Object.keys(s).length,u?f:s}}function Sg(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function Cue(...t){return e=>(n,r)=>{const i=e(n,r);let a=()=>{throw new Error(xi(15))};const s={getState:i.getState,dispatch:(u,...f)=>a(u,...f)},l=t.map(u=>u(s));return a=Sg(...l)(i.dispatch),{...i,dispatch:a}}}function dB(t){return Fw(t)&&"type"in t&&typeof t.type=="string"}var pB=Symbol.for("immer-nothing"),IN=Symbol.for("immer-draftable"),$i=Symbol.for("immer-state");function _s(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Ra=Object,fh=Ra.getPrototypeOf,bg="constructor",bx="prototype",xT="configurable",Tg="enumerable",Hv="writable",Md="value",$o=t=>!!t&&!!t[$i];function Rs(t){var e;return t?mB(t)||Tx(t)||!!t[IN]||!!((e=t[bg])!=null&&e[IN])||wx(t)||Ax(t):!1}var Rue=Ra[bx][bg].toString(),FN=new WeakMap;function mB(t){if(!t||!Uw(t))return!1;const e=fh(t);if(e===null||e===Ra[bx])return!0;const n=Ra.hasOwnProperty.call(e,bg)&&e[bg];if(n===Object)return!0;if(!Hf(n))return!1;let r=FN.get(n);return r===void 0&&(r=Function.toString.call(n),FN.set(n,r)),r===Rue}function Qd(t,e,n=!0){ep(t)===0?(n?Reflect.ownKeys(t):Ra.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function ep(t){const e=t[$i];return e?e.type_:Tx(t)?1:wx(t)?2:Ax(t)?3:0}var UN=(t,e,n=ep(t))=>n===2?t.has(e):Ra[bx].hasOwnProperty.call(t,e),_T=(t,e,n=ep(t))=>n===2?t.get(e):t[e],wg=(t,e,n,r=ep(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function Oue(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var Tx=Array.isArray,wx=t=>t instanceof Map,Ax=t=>t instanceof Set,Uw=t=>typeof t=="object",Hf=t=>typeof t=="function",gS=t=>typeof t=="boolean";function Pue(t){const e=+t;return Number.isInteger(e)&&String(e)===t}var Do=t=>t.copy_||t.base_,Bw=t=>t.modified_?t.copy_:t.base_;function yT(t,e){if(wx(t))return new Map(t);if(Ax(t))return new Set(t);if(Tx(t))return Array[bx].slice.call(t);const n=mB(t);if(e===!0||e==="class_only"&&!n){const r=Ra.getOwnPropertyDescriptors(t);delete r[$i];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],l=r[s];l[Hv]===!1&&(l[Hv]=!0,l[xT]=!0),(l.get||l.set)&&(r[s]={[xT]:!0,[Hv]:!0,[Tg]:l[Tg],[Md]:t[s]})}return Ra.create(fh(t),r)}else{const r=fh(t);if(r!==null&&n)return{...t};const i=Ra.create(r);return Ra.assign(i,t)}}function zw(t,e=!1){return Mx(t)||$o(t)||!Rs(t)||(ep(t)>1&&Ra.defineProperties(t,{set:_v,add:_v,clear:_v,delete:_v}),Ra.freeze(t),e&&Qd(t,(n,r)=>{zw(r,!0)},!1)),t}function Due(){_s(2)}var _v={[Md]:Due};function Mx(t){return t===null||!Uw(t)?!0:Ra.isFrozen(t)}var Ag="MapSet",ET="Patches",BN="ArrayMethods",vB={};function vu(t){const e=vB[t];return e||_s(0,t),e}var zN=t=>!!vB[t],Cd,gB=()=>Cd,Nue=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:zN(Ag)?vu(Ag):void 0,arrayMethodsPlugin_:zN(BN)?vu(BN):void 0});function jN(t,e){e&&(t.patchPlugin_=vu(ET),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function ST(t){bT(t),t.drafts_.forEach(kue),t.drafts_=null}function bT(t){t===Cd&&(Cd=t.parent_)}var HN=t=>Cd=Nue(Cd,t);function kue(t){const e=t[$i];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function GN(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[$i].modified_&&(ST(e),_s(4)),Rs(t)&&(t=VN(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(n[$i].base_,t,e)}else t=VN(e,n);return Lue(e,t,!0),ST(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==pB?t:void 0}function VN(t,e){if(Mx(e))return e;const n=e[$i];if(!n)return jw(e,t.handledSet_,t);if(!Cx(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);yB(n,t)}return n.copy_}function Lue(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&zw(e,n)}function xB(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var Cx=(t,e)=>t.scope_===e,Iue=[];function _B(t,e,n,r){const i=Do(t),a=t.type_;if(r!==void 0&&_T(i,r,a)===e){wg(i,r,n,a);return}if(!t.draftLocations_){const l=t.draftLocations_=new Map;Qd(i,(u,f)=>{if($o(f)){const h=l.get(f)||[];h.push(u),l.set(f,h)}})}const s=t.draftLocations_.get(e)??Iue;for(const l of s)wg(i,l,n,a)}function Fue(t,e,n){t.callbacks_.push(function(i){var l;const a=e;if(!a||!Cx(a,i))return;(l=i.mapSetPlugin_)==null||l.fixSetContents(a);const s=Bw(a);_B(t,a.draft_??a,s,n),yB(a,i)})}function yB(t,e){var r;if(t.modified_&&!t.finalized_&&(t.type_===3||t.type_===1&&t.allIndicesReassigned_||(((r=t.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=e;if(i){const a=i.getPath(t);a&&i.generatePatches_(t,a,e)}xB(t)}}function Uue(t,e,n){const{scope_:r}=t;if($o(n)){const i=n[$i];Cx(i,r)&&i.callbacks_.push(function(){Gv(t);const s=Bw(i);_B(t,n,s,e)})}else Rs(n)&&t.callbacks_.push(function(){const a=Do(t);_T(a,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&jw(_T(t.copy_,e,t.type_),r.handledSet_,r)})}function jw(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||$o(t)||e.has(t)||!Rs(t)||Mx(t)||(e.add(t),Qd(t,(r,i)=>{if($o(i)){const a=i[$i];if(Cx(a,n)){const s=Bw(a);wg(t,r,s,t.type_),xB(a)}}else Rs(i)&&jw(i,e,n)})),t}function Bue(t,e){const n=Tx(t),r={type_:n?1:0,scope_:e?e.scope_:gB(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,a=Hw;n&&(i=[r],a=Rd);const{revoke:s,proxy:l}=Proxy.revocable(i,a);return r.draft_=l,r.revoke_=s,[l,r]}var Hw={get(t,e){if(e===$i)return t;let n=t.scope_.arrayMethodsPlugin_;const r=t.type_===1&&typeof e=="string";if(r&&n!=null&&n.isArrayOperationMethod(e))return n.createMethodInterceptor(t,e);const i=Do(t);if(!UN(i,e,t.type_))return zue(t,i,e);const a=i[e];if(t.finalized_||!Rs(a)||r&&t.operationMethod&&(n!=null&&n.isMutatingArrayMethod(t.operationMethod))&&Pue(e))return a;if(a===xS(t.base_,e)){Gv(t);const s=t.type_===1?+e:e,l=wT(t.scope_,a,t,s);return t.copy_[s]=l}return a},has(t,e){return e in Do(t)},ownKeys(t){return Reflect.ownKeys(Do(t))},set(t,e,n){const r=EB(Do(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=xS(Do(t),e),a=i==null?void 0:i[$i];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(Oue(n,i)&&(n!==void 0||UN(t.base_,e,t.type_)))return!0;Gv(t),TT(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),Uue(t,e,n)),!0},deleteProperty(t,e){return Gv(t),xS(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),TT(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Do(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[Hv]:!0,[xT]:t.type_!==1||e!=="length",[Tg]:r[Tg],[Md]:n[e]}},defineProperty(){_s(11)},getPrototypeOf(t){return fh(t.base_)},setPrototypeOf(){_s(12)}},Rd={};Qd(Hw,(t,e)=>{Rd[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}});Rd.deleteProperty=function(t,e){return Rd.set.call(this,t,e,void 0)};Rd.set=function(t,e,n){return Hw.set.call(this,t[0],e,n,t[0])};function xS(t,e){const n=t[$i];return(n?Do(n):t)[e]}function zue(t,e,n){var i;const r=EB(e,n);return r?Md in r?r[Md]:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function EB(t,e){if(!(e in t))return;let n=fh(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=fh(n)}}function TT(t){t.modified_||(t.modified_=!0,t.parent_&&TT(t.parent_))}function Gv(t){t.copy_||(t.assigned_=new Map,t.copy_=yT(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var jue=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(Hf(n)&&!Hf(r)){const s=r;r=n;const l=this;return function(f=s,...h){return l.produce(f,p=>r.call(this,p,...h))}}Hf(r)||_s(6),i!==void 0&&!Hf(i)&&_s(7);let a;if(Rs(n)){const s=HN(this),l=wT(s,n,void 0);let u=!0;try{a=r(l),u=!1}finally{u?ST(s):bT(s)}return jN(s,i),GN(a,s)}else if(!n||!Uw(n)){if(a=r(n),a===void 0&&(a=n),a===pB&&(a=void 0),this.autoFreeze_&&zw(a,!0),i){const s=[],l=[];vu(ET).generateReplacementPatches_(n,a,{patches_:s,inversePatches_:l}),i(s,l)}return a}else _s(1,n)},this.produceWithPatches=(n,r)=>{if(Hf(n))return(l,...u)=>this.produceWithPatches(l,f=>n(f,...u));let i,a;return[this.produce(n,r,(l,u)=>{i=l,a=u}),i,a]},gS(e==null?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),gS(e==null?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),gS(e==null?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Rs(e)||_s(8),$o(e)&&(e=Cs(e));const n=HN(this),r=wT(n,e,void 0);return r[$i].isManual_=!0,bT(n),r}finishDraft(e,n){const r=e&&e[$i];(!r||!r.isManual_)&&_s(9);const{scope_:i}=r;return jN(i,n),GN(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(n=n.slice(r+1));const i=vu(ET).applyPatches_;return $o(e)?i(e,n):this.produce(e,a=>i(a,n))}};function wT(t,e,n,r){const[i,a]=wx(e)?vu(Ag).proxyMap_(e,n):Ax(e)?vu(Ag).proxySet_(e,n):Bue(e,n);return((n==null?void 0:n.scope_)??gB()).drafts_.push(i),a.callbacks_=(n==null?void 0:n.callbacks_)??[],a.key_=r,n&&r!==void 0?Fue(n,a,r):a.callbacks_.push(function(u){var h;(h=u.mapSetPlugin_)==null||h.fixSetContents(a);const{patchPlugin_:f}=u;a.modified_&&f&&f.generatePatches_(a,[],u)}),i}function Cs(t){return $o(t)||_s(10,t),SB(t)}function SB(t){if(!Rs(t)||Mx(t))return t;const e=t[$i];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=yT(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=yT(t,!0);return Qd(n,(i,a)=>{wg(n,i,SB(a))},r),e&&(e.finalized_=!1),n}var Hue=new jue,bB=Hue.produce;function TB(t){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,t):i(a)}var Gue=TB(),Vue=TB,Wue=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Sg:Sg.apply(null,arguments)};function os(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(Oa(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>dB(r)&&r.type===t,n}var wB=class q0 extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,q0.prototype)}static get[Symbol.species](){return q0}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new q0(...e[0].concat(this)):new q0(...e.concat(this))}};function WN(t){return Rs(t)?bB(t,()=>{}):t}function yv(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function Yue(t){return typeof t=="boolean"}var Xue=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=e??{};let s=new wB;return n&&(Yue(n)?s.push(Gue):s.push(Vue(n.extraArgument))),s},AB="RTK_autoBatch",ir=()=>t=>({payload:t,meta:{[AB]:!0}}),YN=t=>e=>{setTimeout(e,t)},MB=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,a=!1,s=!1;const l=new Set,u=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:YN(10):t.type==="callback"?t.queueNotification:YN(t.timeout),f=()=>{s=!1,a&&(a=!1,l.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const p=()=>i&&h(),m=r.subscribe(p);return l.add(h),()=>{m(),l.delete(h)}},dispatch(h){var p;try{return i=!((p=h==null?void 0:h.meta)!=null&&p[AB]),a=!i,a&&(s||(s=!0,u(f))),r.dispatch(h)}finally{i=!0}}})},que=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new wB(t);return r&&i.push(MB(typeof r=="object"?r:void 0)),i};function Kue(t){const e=Xue(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:s=void 0}=t||{};let l;if(typeof n=="function")l=n;else if(Fw(n))l=hB(n);else throw new Error(Oa(1));let u;typeof r=="function"?u=r(e):u=e();let f=Sg;i&&(f=Wue({trace:!1,...typeof i=="object"&&i}));const h=Cue(...u),p=que(h);let m=typeof s=="function"?s(p):p();const g=f(...m);return fB(l,a,g)}function CB(t){const e={},n=[];let r;const i={addCase(a,s){const l=typeof a=="string"?a:a.type;if(!l)throw new Error(Oa(28));if(l in e)throw new Error(Oa(29));return e[l]=s,i},addAsyncThunk(a,s){return s.pending&&(e[a.pending.type]=s.pending),s.rejected&&(e[a.rejected.type]=s.rejected),s.fulfilled&&(e[a.fulfilled.type]=s.fulfilled),s.settled&&n.push({matcher:a.settled,reducer:s.settled}),i},addMatcher(a,s){return n.push({matcher:a,reducer:s}),i},addDefaultCase(a){return r=a,i}};return t(i),[e,n,r]}function $ue(t){return typeof t=="function"}function Zue(t,e){let[n,r,i]=CB(e),a;if($ue(t))a=()=>WN(t());else{const l=WN(t);a=()=>l}function s(l=a(),u){let f=[n[u.type],...r.filter(({matcher:h})=>h(u)).map(({reducer:h})=>h)];return f.filter(h=>!!h).length===0&&(f=[i]),f.reduce((h,p)=>{if(p)if($o(h)){const g=p(h,u);return g===void 0?h:g}else{if(Rs(h))return bB(h,m=>p(m,u));{const m=p(h,u);if(m===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}}return h},l)}return s.getInitialState=a,s}var Jue="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Que=(t=21)=>{let e="",n=t;for(;n--;)e+=Jue[Math.random()*64|0];return e},efe=Symbol.for("rtk-slice-createasyncthunk");function tfe(t,e){return`${t}/${e}`}function nfe({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[efe];return function(i){const{name:a,reducerPath:s=a}=i;if(!a)throw new Error(Oa(11));const l=(typeof i.reducers=="function"?i.reducers(ife()):i.reducers)||{},u=Object.keys(l),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(M,A){const C=typeof M=="string"?M:M.type;if(!C)throw new Error(Oa(12));if(C in f.sliceCaseReducersByType)throw new Error(Oa(13));return f.sliceCaseReducersByType[C]=A,h},addMatcher(M,A){return f.sliceMatchers.push({matcher:M,reducer:A}),h},exposeAction(M,A){return f.actionCreators[M]=A,h},exposeCaseReducer(M,A){return f.sliceCaseReducersByName[M]=A,h}};u.forEach(M=>{const A=l[M],C={reducerName:M,type:tfe(a,M),createNotation:typeof i.reducers=="function"};sfe(A)?lfe(C,A,h,e):afe(C,A,h)});function p(){const[M={},A=[],C=void 0]=typeof i.extraReducers=="function"?CB(i.extraReducers):[i.extraReducers],R={...M,...f.sliceCaseReducersByType};return Zue(i.initialState,F=>{for(let O in R)F.addCase(O,R[O]);for(let O of f.sliceMatchers)F.addMatcher(O.matcher,O.reducer);for(let O of A)F.addMatcher(O.matcher,O.reducer);C&&F.addDefaultCase(C)})}const m=M=>M,g=new Map,_=new WeakMap;let x;function y(M,A){return x||(x=p()),x(M,A)}function E(){return x||(x=p()),x.getInitialState()}function w(M,A=!1){function C(F){let O=F[M];return typeof O>"u"&&A&&(O=yv(_,C,E)),O}function R(F=m){const O=yv(g,A,()=>new WeakMap);return yv(O,F,()=>{const k={};for(const[D,U]of Object.entries(i.selectors??{}))k[D]=rfe(U,F,()=>yv(_,F,E),A);return k})}return{reducerPath:M,getSelectors:R,get selectors(){return R(C)},selectSlice:C}}const b={name:a,reducer:y,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:E,...w(s),injectInto(M,{reducerPath:A,...C}={}){const R=A??s;return M.inject({reducerPath:R,reducer:y},C),{...b,...w(R,!0)}}};return b}}function rfe(t,e,n,r){function i(a,...s){let l=e(a);return typeof l>"u"&&r&&(l=n()),t(l,...s)}return i.unwrapped=t,i}var ua=nfe();function ife(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function afe({type:t,reducerName:e,createNotation:n},r,i){let a,s;if("reducer"in r){if(n&&!ofe(r))throw new Error(Oa(17));a=r.reducer,s=r.prepare}else a=r;i.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,s?os(t,s):os(t))}function sfe(t){return t._reducerDefinitionType==="asyncThunk"}function ofe(t){return t._reducerDefinitionType==="reducerWithPrepare"}function lfe({type:t,reducerName:e},n,r,i){if(!i)throw new Error(Oa(18));const{payloadCreator:a,fulfilled:s,pending:l,rejected:u,settled:f,options:h}=n,p=i(t,a,h);r.exposeAction(e,p),s&&r.addCase(p.fulfilled,s),l&&r.addCase(p.pending,l),u&&r.addCase(p.rejected,u),f&&r.addMatcher(p.settled,f),r.exposeCaseReducer(e,{fulfilled:s||Ev,pending:l||Ev,rejected:u||Ev,settled:f||Ev})}function Ev(){}var cfe="task",RB="listener",OB="completed",Gw="cancelled",ufe=`task-${Gw}`,ffe=`task-${OB}`,AT=`${RB}-${Gw}`,hfe=`${RB}-${OB}`,Rx=class{constructor(t){py(this,"name","TaskAbortError");py(this,"message");this.code=t,this.message=`${cfe} ${Gw} (reason: ${t})`}},Vw=(t,e)=>{if(typeof t!="function")throw new TypeError(Oa(32))},Mg=()=>{},PB=(t,e=Mg)=>(t.catch(e),t),DB=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),tu=t=>{if(t.aborted)throw new Rx(t.reason)};function NB(t,e){let n=Mg;return new Promise((r,i)=>{const a=()=>i(new Rx(t.reason));if(t.aborted){a();return}n=DB(t,a),e.finally(()=>n()).then(r,i)}).finally(()=>{n=Mg})}var dfe=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof Rx?"cancelled":"rejected",error:n}}finally{e==null||e()}},Cg=t=>e=>PB(NB(t,e).then(n=>(tu(t),n))),kB=t=>{const e=Cg(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:eh}=Object,XN={},Ox="listenerMiddleware",pfe=(t,e)=>{const n=r=>DB(t,()=>r.abort(t.reason));return(r,i)=>{Vw(r);const a=new AbortController;n(a);const s=dfe(async()=>{tu(t),tu(a.signal);const l=await r({pause:Cg(a.signal),delay:kB(a.signal),signal:a.signal});return tu(a.signal),l},()=>a.abort(ffe));return i!=null&&i.autoJoin&&e.push(s.catch(Mg)),{result:Cg(t)(s),cancel(){a.abort(ufe)}}}},mfe=(t,e)=>{const n=async(r,i)=>{tu(e);let a=()=>{};const l=[new Promise((u,f)=>{let h=t({predicate:r,effect:(p,m)=>{m.unsubscribe(),u([p,m.getState(),m.getOriginalState()])}});a=()=>{h(),f()}})];i!=null&&l.push(new Promise(u=>setTimeout(u,i,null)));try{const u=await NB(e,Promise.race(l));return tu(e),u}finally{a()}};return(r,i)=>PB(n(r,i))},LB=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:a}=t;if(e)i=os(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Oa(21));return Vw(a),{predicate:i,type:e,effect:a}},IB=eh(t=>{const{type:e,predicate:n,effect:r}=LB(t);return{id:Que(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Oa(22))}}},{withTypes:()=>IB}),qN=(t,e)=>{const{type:n,effect:r,predicate:i}=LB(e);return Array.from(t.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},MT=t=>{t.pending.forEach(e=>{e.abort(AT)})},vfe=(t,e)=>()=>{for(const n of e.keys())MT(n);t.clear()},KN=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},FB=eh(os(`${Ox}/add`),{withTypes:()=>FB}),gfe=os(`${Ox}/removeAll`),UB=eh(os(`${Ox}/remove`),{withTypes:()=>UB}),xfe=(...t)=>{console.error(`${Ox}/error`,...t)},tp=(t={})=>{const e=new Map,n=new Map,r=g=>{const _=n.get(g)??0;n.set(g,_+1)},i=g=>{const _=n.get(g)??1;_===1?n.delete(g):n.set(g,_-1)},{extra:a,onError:s=xfe}=t;Vw(s);const l=g=>(g.unsubscribe=()=>e.delete(g.id),e.set(g.id,g),_=>{g.unsubscribe(),_!=null&&_.cancelActive&&MT(g)}),u=g=>{const _=qN(e,g)??IB(g);return l(_)};eh(u,{withTypes:()=>u});const f=g=>{const _=qN(e,g);return _&&(_.unsubscribe(),g.cancelActive&&MT(_)),!!_};eh(f,{withTypes:()=>f});const h=async(g,_,x,y)=>{const E=new AbortController,w=mfe(u,E.signal),b=[];try{g.pending.add(E),r(g),await Promise.resolve(g.effect(_,eh({},x,{getOriginalState:y,condition:(M,A)=>w(M,A).then(Boolean),take:w,delay:kB(E.signal),pause:Cg(E.signal),extra:a,signal:E.signal,fork:pfe(E.signal,b),unsubscribe:g.unsubscribe,subscribe:()=>{e.set(g.id,g)},cancelActiveListeners:()=>{g.pending.forEach((M,A,C)=>{M!==E&&(M.abort(AT),C.delete(M))})},cancel:()=>{E.abort(AT),g.pending.delete(E)},throwIfCancelled:()=>{tu(E.signal)}})))}catch(M){M instanceof Rx||KN(s,M,{raisedBy:"effect"})}finally{await Promise.all(b),E.abort(hfe),i(g),g.pending.delete(E)}},p=vfe(e,n);return{middleware:g=>_=>x=>{if(!dB(x))return _(x);if(FB.match(x))return u(x.payload);if(gfe.match(x)){p();return}if(UB.match(x))return f(x.payload);let y=g.getState();const E=()=>{if(y===XN)throw new Error(Oa(23));return y};let w;try{if(w=_(x),e.size>0){const b=g.getState(),M=Array.from(e.values());for(const A of M){let C=!1;try{C=A.predicate(x,b,y)}catch(R){C=!1,KN(s,R,{raisedBy:"predicate"})}C&&h(A,x,g,E)}}}finally{y=XN}return w},startListening:u,stopListening:f,clearListeners:p}};function Oa(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var _fe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},BB=ua({name:"chartLayout",initialState:_fe,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,a;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(a=e.payload.left)!==null&&a!==void 0?a:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:yfe,setLayout:Efe,setChartSize:Sfe,setScale:bfe}=BB.actions,Tfe=BB.reducer;function zB(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function cr(t){return Number.isFinite(t)}function oc(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function $N(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$N(Object(n),!0).forEach(function(r){wfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$N(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wfe(t,e,n){return(e=Afe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Afe(t){var e=Mfe(t,"string");return typeof e=="symbol"?e:e+""}function Mfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jn(t,e,n){return si(t)||si(e)?n:no(e)?mu(t,e,n):typeof e=="function"?e(t):n}var Cfe=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:a,verticalAlign:s,layout:l}=e;if((l==="vertical"||l==="horizontal"&&s==="middle")&&a!=="center"&&kt(t[a]))return Wf(Wf({},t),{},{[a]:t[a]+(r||0)});if((l==="horizontal"||l==="vertical"&&a==="center")&&s!=="middle"&&kt(t[s]))return Wf(Wf({},t),{},{[s]:t[s]+(i||0)})}return t},Pu=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",ZN=1e-4,Rfe=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-ZN,a=Math.max(r[0],r[1])+ZN,s=t(e[0]),l=t(e[n-1]);(s<i||s>a||l<i||l>a)&&t.domain([e[0],e[n-1]])}},Ofe=(t,e)=>{if(!e||e.length!==2||!kt(e[0])||!kt(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!kt(t[0])||t[0]<n)&&(i[0]=n),(!kt(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},Pfe=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var a=0,s=0,l=0;l<n;++l){var u=t[l],f=u==null?void 0:u[i];if(f!=null){var h=f[1],p=f[0],m=to(h)?p:h;m>=0?(f[0]=a,f[1]=a+m,a=h):(f[0]=s,f[1]=s+m,s=h)}}}},Dfe=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var a=0,s=0;s<n;++s){var l=t[s],u=l==null?void 0:l[i];if(u!=null){var f=to(u[1])?u[0]:u[1];f>=0?(u[0]=a,u[1]=a+f,a=u[1]):(u[0]=0,u[1]=0)}}}},Nfe={sign:Pfe,expand:$le,none:pu,silhouette:Zle,wiggle:Jle,positive:Dfe},kfe=(t,e,n)=>{var r,i=(r=Nfe[n])!==null&&r!==void 0?r:pu,a=Kle().keys(e).value((l,u)=>Number(Jn(l,u,0))).order(vT).offset(i),s=a(t);return s.forEach((l,u)=>{l.forEach((f,h)=>{var p=Jn(t[h],e[u],0);Array.isArray(p)&&p.length===2&&kt(p[0])&&kt(p[1])&&(f[0]=p[0],f[1]=p[1])})}),s};function Lfe(t){return t==null?void 0:String(t)}var JN=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:a,index:s}=t;if(e.type==="category")return n[s]?n[s].coordinate+r:null;var l=Jn(a,e.dataKey,e.scale.domain()[s]);return si(l)?null:e.scale(l)-i/2+r},Ife=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},Ffe=t=>{var e=t.flat(2).filter(kt);return[Math.min(...e),Math.max(...e)]},Ufe=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],Bfe=(t,e,n)=>{if(t!=null)return Ufe(Object.keys(t).reduce((r,i)=>{var a=t[i];if(!a)return r;var{stackedData:s}=a,l=s.reduce((u,f)=>{var h=zB(f,e,n),p=Ffe(h);return!cr(p[0])||!cr(p[1])?u:[Math.min(u[0],p[0]),Math.max(u[1],p[1])]},[1/0,-1/0]);return[Math.min(l[0],r[0]),Math.max(l[1],r[1])]},[1/0,-1/0]))},QN=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,e4=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Rg=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=Sx(e,h=>h.coordinate),a=1/0,s=1,l=i.length;s<l;s++){var u=i[s],f=i[s-1];a=Math.min(((u==null?void 0:u.coordinate)||0)-((f==null?void 0:f.coordinate)||0),a)}return a===1/0?0:a}return n?void 0:0};function t4(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:a}=t;return Wf(Wf({},e),{},{dataKey:n,payload:r,value:i,name:a})}function Px(t,e){if(t)return String(t);if(typeof e=="string")return e}var zfe=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},jfe=(t,e)=>e==="centric"?t.angle:t.radius,sl=t=>t.layout.width,ol=t=>t.layout.height,Hfe=t=>t.layout.scale,jB=t=>t.layout.margin,Dx=De(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),Nx=De(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),HB="data-recharts-item-index",GB="data-recharts-item-id",np=60;function n4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?n4(Object(n),!0).forEach(function(r){Gfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):n4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gfe(t,e,n){return(e=Vfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vfe(t){var e=Wfe(t,"string");return typeof e=="symbol"?e:e+""}function Wfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yfe=t=>t.brush.height;function Xfe(t){var e=Nx(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:np;return n+i}return n},0)}function qfe(t){var e=Nx(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:np;return n+i}return n},0)}function Kfe(t){var e=Dx(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function $fe(t){var e=Dx(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Yr=De([sl,ol,jB,Yfe,Xfe,qfe,Kfe,$fe,cB,Eue],(t,e,n,r,i,a,s,l,u,f)=>{var h={left:(n.left||0)+i,right:(n.right||0)+a},p={top:(n.top||0)+s,bottom:(n.bottom||0)+l},m=Sv(Sv({},p),h),g=m.bottom;m.bottom+=r,m=Cfe(m,u,f);var _=t-m.left-m.right,x=e-m.top-m.bottom;return Sv(Sv({brushBottom:g},m),{},{width:Math.max(_,0),height:Math.max(x,0)})}),Zfe=De(Yr,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),Ww=De(sl,ol,(t,e)=>({x:0,y:0,width:t,height:e})),Jfe=P.createContext(null),Na=()=>P.useContext(Jfe)!=null,kx=t=>t.brush,Lx=De([kx,Yr,jB],(t,e,n)=>({height:t.height,x:kt(t.x)?t.x:e.left,y:kt(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:kt(t.width)?t.width:e.width})),_S={},yS={},ES={},r4;function Qfe(){return r4||(r4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:a}={}){let s,l=null;const u=a!=null&&a.includes("leading"),f=a==null||a.includes("trailing"),h=()=>{l!==null&&(n.apply(s,l),s=void 0,l=null)},p=()=>{f&&h(),x()};let m=null;const g=()=>{m!=null&&clearTimeout(m),m=setTimeout(()=>{m=null,p()},r)},_=()=>{m!==null&&(clearTimeout(m),m=null)},x=()=>{_(),s=void 0,l=null},y=()=>{h()},E=function(...w){if(i!=null&&i.aborted)return;s=this,l=w;const b=m==null;g(),u&&b&&h()};return E.schedule=g,E.cancel=x,E.flush=y,i==null||i.addEventListener("abort",x,{once:!0}),E}t.debounce=e})(ES)),ES}var i4;function ehe(){return i4||(i4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Qfe();function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:l=!0,maxWait:u}=a,f=Array(2);s&&(f[0]="leading"),l&&(f[1]="trailing");let h,p=null;const m=e.debounce(function(...x){h=r.apply(this,x),p=null},i,{edges:f}),g=function(...x){return u!=null&&(p===null&&(p=Date.now()),Date.now()-p>=u)?(h=r.apply(this,x),p=Date.now(),m.cancel(),m.schedule(),h):(m.apply(this,x),h)},_=()=>(m.flush(),h);return g.cancel=m.cancel,g.flush=_,g}t.debounce=n})(yS)),yS}var a4;function the(){return a4||(a4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ehe();function n(r,i=0,a={}){const{leading:s=!0,trailing:l=!0}=a;return e.debounce(r,i,{leading:s,maxWait:i,trailing:l})}t.throttle=n})(_S)),_S}var SS,s4;function nhe(){return s4||(s4=1,SS=the().throttle),SS}var rhe=nhe();const ihe=Os(rhe);var o4=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;console.warn(n.replace(/%s/g,()=>i[s++]))}},VB=(t,e,n)=>{var{width:r="100%",height:i="100%",aspect:a,maxHeight:s}=n,l=Ko(r)?t:Number(r),u=Ko(i)?e:Number(i);return a&&a>0&&(l?u=l/a:u&&(l=u*a),s&&u!=null&&u>s&&(u=s)),{calculatedWidth:l,calculatedHeight:u}},ahe={width:0,height:0,overflow:"visible"},she={width:0,overflowX:"visible"},ohe={height:0,overflowY:"visible"},lhe={},che=t=>{var{width:e,height:n}=t,r=Ko(e),i=Ko(n);return r&&i?ahe:r?she:i?ohe:lhe};function uhe(t){var{width:e,height:n,aspect:r}=t,i=e,a=n;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=r&&r>0?void 0:"100%":a===void 0&&(a=r&&r>0?void 0:"100%"),{width:i,height:a}}function CT(){return CT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},CT.apply(null,arguments)}function l4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function c4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?l4(Object(n),!0).forEach(function(r){fhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fhe(t,e,n){return(e=hhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hhe(t){var e=dhe(t,"string");return typeof e=="symbol"?e:e+""}function dhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var WB=P.createContext({width:-1,height:-1});function phe(t){return oc(t.width)&&oc(t.height)}function YB(t){var{children:e,width:n,height:r}=t,i=P.useMemo(()=>({width:n,height:r}),[n,r]);return phe(i)?P.createElement(WB.Provider,{value:i},e):null}var Yw=()=>P.useContext(WB),mhe=P.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:a,minWidth:s=0,minHeight:l,maxHeight:u,children:f,debounce:h=0,id:p,className:m,onResize:g,style:_={}}=t,x=P.useRef(null),y=P.useRef();y.current=g,P.useImperativeHandle(e,()=>x.current);var[E,w]=P.useState({containerWidth:r.width,containerHeight:r.height}),b=P.useCallback((F,O)=>{w(k=>{var D=Math.round(F),U=Math.round(O);return k.containerWidth===D&&k.containerHeight===U?k:{containerWidth:D,containerHeight:U}})},[]);P.useEffect(()=>{if(x.current==null||typeof ResizeObserver>"u")return Zd;var F=U=>{var Z,{width:se,height:oe}=U[0].contentRect;b(se,oe),(Z=y.current)===null||Z===void 0||Z.call(y,se,oe)};h>0&&(F=ihe(F,h,{trailing:!0,leading:!1}));var O=new ResizeObserver(F),{width:k,height:D}=x.current.getBoundingClientRect();return b(k,D),O.observe(x.current),()=>{O.disconnect()}},[b,h]);var{containerWidth:M,containerHeight:A}=E;o4(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:C,calculatedHeight:R}=VB(M,A,{width:i,height:a,aspect:n,maxHeight:u});return o4(C!=null&&C>0||R!=null&&R>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,C,R,i,a,s,l,n),P.createElement("div",{id:p?"".concat(p):void 0,className:Ln("recharts-responsive-container",m),style:c4(c4({},_),{},{width:i,height:a,minWidth:s,minHeight:l,maxHeight:u}),ref:x},P.createElement("div",{style:che({width:i,height:a})},P.createElement(YB,{width:C,height:R},f)))}),bS=P.forwardRef((t,e)=>{var n=Yw();if(oc(n.width)&&oc(n.height))return t.children;var{width:r,height:i}=uhe({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:a,calculatedHeight:s}=VB(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return kt(a)&&kt(s)?P.createElement(YB,{width:a,height:s},t.children):P.createElement(mhe,CT({},t,{width:r,height:i,ref:e}))});function XB(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var Ix=()=>{var t,e=Na(),n=Ot(Zfe),r=Ot(Lx),i=(t=Ot(kx))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},vhe={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},ghe=()=>{var t;return(t=Ot(Yr))!==null&&t!==void 0?t:vhe},qB=()=>Ot(sl),KB=()=>Ot(ol),xhe=()=>Ot(t=>t.layout.margin),En=t=>t.layout.layoutType,rp=()=>Ot(En),_he=()=>{var t=rp();return t!==void 0},Fx=t=>{var e=Xn(),n=Na(),{width:r,height:i}=t,a=Yw(),s=r,l=i;return a&&(s=a.width>0?a.width:r,l=a.height>0?a.height:i),P.useEffect(()=>{!n&&oc(s)&&oc(l)&&e(Sfe({width:s,height:l}))},[e,n,s,l]),null},$B=Symbol.for("immer-nothing"),u4=Symbol.for("immer-draftable"),Da=Symbol.for("immer-state");function ys(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Od=Object.getPrototypeOf;function hh(t){return!!t&&!!t[Da]}function gu(t){var e;return t?ZB(t)||Array.isArray(t)||!!t[u4]||!!((e=t.constructor)!=null&&e[u4])||ip(t)||Bx(t):!1}var yhe=Object.prototype.constructor.toString(),f4=new WeakMap;function ZB(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=f4.get(n);return r===void 0&&(r=Function.toString.call(n),f4.set(n,r)),r===yhe}function Og(t,e,n=!0){Ux(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function Ux(t){const e=t[Da];return e?e.type_:Array.isArray(t)?1:ip(t)?2:Bx(t)?3:0}function RT(t,e){return Ux(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function JB(t,e,n){const r=Ux(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function Ehe(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function ip(t){return t instanceof Map}function Bx(t){return t instanceof Set}function zc(t){return t.copy_||t.base_}function OT(t,e){if(ip(t))return new Map(t);if(Bx(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=ZB(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[Da];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],l=r[s];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(r[s]={configurable:!0,writable:!0,enumerable:l.enumerable,value:t[s]})}return Object.create(Od(t),r)}else{const r=Od(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function Xw(t,e=!1){return zx(t)||hh(t)||!gu(t)||(Ux(t)>1&&Object.defineProperties(t,{set:bv,add:bv,clear:bv,delete:bv}),Object.freeze(t),e&&Object.values(t).forEach(n=>Xw(n,!0))),t}function She(){ys(2)}var bv={value:She};function zx(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var bhe={};function xu(t){const e=bhe[t];return e||ys(0,t),e}var Pd;function QB(){return Pd}function The(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function h4(t,e){e&&(xu("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function PT(t){DT(t),t.drafts_.forEach(whe),t.drafts_=null}function DT(t){t===Pd&&(Pd=t.parent_)}function d4(t){return Pd=The(Pd,t)}function whe(t){const e=t[Da];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function p4(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Da].modified_&&(PT(e),ys(4)),gu(t)&&(t=Pg(e,t),e.parent_||Dg(e,t)),e.patches_&&xu("Patches").generateReplacementPatches_(n[Da].base_,t,e.patches_,e.inversePatches_)):t=Pg(e,n,[]),PT(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==$B?t:void 0}function Pg(t,e,n){if(zx(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[Da];if(!i)return Og(e,(a,s)=>m4(t,i,e,a,s,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return Dg(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let s=a,l=!1;i.type_===3&&(s=new Set(a),a.clear(),l=!0),Og(s,(u,f)=>m4(t,i,a,u,f,n,l),r),Dg(t,a,!1),n&&t.patches_&&xu("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function m4(t,e,n,r,i,a,s){if(i==null||typeof i!="object"&&!s)return;const l=zx(i);if(!(l&&!s)){if(hh(i)){const u=a&&e&&e.type_!==3&&!RT(e.assigned_,r)?a.concat(r):void 0,f=Pg(t,i,u);if(JB(n,r,f),hh(f))t.canAutoFreeze_=!1;else return}else s&&n.add(i);if(gu(i)&&!l){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&l)return;Pg(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(ip(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Dg(t,i)}}}function Dg(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&Xw(e,n)}function Ahe(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:QB(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=qw;n&&(i=[r],a=Dd);const{revoke:s,proxy:l}=Proxy.revocable(i,a);return r.draft_=l,r.revoke_=s,l}var qw={get(t,e){if(e===Da)return t;const n=zc(t);if(!RT(n,e))return Mhe(t,n,e);const r=n[e];return t.finalized_||!gu(r)?r:r===TS(t.base_,e)?(wS(t),t.copy_[e]=kT(r,t)):r},has(t,e){return e in zc(t)},ownKeys(t){return Reflect.ownKeys(zc(t))},set(t,e,n){const r=e6(zc(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=TS(zc(t),e),a=i==null?void 0:i[Da];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(Ehe(n,i)&&(n!==void 0||RT(t.base_,e)))return!0;wS(t),NT(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return TS(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,wS(t),NT(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=zc(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){ys(11)},getPrototypeOf(t){return Od(t.base_)},setPrototypeOf(){ys(12)}},Dd={};Og(qw,(t,e)=>{Dd[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Dd.deleteProperty=function(t,e){return Dd.set.call(this,t,e,void 0)};Dd.set=function(t,e,n){return qw.set.call(this,t[0],e,n,t[0])};function TS(t,e){const n=t[Da];return(n?zc(n):t)[e]}function Mhe(t,e,n){var i;const r=e6(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function e6(t,e){if(!(e in t))return;let n=Od(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Od(n)}}function NT(t){t.modified_||(t.modified_=!0,t.parent_&&NT(t.parent_))}function wS(t){t.copy_||(t.copy_=OT(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Che=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const a=n;n=e;const s=this;return function(u=a,...f){return s.produce(u,h=>n.call(this,h,...f))}}typeof n!="function"&&ys(6),r!==void 0&&typeof r!="function"&&ys(7);let i;if(gu(e)){const a=d4(this),s=kT(e,void 0);let l=!0;try{i=n(s),l=!1}finally{l?PT(a):DT(a)}return h4(a,r),p4(i,a)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===$B&&(i=void 0),this.autoFreeze_&&Xw(i,!0),r){const a=[],s=[];xu("Patches").generateReplacementPatches_(e,i,a,s),r(a,s)}return i}else ys(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(s,...l)=>this.produceWithPatches(s,u=>e(u,...l));let r,i;return[this.produce(e,n,(s,l)=>{r=s,i=l}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof(t==null?void 0:t.useStrictIteration)=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){gu(t)||ys(8),hh(t)&&(t=Rhe(t));const e=d4(this),n=kT(t,void 0);return n[Da].isManual_=!0,DT(e),n}finishDraft(t,e){const n=t&&t[Da];(!n||!n.isManual_)&&ys(9);const{scope_:r}=n;return h4(r,e),p4(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=xu("Patches").applyPatches_;return hh(t)?r(t,e):this.produce(t,i=>r(i,e))}};function kT(t,e){const n=ip(t)?xu("MapSet").proxyMap_(t,e):Bx(t)?xu("MapSet").proxySet_(t,e):Ahe(t,e);return(e?e.scope_:QB()).drafts_.push(n),n}function Rhe(t){return hh(t)||ys(10,t),t6(t)}function t6(t){if(!gu(t)||zx(t))return t;const e=t[Da];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=OT(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=OT(t,!0);return Og(n,(i,a)=>{JB(n,i,t6(a))},r),e&&(e.finalized_=!1),n}var Ohe=new Che;Ohe.produce;var Phe={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},n6=ua({name:"legend",initialState:Phe,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:ir()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Cs(t).payload.indexOf(n);i>-1&&(t.payload[i]=r)},prepare:ir()},removeLegendPayload:{reducer(t,e){var n=Cs(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:ir()}}}),{setLegendSize:v4,setLegendSettings:Dhe,addLegendPayload:r6,replaceLegendPayload:i6,removeLegendPayload:a6}=n6.actions,Nhe=n6.reducer,khe=["contextPayload"];function LT(){return LT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},LT.apply(null,arguments)}function g4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?g4(Object(n),!0).forEach(function(r){Lhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lhe(t,e,n){return(e=Ihe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ihe(t){var e=Fhe(t,"string");return typeof e=="symbol"?e:e+""}function Fhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Uhe(t,e){if(t==null)return{};var n,r,i=Bhe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Bhe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function zhe(t){return t.value}function jhe(t){var{contextPayload:e}=t,n=Uhe(t,khe),r=aB(e,t.payloadUniqBy,zhe),i=dh(dh({},n),{},{payload:r});return P.isValidElement(t.content)?P.cloneElement(t.content,i):typeof t.content=="function"?P.createElement(t.content,i):P.createElement(Oce,i)}function Hhe(t,e,n,r,i,a){var{layout:s,align:l,verticalAlign:u}=e,f,h;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(l==="center"&&s==="vertical"?f={left:((r||0)-a.width)/2}:f=l==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(u==="middle"?h={top:((i||0)-a.height)/2}:h=u==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),dh(dh({},f),h)}function Ghe(t){var e=Xn();return P.useEffect(()=>{e(Dhe(t))},[e,t]),null}function Vhe(t){var e=Xn();return P.useEffect(()=>(e(v4(t)),()=>{e(v4({width:0,height:0}))}),[e,t]),null}function Whe(t,e,n,r){return t==="vertical"&&kt(e)?{height:e}:t==="horizontal"?{width:n||r}:null}var Yhe={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function s6(t){var e=Ti(t,Yhe),n=Tue(),r=_le(),i=xhe(),{width:a,height:s,wrapperStyle:l,portal:u}=e,[f,h]=uB([n]),p=qB(),m=KB();if(p==null||m==null)return null;var g=p-((i==null?void 0:i.left)||0)-((i==null?void 0:i.right)||0),_=Whe(e.layout,s,a,g),x=u?l:dh(dh({position:"absolute",width:(_==null?void 0:_.width)||a||"auto",height:(_==null?void 0:_.height)||s||"auto"},Hhe(l,e,i,p,m,f)),l),y=u??r;if(y==null||n==null)return null;var E=P.createElement("div",{className:"recharts-legend-wrapper",style:x,ref:h},P.createElement(Ghe,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),!u&&P.createElement(Vhe,{width:f.width,height:f.height}),P.createElement(jhe,LT({},e,_,{margin:i,chartWidth:p,chartHeight:m,contextPayload:n})));return Mw.createPortal(E,y)}s6.displayName="Legend";function IT(){return IT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},IT.apply(null,arguments)}function x4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function AS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?x4(Object(n),!0).forEach(function(r){Xhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xhe(t,e,n){return(e=qhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qhe(t){var e=Khe(t,"string");return typeof e=="symbol"?e:e+""}function Khe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $he(t){return Array.isArray(t)&&no(t[0])&&no(t[1])?t.join(" ~ "):t}var Zhe=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:s,itemSorter:l,wrapperClassName:u,labelClassName:f,label:h,labelFormatter:p,accessibilityLayer:m=!1}=t,g=()=>{if(a&&a.length){var A={padding:0,margin:0},C=(l?Sx(a,l):a).map((R,F)=>{if(R.type==="none")return null;var O=R.formatter||s||$he,{value:k,name:D}=R,U=k,Z=D;if(O){var se=O(k,D,R,F,a);if(Array.isArray(se))[U,Z]=se;else if(se!=null)U=se;else return null}var oe=AS({display:"block",paddingTop:4,paddingBottom:4,color:R.color||"#000"},r);return P.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(F),style:oe},no(Z)?P.createElement("span",{className:"recharts-tooltip-item-name"},Z):null,no(Z)?P.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,P.createElement("span",{className:"recharts-tooltip-item-value"},U),P.createElement("span",{className:"recharts-tooltip-item-unit"},R.unit||""))});return P.createElement("ul",{className:"recharts-tooltip-item-list",style:A},C)}return null},_=AS({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),x=AS({margin:0},i),y=!si(h),E=y?h:"",w=Ln("recharts-default-tooltip",u),b=Ln("recharts-tooltip-label",f);y&&p&&a!==void 0&&a!==null&&(E=p(h,a));var M=m?{role:"status","aria-live":"assertive"}:{};return P.createElement("div",IT({className:w,style:_},M),P.createElement("p",{className:b,style:x},P.isValidElement(E)?E:"".concat(E)),g())},k0="recharts-tooltip-wrapper",Jhe={visibility:"hidden"};function Qhe(t){var{coordinate:e,translateX:n,translateY:r}=t;return Ln(k0,{["".concat(k0,"-right")]:kt(n)&&e&&kt(e.x)&&n>=e.x,["".concat(k0,"-left")]:kt(n)&&e&&kt(e.x)&&n<e.x,["".concat(k0,"-bottom")]:kt(r)&&e&&kt(e.y)&&r>=e.y,["".concat(k0,"-top")]:kt(r)&&e&&kt(e.y)&&r<e.y})}function _4(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:s,tooltipDimension:l,viewBox:u,viewBoxDimension:f}=t;if(a&&kt(a[r]))return a[r];var h=n[r]-l-(i>0?i:0),p=n[r]+i;if(e[r])return s[r]?h:p;var m=u[r];if(m==null)return 0;if(s[r]){var g=h,_=m;return g<_?Math.max(p,m):Math.max(h,m)}if(f==null)return 0;var x=p+l,y=m+f;return x>y?Math.max(h,m):Math.max(p,m)}function e0e(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function t0e(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:s,useTranslate3d:l,viewBox:u}=t,f,h,p;return s.height>0&&s.width>0&&n?(h=_4({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:u,viewBoxDimension:u.width}),p=_4({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:u,viewBoxDimension:u.height}),f=e0e({translateX:h,translateY:p,useTranslate3d:l})):f=Jhe,{cssProperties:f,cssClasses:Qhe({translateX:h,translateY:p,coordinate:n})}}function y4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?y4(Object(n),!0).forEach(function(r){FT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FT(t,e,n){return(e=n0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n0e(t){var e=r0e(t,"string");return typeof e=="symbol"?e:e+""}function r0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class i0e extends P.PureComponent{constructor(){super(...arguments),FT(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),FT(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:s,hasPayload:l,isAnimationActive:u,offset:f,position:h,reverseDirection:p,useTranslate3d:m,viewBox:g,wrapperStyle:_,lastBoundingBox:x,innerRef:y,hasPortalFromProps:E}=this.props,{cssClasses:w,cssProperties:b}=t0e({allowEscapeViewBox:n,coordinate:s,offsetTopLeft:f,position:h,reverseDirection:p,tooltipBox:{height:x.height,width:x.width},useTranslate3d:m,viewBox:g}),M=E?{}:Tv(Tv({transition:u&&e?"transform ".concat(r,"ms ").concat(i):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&l?"visible":"hidden",position:"absolute",top:0,left:0}),A=Tv(Tv({},M),{},{visibility:!this.state.dismissed&&e&&l?"visible":"hidden"},_);return P.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:w,style:A,ref:y},a)}}var o6=()=>{var t;return(t=Ot(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function UT(){return UT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},UT.apply(null,arguments)}function E4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function S4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?E4(Object(n),!0).forEach(function(r){a0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function a0e(t,e,n){return(e=s0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s0e(t){var e=o0e(t,"string");return typeof e=="symbol"?e:e+""}function o0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var b4={curveBasisClosed:Ule,curveBasisOpen:Ble,curveBasis:Fle,curveBumpX:ble,curveBumpY:Tle,curveLinearClosed:zle,curveLinear:yx,curveMonotoneX:jle,curveMonotoneY:Hle,curveNatural:Gle,curveStep:Vle,curveStepAfter:Yle,curveStepBefore:Wle},Ng=t=>cr(t.x)&&cr(t.y),T4=t=>t.base!=null&&Ng(t.base)&&Ng(t),L0=t=>t.x,I0=t=>t.y,l0e=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat($d(t));return(n==="curveMonotone"||n==="curveBump")&&e?b4["".concat(n).concat(e==="vertical"?"Y":"X")]:b4[n]||yx},c0e=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=t,s=l0e(e,i),l=a?n.filter(Ng):n,u;if(Array.isArray(r)){var f=n.map((g,_)=>S4(S4({},g),{},{base:r[_]}));i==="vertical"?u=vv().y(I0).x1(L0).x0(g=>g.base.x):u=vv().x(L0).y1(I0).y0(g=>g.base.y);var h=u.defined(T4).curve(s),p=a?f.filter(T4):f;return h(p)}i==="vertical"&&kt(r)?u=vv().y(I0).x1(L0).x0(r):kt(r)?u=vv().x(L0).y1(I0).y0(r):u=L5().x(L0).y(I0);var m=u.defined(Ng).curve(s);return m(l)},Kw=t=>{var{className:e,points:n,path:r,pathRef:i}=t,a=rp();if((!n||!n.length)&&!r)return null;var s={type:t.type,points:t.points,baseLine:t.baseLine,layout:t.layout||a,connectNulls:t.connectNulls},l=n&&n.length?c0e(s):r;return P.createElement("path",UT({},eo(t),gce(t),{className:Ln("recharts-curve",e),d:l===null?void 0:l,ref:i}))},u0e=["x","y","top","left","width","height","className"];function BT(){return BT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},BT.apply(null,arguments)}function w4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function f0e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w4(Object(n),!0).forEach(function(r){h0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function h0e(t,e,n){return(e=d0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d0e(t){var e=p0e(t,"string");return typeof e=="symbol"?e:e+""}function p0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function m0e(t,e){if(t==null)return{};var n,r,i=v0e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function v0e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var g0e=(t,e,n,r,i,a)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(a,",").concat(e,"h").concat(n),x0e=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:a=0,height:s=0,className:l}=t,u=m0e(t,u0e),f=f0e({x:e,y:n,top:r,left:i,width:a,height:s},u);return!kt(e)||!kt(n)||!kt(a)||!kt(s)||!kt(r)||!kt(i)?null:P.createElement("path",BT({},ss(f),{className:Ln("recharts-cross",l),d:g0e(e,n,a,s,r,i)}))};function _0e(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function A4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function M4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?A4(Object(n),!0).forEach(function(r){y0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function y0e(t,e,n){return(e=E0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function E0e(t){var e=S0e(t,"string");return typeof e=="symbol"?e:e+""}function S0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var b0e=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),l6=(t,e,n)=>t.map(r=>"".concat(b0e(r)," ").concat(e,"ms ").concat(n)).join(","),T0e=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),Nd=(t,e)=>Object.keys(e).reduce((n,r)=>M4(M4({},n),{},{[r]:t(r,e[r])}),{});function C4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?C4(Object(n),!0).forEach(function(r){w0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function w0e(t,e,n){return(e=A0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A0e(t){var e=M0e(t,"string");return typeof e=="symbol"?e:e+""}function M0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kg=(t,e,n)=>t+(e-t)*n,zT=t=>{var{from:e,to:n}=t;return e!==n},c6=(t,e,n)=>{var r=Nd((i,a)=>{if(zT(a)){var[s,l]=t(a.from,a.to,a.velocity);return zr(zr({},a),{},{from:s,velocity:l})}return a},e);return n<1?Nd((i,a)=>zT(a)&&r[i]!=null?zr(zr({},a),{},{velocity:kg(a.velocity,r[i].velocity,n),from:kg(a.from,r[i].from,n)}):a,e):c6(t,r,n-1)};function C0e(t,e,n,r,i,a){var s,l=r.reduce((m,g)=>zr(zr({},m),{},{[g]:{from:t[g],velocity:0,to:e[g]}}),{}),u=()=>Nd((m,g)=>g.from,l),f=()=>!Object.values(l).filter(zT).length,h=null,p=m=>{s||(s=m);var g=m-s,_=g/n.dt;l=c6(n,l,_),i(zr(zr(zr({},t),e),u())),s=m,f()||(h=a.setTimeout(p))};return()=>(h=a.setTimeout(p),()=>{var m;(m=h)===null||m===void 0||m()})}function R0e(t,e,n,r,i,a,s){var l=null,u=i.reduce((p,m)=>{var g=t[m],_=e[m];return g==null||_==null?p:zr(zr({},p),{},{[m]:[g,_]})},{}),f,h=p=>{f||(f=p);var m=(p-f)/r,g=Nd((x,y)=>kg(...y,n(m)),u);if(a(zr(zr(zr({},t),e),g)),m<1)l=s.setTimeout(h);else{var _=Nd((x,y)=>kg(...y,n(1)),u);a(zr(zr(zr({},t),e),_))}};return()=>(l=s.setTimeout(h),()=>{var p;(p=l)===null||p===void 0||p()})}const O0e=(t,e,n,r,i,a)=>{var s=T0e(t,e);return n==null?()=>(i(zr(zr({},t),e)),()=>{}):n.isStepper===!0?C0e(t,e,n,s,i,a):R0e(t,e,n,r,s,i,a)};var Lg=1e-4,u6=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],f6=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),R4=(t,e)=>n=>{var r=u6(t,e);return f6(r,n)},P0e=(t,e)=>n=>{var r=u6(t,e),i=[...r.map((a,s)=>a*s).slice(1),0];return f6(i,n)},D0e=t=>{var e,n=t.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(e=n[1])===null||e===void 0||(e=e.split(")")[0])===null||e===void 0?void 0:e.split(",");if(r==null||r.length!==4)return null;var i=r.map(a=>parseFloat(a));return[i[0],i[1],i[2],i[3]]},N0e=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=D0e(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},k0e=(t,e,n,r)=>{var i=R4(t,n),a=R4(e,r),s=P0e(t,n),l=f=>f>1?1:f<0?0:f,u=f=>{for(var h=f>1?1:f,p=h,m=0;m<8;++m){var g=i(p)-h,_=s(p);if(Math.abs(g-h)<Lg||_<Lg)return a(p);p=l(p-g/_)}return a(p)};return u.isStepper=!1,u},O4=function(){return k0e(...N0e(...arguments))},L0e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,a=(s,l,u)=>{var f=-(s-l)*n,h=u*r,p=u+(f-h)*i/1e3,m=u*i/1e3+s;return Math.abs(m-l)<Lg&&Math.abs(p)<Lg?[l,0]:[m,p]};return a.isStepper=!0,a.dt=i,a},I0e=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return O4(t);case"spring":return L0e();default:if(t.split("(")[0]==="cubic-bezier")return O4(t)}return typeof t=="function"?t:null};function F0e(t){var e,n=()=>null,r=!1,i=null,a=s=>{if(!r){if(Array.isArray(s)){if(!s.length)return;var l=s,[u,...f]=l;if(typeof u=="number"){i=t.setTimeout(a.bind(null,f),u);return}a(u),i=t.setTimeout(a.bind(null,f));return}typeof s=="string"&&(e=s,n(e)),typeof s=="object"&&(e=s,n(e)),typeof s=="function"&&s()}};return{stop:()=>{r=!0},start:s=>{r=!1,i&&(i(),i=null),a(s)},subscribe:s=>(n=s,()=>{n=()=>null}),getTimeoutController:()=>t}}class U0e{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=s=>{s-r>=n?e(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function B0e(){return F0e(new U0e)}var z0e=P.createContext(B0e);function j0e(t,e){var n=P.useContext(z0e);return P.useMemo(()=>e??n(t),[t,e,n])}var H0e=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),jx={isSsr:H0e()},G0e={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},P4={t:0},MS={t:1};function Hx(t){var e=Ti(t,G0e),{isActive:n,canBegin:r,duration:i,easing:a,begin:s,onAnimationEnd:l,onAnimationStart:u,children:f}=e,h=n==="auto"?!jx.isSsr:n,p=j0e(e.animationId,e.animationManager),[m,g]=P.useState(h?P4:MS),_=P.useRef(null);return P.useEffect(()=>{h||g(MS)},[h]),P.useEffect(()=>{if(!h||!r)return Zd;var x=O0e(P4,MS,I0e(a),i,g,p.getTimeoutController()),y=()=>{_.current=x()};return p.start([u,s,y,i,l]),()=>{p.stop(),_.current&&_.current(),l()}},[h,r,i,a,s,u,l,p]),f(m.t)}function Gx(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=P.useRef(Ad(e)),r=P.useRef(t);return r.current!==t&&(n.current=Ad(e),r.current=t),n.current}var V0e=["radius"],W0e=["radius"],D4,N4,k4,L4,I4,F4,U4,B4,z4,j4;function H4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function G4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H4(Object(n),!0).forEach(function(r){Y0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Y0e(t,e,n){return(e=X0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function X0e(t){var e=q0e(t,"string");return typeof e=="symbol"?e:e+""}function q0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ig(){return Ig=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ig.apply(null,arguments)}function V4(t,e){if(t==null)return{};var n,r,i=K0e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function K0e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Us(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var W4=(t,e,n,r,i)=>{var a=Ql(n),s=Ql(r),l=Math.min(Math.abs(a)/2,Math.abs(s)/2),u=s>=0?1:-1,f=a>=0?1:-1,h=s>=0&&a>=0||s<0&&a<0?1:0,p;if(l>0&&i instanceof Array){for(var m=[0,0,0,0],g=0,_=4;g<_;g++)m[g]=i[g]>l?l:i[g];p=dr(D4||(D4=Us(["M",",",""])),t,e+u*m[0]),m[0]>0&&(p+=dr(N4||(N4=Us(["A ",",",",0,0,",",",",",""])),m[0],m[0],h,t+f*m[0],e)),p+=dr(k4||(k4=Us(["L ",",",""])),t+n-f*m[1],e),m[1]>0&&(p+=dr(L4||(L4=Us(["A ",",",",0,0,",`,
        `,",",""])),m[1],m[1],h,t+n,e+u*m[1])),p+=dr(I4||(I4=Us(["L ",",",""])),t+n,e+r-u*m[2]),m[2]>0&&(p+=dr(F4||(F4=Us(["A ",",",",0,0,",`,
        `,",",""])),m[2],m[2],h,t+n-f*m[2],e+r)),p+=dr(U4||(U4=Us(["L ",",",""])),t+f*m[3],e+r),m[3]>0&&(p+=dr(B4||(B4=Us(["A ",",",",0,0,",`,
        `,",",""])),m[3],m[3],h,t,e+r-u*m[3])),p+="Z"}else if(l>0&&i===+i&&i>0){var x=Math.min(l,i);p=dr(z4||(z4=Us(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),t,e+u*x,x,x,h,t+f*x,e,t+n-f*x,e,x,x,h,t+n,e+u*x,t+n,e+r-u*x,x,x,h,t+n-f*x,e+r,t+f*x,e+r,x,x,h,t,e+r-u*x)}else p=dr(j4||(j4=Us(["M ",","," h "," v "," h "," Z"])),t,e,n,r,-n);return p},Y4={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},h6=t=>{var e=Ti(t,Y4),n=P.useRef(null),[r,i]=P.useState(-1);P.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var W=n.current.getTotalLength();W&&i(W)}catch{}},[]);var{x:a,y:s,width:l,height:u,radius:f,className:h}=e,{animationEasing:p,animationDuration:m,animationBegin:g,isAnimationActive:_,isUpdateAnimationActive:x}=e,y=P.useRef(l),E=P.useRef(u),w=P.useRef(a),b=P.useRef(s),M=P.useMemo(()=>({x:a,y:s,width:l,height:u,radius:f}),[a,s,l,u,f]),A=Gx(M,"rectangle-");if(a!==+a||s!==+s||l!==+l||u!==+u||l===0||u===0)return null;var C=Ln("recharts-rectangle",h);if(!x){var R=ss(e),{radius:F}=R,O=V4(R,V0e);return P.createElement("path",Ig({},O,{x:Ql(a),y:Ql(s),width:Ql(l),height:Ql(u),radius:typeof f=="number"?f:void 0,className:C,d:W4(a,s,l,u,f)}))}var k=y.current,D=E.current,U=w.current,Z=b.current,se="0px ".concat(r===-1?1:r,"px"),oe="".concat(r,"px 0px"),G=l6(["strokeDasharray"],m,typeof p=="string"?p:Y4.animationEasing);return P.createElement(Hx,{animationId:A,key:A,canBegin:r>0,duration:m,easing:p,isActive:x,begin:g},W=>{var ee=Br(k,l,W),Y=Br(D,u,W),pe=Br(U,a,W),z=Br(Z,s,W);n.current&&(y.current=ee,E.current=Y,w.current=pe,b.current=z);var I;_?W>0?I={transition:G,strokeDasharray:oe}:I={strokeDasharray:se}:I={strokeDasharray:oe};var V=ss(e),{radius:X}=V,te=V4(V,W0e);return P.createElement("path",Ig({},te,{radius:typeof f=="number"?f:void 0,className:C,d:W4(pe,z,ee,Y,f),ref:n,style:G4(G4({},I),e.style)}))})};function X4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function q4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X4(Object(n),!0).forEach(function(r){$0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $0e(t,e,n){return(e=Z0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Z0e(t){var e=J0e(t,"string");return typeof e=="symbol"?e:e+""}function J0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fg=Math.PI/180,Q0e=t=>t*180/Math.PI,kr=(t,e,n,r)=>({x:t+Math.cos(-Fg*r)*n,y:e+Math.sin(-Fg*r)*n}),d6=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},ede=(t,e)=>{var{x:n,y:r}=t,{x:i,y:a}=e;return Math.sqrt((n-i)**2+(r-a)**2)},tde=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:a}=e,s=ede({x:n,y:r},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var l=(n-i)/s,u=Math.acos(l);return r>a&&(u=2*Math.PI-u),{radius:s,angle:Q0e(u),angleInRadian:u}},nde=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:e-a*360,endAngle:n-a*360}},rde=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return t+s*360},ide=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:a}=tde({x:n,y:r},e),{innerRadius:s,outerRadius:l}=e;if(i<s||i>l||i===0)return null;var{startAngle:u,endAngle:f}=nde(e),h=a,p;if(u<=f){for(;h>f;)h-=360;for(;h<u;)h+=360;p=h>=u&&h<=f}else{for(;h>u;)h-=360;for(;h<f;)h+=360;p=h>=f&&h<=u}return p?q4(q4({},e),{},{radius:i,angle:rde(h,e)}):null};function p6(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:a}=t,s=kr(e,n,r,i),l=kr(e,n,r,a);return{points:[s,l],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}var K4,$4,Z4,J4,Q4,ek,tk;function jT(){return jT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jT.apply(null,arguments)}function qc(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var ade=(t,e)=>{var n=bi(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},wv=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:a,isExternal:s,cornerRadius:l,cornerIsExternal:u}=t,f=l*(s?1:-1)+r,h=Math.asin(l/f)/Fg,p=u?i:i+a*h,m=kr(e,n,f,p),g=kr(e,n,r,p),_=u?i-a*h:i,x=kr(e,n,f*Math.cos(h*Fg),_);return{center:m,circleTangency:g,lineTangency:x,theta:h}},m6=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:s}=t,l=ade(a,s),u=a+l,f=kr(e,n,i,a),h=kr(e,n,i,u),p=dr(K4||(K4=qc(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),f.x,f.y,i,i,+(Math.abs(l)>180),+(a>u),h.x,h.y);if(r>0){var m=kr(e,n,r,a),g=kr(e,n,r,u);p+=dr($4||($4=qc(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),g.x,g.y,r,r,+(Math.abs(l)>180),+(a<=u),m.x,m.y)}else p+=dr(Z4||(Z4=qc(["L ",","," Z"])),e,n);return p},sde=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:l,startAngle:u,endAngle:f}=t,h=bi(f-u),{circleTangency:p,lineTangency:m,theta:g}=wv({cx:e,cy:n,radius:i,angle:u,sign:h,cornerRadius:a,cornerIsExternal:l}),{circleTangency:_,lineTangency:x,theta:y}=wv({cx:e,cy:n,radius:i,angle:f,sign:-h,cornerRadius:a,cornerIsExternal:l}),E=l?Math.abs(u-f):Math.abs(u-f)-g-y;if(E<0)return s?dr(J4||(J4=qc(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),m.x,m.y,a,a,a*2,a,a,-a*2):m6({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:u,endAngle:f});var w=dr(Q4||(Q4=qc(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),m.x,m.y,a,a,+(h<0),p.x,p.y,i,i,+(E>180),+(h<0),_.x,_.y,a,a,+(h<0),x.x,x.y);if(r>0){var{circleTangency:b,lineTangency:M,theta:A}=wv({cx:e,cy:n,radius:r,angle:u,sign:h,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),{circleTangency:C,lineTangency:R,theta:F}=wv({cx:e,cy:n,radius:r,angle:f,sign:-h,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),O=l?Math.abs(u-f):Math.abs(u-f)-A-F;if(O<0&&a===0)return"".concat(w,"L").concat(e,",").concat(n,"Z");w+=dr(ek||(ek=qc(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),R.x,R.y,a,a,+(h<0),C.x,C.y,r,r,+(O>180),+(h>0),b.x,b.y,a,a,+(h<0),M.x,M.y)}else w+=dr(tk||(tk=qc(["L",",","Z"])),e,n);return w},ode={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},v6=t=>{var e=Ti(t,ode),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:u,startAngle:f,endAngle:h,className:p}=e;if(a<i||f===h)return null;var m=Ln("recharts-sector",p),g=a-i,_=Ui(s,g,0,!0),x;return _>0&&Math.abs(f-h)<360?x=sde({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(_,g/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:f,endAngle:h}):x=m6({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:f,endAngle:h}),P.createElement("path",jT({},ss(e),{className:m,d:x}))};function lde(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(K5(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:s,angle:l}=e,u=kr(r,i,a,l),f=kr(r,i,s,l);return[{x:u.x,y:u.y},{x:f.x,y:f.y}]}return p6(e)}}var CS={},RS={},OS={},nk;function cde(){return nk||(nk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=oB();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(OS)),OS}var rk;function ude(){return rk||(rk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=cde();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(RS)),RS}var ik;function fde(){return ik||(ik=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=lB(),n=ude();function r(i,a,s){s&&typeof s!="number"&&e.isIterateeCall(i,a,s)&&(a=s=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),s=s===void 0?i<a?1:-1:n.toFinite(s);const l=Math.max(Math.ceil((a-i)/(s||1)),0),u=new Array(l);for(let f=0;f<l;f++)u[f]=i,i+=s;return u}t.range=r})(CS)),CS}var PS,ak;function hde(){return ak||(ak=1,PS=fde().range),PS}var dde=hde();const g6=Os(dde);function tc(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function pde(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function $w(t){let e,n,r;t.length!==2?(e=tc,n=(l,u)=>tc(t(l),u),r=(l,u)=>t(l)-u):(e=t===tc||t===pde?t:mde,n=t,r=t);function i(l,u,f=0,h=l.length){if(f<h){if(e(u,u)!==0)return h;do{const p=f+h>>>1;n(l[p],u)<0?f=p+1:h=p}while(f<h)}return f}function a(l,u,f=0,h=l.length){if(f<h){if(e(u,u)!==0)return h;do{const p=f+h>>>1;n(l[p],u)<=0?f=p+1:h=p}while(f<h)}return f}function s(l,u,f=0,h=l.length){const p=i(l,u,f,h-1);return p>f&&r(l[p-1],u)>-r(l[p],u)?p-1:p}return{left:i,center:s,right:a}}function mde(){return 0}function x6(t){return t===null?NaN:+t}function*vde(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const gde=$w(tc),ap=gde.right;$w(x6).center;class sk extends Map{constructor(e,n=yde){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(ok(this,e))}has(e){return super.has(ok(this,e))}set(e,n){return super.set(xde(this,e),n)}delete(e){return super.delete(_de(this,e))}}function ok({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function xde({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function _de({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function yde(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Ede(t=tc){if(t===tc)return _6;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function _6(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Sde=Math.sqrt(50),bde=Math.sqrt(10),Tde=Math.sqrt(2);function Ug(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=Sde?10:a>=bde?5:a>=Tde?2:1;let l,u,f;return i<0?(f=Math.pow(10,-i)/s,l=Math.round(t*f),u=Math.round(e*f),l/f<t&&++l,u/f>e&&--u,f=-f):(f=Math.pow(10,i)*s,l=Math.round(t/f),u=Math.round(e/f),l*f<t&&++l,u*f>e&&--u),u<l&&.5<=n&&n<2?Ug(t,e,n*2):[l,u,f]}function HT(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,s]=r?Ug(e,t,n):Ug(t,e,n);if(!(a>=i))return[];const l=a-i+1,u=new Array(l);if(r)if(s<0)for(let f=0;f<l;++f)u[f]=(a-f)/-s;else for(let f=0;f<l;++f)u[f]=(a-f)*s;else if(s<0)for(let f=0;f<l;++f)u[f]=(i+f)/-s;else for(let f=0;f<l;++f)u[f]=(i+f)*s;return u}function GT(t,e,n){return e=+e,t=+t,n=+n,Ug(t,e,n)[2]}function VT(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?GT(e,t,n):GT(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function lk(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function ck(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function y6(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?_6:Ede(i);r>n;){if(r-n>600){const u=r-n+1,f=e-n+1,h=Math.log(u),p=.5*Math.exp(2*h/3),m=.5*Math.sqrt(h*p*(u-p)/u)*(f-u/2<0?-1:1),g=Math.max(n,Math.floor(e-f*p/u+m)),_=Math.min(r,Math.floor(e+(u-f)*p/u+m));y6(t,e,g,_,i)}const a=t[e];let s=n,l=r;for(F0(t,n,e),i(t[r],a)>0&&F0(t,n,r);s<l;){for(F0(t,s,l),++s,--l;i(t[s],a)<0;)++s;for(;i(t[l],a)>0;)--l}i(t[n],a)===0?F0(t,n,l):(++l,F0(t,l,r)),l<=e&&(n=l+1),e<=l&&(r=l-1)}return t}function F0(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function wde(t,e,n){if(t=Float64Array.from(vde(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return ck(t);if(e>=1)return lk(t);var r,i=(r-1)*e,a=Math.floor(i),s=lk(y6(t,a).subarray(0,a+1)),l=ck(t.subarray(a+1));return s+(l-s)*(i-a)}}function Ade(t,e,n=x6){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),s=+n(t[a],a,t),l=+n(t[a+1],a+1,t);return s+(l-s)*(i-a)}}function Mde(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function us(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ll(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const WT=Symbol("implicit");function Zw(){var t=new sk,e=[],n=[],r=WT;function i(a){let s=t.get(a);if(s===void 0){if(r!==WT)return r;t.set(a,s=e.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new sk;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Zw(e,n).unknown(r)},us.apply(i,arguments),i}function Jw(){var t=Zw().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,s,l=!1,u=0,f=0,h=.5;delete t.unknown;function p(){var m=e().length,g=i<r,_=g?i:r,x=g?r:i;a=(x-_)/Math.max(1,m-u+f*2),l&&(a=Math.floor(a)),_+=(x-_-a*(m-u))*h,s=a*(1-u),l&&(_=Math.round(_),s=Math.round(s));var y=Mde(m).map(function(E){return _+a*E});return n(g?y.reverse():y)}return t.domain=function(m){return arguments.length?(e(m),p()):e()},t.range=function(m){return arguments.length?([r,i]=m,r=+r,i=+i,p()):[r,i]},t.rangeRound=function(m){return[r,i]=m,r=+r,i=+i,l=!0,p()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(m){return arguments.length?(l=!!m,p()):l},t.padding=function(m){return arguments.length?(u=Math.min(1,f=+m),p()):u},t.paddingInner=function(m){return arguments.length?(u=Math.min(1,m),p()):u},t.paddingOuter=function(m){return arguments.length?(f=+m,p()):f},t.align=function(m){return arguments.length?(h=Math.max(0,Math.min(1,m)),p()):h},t.copy=function(){return Jw(e(),[r,i]).round(l).paddingInner(u).paddingOuter(f).align(h)},us.apply(p(),arguments)}function E6(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return E6(e())},t}function Cde(){return E6(Jw.apply(null,arguments).paddingInner(1))}function Qw(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function S6(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function sp(){}var kd=.7,Bg=1/kd,th="\\s*([+-]?\\d+)\\s*",Ld="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",$s="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Rde=/^#([0-9a-f]{3,8})$/,Ode=new RegExp(`^rgb\\(${th},${th},${th}\\)$`),Pde=new RegExp(`^rgb\\(${$s},${$s},${$s}\\)$`),Dde=new RegExp(`^rgba\\(${th},${th},${th},${Ld}\\)$`),Nde=new RegExp(`^rgba\\(${$s},${$s},${$s},${Ld}\\)$`),kde=new RegExp(`^hsl\\(${Ld},${$s},${$s}\\)$`),Lde=new RegExp(`^hsla\\(${Ld},${$s},${$s},${Ld}\\)$`),uk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Qw(sp,Id,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:fk,formatHex:fk,formatHex8:Ide,formatHsl:Fde,formatRgb:hk,toString:hk});function fk(){return this.rgb().formatHex()}function Ide(){return this.rgb().formatHex8()}function Fde(){return b6(this).formatHsl()}function hk(){return this.rgb().formatRgb()}function Id(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Rde.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?dk(e):n===3?new sa(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Av(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Av(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Ode.exec(t))?new sa(e[1],e[2],e[3],1):(e=Pde.exec(t))?new sa(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Dde.exec(t))?Av(e[1],e[2],e[3],e[4]):(e=Nde.exec(t))?Av(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=kde.exec(t))?vk(e[1],e[2]/100,e[3]/100,1):(e=Lde.exec(t))?vk(e[1],e[2]/100,e[3]/100,e[4]):uk.hasOwnProperty(t)?dk(uk[t]):t==="transparent"?new sa(NaN,NaN,NaN,0):null}function dk(t){return new sa(t>>16&255,t>>8&255,t&255,1)}function Av(t,e,n,r){return r<=0&&(t=e=n=NaN),new sa(t,e,n,r)}function Ude(t){return t instanceof sp||(t=Id(t)),t?(t=t.rgb(),new sa(t.r,t.g,t.b,t.opacity)):new sa}function YT(t,e,n,r){return arguments.length===1?Ude(t):new sa(t,e,n,r??1)}function sa(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Qw(sa,YT,S6(sp,{brighter(t){return t=t==null?Bg:Math.pow(Bg,t),new sa(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?kd:Math.pow(kd,t),new sa(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new sa(nu(this.r),nu(this.g),nu(this.b),zg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:pk,formatHex:pk,formatHex8:Bde,formatRgb:mk,toString:mk}));function pk(){return`#${Kc(this.r)}${Kc(this.g)}${Kc(this.b)}`}function Bde(){return`#${Kc(this.r)}${Kc(this.g)}${Kc(this.b)}${Kc((isNaN(this.opacity)?1:this.opacity)*255)}`}function mk(){const t=zg(this.opacity);return`${t===1?"rgb(":"rgba("}${nu(this.r)}, ${nu(this.g)}, ${nu(this.b)}${t===1?")":`, ${t})`}`}function zg(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function nu(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Kc(t){return t=nu(t),(t<16?"0":"")+t.toString(16)}function vk(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Es(t,e,n,r)}function b6(t){if(t instanceof Es)return new Es(t.h,t.s,t.l,t.opacity);if(t instanceof sp||(t=Id(t)),!t)return new Es;if(t instanceof Es)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,l=a-i,u=(a+i)/2;return l?(e===a?s=(n-r)/l+(n<r)*6:n===a?s=(r-e)/l+2:s=(e-n)/l+4,l/=u<.5?a+i:2-a-i,s*=60):l=u>0&&u<1?0:s,new Es(s,l,u,t.opacity)}function zde(t,e,n,r){return arguments.length===1?b6(t):new Es(t,e,n,r??1)}function Es(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Qw(Es,zde,S6(sp,{brighter(t){return t=t==null?Bg:Math.pow(Bg,t),new Es(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?kd:Math.pow(kd,t),new Es(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new sa(DS(t>=240?t-240:t+120,i,r),DS(t,i,r),DS(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Es(gk(this.h),Mv(this.s),Mv(this.l),zg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=zg(this.opacity);return`${t===1?"hsl(":"hsla("}${gk(this.h)}, ${Mv(this.s)*100}%, ${Mv(this.l)*100}%${t===1?")":`, ${t})`}`}}));function gk(t){return t=(t||0)%360,t<0?t+360:t}function Mv(t){return Math.max(0,Math.min(1,t||0))}function DS(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const eA=t=>()=>t;function jde(t,e){return function(n){return t+n*e}}function Hde(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Gde(t){return(t=+t)==1?T6:function(e,n){return n-e?Hde(e,n,t):eA(isNaN(e)?n:e)}}function T6(t,e){var n=e-t;return n?jde(t,n):eA(isNaN(t)?e:t)}const xk=(function t(e){var n=Gde(e);function r(i,a){var s=n((i=YT(i)).r,(a=YT(a)).r),l=n(i.g,a.g),u=n(i.b,a.b),f=T6(i.opacity,a.opacity);return function(h){return i.r=s(h),i.g=l(h),i.b=u(h),i.opacity=f(h),i+""}}return r.gamma=t,r})(1);function Vde(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function Wde(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Yde(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=Th(t[s],e[s]);for(;s<n;++s)a[s]=e[s];return function(l){for(s=0;s<r;++s)a[s]=i[s](l);return a}}function Xde(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function jg(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function qde(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Th(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var XT=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,NS=new RegExp(XT.source,"g");function Kde(t){return function(){return t}}function $de(t){return function(e){return t(e)+""}}function Zde(t,e){var n=XT.lastIndex=NS.lastIndex=0,r,i,a,s=-1,l=[],u=[];for(t=t+"",e=e+"";(r=XT.exec(t))&&(i=NS.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),l[s]?l[s]+=a:l[++s]=a),(r=r[0])===(i=i[0])?l[s]?l[s]+=i:l[++s]=i:(l[++s]=null,u.push({i:s,x:jg(r,i)})),n=NS.lastIndex;return n<e.length&&(a=e.slice(n),l[s]?l[s]+=a:l[++s]=a),l.length<2?u[0]?$de(u[0].x):Kde(e):(e=u.length,function(f){for(var h=0,p;h<e;++h)l[(p=u[h]).i]=p.x(f);return l.join("")})}function Th(t,e){var n=typeof e,r;return e==null||n==="boolean"?eA(e):(n==="number"?jg:n==="string"?(r=Id(e))?(e=r,xk):Zde:e instanceof Id?xk:e instanceof Date?Xde:Wde(e)?Vde:Array.isArray(e)?Yde:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?qde:jg)(t,e)}function tA(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Jde(t,e){e===void 0&&(e=t,t=Th);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(s){var l=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[l](s-l)}}function Qde(t){return function(){return t}}function Hg(t){return+t}var _k=[0,1];function Xi(t){return t}function qT(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Qde(isNaN(e)?NaN:.5)}function epe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function tpe(t,e,n){var r=t[0],i=t[1],a=e[0],s=e[1];return i<r?(r=qT(i,r),a=n(s,a)):(r=qT(r,i),a=n(a,s)),function(l){return a(r(l))}}function npe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=qT(t[s],t[s+1]),a[s]=n(e[s],e[s+1]);return function(l){var u=ap(t,l,1,r)-1;return a[u](i[u](l))}}function op(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Vx(){var t=_k,e=_k,n=Th,r,i,a,s=Xi,l,u,f;function h(){var m=Math.min(t.length,e.length);return s!==Xi&&(s=epe(t[0],t[m-1])),l=m>2?npe:tpe,u=f=null,p}function p(m){return m==null||isNaN(m=+m)?a:(u||(u=l(t.map(r),e,n)))(r(s(m)))}return p.invert=function(m){return s(i((f||(f=l(e,t.map(r),jg)))(m)))},p.domain=function(m){return arguments.length?(t=Array.from(m,Hg),h()):t.slice()},p.range=function(m){return arguments.length?(e=Array.from(m),h()):e.slice()},p.rangeRound=function(m){return e=Array.from(m),n=tA,h()},p.clamp=function(m){return arguments.length?(s=m?!0:Xi,h()):s!==Xi},p.interpolate=function(m){return arguments.length?(n=m,h()):n},p.unknown=function(m){return arguments.length?(a=m,p):a},function(m,g){return r=m,i=g,h()}}function nA(){return Vx()(Xi,Xi)}function rpe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Gg(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function ph(t){return t=Gg(Math.abs(t)),t?t[1]:NaN}function ipe(t,e){return function(n,r){for(var i=n.length,a=[],s=0,l=t[0],u=0;i>0&&l>0&&(u+l+1>r&&(l=Math.max(1,r-u)),a.push(n.substring(i-=l,i+l)),!((u+=l+1)>r));)l=t[s=(s+1)%t.length];return a.reverse().join(e)}}function ape(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var spe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Fd(t){if(!(e=spe.exec(t)))throw new Error("invalid format: "+t);var e;return new rA({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Fd.prototype=rA.prototype;function rA(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}rA.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ope(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var w6;function lpe(t,e){var n=Gg(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(w6=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Gg(t,Math.max(0,e+a-1))[0]}function yk(t,e){var n=Gg(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Ek={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:rpe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>yk(t*100,e),r:yk,s:lpe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Sk(t){return t}var bk=Array.prototype.map,Tk=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function cpe(t){var e=t.grouping===void 0||t.thousands===void 0?Sk:ipe(bk.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?Sk:ape(bk.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function f(p){p=Fd(p);var m=p.fill,g=p.align,_=p.sign,x=p.symbol,y=p.zero,E=p.width,w=p.comma,b=p.precision,M=p.trim,A=p.type;A==="n"?(w=!0,A="g"):Ek[A]||(b===void 0&&(b=12),M=!0,A="g"),(y||m==="0"&&g==="=")&&(y=!0,m="0",g="=");var C=x==="$"?n:x==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",R=x==="$"?r:/[%p]/.test(A)?s:"",F=Ek[A],O=/[defgprs%]/.test(A);b=b===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function k(D){var U=C,Z=R,se,oe,G;if(A==="c")Z=F(D)+Z,D="";else{D=+D;var W=D<0||1/D<0;if(D=isNaN(D)?u:F(Math.abs(D),b),M&&(D=ope(D)),W&&+D==0&&_!=="+"&&(W=!1),U=(W?_==="("?_:l:_==="-"||_==="("?"":_)+U,Z=(A==="s"?Tk[8+w6/3]:"")+Z+(W&&_==="("?")":""),O){for(se=-1,oe=D.length;++se<oe;)if(G=D.charCodeAt(se),48>G||G>57){Z=(G===46?i+D.slice(se+1):D.slice(se))+Z,D=D.slice(0,se);break}}}w&&!y&&(D=e(D,1/0));var ee=U.length+D.length+Z.length,Y=ee<E?new Array(E-ee+1).join(m):"";switch(w&&y&&(D=e(Y+D,Y.length?E-Z.length:1/0),Y=""),g){case"<":D=U+D+Z+Y;break;case"=":D=U+Y+D+Z;break;case"^":D=Y.slice(0,ee=Y.length>>1)+U+D+Z+Y.slice(ee);break;default:D=Y+U+D+Z;break}return a(D)}return k.toString=function(){return p+""},k}function h(p,m){var g=f((p=Fd(p),p.type="f",p)),_=Math.max(-8,Math.min(8,Math.floor(ph(m)/3)))*3,x=Math.pow(10,-_),y=Tk[8+_/3];return function(E){return g(x*E)+y}}return{format:f,formatPrefix:h}}var Cv,iA,A6;upe({thousands:",",grouping:[3],currency:["$",""]});function upe(t){return Cv=cpe(t),iA=Cv.format,A6=Cv.formatPrefix,Cv}function fpe(t){return Math.max(0,-ph(Math.abs(t)))}function hpe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ph(e)/3)))*3-ph(Math.abs(t)))}function dpe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,ph(e)-ph(t))+1}function M6(t,e,n,r){var i=VT(t,e,n),a;switch(r=Fd(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=hpe(i,s))&&(r.precision=a),A6(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=dpe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=fpe(i))&&(r.precision=a-(r.type==="%")*2);break}}return iA(r)}function pc(t){var e=t.domain;return t.ticks=function(n){var r=e();return HT(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return M6(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,s=r[i],l=r[a],u,f,h=10;for(l<s&&(f=s,s=l,l=f,f=i,i=a,a=f);h-- >0;){if(f=GT(s,l,n),f===u)return r[i]=s,r[a]=l,e(r);if(f>0)s=Math.floor(s/f)*f,l=Math.ceil(l/f)*f;else if(f<0)s=Math.ceil(s*f)/f,l=Math.floor(l*f)/f;else break;u=f}return t},t}function C6(){var t=nA();return t.copy=function(){return op(t,C6())},us.apply(t,arguments),pc(t)}function R6(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Hg),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return R6(t).unknown(e)},t=arguments.length?Array.from(t,Hg):[0,1],pc(n)}function O6(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),t[n]=e.floor(i),t[r]=e.ceil(a),t}function wk(t){return Math.log(t)}function Ak(t){return Math.exp(t)}function ppe(t){return-Math.log(-t)}function mpe(t){return-Math.exp(-t)}function vpe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function gpe(t){return t===10?vpe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function xpe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Mk(t){return(e,n)=>-t(-e,n)}function aA(t){const e=t(wk,Ak),n=e.domain;let r=10,i,a;function s(){return i=xpe(r),a=gpe(r),n()[0]<0?(i=Mk(i),a=Mk(a),t(ppe,mpe)):t(wk,Ak),e}return e.base=function(l){return arguments.length?(r=+l,s()):r},e.domain=function(l){return arguments.length?(n(l),s()):n()},e.ticks=l=>{const u=n();let f=u[0],h=u[u.length-1];const p=h<f;p&&([f,h]=[h,f]);let m=i(f),g=i(h),_,x;const y=l==null?10:+l;let E=[];if(!(r%1)&&g-m<y){if(m=Math.floor(m),g=Math.ceil(g),f>0){for(;m<=g;++m)for(_=1;_<r;++_)if(x=m<0?_/a(-m):_*a(m),!(x<f)){if(x>h)break;E.push(x)}}else for(;m<=g;++m)for(_=r-1;_>=1;--_)if(x=m>0?_/a(-m):_*a(m),!(x<f)){if(x>h)break;E.push(x)}E.length*2<y&&(E=HT(f,h,y))}else E=HT(m,g,Math.min(g-m,y)).map(a);return p?E.reverse():E},e.tickFormat=(l,u)=>{if(l==null&&(l=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=Fd(u)).precision==null&&(u.trim=!0),u=iA(u)),l===1/0)return u;const f=Math.max(1,r*l/e.ticks().length);return h=>{let p=h/a(Math.round(i(h)));return p*r<r-.5&&(p*=r),p<=f?u(h):""}},e.nice=()=>n(O6(n(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),e}function P6(){const t=aA(Vx()).domain([1,10]);return t.copy=()=>op(t,P6()).base(t.base()),us.apply(t,arguments),t}function Ck(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Rk(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function sA(t){var e=1,n=t(Ck(e),Rk(e));return n.constant=function(r){return arguments.length?t(Ck(e=+r),Rk(e)):e},pc(n)}function D6(){var t=sA(Vx());return t.copy=function(){return op(t,D6()).constant(t.constant())},us.apply(t,arguments)}function Ok(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function _pe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function ype(t){return t<0?-t*t:t*t}function oA(t){var e=t(Xi,Xi),n=1;function r(){return n===1?t(Xi,Xi):n===.5?t(_pe,ype):t(Ok(n),Ok(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},pc(e)}function lA(){var t=oA(Vx());return t.copy=function(){return op(t,lA()).exponent(t.exponent())},us.apply(t,arguments),t}function Epe(){return lA.apply(null,arguments).exponent(.5)}function Pk(t){return Math.sign(t)*t*t}function Spe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function N6(){var t=nA(),e=[0,1],n=!1,r;function i(a){var s=Spe(t(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return t.invert(Pk(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,Hg)).map(Pk)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return N6(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},us.apply(i,arguments),pc(i)}function k6(){var t=[],e=[],n=[],r;function i(){var s=0,l=Math.max(1,e.length);for(n=new Array(l-1);++s<l;)n[s-1]=Ade(t,s/l);return a}function a(s){return s==null||isNaN(s=+s)?r:e[ap(n,s)]}return a.invertExtent=function(s){var l=e.indexOf(s);return l<0?[NaN,NaN]:[l>0?n[l-1]:t[0],l<n.length?n[l]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let l of s)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(tc),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return k6().domain(t).range(e).unknown(r)},us.apply(a,arguments)}function L6(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function s(u){return u!=null&&u<=u?i[ap(r,u,0,n)]:a}function l(){var u=-1;for(r=new Array(n);++u<n;)r[u]=((u+1)*e-(u-n)*t)/(n+1);return s}return s.domain=function(u){return arguments.length?([t,e]=u,t=+t,e=+e,l()):[t,e]},s.range=function(u){return arguments.length?(n=(i=Array.from(u)).length-1,l()):i.slice()},s.invertExtent=function(u){var f=i.indexOf(u);return f<0?[NaN,NaN]:f<1?[t,r[0]]:f>=n?[r[n-1],e]:[r[f-1],r[f]]},s.unknown=function(u){return arguments.length&&(a=u),s},s.thresholds=function(){return r.slice()},s.copy=function(){return L6().domain([t,e]).range(i).unknown(a)},us.apply(pc(s),arguments)}function I6(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[ap(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return I6().domain(t).range(e).unknown(n)},us.apply(i,arguments)}const kS=new Date,LS=new Date;function Xr(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),l=i.ceil(a);return a-s<l-a?s:l},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,l)=>{const u=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<s)||!(l>0))return u;let f;do u.push(f=new Date(+a)),e(a,l),t(a);while(f<a&&a<s);return u},i.filter=a=>Xr(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,l)=>{if(s>=s)if(l<0)for(;++l<=0;)for(;e(s,-1),!a(s););else for(;--l>=0;)for(;e(s,1),!a(s););}),n&&(i.count=(a,s)=>(kS.setTime(+a),LS.setTime(+s),t(kS),t(LS),Math.floor(n(kS,LS))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const Vg=Xr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Vg.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Xr(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Vg);Vg.range;const Uo=1e3,rs=Uo*60,Bo=rs*60,Zo=Bo*24,cA=Zo*7,Dk=Zo*30,IS=Zo*365,$c=Xr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Uo)},(t,e)=>(e-t)/Uo,t=>t.getUTCSeconds());$c.range;const uA=Xr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Uo)},(t,e)=>{t.setTime(+t+e*rs)},(t,e)=>(e-t)/rs,t=>t.getMinutes());uA.range;const fA=Xr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*rs)},(t,e)=>(e-t)/rs,t=>t.getUTCMinutes());fA.range;const hA=Xr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Uo-t.getMinutes()*rs)},(t,e)=>{t.setTime(+t+e*Bo)},(t,e)=>(e-t)/Bo,t=>t.getHours());hA.range;const dA=Xr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Bo)},(t,e)=>(e-t)/Bo,t=>t.getUTCHours());dA.range;const lp=Xr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*rs)/Zo,t=>t.getDate()-1);lp.range;const Wx=Xr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Zo,t=>t.getUTCDate()-1);Wx.range;const F6=Xr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Zo,t=>Math.floor(t/Zo));F6.range;function Du(t){return Xr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*rs)/cA)}const Yx=Du(0),Wg=Du(1),bpe=Du(2),Tpe=Du(3),mh=Du(4),wpe=Du(5),Ape=Du(6);Yx.range;Wg.range;bpe.range;Tpe.range;mh.range;wpe.range;Ape.range;function Nu(t){return Xr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/cA)}const Xx=Nu(0),Yg=Nu(1),Mpe=Nu(2),Cpe=Nu(3),vh=Nu(4),Rpe=Nu(5),Ope=Nu(6);Xx.range;Yg.range;Mpe.range;Cpe.range;vh.range;Rpe.range;Ope.range;const pA=Xr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());pA.range;const mA=Xr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());mA.range;const Jo=Xr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Jo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Xr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Jo.range;const Qo=Xr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Qo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Xr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Qo.range;function U6(t,e,n,r,i,a){const s=[[$c,1,Uo],[$c,5,5*Uo],[$c,15,15*Uo],[$c,30,30*Uo],[a,1,rs],[a,5,5*rs],[a,15,15*rs],[a,30,30*rs],[i,1,Bo],[i,3,3*Bo],[i,6,6*Bo],[i,12,12*Bo],[r,1,Zo],[r,2,2*Zo],[n,1,cA],[e,1,Dk],[e,3,3*Dk],[t,1,IS]];function l(f,h,p){const m=h<f;m&&([f,h]=[h,f]);const g=p&&typeof p.range=="function"?p:u(f,h,p),_=g?g.range(f,+h+1):[];return m?_.reverse():_}function u(f,h,p){const m=Math.abs(h-f)/p,g=$w(([,,y])=>y).right(s,m);if(g===s.length)return t.every(VT(f/IS,h/IS,p));if(g===0)return Vg.every(Math.max(VT(f,h,p),1));const[_,x]=s[m/s[g-1][2]<s[g][2]/m?g-1:g];return _.every(x)}return[l,u]}const[Ppe,Dpe]=U6(Qo,mA,Xx,F6,dA,fA),[Npe,kpe]=U6(Jo,pA,Yx,lp,hA,uA);function FS(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function US(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function U0(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Lpe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,s=t.shortDays,l=t.months,u=t.shortMonths,f=B0(i),h=z0(i),p=B0(a),m=z0(a),g=B0(s),_=z0(s),x=B0(l),y=z0(l),E=B0(u),w=z0(u),b={a:W,A:ee,b:Y,B:pe,c:null,d:Uk,e:Uk,f:ime,g:pme,G:vme,H:tme,I:nme,j:rme,L:B6,m:ame,M:sme,p:z,q:I,Q:jk,s:Hk,S:ome,u:lme,U:cme,V:ume,w:fme,W:hme,x:null,X:null,y:dme,Y:mme,Z:gme,"%":zk},M={a:V,A:X,b:te,B:J,c:null,d:Bk,e:Bk,f:Eme,g:Pme,G:Nme,H:xme,I:_me,j:yme,L:j6,m:Sme,M:bme,p:fe,q:ae,Q:jk,s:Hk,S:Tme,u:wme,U:Ame,V:Mme,w:Cme,W:Rme,x:null,X:null,y:Ome,Y:Dme,Z:kme,"%":zk},A={a:k,A:D,b:U,B:Z,c:se,d:Ik,e:Ik,f:Zpe,g:Lk,G:kk,H:Fk,I:Fk,j:Xpe,L:$pe,m:Ype,M:qpe,p:O,q:Wpe,Q:Qpe,s:eme,S:Kpe,u:zpe,U:jpe,V:Hpe,w:Bpe,W:Gpe,x:oe,X:G,y:Lk,Y:kk,Z:Vpe,"%":Jpe};b.x=C(n,b),b.X=C(r,b),b.c=C(e,b),M.x=C(n,M),M.X=C(r,M),M.c=C(e,M);function C(Q,de){return function(Ae){var j=[],We=-1,Le=0,Je=Q.length,Xe,Ge,ce;for(Ae instanceof Date||(Ae=new Date(+Ae));++We<Je;)Q.charCodeAt(We)===37&&(j.push(Q.slice(Le,We)),(Ge=Nk[Xe=Q.charAt(++We)])!=null?Xe=Q.charAt(++We):Ge=Xe==="e"?" ":"0",(ce=de[Xe])&&(Xe=ce(Ae,Ge)),j.push(Xe),Le=We+1);return j.push(Q.slice(Le,We)),j.join("")}}function R(Q,de){return function(Ae){var j=U0(1900,void 0,1),We=F(j,Q,Ae+="",0),Le,Je;if(We!=Ae.length)return null;if("Q"in j)return new Date(j.Q);if("s"in j)return new Date(j.s*1e3+("L"in j?j.L:0));if(de&&!("Z"in j)&&(j.Z=0),"p"in j&&(j.H=j.H%12+j.p*12),j.m===void 0&&(j.m="q"in j?j.q:0),"V"in j){if(j.V<1||j.V>53)return null;"w"in j||(j.w=1),"Z"in j?(Le=US(U0(j.y,0,1)),Je=Le.getUTCDay(),Le=Je>4||Je===0?Yg.ceil(Le):Yg(Le),Le=Wx.offset(Le,(j.V-1)*7),j.y=Le.getUTCFullYear(),j.m=Le.getUTCMonth(),j.d=Le.getUTCDate()+(j.w+6)%7):(Le=FS(U0(j.y,0,1)),Je=Le.getDay(),Le=Je>4||Je===0?Wg.ceil(Le):Wg(Le),Le=lp.offset(Le,(j.V-1)*7),j.y=Le.getFullYear(),j.m=Le.getMonth(),j.d=Le.getDate()+(j.w+6)%7)}else("W"in j||"U"in j)&&("w"in j||(j.w="u"in j?j.u%7:"W"in j?1:0),Je="Z"in j?US(U0(j.y,0,1)).getUTCDay():FS(U0(j.y,0,1)).getDay(),j.m=0,j.d="W"in j?(j.w+6)%7+j.W*7-(Je+5)%7:j.w+j.U*7-(Je+6)%7);return"Z"in j?(j.H+=j.Z/100|0,j.M+=j.Z%100,US(j)):FS(j)}}function F(Q,de,Ae,j){for(var We=0,Le=de.length,Je=Ae.length,Xe,Ge;We<Le;){if(j>=Je)return-1;if(Xe=de.charCodeAt(We++),Xe===37){if(Xe=de.charAt(We++),Ge=A[Xe in Nk?de.charAt(We++):Xe],!Ge||(j=Ge(Q,Ae,j))<0)return-1}else if(Xe!=Ae.charCodeAt(j++))return-1}return j}function O(Q,de,Ae){var j=f.exec(de.slice(Ae));return j?(Q.p=h.get(j[0].toLowerCase()),Ae+j[0].length):-1}function k(Q,de,Ae){var j=g.exec(de.slice(Ae));return j?(Q.w=_.get(j[0].toLowerCase()),Ae+j[0].length):-1}function D(Q,de,Ae){var j=p.exec(de.slice(Ae));return j?(Q.w=m.get(j[0].toLowerCase()),Ae+j[0].length):-1}function U(Q,de,Ae){var j=E.exec(de.slice(Ae));return j?(Q.m=w.get(j[0].toLowerCase()),Ae+j[0].length):-1}function Z(Q,de,Ae){var j=x.exec(de.slice(Ae));return j?(Q.m=y.get(j[0].toLowerCase()),Ae+j[0].length):-1}function se(Q,de,Ae){return F(Q,e,de,Ae)}function oe(Q,de,Ae){return F(Q,n,de,Ae)}function G(Q,de,Ae){return F(Q,r,de,Ae)}function W(Q){return s[Q.getDay()]}function ee(Q){return a[Q.getDay()]}function Y(Q){return u[Q.getMonth()]}function pe(Q){return l[Q.getMonth()]}function z(Q){return i[+(Q.getHours()>=12)]}function I(Q){return 1+~~(Q.getMonth()/3)}function V(Q){return s[Q.getUTCDay()]}function X(Q){return a[Q.getUTCDay()]}function te(Q){return u[Q.getUTCMonth()]}function J(Q){return l[Q.getUTCMonth()]}function fe(Q){return i[+(Q.getUTCHours()>=12)]}function ae(Q){return 1+~~(Q.getUTCMonth()/3)}return{format:function(Q){var de=C(Q+="",b);return de.toString=function(){return Q},de},parse:function(Q){var de=R(Q+="",!1);return de.toString=function(){return Q},de},utcFormat:function(Q){var de=C(Q+="",M);return de.toString=function(){return Q},de},utcParse:function(Q){var de=R(Q+="",!0);return de.toString=function(){return Q},de}}}var Nk={"-":"",_:" ",0:"0"},oi=/^\s*\d+/,Ipe=/^%/,Fpe=/[\\^$*+?|[\]().{}]/g;function yn(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function Upe(t){return t.replace(Fpe,"\\$&")}function B0(t){return new RegExp("^(?:"+t.map(Upe).join("|")+")","i")}function z0(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Bpe(t,e,n){var r=oi.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function zpe(t,e,n){var r=oi.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function jpe(t,e,n){var r=oi.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Hpe(t,e,n){var r=oi.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Gpe(t,e,n){var r=oi.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function kk(t,e,n){var r=oi.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Lk(t,e,n){var r=oi.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Vpe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Wpe(t,e,n){var r=oi.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Ype(t,e,n){var r=oi.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Ik(t,e,n){var r=oi.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Xpe(t,e,n){var r=oi.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Fk(t,e,n){var r=oi.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function qpe(t,e,n){var r=oi.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Kpe(t,e,n){var r=oi.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function $pe(t,e,n){var r=oi.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Zpe(t,e,n){var r=oi.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Jpe(t,e,n){var r=Ipe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Qpe(t,e,n){var r=oi.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function eme(t,e,n){var r=oi.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Uk(t,e){return yn(t.getDate(),e,2)}function tme(t,e){return yn(t.getHours(),e,2)}function nme(t,e){return yn(t.getHours()%12||12,e,2)}function rme(t,e){return yn(1+lp.count(Jo(t),t),e,3)}function B6(t,e){return yn(t.getMilliseconds(),e,3)}function ime(t,e){return B6(t,e)+"000"}function ame(t,e){return yn(t.getMonth()+1,e,2)}function sme(t,e){return yn(t.getMinutes(),e,2)}function ome(t,e){return yn(t.getSeconds(),e,2)}function lme(t){var e=t.getDay();return e===0?7:e}function cme(t,e){return yn(Yx.count(Jo(t)-1,t),e,2)}function z6(t){var e=t.getDay();return e>=4||e===0?mh(t):mh.ceil(t)}function ume(t,e){return t=z6(t),yn(mh.count(Jo(t),t)+(Jo(t).getDay()===4),e,2)}function fme(t){return t.getDay()}function hme(t,e){return yn(Wg.count(Jo(t)-1,t),e,2)}function dme(t,e){return yn(t.getFullYear()%100,e,2)}function pme(t,e){return t=z6(t),yn(t.getFullYear()%100,e,2)}function mme(t,e){return yn(t.getFullYear()%1e4,e,4)}function vme(t,e){var n=t.getDay();return t=n>=4||n===0?mh(t):mh.ceil(t),yn(t.getFullYear()%1e4,e,4)}function gme(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+yn(e/60|0,"0",2)+yn(e%60,"0",2)}function Bk(t,e){return yn(t.getUTCDate(),e,2)}function xme(t,e){return yn(t.getUTCHours(),e,2)}function _me(t,e){return yn(t.getUTCHours()%12||12,e,2)}function yme(t,e){return yn(1+Wx.count(Qo(t),t),e,3)}function j6(t,e){return yn(t.getUTCMilliseconds(),e,3)}function Eme(t,e){return j6(t,e)+"000"}function Sme(t,e){return yn(t.getUTCMonth()+1,e,2)}function bme(t,e){return yn(t.getUTCMinutes(),e,2)}function Tme(t,e){return yn(t.getUTCSeconds(),e,2)}function wme(t){var e=t.getUTCDay();return e===0?7:e}function Ame(t,e){return yn(Xx.count(Qo(t)-1,t),e,2)}function H6(t){var e=t.getUTCDay();return e>=4||e===0?vh(t):vh.ceil(t)}function Mme(t,e){return t=H6(t),yn(vh.count(Qo(t),t)+(Qo(t).getUTCDay()===4),e,2)}function Cme(t){return t.getUTCDay()}function Rme(t,e){return yn(Yg.count(Qo(t)-1,t),e,2)}function Ome(t,e){return yn(t.getUTCFullYear()%100,e,2)}function Pme(t,e){return t=H6(t),yn(t.getUTCFullYear()%100,e,2)}function Dme(t,e){return yn(t.getUTCFullYear()%1e4,e,4)}function Nme(t,e){var n=t.getUTCDay();return t=n>=4||n===0?vh(t):vh.ceil(t),yn(t.getUTCFullYear()%1e4,e,4)}function kme(){return"+0000"}function zk(){return"%"}function jk(t){return+t}function Hk(t){return Math.floor(+t/1e3)}var Uf,G6,V6;Lme({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Lme(t){return Uf=Lpe(t),G6=Uf.format,Uf.parse,V6=Uf.utcFormat,Uf.utcParse,Uf}function Ime(t){return new Date(t)}function Fme(t){return t instanceof Date?+t:+new Date(+t)}function vA(t,e,n,r,i,a,s,l,u,f){var h=nA(),p=h.invert,m=h.domain,g=f(".%L"),_=f(":%S"),x=f("%I:%M"),y=f("%I %p"),E=f("%a %d"),w=f("%b %d"),b=f("%B"),M=f("%Y");function A(C){return(u(C)<C?g:l(C)<C?_:s(C)<C?x:a(C)<C?y:r(C)<C?i(C)<C?E:w:n(C)<C?b:M)(C)}return h.invert=function(C){return new Date(p(C))},h.domain=function(C){return arguments.length?m(Array.from(C,Fme)):m().map(Ime)},h.ticks=function(C){var R=m();return t(R[0],R[R.length-1],C??10)},h.tickFormat=function(C,R){return R==null?A:f(R)},h.nice=function(C){var R=m();return(!C||typeof C.range!="function")&&(C=e(R[0],R[R.length-1],C??10)),C?m(O6(R,C)):h},h.copy=function(){return op(h,vA(t,e,n,r,i,a,s,l,u,f))},h}function Ume(){return us.apply(vA(Npe,kpe,Jo,pA,Yx,lp,hA,uA,$c,G6).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Bme(){return us.apply(vA(Ppe,Dpe,Qo,mA,Xx,Wx,dA,fA,$c,V6).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function qx(){var t=0,e=1,n,r,i,a,s=Xi,l=!1,u;function f(p){return p==null||isNaN(p=+p)?u:s(i===0?.5:(p=(a(p)-n)*i,l?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([t,e]=p,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),f):[t,e]},f.clamp=function(p){return arguments.length?(l=!!p,f):l},f.interpolator=function(p){return arguments.length?(s=p,f):s};function h(p){return function(m){var g,_;return arguments.length?([g,_]=m,s=p(g,_),f):[s(0),s(1)]}}return f.range=h(Th),f.rangeRound=h(tA),f.unknown=function(p){return arguments.length?(u=p,f):u},function(p){return a=p,n=p(t),r=p(e),i=n===r?0:1/(r-n),f}}function mc(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function W6(){var t=pc(qx()(Xi));return t.copy=function(){return mc(t,W6())},ll.apply(t,arguments)}function Y6(){var t=aA(qx()).domain([1,10]);return t.copy=function(){return mc(t,Y6()).base(t.base())},ll.apply(t,arguments)}function X6(){var t=sA(qx());return t.copy=function(){return mc(t,X6()).constant(t.constant())},ll.apply(t,arguments)}function gA(){var t=oA(qx());return t.copy=function(){return mc(t,gA()).exponent(t.exponent())},ll.apply(t,arguments)}function zme(){return gA.apply(null,arguments).exponent(.5)}function q6(){var t=[],e=Xi;function n(r){if(r!=null&&!isNaN(r=+r))return e((ap(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(tc),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>wde(t,a/r))},n.copy=function(){return q6(e).domain(t)},ll.apply(n,arguments)}function Kx(){var t=0,e=.5,n=1,r=1,i,a,s,l,u,f=Xi,h,p=!1,m;function g(x){return isNaN(x=+x)?m:(x=.5+((x=+h(x))-a)*(r*x<r*a?l:u),f(p?Math.max(0,Math.min(1,x)):x))}g.domain=function(x){return arguments.length?([t,e,n]=x,i=h(t=+t),a=h(e=+e),s=h(n=+n),l=i===a?0:.5/(a-i),u=a===s?0:.5/(s-a),r=a<i?-1:1,g):[t,e,n]},g.clamp=function(x){return arguments.length?(p=!!x,g):p},g.interpolator=function(x){return arguments.length?(f=x,g):f};function _(x){return function(y){var E,w,b;return arguments.length?([E,w,b]=y,f=Jde(x,[E,w,b]),g):[f(0),f(.5),f(1)]}}return g.range=_(Th),g.rangeRound=_(tA),g.unknown=function(x){return arguments.length?(m=x,g):m},function(x){return h=x,i=x(t),a=x(e),s=x(n),l=i===a?0:.5/(a-i),u=a===s?0:.5/(s-a),r=a<i?-1:1,g}}function K6(){var t=pc(Kx()(Xi));return t.copy=function(){return mc(t,K6())},ll.apply(t,arguments)}function $6(){var t=aA(Kx()).domain([.1,1,10]);return t.copy=function(){return mc(t,$6()).base(t.base())},ll.apply(t,arguments)}function Z6(){var t=sA(Kx());return t.copy=function(){return mc(t,Z6()).constant(t.constant())},ll.apply(t,arguments)}function xA(){var t=oA(Kx());return t.copy=function(){return mc(t,xA()).exponent(t.exponent())},ll.apply(t,arguments)}function jme(){return xA.apply(null,arguments).exponent(.5)}const K0=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Jw,scaleDiverging:K6,scaleDivergingLog:$6,scaleDivergingPow:xA,scaleDivergingSqrt:jme,scaleDivergingSymlog:Z6,scaleIdentity:R6,scaleImplicit:WT,scaleLinear:C6,scaleLog:P6,scaleOrdinal:Zw,scalePoint:Cde,scalePow:lA,scaleQuantile:k6,scaleQuantize:L6,scaleRadial:N6,scaleSequential:W6,scaleSequentialLog:Y6,scaleSequentialPow:gA,scaleSequentialQuantile:q6,scaleSequentialSqrt:zme,scaleSequentialSymlog:X6,scaleSqrt:Epe,scaleSymlog:D6,scaleThreshold:I6,scaleTime:Ume,scaleUtc:Bme,tickFormat:M6},Symbol.toStringTag,{value:"Module"}));var cl=t=>t.chartData,$x=De([cl],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),J6=(t,e,n,r)=>r?$x(t):cl(t),Hme=(t,e,n)=>n?$x(t):cl(t);function lc(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(cr(e)&&cr(n))return!0}return!1}function Gk(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function Q6(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,a;if(cr(n))i=n;else if(typeof n=="function")return;if(cr(r))a=r;else if(typeof r=="function")return;var s=[i,a];if(lc(s))return s}}function Gme(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(lc(r))return Gk(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,a]=t,s,l;if(i==="auto")e!=null&&(s=Math.min(...e));else if(kt(i))s=i;else if(typeof i=="function")try{e!=null&&(s=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&QN.test(i)){var u=QN.exec(i);if(u==null||u[1]==null||e==null)s=void 0;else{var f=+u[1];s=e[0]-f}}else s=e==null?void 0:e[0];if(a==="auto")e!=null&&(l=Math.max(...e));else if(kt(a))l=a;else if(typeof a=="function")try{e!=null&&(l=a(e==null?void 0:e[1]))}catch{}else if(typeof a=="string"&&e4.test(a)){var h=e4.exec(a);if(h==null||h[1]==null||e==null)l=void 0;else{var p=+h[1];l=e[1]+p}}else l=e==null?void 0:e[1];var m=[s,l];if(lc(m))return e==null?m:Gk(m,e,n)}}}var wh=1e9,Vme={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},yA,ar=!0,ls="[DecimalError] ",ru=ls+"Invalid argument: ",_A=ls+"Exponent out of range: ",Ah=Math.floor,jc=Math.pow,Wme=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ma,ni=1e7,$n=7,e8=9007199254740991,Xg=Ah(e8/$n),wt={};wt.absoluteValue=wt.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};wt.comparedTo=wt.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};wt.decimalPlaces=wt.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*$n;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};wt.dividedBy=wt.div=function(t){return Wo(this,new this.constructor(t))};wt.dividedToIntegerBy=wt.idiv=function(t){var e=this,n=e.constructor;return Vn(Wo(e,new n(t),0,1),n.precision)};wt.equals=wt.eq=function(t){return!this.cmp(t)};wt.exponent=function(){return Lr(this)};wt.greaterThan=wt.gt=function(t){return this.cmp(t)>0};wt.greaterThanOrEqualTo=wt.gte=function(t){return this.cmp(t)>=0};wt.isInteger=wt.isint=function(){return this.e>this.d.length-2};wt.isNegative=wt.isneg=function(){return this.s<0};wt.isPositive=wt.ispos=function(){return this.s>0};wt.isZero=function(){return this.s===0};wt.lessThan=wt.lt=function(t){return this.cmp(t)<0};wt.lessThanOrEqualTo=wt.lte=function(t){return this.cmp(t)<1};wt.logarithm=wt.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Ma))throw Error(ls+"NaN");if(n.s<1)throw Error(ls+(n.s?"NaN":"-Infinity"));return n.eq(Ma)?new r(0):(ar=!1,e=Wo(Ud(n,a),Ud(t,a),a),ar=!0,Vn(e,i))};wt.minus=wt.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?r8(e,t):t8(e,(t.s=-t.s,t))};wt.modulo=wt.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(ls+"NaN");return n.s?(ar=!1,e=Wo(n,t,0,1).times(t),ar=!0,n.minus(e)):Vn(new r(n),i)};wt.naturalExponential=wt.exp=function(){return n8(this)};wt.naturalLogarithm=wt.ln=function(){return Ud(this)};wt.negated=wt.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};wt.plus=wt.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?t8(e,t):r8(e,(t.s=-t.s,t))};wt.precision=wt.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(ru+t);if(e=Lr(i)+1,r=i.d.length-1,n=r*$n+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};wt.squareRoot=wt.sqrt=function(){var t,e,n,r,i,a,s,l=this,u=l.constructor;if(l.s<1){if(!l.s)return new u(0);throw Error(ls+"NaN")}for(t=Lr(l),ar=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=Xs(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Ah((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new u(e)):r=new u(i.toString()),n=u.precision,i=s=n+3;;)if(a=r,r=a.plus(Wo(l,a,s+2)).times(.5),Xs(a.d).slice(0,s)===(e=Xs(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(Vn(a,n+1,0),a.times(a).eq(l)){r=a;break}}else if(e!="9999")break;s+=4}return ar=!0,Vn(r,n)};wt.times=wt.mul=function(t){var e,n,r,i,a,s,l,u,f,h=this,p=h.constructor,m=h.d,g=(t=new p(t)).d;if(!h.s||!t.s)return new p(0);for(t.s*=h.s,n=h.e+t.e,u=m.length,f=g.length,u<f&&(a=m,m=g,g=a,s=u,u=f,f=s),a=[],s=u+f,r=s;r--;)a.push(0);for(r=f;--r>=0;){for(e=0,i=u+r;i>r;)l=a[i]+g[r]*m[i-r-1]+e,a[i--]=l%ni|0,e=l/ni|0;a[i]=(a[i]+e)%ni|0}for(;!a[--s];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,ar?Vn(t,p.precision):t};wt.toDecimalPlaces=wt.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(ro(t,0,wh),e===void 0?e=r.rounding:ro(e,0,8),Vn(n,t+Lr(n)+1,e))};wt.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=_u(r,!0):(ro(t,0,wh),e===void 0?e=i.rounding:ro(e,0,8),r=Vn(new i(r),t+1,e),n=_u(r,!0,t+1)),n};wt.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?_u(i):(ro(t,0,wh),e===void 0?e=a.rounding:ro(e,0,8),r=Vn(new a(i),t+Lr(i)+1,e),n=_u(r.abs(),!1,t+Lr(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};wt.toInteger=wt.toint=function(){var t=this,e=t.constructor;return Vn(new e(t),Lr(t)+1,e.rounding)};wt.toNumber=function(){return+this};wt.toPower=wt.pow=function(t){var e,n,r,i,a,s,l=this,u=l.constructor,f=12,h=+(t=new u(t));if(!t.s)return new u(Ma);if(l=new u(l),!l.s){if(t.s<1)throw Error(ls+"Infinity");return l}if(l.eq(Ma))return l;if(r=u.precision,t.eq(Ma))return Vn(l,r);if(e=t.e,n=t.d.length-1,s=e>=n,a=l.s,s){if((n=h<0?-h:h)<=e8){for(i=new u(Ma),e=Math.ceil(r/$n+4),ar=!1;n%2&&(i=i.times(l),Wk(i.d,e)),n=Ah(n/2),n!==0;)l=l.times(l),Wk(l.d,e);return ar=!0,t.s<0?new u(Ma).div(i):Vn(i,r)}}else if(a<0)throw Error(ls+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,l.s=1,ar=!1,i=t.times(Ud(l,r+f)),ar=!0,i=n8(i),i.s=a,i};wt.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=Lr(i),r=_u(i,n<=a.toExpNeg||n>=a.toExpPos)):(ro(t,1,wh),e===void 0?e=a.rounding:ro(e,0,8),i=Vn(new a(i),t,e),n=Lr(i),r=_u(i,t<=n||n<=a.toExpNeg,t)),r};wt.toSignificantDigits=wt.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(ro(t,1,wh),e===void 0?e=r.rounding:ro(e,0,8)),Vn(new r(n),t,e)};wt.toString=wt.valueOf=wt.val=wt.toJSON=wt[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Lr(t),n=t.constructor;return _u(t,e<=n.toExpNeg||e>=n.toExpPos)};function t8(t,e){var n,r,i,a,s,l,u,f,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),ar?Vn(e,p):e;if(u=t.d,f=e.d,s=t.e,i=e.e,u=u.slice(),a=s-i,a){for(a<0?(r=u,a=-a,l=f.length):(r=f,i=s,l=u.length),s=Math.ceil(p/$n),l=s>l?s+1:l+1,a>l&&(a=l,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(l=u.length,a=f.length,l-a<0&&(a=l,r=f,f=u,u=r),n=0;a;)n=(u[--a]=u[a]+f[a]+n)/ni|0,u[a]%=ni;for(n&&(u.unshift(n),++i),l=u.length;u[--l]==0;)u.pop();return e.d=u,e.e=i,ar?Vn(e,p):e}function ro(t,e,n){if(t!==~~t||t<e||t>n)throw Error(ru+t)}function Xs(t){var e,n,r,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)r=t[e]+"",n=$n-r.length,n&&(a+=Yl(n)),a+=r;s=t[e],r=s+"",n=$n-r.length,n&&(a+=Yl(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var Wo=(function(){function t(r,i){var a,s=0,l=r.length;for(r=r.slice();l--;)a=r[l]*i+s,r[l]=a%ni|0,s=a/ni|0;return s&&r.unshift(s),r}function e(r,i,a,s){var l,u;if(a!=s)u=a>s?1:-1;else for(l=u=0;l<a;l++)if(r[l]!=i[l]){u=r[l]>i[l]?1:-1;break}return u}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*ni+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var l,u,f,h,p,m,g,_,x,y,E,w,b,M,A,C,R,F,O=r.constructor,k=r.s==i.s?1:-1,D=r.d,U=i.d;if(!r.s)return new O(r);if(!i.s)throw Error(ls+"Division by zero");for(u=r.e-i.e,R=U.length,A=D.length,g=new O(k),_=g.d=[],f=0;U[f]==(D[f]||0);)++f;if(U[f]>(D[f]||0)&&--u,a==null?w=a=O.precision:s?w=a+(Lr(r)-Lr(i))+1:w=a,w<0)return new O(0);if(w=w/$n+2|0,f=0,R==1)for(h=0,U=U[0],w++;(f<A||h)&&w--;f++)b=h*ni+(D[f]||0),_[f]=b/U|0,h=b%U|0;else{for(h=ni/(U[0]+1)|0,h>1&&(U=t(U,h),D=t(D,h),R=U.length,A=D.length),M=R,x=D.slice(0,R),y=x.length;y<R;)x[y++]=0;F=U.slice(),F.unshift(0),C=U[0],U[1]>=ni/2&&++C;do h=0,l=e(U,x,R,y),l<0?(E=x[0],R!=y&&(E=E*ni+(x[1]||0)),h=E/C|0,h>1?(h>=ni&&(h=ni-1),p=t(U,h),m=p.length,y=x.length,l=e(p,x,m,y),l==1&&(h--,n(p,R<m?F:U,m))):(h==0&&(l=h=1),p=U.slice()),m=p.length,m<y&&p.unshift(0),n(x,p,y),l==-1&&(y=x.length,l=e(U,x,R,y),l<1&&(h++,n(x,R<y?F:U,y))),y=x.length):l===0&&(h++,x=[0]),_[f++]=h,l&&x[0]?x[y++]=D[M]||0:(x=[D[M]],y=1);while((M++<A||x[0]!==void 0)&&w--)}return _[0]||_.shift(),g.e=u,Vn(g,s?a+Lr(g)+1:a)}})();function n8(t,e){var n,r,i,a,s,l,u=0,f=0,h=t.constructor,p=h.precision;if(Lr(t)>16)throw Error(_A+Lr(t));if(!t.s)return new h(Ma);for(ar=!1,l=p,s=new h(.03125);t.abs().gte(.1);)t=t.times(s),f+=5;for(r=Math.log(jc(2,f))/Math.LN10*2+5|0,l+=r,n=i=a=new h(Ma),h.precision=l;;){if(i=Vn(i.times(t),l),n=n.times(++u),s=a.plus(Wo(i,n,l)),Xs(s.d).slice(0,l)===Xs(a.d).slice(0,l)){for(;f--;)a=Vn(a.times(a),l);return h.precision=p,e==null?(ar=!0,Vn(a,p)):a}a=s}}function Lr(t){for(var e=t.e*$n,n=t.d[0];n>=10;n/=10)e++;return e}function BS(t,e,n){if(e>t.LN10.sd())throw ar=!0,n&&(t.precision=n),Error(ls+"LN10 precision limit exceeded");return Vn(new t(t.LN10),e)}function Yl(t){for(var e="";t--;)e+="0";return e}function Ud(t,e){var n,r,i,a,s,l,u,f,h,p=1,m=10,g=t,_=g.d,x=g.constructor,y=x.precision;if(g.s<1)throw Error(ls+(g.s?"NaN":"-Infinity"));if(g.eq(Ma))return new x(0);if(e==null?(ar=!1,f=y):f=e,g.eq(10))return e==null&&(ar=!0),BS(x,f);if(f+=m,x.precision=f,n=Xs(_),r=n.charAt(0),a=Lr(g),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)g=g.times(t),n=Xs(g.d),r=n.charAt(0),p++;a=Lr(g),r>1?(g=new x("0."+n),a++):g=new x(r+"."+n.slice(1))}else return u=BS(x,f+2,y).times(a+""),g=Ud(new x(r+"."+n.slice(1)),f-m).plus(u),x.precision=y,e==null?(ar=!0,Vn(g,y)):g;for(l=s=g=Wo(g.minus(Ma),g.plus(Ma),f),h=Vn(g.times(g),f),i=3;;){if(s=Vn(s.times(h),f),u=l.plus(Wo(s,new x(i),f)),Xs(u.d).slice(0,f)===Xs(l.d).slice(0,f))return l=l.times(2),a!==0&&(l=l.plus(BS(x,f+2,y).times(a+""))),l=Wo(l,new x(p),f),x.precision=y,e==null?(ar=!0,Vn(l,y)):l;l=u,i+=2}}function Vk(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Ah(n/$n),t.d=[],r=(n+1)%$n,n<0&&(r+=$n),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=$n;r<i;)t.d.push(+e.slice(r,r+=$n));e=e.slice(r),r=$n-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),ar&&(t.e>Xg||t.e<-Xg))throw Error(_A+n)}else t.s=0,t.e=0,t.d=[0];return t}function Vn(t,e,n){var r,i,a,s,l,u,f,h,p=t.d;for(s=1,a=p[0];a>=10;a/=10)s++;if(r=e-s,r<0)r+=$n,i=e,f=p[h=0];else{if(h=Math.ceil((r+1)/$n),a=p.length,h>=a)return t;for(f=a=p[h],s=1;a>=10;a/=10)s++;r%=$n,i=r-$n+s}if(n!==void 0&&(a=jc(10,s-i-1),l=f/a%10|0,u=e<0||p[h+1]!==void 0||f%a,u=n<4?(l||u)&&(n==0||n==(t.s<0?3:2)):l>5||l==5&&(n==4||u||n==6&&(r>0?i>0?f/jc(10,s-i):0:p[h-1])%10&1||n==(t.s<0?8:7))),e<1||!p[0])return u?(a=Lr(t),p.length=1,e=e-a-1,p[0]=jc(10,($n-e%$n)%$n),t.e=Ah(-e/$n)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(r==0?(p.length=h,a=1,h--):(p.length=h+1,a=jc(10,$n-r),p[h]=i>0?(f/jc(10,s-i)%jc(10,i)|0)*a:0),u)for(;;)if(h==0){(p[0]+=a)==ni&&(p[0]=1,++t.e);break}else{if(p[h]+=a,p[h]!=ni)break;p[h--]=0,a=1}for(r=p.length;p[--r]===0;)p.pop();if(ar&&(t.e>Xg||t.e<-Xg))throw Error(_A+Lr(t));return t}function r8(t,e){var n,r,i,a,s,l,u,f,h,p,m=t.constructor,g=m.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new m(t),ar?Vn(e,g):e;if(u=t.d,p=e.d,r=e.e,f=t.e,u=u.slice(),s=f-r,s){for(h=s<0,h?(n=u,s=-s,l=p.length):(n=p,r=f,l=u.length),i=Math.max(Math.ceil(g/$n),l)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=u.length,l=p.length,h=i<l,h&&(l=i),i=0;i<l;i++)if(u[i]!=p[i]){h=u[i]<p[i];break}s=0}for(h&&(n=u,u=p,p=n,e.s=-e.s),l=u.length,i=p.length-l;i>0;--i)u[l++]=0;for(i=p.length;i>s;){if(u[--i]<p[i]){for(a=i;a&&u[--a]===0;)u[a]=ni-1;--u[a],u[i]+=ni}u[i]-=p[i]}for(;u[--l]===0;)u.pop();for(;u[0]===0;u.shift())--r;return u[0]?(e.d=u,e.e=r,ar?Vn(e,g):e):new m(0)}function _u(t,e,n){var r,i=Lr(t),a=Xs(t.d),s=a.length;return e?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+Yl(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Yl(-i-1)+a,n&&(r=n-s)>0&&(a+=Yl(r))):i>=s?(a+=Yl(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+Yl(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=Yl(r))),t.s<0?"-"+a:a}function Wk(t,e){if(t.length>e)return t.length=e,!0}function i8(t){var e,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(ru+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return Vk(s,a.toString())}else if(typeof a!="string")throw Error(ru+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,Wme.test(a))Vk(s,a);else throw Error(ru+a)}if(i.prototype=wt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=i8,i.config=i.set=Yme,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Yme(t){if(!t||typeof t!="object")throw Error(ls+"Object expected");var e,n,r,i=["precision",1,wh,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Ah(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(ru+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(ru+n+": "+r);return this}var yA=i8(Vme);Ma=new yA(1);const Nn=yA;var Xme=t=>t,a8={},s8=t=>t===a8,Yk=t=>function e(){return arguments.length===0||arguments.length===1&&s8(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},o8=(t,e)=>t===1?e:Yk(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(s=>s!==a8).length;return a>=t?e(...r):o8(t-a,Yk(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var f=r.map(h=>s8(h)?l.shift():h);return e(...f,...l)}))}),qme=t=>o8(t.length,t),KT=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},Kme=qme((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),$me=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Xme;var i=n.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce((l,u)=>u(l),a(...arguments))}};function l8(t){var e;return t===0?e=1:e=Math.floor(new Nn(t).abs().log(10).toNumber())+1,e}function c8(t,e,n){for(var r=new Nn(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var u8=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},f8=(t,e,n)=>{if(t.lte(0))return new Nn(0);var r=l8(t.toNumber()),i=new Nn(10).pow(r),a=t.div(i),s=r!==1?.05:.1,l=new Nn(Math.ceil(a.div(s).toNumber())).add(n).mul(s),u=l.mul(i);return e?new Nn(u.toNumber()):new Nn(Math.ceil(u.toNumber()))},Zme=(t,e,n)=>{var r=new Nn(1),i=new Nn(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new Nn(10).pow(l8(t)-1),i=new Nn(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Nn(Math.floor(t)))}else t===0?i=new Nn(Math.floor((e-1)/2)):n||(i=new Nn(Math.floor(t)));var s=Math.floor((e-1)/2),l=$me(Kme(u=>i.add(new Nn(u-s).mul(r)).toNumber()),KT);return l(0,e)},h8=function(e,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new Nn(0),tickMin:new Nn(0),tickMax:new Nn(0)};var s=f8(new Nn(n).sub(e).div(r-1),i,a),l;e<=0&&n>=0?l=new Nn(0):(l=new Nn(e).add(n).div(2),l=l.sub(new Nn(l).mod(s)));var u=Math.ceil(l.sub(e).div(s).toNumber()),f=Math.ceil(new Nn(n).sub(l).div(s).toNumber()),h=u+f+1;return h>r?h8(e,n,r,i,a+1):(h<r&&(f=n>0?f+(r-h):f,u=n>0?u:u+(r-h)),{step:s,tickMin:l.sub(new Nn(u).mul(s)),tickMax:l.add(new Nn(f).mul(s))})},Jme=function(e){var[n,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),[l,u]=u8([n,r]);if(l===-1/0||u===1/0){var f=u===1/0?[l,...KT(0,i-1).map(()=>1/0)]:[...KT(0,i-1).map(()=>-1/0),u];return n>r?f.reverse():f}if(l===u)return Zme(l,i,a);var{step:h,tickMin:p,tickMax:m}=h8(l,u,s,a,0),g=c8(p,m.add(new Nn(.1).mul(h)),h);return n>r?g.reverse():g},Qme=function(e,n){var[r,i]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,l]=u8([r,i]);if(s===-1/0||l===1/0)return[r,i];if(s===l)return[s];var u=Math.max(n,2),f=f8(new Nn(l).sub(s).div(u-1),a,0),h=[...c8(new Nn(s),new Nn(l),f),l];return a===!1&&(h=h.map(p=>Math.round(p))),r>i?h.reverse():h},d8=t=>t.rootProps.maxBarSize,eve=t=>t.rootProps.barGap,p8=t=>t.rootProps.barCategoryGap,tve=t=>t.rootProps.barSize,cp=t=>t.rootProps.stackOffset,m8=t=>t.rootProps.reverseStackOrder,EA=t=>t.options.chartName,SA=t=>t.rootProps.syncId,v8=t=>t.rootProps.syncMethod,bA=t=>t.options.eventEmitter,Li={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},ko={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Ea={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Zx=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},nve={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ko.angleAxisId,includeHidden:!1,name:void 0,reversed:ko.reversed,scale:ko.scale,tick:ko.tick,tickCount:void 0,ticks:void 0,type:ko.type,unit:void 0},rve={allowDataOverflow:Ea.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ea.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ea.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ea.scale,tick:Ea.tick,tickCount:Ea.tickCount,ticks:void 0,type:Ea.type,unit:void 0},ive={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:ko.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ko.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ko.scale,tick:ko.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},ave={allowDataOverflow:Ea.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ea.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ea.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ea.scale,tick:Ea.tick,tickCount:Ea.tickCount,ticks:void 0,type:"category",unit:void 0},TA=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?ive:nve,wA=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?ave:rve,Jx=t=>t.polarOptions,AA=De([sl,ol,Yr],d6),g8=De([Jx,AA],(t,e)=>{if(t!=null)return Ui(t.innerRadius,e,0)}),x8=De([Jx,AA],(t,e)=>{if(t!=null)return Ui(t.outerRadius,e,e*.8)}),sve=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},_8=De([Jx],sve);De([TA,_8],Zx);var y8=De([AA,g8,x8],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});De([wA,y8],Zx);var E8=De([En,Jx,g8,x8,sl,ol],(t,e,n,r,i,a)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:s,cy:l,startAngle:u,endAngle:f}=e;return{cx:Ui(s,i,i/2),cy:Ui(l,a,a/2),innerRadius:n,outerRadius:r,startAngle:u,endAngle:f,clockWise:!1}}}),sr=(t,e)=>e,up=(t,e,n)=>n;function MA(t){return t==null?void 0:t.id}function S8(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:a}=n,s=new Map;return t.forEach(l=>{var u,f=(u=l.data)!==null&&u!==void 0?u:r;if(!(f==null||f.length===0)){var h=MA(l);f.forEach((p,m)=>{var g=a==null||i?m:String(Jn(p,a,null)),_=Jn(p,l.dataKey,0),x;s.has(g)?x=s.get(g):x={},Object.assign(x,{[h]:_}),s.set(g,x)})}}),Array.from(s.values())}function Qx(t){return"stackId"in t&&t.stackId!=null&&t.dataKey!=null}var e1=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function t1(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function ove(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var qr=t=>{var e=En(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Mh=t=>t.tooltip.settings.axisId;function Xk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Xk(Object(n),!0).forEach(function(r){lve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lve(t,e,n){return(e=cve(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cve(t){var e=uve(t,"string");return typeof e=="symbol"?e:e+""}function uve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $T=[0,"auto"],Qr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},b8=(t,e)=>t.cartesianAxis.xAxis[e],ul=(t,e)=>{var n=b8(t,e);return n??Qr},ei={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:$T,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:np},T8=(t,e)=>t.cartesianAxis.yAxis[e],fl=(t,e)=>{var n=T8(t,e);return n??ei},fve={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},CA=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??fve},ur=(t,e,n)=>{switch(e){case"xAxis":return ul(t,n);case"yAxis":return fl(t,n);case"zAxis":return CA(t,n);case"angleAxis":return TA(t,n);case"radiusAxis":return wA(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},hve=(t,e,n)=>{switch(e){case"xAxis":return ul(t,n);case"yAxis":return fl(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},fp=(t,e,n)=>{switch(e){case"xAxis":return ul(t,n);case"yAxis":return fl(t,n);case"angleAxis":return TA(t,n);case"radiusAxis":return wA(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},w8=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function RA(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var OA=t=>t.graphicalItems.cartesianItems,dve=De([sr,up],RA),PA=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),hp=De([OA,ur,dve],PA,{memoizeOptions:{resultEqualityCheck:t1}}),A8=De([hp],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(Qx)),M8=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),pve=De([hp],M8),DA=t=>t.map(e=>e.data).filter(Boolean).flat(1),mve=De([hp],DA,{memoizeOptions:{resultEqualityCheck:t1}}),NA=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},kA=De([mve,J6],NA),LA=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:Jn(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:Jn(i,r)}))):t.map(r=>({value:r})),n1=De([kA,ur,hp],LA);function C8(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Vv(t){if(no(t)||t instanceof Date){var e=Number(t);if(cr(e))return e}}function qk(t){if(Array.isArray(t)){var e=[Vv(t[0]),Vv(t[1])];return lc(e)?e:void 0}var n=Vv(t);if(n!=null)return[n,n]}function el(t){return t.map(Vv).filter(sce)}function vve(t,e,n){return!n||typeof e!="number"||to(e)?[]:n.length?el(n.flatMap(r=>{var i=Jn(t,r.dataKey),a,s;if(Array.isArray(i)?[a,s]=i:a=s=i,!(!cr(a)||!cr(s)))return[e-a,e+s]})):[]}var Kr=t=>{var e=qr(t),n=Mh(t);return fp(t,e,n)},dp=De([Kr],t=>t==null?void 0:t.dataKey),gve=De([A8,J6,Kr],S8),R8=(t,e,n,r)=>{var i={},a=e.reduce((s,l)=>{if(l.stackId==null)return s;var u=s[l.stackId];return u==null&&(u=[]),u.push(l),s[l.stackId]=u,s},i);return Object.fromEntries(Object.entries(a).map(s=>{var[l,u]=s,f=r?[...u].reverse():u,h=f.map(MA);return[l,{stackedData:kfe(t,h,n),graphicalItems:f}]}))},ZT=De([gve,A8,cp,m8],R8),O8=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=e;if(r==null&&n!=="zAxis"){var s=Bfe(t,i,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},xve=De([ur],t=>t.allowDataOverflow),IA=t=>{var e;if(t==null||!("domain"in t))return $T;if(t.domain!=null)return t.domain;if("ticks"in t&&t.ticks!=null){if(t.type==="number"){var n=el(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:$T},FA=De([ur],IA),UA=De([FA,xve],Q6),_ve=De([ZT,cl,sr,UA],O8,{memoizeOptions:{resultEqualityCheck:e1}}),r1=t=>t.errorBars,yve=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>C8(n,r)),Kg=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),s=Math.min(...a),l=Math.max(...a);return[s,l]}},BA=(t,e,n,r,i)=>{var a,s;if(n.length>0&&t.forEach(l=>{n.forEach(u=>{var f,h,p=(f=r[u.id])===null||f===void 0?void 0:f.filter(E=>C8(i,E)),m=Jn(l,(h=e.dataKey)!==null&&h!==void 0?h:u.dataKey),g=vve(l,m,p);if(g.length>=2){var _=Math.min(...g),x=Math.max(...g);(a==null||_<a)&&(a=_),(s==null||x>s)&&(s=x)}var y=qk(m);y!=null&&(a=a==null?y[0]:Math.min(a,y[0]),s=s==null?y[1]:Math.max(s,y[1]))})}),(e==null?void 0:e.dataKey)!=null&&t.forEach(l=>{var u=qk(Jn(l,e.dataKey));u!=null&&(a=a==null?u[0]:Math.min(a,u[0]),s=s==null?u[1]:Math.max(s,u[1]))}),cr(a)&&cr(s))return[a,s]},Eve=De([kA,ur,pve,r1,sr],BA,{memoizeOptions:{resultEqualityCheck:e1}});function Sve(t){var{value:e}=t;if(no(e)||e instanceof Date)return e}var bve=(t,e,n)=>{var r=t.map(Sve).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&X5(r))?g6(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},P8=t=>t.referenceElements.dots,Ch=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),Tve=De([P8,sr,up],Ch),D8=t=>t.referenceElements.areas,wve=De([D8,sr,up],Ch),N8=t=>t.referenceElements.lines,Ave=De([N8,sr,up],Ch),k8=(t,e)=>{if(t!=null){var n=el(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Mve=De(Tve,sr,k8),L8=(t,e)=>{if(t!=null){var n=el(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Cve=De([wve,sr],L8);function Rve(t){var e;if(t.x!=null)return el([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:el(n)}function Ove(t){var e;if(t.y!=null)return el([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:el(n)}var I8=(t,e)=>{if(t!=null){var n=t.flatMap(r=>e==="xAxis"?Rve(r):Ove(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Pve=De([Ave,sr],I8),Dve=De(Mve,Pve,Cve,(t,e,n)=>Kg(t,n,e)),zA=(t,e,n,r,i,a,s,l)=>{if(n!=null)return n;var u=s==="vertical"&&l==="xAxis"||s==="horizontal"&&l==="yAxis",f=u?Kg(r,a,i):Kg(a,i);return Gme(e,f,t.allowDataOverflow)},Nve=De([ur,FA,UA,_ve,Eve,Dve,En,sr],zA,{memoizeOptions:{resultEqualityCheck:e1}}),kve=[0,1],jA=(t,e,n,r,i,a,s)=>{if(!((t==null||n==null||n.length===0)&&s===void 0)){var{dataKey:l,type:u}=t,f=Pu(e,a);if(f&&l==null){var h;return g6(0,(h=n==null?void 0:n.length)!==null&&h!==void 0?h:0)}return u==="category"?bve(r,t,f):i==="expand"?kve:s}},HA=De([ur,En,kA,n1,cp,sr,Nve],jA),F8=(t,e,n,r,i)=>{if(t!=null){var{scale:a,type:s}=t;if(a==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":s==="category"?"band":"linear";if(typeof a=="string"){var l="scale".concat($d(a));return l in K0?l:"point"}}},Rh=De([ur,En,w8,EA,sr],F8);function Lve(t){if(t!=null){if(t in K0)return K0[t]();var e="scale".concat($d(t));if(e in K0)return K0[e]()}}function GA(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=Lve(e);if(i!=null){var a=i.domain(n).range(r);return Rfe(a),a}}}var VA=(t,e,n)=>{var r=IA(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&lc(t))return Jme(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&lc(t))return Qme(t,e.tickCount,e.allowDecimals)}},WA=De([HA,fp,Rh],VA),YA=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&lc(e)&&Array.isArray(n)&&n.length>0){var i=e[0],a=n[0],s=e[1],l=n[n.length-1];return[Math.min(i,a),Math.max(s,l)]}return e},Ive=De([ur,HA,WA,sr],YA),Fve=De(n1,ur,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(el(t.map(p=>p.value))).sort((p,m)=>p-m),i=r[0],a=r[r.length-1];if(i==null||a==null)return 1/0;var s=a-i;if(s===0)return 1/0;for(var l=0;l<r.length-1;l++){var u=r[l],f=r[l+1];if(!(u==null||f==null)){var h=f-u;n=Math.min(n,h)}}return n/s}}),U8=De(Fve,En,p8,Yr,(t,e,n,r,i)=>i,(t,e,n,r,i)=>{if(!cr(t))return 0;var a=e==="vertical"?r.height:r.width;if(i==="gap")return t*a/2;if(i==="no-gap"){var s=Ui(n,t*a),l=t*a/2;return l-s-(l-s)/a*s}return 0}),Uve=(t,e,n)=>{var r=ul(t,e);return r==null||typeof r.padding!="string"?0:U8(t,"xAxis",e,n,r.padding)},Bve=(t,e,n)=>{var r=fl(t,e);return r==null||typeof r.padding!="string"?0:U8(t,"yAxis",e,n,r.padding)},zve=De(ul,Uve,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),jve=De(fl,Bve,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),Hve=De([Yr,zve,Lx,kx,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[t.left+e.left,t.left+t.width-e.right]}),Gve=De([Yr,En,jve,Lx,kx,(t,e,n)=>n],(t,e,n,r,i,a)=>{var{padding:s}=i;return a?[r.height-s.bottom,s.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),pp=(t,e,n,r)=>{var i;switch(e){case"xAxis":return Hve(t,n,r);case"yAxis":return Gve(t,n,r);case"zAxis":return(i=CA(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return _8(t);case"radiusAxis":return y8(t,n);default:return}},B8=De([ur,pp],Zx),i1=De([ur,Rh,Ive,B8],GA);De([hp,r1,sr],yve);function z8(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var a1=(t,e)=>e,s1=(t,e,n)=>n,Vve=De(Dx,a1,s1,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(z8)),Wve=De(Nx,a1,s1,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(z8)),j8=(t,e)=>({width:t.width,height:e.height}),Yve=(t,e)=>{var n=typeof e.width=="number"?e.width:np;return{width:n,height:t.height}},H8=De(Yr,ul,j8),Xve=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},qve=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},Kve=De(ol,Yr,Vve,a1,s1,(t,e,n,r,i)=>{var a={},s;return n.forEach(l=>{var u=j8(e,l);s==null&&(s=Xve(e,r,t));var f=r==="top"&&!i||r==="bottom"&&i;a[l.id]=s-Number(f)*u.height,s+=(f?-1:1)*u.height}),a}),$ve=De(sl,Yr,Wve,a1,s1,(t,e,n,r,i)=>{var a={},s;return n.forEach(l=>{var u=Yve(e,l);s==null&&(s=qve(e,r,t));var f=r==="left"&&!i||r==="right"&&i;a[l.id]=s-Number(f)*u.width,s+=(f?-1:1)*u.width}),a}),Zve=(t,e)=>{var n=ul(t,e);if(n!=null)return Kve(t,n.orientation,n.mirror)},Jve=De([Yr,ul,Zve,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),Qve=(t,e)=>{var n=fl(t,e);if(n!=null)return $ve(t,n.orientation,n.mirror)},ege=De([Yr,fl,Qve,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),G8=De(Yr,fl,(t,e)=>{var n=typeof e.width=="number"?e.width:np;return{width:n,height:t.height}}),Kk=(t,e,n)=>{switch(e){case"xAxis":return H8(t,n).width;case"yAxis":return G8(t,n).height;default:return}},V8=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:s}=n,l=Pu(t,r),u=e.map(f=>f.value);if(s&&l&&a==="category"&&i&&X5(u))return u}},XA=De([En,n1,ur,sr],V8),W8=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,s=Pu(t,r);if(s&&(i==="number"||a!=="auto"))return e.map(l=>l.value)}},qA=De([En,n1,fp,sr],W8);De([En,hve,Rh,i1,XA,qA,pp,WA,sr],(t,e,n,r,i,a,s,l,u)=>{if(e!=null){var f=Pu(t,u);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:u,categoricalDomain:a,duplicateDomain:i,isCategorical:f,niceTicks:l,range:s,realScaleType:n,scale:r}}});var tge=(t,e,n,r,i,a,s,l,u)=>{if(!(e==null||r==null)){var f=Pu(t,u),{type:h,ticks:p,tickCount:m}=e,g=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,_=h==="category"&&r.bandwidth?r.bandwidth()/g:0;_=u==="angleAxis"&&a!=null&&a.length>=2?bi(a[0]-a[1])*2*_:_;var x=p||i;if(x){var y=x.map((E,w)=>{var b=s?s.indexOf(E):E;return{index:w,coordinate:r(b)+_,value:E,offset:_}});return y.filter(E=>cr(E.coordinate))}return f&&l?l.map((E,w)=>({coordinate:r(E)+_,value:E,index:w,offset:_})).filter(E=>cr(E.coordinate)):r.ticks?r.ticks(m).map(E=>({coordinate:r(E)+_,value:E,offset:_})):r.domain().map((E,w)=>({coordinate:r(E)+_,value:s?s[E]:E,index:w,offset:_}))}},Y8=De([En,fp,Rh,i1,WA,pp,XA,qA,sr],tge),nge=(t,e,n,r,i,a,s)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var l=Pu(t,s),{tickCount:u}=e,f=0;return f=s==="angleAxis"&&(r==null?void 0:r.length)>=2?bi(r[0]-r[1])*2*f:f,l&&a?a.map((h,p)=>({coordinate:n(h)+f,value:h,index:p,offset:f})):n.ticks?n.ticks(u).map(h=>({coordinate:n(h)+f,value:h,offset:f})):n.domain().map((h,p)=>({coordinate:n(h)+f,value:i?i[h]:h,index:p,offset:f}))}},gh=De([En,fp,i1,pp,XA,qA,sr],nge),xh=De(ur,i1,(t,e)=>{if(!(t==null||e==null))return qg(qg({},t),{},{scale:e})}),rge=De([ur,Rh,HA,B8],GA);De((t,e,n)=>CA(t,n),rge,(t,e)=>{if(!(t==null||e==null))return qg(qg({},t),{},{scale:e})});var ige=De([En,Dx,Nx],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),X8=t=>t.options.defaultTooltipEventType,q8=t=>t.options.validateTooltipEventTypes;function K8(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function KA(t,e){var n=X8(t),r=q8(t);return K8(e,n,r)}function age(t){return Ot(e=>KA(e,t))}var $8=(t,e)=>{var n,r=Number(e);if(!(to(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},sge=t=>t.tooltip.settings,Kl={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},oge={itemInteraction:{click:Kl,hover:Kl},axisInteraction:{click:Kl,hover:Kl},keyboardInteraction:Kl,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},Z8=ua({name:"tooltip",initialState:oge,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:ir()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Cs(t).tooltipItemPayloads.indexOf(n);i>-1&&(t.tooltipItemPayloads[i]=r)},prepare:ir()},removeTooltipEntrySettings:{reducer(t,e){var n=Cs(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:ir()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate}}}),{addTooltipEntrySettings:lge,replaceTooltipEntrySettings:cge,removeTooltipEntrySettings:uge,setTooltipSettingsState:fge,setActiveMouseOverItemIndex:J8,mouseLeaveItem:hge,mouseLeaveChart:Q8,setActiveClickItemIndex:dge,setMouseOverAxisIndex:ez,setMouseClickAxisIndex:pge,setSyncInteraction:JT,setKeyboardInteraction:QT}=Z8.actions,mge=Z8.reducer;function $k(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$k(Object(n),!0).forEach(function(r){vge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$k(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vge(t,e,n){return(e=gge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gge(t){var e=xge(t,"string");return typeof e=="symbol"?e:e+""}function xge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _ge(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function yge(t){return t.index!=null}var tz=(t,e,n,r)=>{if(e==null)return Kl;var i=_ge(t,e,n);if(i==null)return Kl;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var a=t.settings.active===!0;if(yge(i)){if(a)return Rv(Rv({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return Rv(Rv({},Kl),{},{coordinate:i.coordinate})};function Ege(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function Sge(t,e){var n=Ege(t),r=e[0],i=e[1];if(n===void 0)return!1;var a=Math.min(r,i),s=Math.max(r,i);return n>=a&&n<=s}function bge(t,e,n){if(n==null||e==null)return!0;var r=Jn(t,e);return r==null||!lc(n)?!0:Sge(r,n)}var $A=(t,e,n,r)=>{var i=t==null?void 0:t.index;if(i==null)return null;var a=Number(i);if(!cr(a))return i;var s=0,l=1/0;e.length>0&&(l=e.length-1);var u=Math.max(s,Math.min(a,l)),f=e[u];return f==null||bge(f,n,r)?String(u):null},nz=(t,e,n,r,i,a,s,l)=>{if(!(a==null||l==null)){var u=s[0],f=u==null?void 0:l(u.positions,a);if(f!=null)return f;var h=i==null?void 0:i[Number(a)];if(h)switch(n){case"horizontal":return{x:h.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:h.coordinate}}}},rz=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=t.itemInteraction.hover.graphicalItemId:i=t.itemInteraction.click.graphicalItemId,i==null&&r!=null){var a=t.tooltipItemPayloads[0];return a!=null?[a]:[]}return t.tooltipItemPayloads.filter(s=>{var l;return((l=s.settings)===null||l===void 0?void 0:l.graphicalItemId)===i})},mp=t=>t.options.tooltipPayloadSearcher,Oh=t=>t.tooltip;function Zk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Zk(Object(n),!0).forEach(function(r){Tge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tge(t,e,n){return(e=wge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wge(t){var e=Age(t,"string");return typeof e=="symbol"?e:e+""}function Age(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mge(t,e){return t??e}var iz=(t,e,n,r,i,a,s)=>{if(!(e==null||a==null)){var{chartData:l,computedData:u,dataStartIndex:f,dataEndIndex:h}=n,p=[];return t.reduce((m,g)=>{var _,{dataDefinedOnItem:x,settings:y}=g,E=Mge(x,l),w=Array.isArray(E)?zB(E,f,h):E,b=(_=y==null?void 0:y.dataKey)!==null&&_!==void 0?_:r,M=y==null?void 0:y.nameKey,A;if(r&&Array.isArray(w)&&!Array.isArray(w[0])&&s==="axis"?A=ace(w,r,i):A=a(w,e,u,M),Array.isArray(A))A.forEach(R=>{var F=Jk(Jk({},y),{},{name:R.name,unit:R.unit,color:void 0,fill:void 0});m.push(t4({tooltipEntrySettings:F,dataKey:R.dataKey,payload:R.payload,value:Jn(R.payload,R.dataKey),name:R.name}))});else{var C;m.push(t4({tooltipEntrySettings:y,dataKey:b,payload:A,value:Jn(A,b),name:(C=Jn(A,M))!==null&&C!==void 0?C:y==null?void 0:y.name}))}return m},p)}},ZA=De([Kr,En,w8,EA,qr],F8),Cge=De([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),Rge=De([qr,Mh],RA),Ph=De([Cge,Kr,Rge],PA,{memoizeOptions:{resultEqualityCheck:t1}}),Oge=De([Ph],t=>t.filter(Qx)),Pge=De([Ph],DA,{memoizeOptions:{resultEqualityCheck:t1}}),Dh=De([Pge,cl],NA),Dge=De([Oge,cl,Kr],S8),JA=De([Dh,Kr,Ph],LA),az=De([Kr],IA),Nge=De([Kr],t=>t.allowDataOverflow),sz=De([az,Nge],Q6),kge=De([Ph],t=>t.filter(Qx)),Lge=De([Dge,kge,cp,m8],R8),Ige=De([Lge,cl,qr,sz],O8),Fge=De([Ph],M8),Uge=De([Dh,Kr,Fge,r1,qr],BA,{memoizeOptions:{resultEqualityCheck:e1}}),Bge=De([P8,qr,Mh],Ch),zge=De([Bge,qr],k8),jge=De([D8,qr,Mh],Ch),Hge=De([jge,qr],L8),Gge=De([N8,qr,Mh],Ch),Vge=De([Gge,qr],I8),Wge=De([zge,Vge,Hge],Kg),Yge=De([Kr,az,sz,Ige,Uge,Wge,En,qr],zA),vp=De([Kr,En,Dh,JA,cp,qr,Yge],jA),Xge=De([vp,Kr,ZA],VA),qge=De([Kr,vp,Xge,qr],YA),oz=t=>{var e=qr(t),n=Mh(t),r=!1;return pp(t,e,n,r)},lz=De([Kr,oz],Zx),cz=De([Kr,ZA,qge,lz],GA),Kge=De([En,JA,Kr,qr],V8),$ge=De([En,JA,Kr,qr],W8),Zge=(t,e,n,r,i,a,s,l)=>{if(e){var{type:u}=e,f=Pu(t,l);if(r){var h=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,p=u==="category"&&r.bandwidth?r.bandwidth()/h:0;return p=l==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?bi(i[0]-i[1])*2*p:p,f&&s?s.map((m,g)=>({coordinate:r(m)+p,value:m,index:g,offset:p})):r.domain().map((m,g)=>({coordinate:r(m)+p,value:a?a[m]:m,index:g,offset:p}))}}},hl=De([En,Kr,ZA,cz,oz,Kge,$ge,qr],Zge),QA=De([X8,q8,sge],(t,e,n)=>K8(n.shared,t,e)),uz=t=>t.tooltip.settings.trigger,eM=t=>t.tooltip.settings.defaultIndex,gp=De([Oh,QA,uz,eM],tz),yu=De([gp,Dh,dp,vp],$A),fz=De([hl,yu],$8),tM=De([gp],t=>{if(t)return t.dataKey}),Jge=De([gp],t=>{if(t)return t.graphicalItemId}),hz=De([Oh,QA,uz,eM],rz),Qge=De([sl,ol,En,Yr,hl,eM,hz,mp],nz),exe=De([gp,Qge],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),txe=De([gp],t=>{var e;return(e=t==null?void 0:t.active)!==null&&e!==void 0?e:!1}),nxe=De([hz,yu,cl,dp,fz,mp,QA],iz);De([nxe],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function Qk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Qk(Object(n),!0).forEach(function(r){rxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rxe(t,e,n){return(e=ixe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ixe(t){var e=axe(t,"string");return typeof e=="symbol"?e:e+""}function axe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sxe=()=>Ot(Kr),oxe=()=>{var t=sxe(),e=Ot(hl),n=Ot(cz);return Rg(!t||!n?void 0:eL(eL({},t),{},{scale:n}),e)};function tL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tL(Object(n),!0).forEach(function(r){lxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lxe(t,e,n){return(e=cxe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cxe(t){var e=uxe(t,"string");return typeof e=="symbol"?e:e+""}function uxe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fxe=(t,e,n,r)=>{var i=e.find(a=>a&&a.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},hxe=(t,e,n,r)=>{var i=e.find(f=>f&&f.index===n);if(i){if(t==="centric"){var a=i.coordinate,{radius:s}=r;return Bf(Bf(Bf({},r),kr(r.cx,r.cy,s,a)),{},{angle:a,radius:s})}var l=i.coordinate,{angle:u}=r;return Bf(Bf(Bf({},r),kr(r.cx,r.cy,l,u)),{},{angle:u,radius:l})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function dxe(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var dz=(t,e,n,r,i)=>{var a,s=(a=e==null?void 0:e.length)!==null&&a!==void 0?a:0;if(s<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<s;l++){var u,f,h,p,m,g=l>0?(u=n[l-1])===null||u===void 0?void 0:u.coordinate:(f=n[s-1])===null||f===void 0?void 0:f.coordinate,_=(h=n[l])===null||h===void 0?void 0:h.coordinate,x=l>=s-1?(p=n[0])===null||p===void 0?void 0:p.coordinate:(m=n[l+1])===null||m===void 0?void 0:m.coordinate,y=void 0;if(!(g==null||_==null||x==null))if(bi(_-g)!==bi(x-_)){var E=[];if(bi(x-_)===bi(i[1]-i[0])){y=x;var w=_+i[1]-i[0];E[0]=Math.min(w,(w+g)/2),E[1]=Math.max(w,(w+g)/2)}else{y=g;var b=x+i[1]-i[0];E[0]=Math.min(_,(b+_)/2),E[1]=Math.max(_,(b+_)/2)}var M=[Math.min(_,(y+_)/2),Math.max(_,(y+_)/2)];if(t>M[0]&&t<=M[1]||t>=E[0]&&t<=E[1]){var A;return(A=n[l])===null||A===void 0?void 0:A.index}}else{var C=Math.min(g,x),R=Math.max(g,x);if(t>(C+_)/2&&t<=(R+_)/2){var F;return(F=n[l])===null||F===void 0?void 0:F.index}}}else if(e)for(var O=0;O<s;O++){var k=e[O];if(k!=null){var D=e[O+1],U=e[O-1];if(O===0&&D!=null&&t<=(k.coordinate+D.coordinate)/2||O===s-1&&U!=null&&t>(k.coordinate+U.coordinate)/2||O>0&&O<s-1&&U!=null&&D!=null&&t>(k.coordinate+U.coordinate)/2&&t<=(k.coordinate+D.coordinate)/2)return k.index}}return-1},pxe=()=>Ot(EA),nM=(t,e)=>e,pz=(t,e,n)=>n,rM=(t,e,n,r)=>r,mxe=De(hl,t=>Sx(t,e=>e.coordinate)),iM=De([Oh,nM,pz,rM],tz),aM=De([iM,Dh,dp,vp],$A),vxe=(t,e,n)=>{if(e!=null){var r=Oh(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},mz=De([Oh,nM,pz,rM],rz),$g=De([sl,ol,En,Yr,hl,rM,mz,mp],nz),gxe=De([iM,$g],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),vz=De([hl,aM],$8),xxe=De([mz,aM,cl,dp,vz,mp,nM],iz),_xe=De([iM,aM],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),yxe=(t,e,n,r,i,a,s)=>{if(!(!t||!n||!r||!i)&&dxe(t,s)){var l=zfe(t,e),u=dz(l,a,i,n,r),f=fxe(e,i,u,t);return{activeIndex:String(u),activeCoordinate:f}}},Exe=(t,e,n,r,i,a,s)=>{if(!(!t||!r||!i||!a||!n)){var l=ide(t,n);if(l){var u=jfe(l,e),f=dz(u,s,a,r,i),h=hxe(e,a,f,l);return{activeIndex:String(f),activeCoordinate:h}}}},Sxe=(t,e,n,r,i,a,s,l)=>{if(!(!t||!e||!r||!i||!a))return e==="horizontal"||e==="vertical"?yxe(t,e,r,i,a,s,l):Exe(t,e,n,r,i,a,s)},bxe=De(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElement:r.element}}),Txe=De(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(Li)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:ove}});function nL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nL(Object(n),!0).forEach(function(r){wxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wxe(t,e,n){return(e=Axe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Axe(t){var e=Mxe(t,"string");return typeof e=="symbol"?e:e+""}function Mxe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Cxe={},Rxe={zIndexMap:Object.values(Li).reduce((t,e)=>rL(rL({},t),{},{[e]:{element:void 0,panoramaElement:void 0,consumers:0}}),Cxe)},Oxe=new Set(Object.values(Li));function Pxe(t){return Oxe.has(t)}var gz=ua({name:"zIndex",initialState:Rxe,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:ir()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!Pxe(n)&&delete t.zIndexMap[n])},prepare:ir()},registerZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n,element:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElement=r:t.zIndexMap[n].element=r:t.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:ir()},unregisterZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElement=void 0:t.zIndexMap[n].element=void 0)},prepare:ir()}}}),{registerZIndexPortal:Dxe,unregisterZIndexPortal:Nxe,registerZIndexPortalElement:kxe,unregisterZIndexPortalElement:Lxe}=gz.actions,Ixe=gz.reducer;function so(t){var{zIndex:e,children:n}=t,r=_he(),i=r&&e!==void 0&&e!==0,a=Na(),s=Xn();P.useLayoutEffect(()=>i?(s(Dxe({zIndex:e})),()=>{s(Nxe({zIndex:e}))}):Zd,[s,e,i]);var l=Ot(u=>bxe(u,e,a));return i?l?Mw.createPortal(n,l):null:n}function e2(){return e2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},e2.apply(null,arguments)}function iL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ov(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iL(Object(n),!0).forEach(function(r){Fxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fxe(t,e,n){return(e=Uxe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uxe(t){var e=Bxe(t,"string");return typeof e=="symbol"?e:e+""}function Bxe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zxe(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return P.isValidElement(e)?P.cloneElement(e,r):P.createElement(n,r)}function jxe(t){var e,{coordinate:n,payload:r,index:i,offset:a,tooltipAxisBandSize:s,layout:l,cursor:u,tooltipEventType:f,chartName:h}=t,p=n,m=r,g=i;if(!u||!p||h!=="ScatterChart"&&f!=="axis")return null;var _,x,y;if(h==="ScatterChart")_=p,x=x0e,y=Li.cursorLine;else if(h==="BarChart")_=_0e(l,p,a,s),x=h6,y=Li.cursorRectangle;else if(l==="radial"&&K5(p)){var{cx:E,cy:w,radius:b,startAngle:M,endAngle:A}=p6(p);_={cx:E,cy:w,startAngle:M,endAngle:A,innerRadius:b,outerRadius:b},x=v6,y=Li.cursorLine}else _={points:lde(l,p,a)},x=Kw,y=Li.cursorLine;var C=typeof u=="object"&&"className"in u?u.className:void 0,R=Ov(Ov(Ov(Ov({stroke:"#ccc",pointerEvents:"none"},a),_),wd(u)),{},{payload:m,payloadIndex:g,className:Ln("recharts-tooltip-cursor",C)});return P.createElement(so,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:y},P.createElement(zxe,{cursor:u,cursorComp:x,cursorProps:R}))}function Hxe(t){var e=oxe(),n=ghe(),r=rp(),i=pxe();return e==null||n==null||r==null||i==null?null:P.createElement(jxe,e2({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var xz=P.createContext(null),Gxe=()=>P.useContext(xz),zS={exports:{}},aL;function Vxe(){return aL||(aL=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(u,f,h){this.fn=u,this.context=f,this.once=h||!1}function a(u,f,h,p,m){if(typeof h!="function")throw new TypeError("The listener must be a function");var g=new i(h,p||u,m),_=n?n+f:f;return u._events[_]?u._events[_].fn?u._events[_]=[u._events[_],g]:u._events[_].push(g):(u._events[_]=g,u._eventsCount++),u}function s(u,f){--u._eventsCount===0?u._events=new r:delete u._events[f]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var f=[],h,p;if(this._eventsCount===0)return f;for(p in h=this._events)e.call(h,p)&&f.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},l.prototype.listeners=function(f){var h=n?n+f:f,p=this._events[h];if(!p)return[];if(p.fn)return[p.fn];for(var m=0,g=p.length,_=new Array(g);m<g;m++)_[m]=p[m].fn;return _},l.prototype.listenerCount=function(f){var h=n?n+f:f,p=this._events[h];return p?p.fn?1:p.length:0},l.prototype.emit=function(f,h,p,m,g,_){var x=n?n+f:f;if(!this._events[x])return!1;var y=this._events[x],E=arguments.length,w,b;if(y.fn){switch(y.once&&this.removeListener(f,y.fn,void 0,!0),E){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,h),!0;case 3:return y.fn.call(y.context,h,p),!0;case 4:return y.fn.call(y.context,h,p,m),!0;case 5:return y.fn.call(y.context,h,p,m,g),!0;case 6:return y.fn.call(y.context,h,p,m,g,_),!0}for(b=1,w=new Array(E-1);b<E;b++)w[b-1]=arguments[b];y.fn.apply(y.context,w)}else{var M=y.length,A;for(b=0;b<M;b++)switch(y[b].once&&this.removeListener(f,y[b].fn,void 0,!0),E){case 1:y[b].fn.call(y[b].context);break;case 2:y[b].fn.call(y[b].context,h);break;case 3:y[b].fn.call(y[b].context,h,p);break;case 4:y[b].fn.call(y[b].context,h,p,m);break;default:if(!w)for(A=1,w=new Array(E-1);A<E;A++)w[A-1]=arguments[A];y[b].fn.apply(y[b].context,w)}}return!0},l.prototype.on=function(f,h,p){return a(this,f,h,p,!1)},l.prototype.once=function(f,h,p){return a(this,f,h,p,!0)},l.prototype.removeListener=function(f,h,p,m){var g=n?n+f:f;if(!this._events[g])return this;if(!h)return s(this,g),this;var _=this._events[g];if(_.fn)_.fn===h&&(!m||_.once)&&(!p||_.context===p)&&s(this,g);else{for(var x=0,y=[],E=_.length;x<E;x++)(_[x].fn!==h||m&&!_[x].once||p&&_[x].context!==p)&&y.push(_[x]);y.length?this._events[g]=y.length===1?y[0]:y:s(this,g)}return this},l.prototype.removeAllListeners=function(f){var h;return f?(h=n?n+f:f,this._events[h]&&s(this,h)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,t.exports=l})(zS)),zS.exports}var Wxe=Vxe();const Yxe=Os(Wxe);var Bd=new Yxe,t2="recharts.syncEvent.tooltip",sL="recharts.syncEvent.brush";function _z(t,e){if(e){var n=Number.parseInt(e,10);if(!to(n))return t==null?void 0:t[n]}}var Xxe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},yz=ua({name:"options",initialState:Xxe,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),qxe=yz.reducer,{createEventEmitter:Kxe}=yz.actions;function $xe(t){return t.tooltip.syncInteraction}var Zxe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},Ez=ua({name:"chartData",initialState:Zxe,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:oL,setDataStartEndIndexes:Jxe,setComputedData:jTe}=Ez.actions,Qxe=Ez.reducer,e1e=["x","y"];function lL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lL(Object(n),!0).forEach(function(r){t1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function t1e(t,e,n){return(e=n1e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n1e(t){var e=r1e(t,"string");return typeof e=="symbol"?e:e+""}function r1e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function i1e(t,e){if(t==null)return{};var n,r,i=a1e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function a1e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function s1e(){var t=Ot(SA),e=Ot(bA),n=Xn(),r=Ot(v8),i=Ot(hl),a=rp(),s=Ix(),l=Ot(u=>u.rootProps.className);P.useEffect(()=>{if(t==null)return Zd;var u=(f,h,p)=>{if(e!==p&&t===f){if(r==="index"){var m;if(s&&h!==null&&h!==void 0&&(m=h.payload)!==null&&m!==void 0&&m.coordinate&&h.payload.sourceViewBox){var g=h.payload.coordinate,{x:_,y:x}=g,y=i1e(g,e1e),{x:E,y:w,width:b,height:M}=h.payload.sourceViewBox,A=zf(zf({},y),{},{x:s.x+(b?(_-E)/b:0)*s.width,y:s.y+(M?(x-w)/M:0)*s.height});n(zf(zf({},h),{},{payload:zf(zf({},h.payload),{},{coordinate:A})}))}else n(h);return}if(i!=null){var C;if(typeof r=="function"){var R={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},F=r(i,R);C=i[F]}else r==="value"&&(C=i.find(G=>String(G.value)===h.payload.label));var{coordinate:O}=h.payload;if(C==null||h.payload.active===!1||O==null||s==null){n(JT({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:k,y:D}=O,U=Math.min(k,s.x+s.width),Z=Math.min(D,s.y+s.height),se={x:a==="horizontal"?C.coordinate:U,y:a==="horizontal"?Z:C.coordinate},oe=JT({active:h.payload.active,coordinate:se,dataKey:h.payload.dataKey,index:String(C.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox,graphicalItemId:h.payload.graphicalItemId});n(oe)}}};return Bd.on(t2,u),()=>{Bd.off(t2,u)}},[l,n,e,t,r,i,a,s])}function o1e(){var t=Ot(SA),e=Ot(bA),n=Xn();P.useEffect(()=>{if(t==null)return Zd;var r=(i,a,s)=>{e!==s&&t===i&&n(Jxe(a))};return Bd.on(sL,r),()=>{Bd.off(sL,r)}},[n,e,t])}function l1e(){var t=Xn();P.useEffect(()=>{t(Kxe())},[t]),s1e(),o1e()}function c1e(t,e,n,r,i,a){var s=Ot(g=>vxe(g,t,e)),l=Ot(bA),u=Ot(SA),f=Ot(v8),h=Ot($xe),p=h==null?void 0:h.active,m=Ix();P.useEffect(()=>{if(!p&&u!=null&&l!=null){var g=JT({active:a,coordinate:n,dataKey:s,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:m,graphicalItemId:void 0});Bd.emit(t2,u,g,l)}},[p,n,s,i,r,l,u,f,a,m])}function cL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cL(Object(n),!0).forEach(function(r){u1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function u1e(t,e,n){return(e=f1e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f1e(t){var e=h1e(t,"string");return typeof e=="symbol"?e:e+""}function h1e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function d1e(t){return t.dataKey}function p1e(t,e){return P.isValidElement(t)?P.cloneElement(t,e):typeof t=="function"?P.createElement(t,e):P.createElement(Zhe,e)}var fL=[],m1e={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function jS(t){var e,n,r=Ti(t,m1e),{active:i,allowEscapeViewBox:a,animationDuration:s,animationEasing:l,content:u,filterNull:f,isAnimationActive:h,offset:p,payloadUniqBy:m,position:g,reverseDirection:_,useTranslate3d:x,wrapperStyle:y,cursor:E,shared:w,trigger:b,defaultIndex:M,portal:A,axisId:C}=r,R=Xn(),F=typeof M=="number"?String(M):M;P.useEffect(()=>{R(fge({shared:w,trigger:b,axisId:C,active:i,defaultIndex:F}))},[R,w,b,C,i,F]);var O=Ix(),k=o6(),D=age(w),{activeIndex:U,isActive:Z}=(e=Ot(fe=>_xe(fe,D,b,F)))!==null&&e!==void 0?e:{},se=Ot(fe=>xxe(fe,D,b,F)),oe=Ot(fe=>vz(fe,D,b,F)),G=Ot(fe=>gxe(fe,D,b,F)),W=se,ee=Gxe(),Y=(n=i??Z)!==null&&n!==void 0?n:!1,[pe,z]=uB([W,Y]),I=D==="axis"?oe:void 0;c1e(D,b,G,I,U,Y);var V=A??ee;if(V==null||O==null||D==null)return null;var X=W??fL;Y||(X=fL),f&&X.length&&(X=aB(X.filter(fe=>fe.value!=null&&(fe.hide!==!0||r.includeHidden)),m,d1e));var te=X.length>0,J=P.createElement(i0e,{allowEscapeViewBox:a,animationDuration:s,animationEasing:l,isAnimationActive:h,active:Y,coordinate:G,hasPayload:te,offset:p,position:g,reverseDirection:_,useTranslate3d:x,viewBox:O,wrapperStyle:y,lastBoundingBox:pe,innerRef:z,hasPortalFromProps:!!A},p1e(u,uL(uL({},r),{},{payload:X,label:I,active:Y,activeIndex:U,coordinate:G,accessibilityLayer:k})));return P.createElement(P.Fragment,null,Mw.createPortal(J,V),Y&&P.createElement(Hxe,{cursor:E,tooltipEventType:D,coordinate:G,payload:X,index:U}))}var xp=t=>null;xp.displayName="Cell";function v1e(t,e,n){return(e=g1e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g1e(t){var e=x1e(t,"string");return typeof e=="symbol"?e:e+""}function x1e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class _1e{constructor(e){v1e(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function hL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function y1e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hL(Object(n),!0).forEach(function(r){E1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function E1e(t,e,n){return(e=S1e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function S1e(t){var e=b1e(t,"string");return typeof e=="symbol"?e:e+""}function b1e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var T1e={cacheSize:2e3,enableCache:!0},Sz=y1e({},T1e),dL=new _1e(Sz.cacheSize),w1e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},pL="recharts_measurement_span";function A1e(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",a=e.fontStyle||"",s=e.letterSpacing||"",l=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(l)}var mL=(t,e)=>{try{var n=document.getElementById(pL);n||(n=document.createElement("span"),n.setAttribute("id",pL),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,w1e,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},sd=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||jx.isSsr)return{width:0,height:0};if(!Sz.enableCache)return mL(e,n);var r=A1e(e,n),i=dL.get(r);if(i)return i;var a=mL(e,n);return dL.set(r,a),a},bz;function M1e(t,e,n){return(e=C1e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function C1e(t){var e=R1e(t,"string");return typeof e=="symbol"?e:e+""}function R1e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,gL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,O1e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,P1e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,D1e={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},N1e=["cm","mm","pt","pc","in","Q","px"];function k1e(t){return N1e.includes(t)}var Yf="NaN";function L1e(t,e){return t*D1e[e]}class _i{static parse(e){var n,[,r,i]=(n=P1e.exec(e))!==null&&n!==void 0?n:[];return r==null?_i.NaN:new _i(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,to(e)&&(this.unit=""),n!==""&&!O1e.test(n)&&(this.num=NaN,this.unit=""),k1e(n)&&(this.num=L1e(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new _i(NaN,""):new _i(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new _i(NaN,""):new _i(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new _i(NaN,""):new _i(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new _i(NaN,""):new _i(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return to(this.num)}}bz=_i;M1e(_i,"NaN",new bz(NaN,""));function Tz(t){if(t==null||t.includes(Yf))return Yf;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,a]=(n=vL.exec(e))!==null&&n!==void 0?n:[],s=_i.parse(r??""),l=_i.parse(a??""),u=i==="*"?s.multiply(l):s.divide(l);if(u.isNaN())return Yf;e=e.replace(vL,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,[,h,p,m]=(f=gL.exec(e))!==null&&f!==void 0?f:[],g=_i.parse(h??""),_=_i.parse(m??""),x=p==="+"?g.add(_):g.subtract(_);if(x.isNaN())return Yf;e=e.replace(gL,x.toString())}return e}var xL=/\(([^()]*)\)/;function I1e(t){for(var e=t,n;(n=xL.exec(e))!=null;){var[,r]=n;e=e.replace(xL,Tz(r))}return e}function F1e(t){var e=t.replace(/\s+/g,"");return e=I1e(e),e=Tz(e),e}function U1e(t){try{return F1e(t)}catch{return Yf}}function HS(t){var e=U1e(t.slice(5,-1));return e===Yf?"":e}var B1e=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],z1e=["dx","dy","angle","className","breakAll"];function n2(){return n2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},n2.apply(null,arguments)}function _L(t,e){if(t==null)return{};var n,r,i=j1e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function j1e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var wz=/[ \f\n\r\t\v\u2028\u2029]+/,Az=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];si(e)||(n?i=e.toString().split(""):i=e.toString().split(wz));var a=i.map(l=>({word:l,width:sd(l,r).width})),s=n?0:sd("",r).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}};function H1e(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var Mz=(t,e,n,r)=>t.reduce((i,a)=>{var{word:s,width:l}=a,u=i[i.length-1];if(u&&l!=null&&(e==null||r||u.width+l+n<Number(e)))u.words.push(s),u.width+=l+n;else{var f={words:[s],width:l};i.push(f)}return i},[]),Cz=t=>t.reduce((e,n)=>e.width>n.width?e:n),G1e="",yL=(t,e,n,r,i,a,s,l)=>{var u=t.slice(0,e),f=Az({breakAll:n,style:r,children:u+G1e});if(!f)return[!1,[]];var h=Mz(f.wordsWithComputedWidth,a,s,l),p=h.length>i||Cz(h).width>Number(a);return[p,h]},V1e=(t,e,n,r,i)=>{var{maxLines:a,children:s,style:l,breakAll:u}=t,f=kt(a),h=String(s),p=Mz(e,r,n,i);if(!f||i)return p;var m=p.length>a||Cz(p).width>Number(r);if(!m)return p;for(var g=0,_=h.length-1,x=0,y;g<=_&&x<=h.length-1;){var E=Math.floor((g+_)/2),w=E-1,[b,M]=yL(h,w,u,l,a,r,n,i),[A]=yL(h,E,u,l,a,r,n,i);if(!b&&!A&&(g=E+1),b&&A&&(_=E-1),!b&&A){y=M;break}x++}return y||p},EL=t=>{var e=si(t)?[]:t.toString().split(wz);return[{words:e,width:void 0}]},W1e=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:s}=t;if((e||n)&&!jx.isSsr){var l,u,f=Az({breakAll:a,children:r,style:i});if(f){var{wordsWithComputedWidth:h,spaceWidth:p}=f;l=h,u=p}else return EL(r);return V1e({breakAll:a,children:r,maxLines:s,style:i},l,u,e,!!n)}return EL(r)},Rz="#808080",Y1e={angle:0,breakAll:!1,capHeight:"0.71em",fill:Rz,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},o1=P.forwardRef((t,e)=>{var n=Ti(t,Y1e),{x:r,y:i,lineHeight:a,capHeight:s,fill:l,scaleToFit:u,textAnchor:f,verticalAnchor:h}=n,p=_L(n,B1e),m=P.useMemo(()=>W1e({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:u,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,u,p.style,p.width]),{dx:g,dy:_,angle:x,className:y,breakAll:E}=p,w=_L(p,z1e);if(!no(r)||!no(i)||m.length===0)return null;var b=Number(r)+(kt(g)?g:0),M=Number(i)+(kt(_)?_:0);if(!cr(b)||!cr(M))return null;var A;switch(h){case"start":A=HS("calc(".concat(s,")"));break;case"middle":A=HS("calc(".concat((m.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:A=HS("calc(".concat(m.length-1," * -").concat(a,")"));break}var C=[];if(u){var R=m[0].width,{width:F}=p;C.push("scale(".concat(kt(F)&&kt(R)?F/R:1,")"))}return x&&C.push("rotate(".concat(x,", ").concat(b,", ").concat(M,")")),C.length&&(w.transform=C.join(" ")),P.createElement("text",n2({},ss(w),{ref:e,x:b,y:M,className:Ln("recharts-text",y),textAnchor:f,fill:l.includes("url")?Rz:l}),m.map((O,k)=>{var D=O.words.join(E?"":" ");return P.createElement("tspan",{x:b,dy:k===0?A:a,key:"".concat(D,"-").concat(k)},D)}))});o1.displayName="Text";var X1e=["labelRef"],q1e=["content"];function SL(t,e){if(t==null)return{};var n,r,i=K1e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function K1e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function bL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bL(Object(n),!0).forEach(function(r){$1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $1e(t,e,n){return(e=Z1e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Z1e(t){var e=J1e(t,"string");return typeof e=="symbol"?e:e+""}function J1e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lo(){return Lo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lo.apply(null,arguments)}var Oz=P.createContext(null),Q1e=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:a,height:s,children:l}=t,u=P.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:a,height:s}),[e,n,r,i,a,s]);return P.createElement(Oz.Provider,{value:u},l)},Pz=()=>{var t=P.useContext(Oz),e=Ix();return t||XB(e)},e_e=P.createContext(null),t_e=()=>{var t=P.useContext(e_e),e=Ot(E8);return t||e},n_e=t=>{var{value:e,formatter:n}=t,r=si(t.children)?e:t.children;return typeof n=="function"?n(r):r},sM=t=>t!=null&&typeof t=="function",r_e=(t,e)=>{var n=bi(e-t),r=Math.min(Math.abs(e-t),360);return n*r},i_e=(t,e,n,r,i)=>{var{offset:a,className:s}=t,{cx:l,cy:u,innerRadius:f,outerRadius:h,startAngle:p,endAngle:m,clockWise:g}=i,_=(f+h)/2,x=r_e(p,m),y=x>=0?1:-1,E,w;switch(e){case"insideStart":E=p+y*a,w=g;break;case"insideEnd":E=m-y*a,w=!g;break;case"end":E=m+y*a,w=g;break;default:throw new Error("Unsupported position ".concat(e))}w=x<=0?w:!w;var b=kr(l,u,_,E),M=kr(l,u,_,E+(w?1:-1)*359),A="M".concat(b.x,",").concat(b.y,`
    A`).concat(_,",").concat(_,",0,1,").concat(w?0:1,`,
    `).concat(M.x,",").concat(M.y),C=si(t.id)?Ad("recharts-radial-line-"):t.id;return P.createElement("text",Lo({},r,{dominantBaseline:"central",className:Ln("recharts-radial-bar-label",s)}),P.createElement("defs",null,P.createElement("path",{id:C,d:A})),P.createElement("textPath",{xlinkHref:"#".concat(C)},n))},a_e=(t,e,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:l,endAngle:u}=t,f=(l+u)/2;if(n==="outside"){var{x:h,y:p}=kr(r,i,s+e,f);return{x:h,y:p,textAnchor:h>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var m=(a+s)/2,{x:g,y:_}=kr(r,i,m,f);return{x:g,y:_,textAnchor:"middle",verticalAnchor:"middle"}},r2=t=>"cx"in t&&kt(t.cx),s_e=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,a;n!=null&&!r2(n)&&(a=n);var{x:s,y:l,upperWidth:u,lowerWidth:f,height:h}=e,p=s,m=s+(u-f)/2,g=(p+m)/2,_=(u+f)/2,x=p+u/2,y=h>=0?1:-1,E=y*r,w=y>0?"end":"start",b=y>0?"start":"end",M=u>=0?1:-1,A=M*r,C=M>0?"end":"start",R=M>0?"start":"end";if(i==="top"){var F={x:p+u/2,y:l-E,textAnchor:"middle",verticalAnchor:w};return Sr(Sr({},F),a?{height:Math.max(l-a.y,0),width:u}:{})}if(i==="bottom"){var O={x:m+f/2,y:l+h+E,textAnchor:"middle",verticalAnchor:b};return Sr(Sr({},O),a?{height:Math.max(a.y+a.height-(l+h),0),width:f}:{})}if(i==="left"){var k={x:g-A,y:l+h/2,textAnchor:C,verticalAnchor:"middle"};return Sr(Sr({},k),a?{width:Math.max(k.x-a.x,0),height:h}:{})}if(i==="right"){var D={x:g+_+A,y:l+h/2,textAnchor:R,verticalAnchor:"middle"};return Sr(Sr({},D),a?{width:Math.max(a.x+a.width-D.x,0),height:h}:{})}var U=a?{width:_,height:h}:{};return i==="insideLeft"?Sr({x:g+A,y:l+h/2,textAnchor:R,verticalAnchor:"middle"},U):i==="insideRight"?Sr({x:g+_-A,y:l+h/2,textAnchor:C,verticalAnchor:"middle"},U):i==="insideTop"?Sr({x:p+u/2,y:l+E,textAnchor:"middle",verticalAnchor:b},U):i==="insideBottom"?Sr({x:m+f/2,y:l+h-E,textAnchor:"middle",verticalAnchor:w},U):i==="insideTopLeft"?Sr({x:p+A,y:l+E,textAnchor:R,verticalAnchor:b},U):i==="insideTopRight"?Sr({x:p+u-A,y:l+E,textAnchor:C,verticalAnchor:b},U):i==="insideBottomLeft"?Sr({x:m+A,y:l+h-E,textAnchor:R,verticalAnchor:w},U):i==="insideBottomRight"?Sr({x:m+f-A,y:l+h-E,textAnchor:C,verticalAnchor:w},U):i&&typeof i=="object"&&(kt(i.x)||Ko(i.x))&&(kt(i.y)||Ko(i.y))?Sr({x:s+Ui(i.x,_),y:l+Ui(i.y,h),textAnchor:"end",verticalAnchor:"end"},U):Sr({x,y:l+h/2,textAnchor:"middle",verticalAnchor:"middle"},U)},o_e={angle:0,offset:5,zIndex:Li.label,position:"middle",textBreakAll:!1};function Xl(t){var e=Ti(t,o_e),{viewBox:n,position:r,value:i,children:a,content:s,className:l="",textBreakAll:u,labelRef:f}=e,h=t_e(),p=Pz(),m=r==="center"?p:h??p,g,_,x;if(n==null?g=m:r2(n)?g=n:g=XB(n),!g||si(i)&&si(a)&&!P.isValidElement(s)&&typeof s!="function")return null;var y=Sr(Sr({},e),{},{viewBox:g});if(P.isValidElement(s)){var{labelRef:E}=y,w=SL(y,X1e);return P.cloneElement(s,w)}if(typeof s=="function"){var{content:b}=y,M=SL(y,q1e);if(_=P.createElement(s,M),P.isValidElement(_))return _}else _=n_e(e);var A=ss(e);if(r2(g)){if(r==="insideStart"||r==="insideEnd"||r==="end")return i_e(e,r,_,A,g);x=a_e(g,e.offset,e.position)}else x=s_e(e,g);return P.createElement(so,{zIndex:e.zIndex},P.createElement(o1,Lo({ref:f,className:Ln("recharts-label",l)},A,x,{textAnchor:H1e(A.textAnchor)?A.textAnchor:x.textAnchor,breakAll:u}),_))}Xl.displayName="Label";var l_e=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?P.createElement(Xl,Lo({key:"label-implicit"},r)):no(t)?P.createElement(Xl,Lo({key:"label-implicit",value:t},r)):P.isValidElement(t)?t.type===Xl?P.cloneElement(t,Sr({key:"label-implicit"},r)):P.createElement(Xl,Lo({key:"label-implicit",content:t},r)):sM(t)?P.createElement(Xl,Lo({key:"label-implicit",content:t},r)):t&&typeof t=="object"?P.createElement(Xl,Lo({},t,{key:"label-implicit"},r)):null};function c_e(t){var{label:e,labelRef:n}=t,r=Pz();return l_e(e,r,n)||null}var GS={},VS={},TL;function u_e(){return TL||(TL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(VS)),VS}var WS={},wL;function f_e(){return wL||(wL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(WS)),WS}var AL;function h_e(){return AL||(AL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=u_e(),n=f_e(),r=Lw();function i(a){if(r.isArrayLike(a))return e.last(n.toArray(a))}t.last=i})(GS)),GS}var YS,ML;function d_e(){return ML||(ML=1,YS=h_e().last),YS}var p_e=d_e();const m_e=Os(p_e);var v_e=["valueAccessor"],g_e=["dataKey","clockWise","id","textBreakAll","zIndex"];function Zg(){return Zg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zg.apply(null,arguments)}function CL(t,e){if(t==null)return{};var n,r,i=x_e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function x_e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var __e=t=>Array.isArray(t.value)?m_e(t.value):t.value,Dz=P.createContext(void 0),y_e=Dz.Provider,Nz=P.createContext(void 0),E_e=Nz.Provider;function S_e(){return P.useContext(Dz)}function b_e(){return P.useContext(Nz)}function Wv(t){var{valueAccessor:e=__e}=t,n=CL(t,v_e),{dataKey:r,clockWise:i,id:a,textBreakAll:s,zIndex:l}=n,u=CL(n,g_e),f=S_e(),h=b_e(),p=f||h;return!p||!p.length?null:P.createElement(so,{zIndex:l??Li.label},P.createElement(Ki,{className:"recharts-label-list"},p.map((m,g)=>{var _,x=si(r)?e(m,g):Jn(m&&m.payload,r),y=si(a)?{}:{id:"".concat(a,"-").concat(g)};return P.createElement(Xl,Zg({key:"label-".concat(g)},ss(m),u,y,{fill:(_=n.fill)!==null&&_!==void 0?_:m.fill,parentViewBox:m.parentViewBox,value:x,textBreakAll:s,viewBox:m.viewBox,index:g,zIndex:0}))})))}Wv.displayName="LabelList";function kz(t){var{label:e}=t;return e?e===!0?P.createElement(Wv,{key:"labelList-implicit"}):P.isValidElement(e)||sM(e)?P.createElement(Wv,{key:"labelList-implicit",content:e}):typeof e=="object"?P.createElement(Wv,Zg({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}var Lz=t=>t.graphicalItems.polarItems,T_e=De([sr,up],RA),l1=De([Lz,ur,T_e],PA),w_e=De([l1],DA),c1=De([w_e,$x],NA),A_e=De([c1,ur,l1],LA);De([c1,ur,l1],(t,e,n)=>n.length>0?t.flatMap(r=>n.flatMap(i=>{var a,s=Jn(r,(a=e.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:s,errorDomain:[]}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:Jn(r,e.dataKey),errorDomain:[]})):t.map(r=>({value:r,errorDomain:[]})));var RL=()=>{},M_e=De([c1,ur,l1,r1,sr],BA),C_e=De([ur,FA,UA,RL,M_e,RL,En,sr],zA),Iz=De([ur,En,c1,A_e,cp,sr,C_e],jA),R_e=De([Iz,ur,Rh],VA);De([ur,Iz,R_e,sr],YA);var O_e={radiusAxis:{},angleAxis:{}},Fz=ua({name:"polarAxis",initialState:O_e,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:HTe,removeRadiusAxis:GTe,addAngleAxis:VTe,removeAngleAxis:WTe}=Fz.actions,P_e=Fz.reducer;function OL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OL(Object(n),!0).forEach(function(r){D_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function D_e(t,e,n){return(e=N_e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function N_e(t){var e=k_e(t,"string");return typeof e=="symbol"?e:e+""}function k_e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var L_e=(t,e)=>e,oM=De([Lz,L_e],(t,e)=>t.filter(n=>n.type==="pie").find(n=>n.id===e)),I_e=[],lM=(t,e,n)=>(n==null?void 0:n.length)===0?I_e:n,Uz=De([$x,oM,lM],(t,e,n)=>{var{chartData:r}=t;if(e!=null){var i;if((e==null?void 0:e.data)!=null&&e.data.length>0?i=e.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(a=>PL(PL({},e.presentationProps),a.props))),i!=null)return i}}),F_e=De([Uz,oM,lM],(t,e,n)=>{if(!(t==null||e==null))return t.map((r,i)=>{var a,s=Jn(r,e.nameKey,e.name),l;return n!=null&&(a=n[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?l=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?l=r.fill:l=e.fill,{value:Px(s,e.dataKey),color:l,payload:r,type:e.legendType}})}),U_e=De([Uz,oM,lM,Yr],(t,e,n,r)=>{if(!(e==null||t==null))return Hye({offset:r,pieSettings:e,displayedData:t,cells:n})}),XS={exports:{}},Bn={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DL;function B_e(){if(DL)return Bn;DL=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.for("react.view_transition"),g=Symbol.for("react.client.reference");function _(x){if(typeof x=="object"&&x!==null){var y=x.$$typeof;switch(y){case t:switch(x=x.type,x){case n:case i:case r:case u:case f:case m:return x;default:switch(x=x&&x.$$typeof,x){case s:case l:case p:case h:return x;case a:return x;default:return y}}case e:return y}}}return Bn.ContextConsumer=a,Bn.ContextProvider=s,Bn.Element=t,Bn.ForwardRef=l,Bn.Fragment=n,Bn.Lazy=p,Bn.Memo=h,Bn.Portal=e,Bn.Profiler=i,Bn.StrictMode=r,Bn.Suspense=u,Bn.SuspenseList=f,Bn.isContextConsumer=function(x){return _(x)===a},Bn.isContextProvider=function(x){return _(x)===s},Bn.isElement=function(x){return typeof x=="object"&&x!==null&&x.$$typeof===t},Bn.isForwardRef=function(x){return _(x)===l},Bn.isFragment=function(x){return _(x)===n},Bn.isLazy=function(x){return _(x)===p},Bn.isMemo=function(x){return _(x)===h},Bn.isPortal=function(x){return _(x)===e},Bn.isProfiler=function(x){return _(x)===i},Bn.isStrictMode=function(x){return _(x)===r},Bn.isSuspense=function(x){return _(x)===u},Bn.isSuspenseList=function(x){return _(x)===f},Bn.isValidElementType=function(x){return typeof x=="string"||typeof x=="function"||x===n||x===i||x===r||x===u||x===f||typeof x=="object"&&x!==null&&(x.$$typeof===p||x.$$typeof===h||x.$$typeof===s||x.$$typeof===a||x.$$typeof===l||x.$$typeof===g||x.getModuleId!==void 0)},Bn.typeOf=_,Bn}var NL;function z_e(){return NL||(NL=1,XS.exports=B_e()),XS.exports}var j_e=z_e(),kL=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",LL=null,qS=null,Bz=t=>{if(t===LL&&Array.isArray(qS))return qS;var e=[];return P.Children.forEach(t,n=>{si(n)||(j_e.isFragment(n)?e=e.concat(Bz(n.props.children)):e.push(n))}),qS=e,LL=t,e};function cM(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>kL(i)):r=[kL(e)],Bz(t).forEach(i=>{var a=mu(i,"type.displayName")||mu(i,"type.name");a&&r.indexOf(a)!==-1&&n.push(i)}),n}var KS={},IL;function H_e(){return IL||(IL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const a=n[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${a}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(KS)),KS}var $S,FL;function G_e(){return FL||(FL=1,$S=H_e().isPlainObject),$S}var V_e=G_e();const W_e=Os(V_e);var UL,BL,zL,jL,HL;function GL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function VL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GL(Object(n),!0).forEach(function(r){Y_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Y_e(t,e,n){return(e=X_e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function X_e(t){var e=q_e(t,"string");return typeof e=="symbol"?e:e+""}function q_e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jg(){return Jg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jg.apply(null,arguments)}function j0(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var WL=(t,e,n,r,i)=>{var a=n-r,s;return s=dr(UL||(UL=j0(["M ",",",""])),t,e),s+=dr(BL||(BL=j0(["L ",",",""])),t+n,e),s+=dr(zL||(zL=j0(["L ",",",""])),t+n-a/2,e+i),s+=dr(jL||(jL=j0(["L ",",",""])),t+n-a/2-r,e+i),s+=dr(HL||(HL=j0(["L ",","," Z"])),t,e),s},K_e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},$_e=t=>{var e=Ti(t,K_e),{x:n,y:r,upperWidth:i,lowerWidth:a,height:s,className:l}=e,{animationEasing:u,animationDuration:f,animationBegin:h,isUpdateAnimationActive:p}=e,m=P.useRef(null),[g,_]=P.useState(-1),x=P.useRef(i),y=P.useRef(a),E=P.useRef(s),w=P.useRef(n),b=P.useRef(r),M=Gx(t,"trapezoid-");if(P.useEffect(()=>{if(m.current&&m.current.getTotalLength)try{var se=m.current.getTotalLength();se&&_(se)}catch{}},[]),n!==+n||r!==+r||i!==+i||a!==+a||s!==+s||i===0&&a===0||s===0)return null;var A=Ln("recharts-trapezoid",l);if(!p)return P.createElement("g",null,P.createElement("path",Jg({},ss(e),{className:A,d:WL(n,r,i,a,s)})));var C=x.current,R=y.current,F=E.current,O=w.current,k=b.current,D="0px ".concat(g===-1?1:g,"px"),U="".concat(g,"px 0px"),Z=l6(["strokeDasharray"],f,u);return P.createElement(Hx,{animationId:M,key:M,canBegin:g>0,duration:f,easing:u,isActive:p,begin:h},se=>{var oe=Br(C,i,se),G=Br(R,a,se),W=Br(F,s,se),ee=Br(O,n,se),Y=Br(k,r,se);m.current&&(x.current=oe,y.current=G,E.current=W,w.current=ee,b.current=Y);var pe=se>0?{transition:Z,strokeDasharray:U}:{strokeDasharray:D};return P.createElement("path",Jg({},ss(e),{className:A,d:WL(ee,Y,oe,G,W),ref:m,style:VL(VL({},pe),e.style)}))})},Z_e=["option","shapeType","activeClassName"];function J_e(t,e){if(t==null)return{};var n,r,i=Q_e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Q_e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function YL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YL(Object(n),!0).forEach(function(r){eye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eye(t,e,n){return(e=tye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tye(t){var e=nye(t,"string");return typeof e=="symbol"?e:e+""}function nye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rye(t,e){return Qg(Qg({},e),t)}function iye(t,e){return t==="symbols"}function XL(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return P.createElement(h6,n);case"trapezoid":return P.createElement($_e,n);case"sector":return P.createElement(v6,n);case"symbols":if(iye(e))return P.createElement(kw,n);break;case"curve":return P.createElement(Kw,n);default:return null}}function aye(t){return P.isValidElement(t)?t.props:t}function zz(t){var{option:e,shapeType:n,activeClassName:r="recharts-active-shape"}=t,i=J_e(t,Z_e),a;if(P.isValidElement(e))a=P.cloneElement(e,Qg(Qg({},i),aye(e)));else if(typeof e=="function")a=e(i,i.index);else if(W_e(e)&&typeof e!="boolean"){var s=rye(e,i);a=P.createElement(XL,{shapeType:n,elementProps:s})}else{var l=i;a=P.createElement(XL,{shapeType:n,elementProps:l})}return i.isActive?P.createElement(Ki,{className:r},a):a}var uM=(t,e,n)=>{var r=Xn();return(i,a)=>s=>{t==null||t(i,a,s),r(J8({activeIndex:String(a),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},fM=t=>{var e=Xn();return(n,r)=>i=>{t==null||t(n,r,i),e(hge())}},hM=(t,e,n)=>{var r=Xn();return(i,a)=>s=>{t==null||t(i,a,s),r(dge({activeIndex:String(a),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function jz(t){var{tooltipEntrySettings:e}=t,n=Xn(),r=Na(),i=P.useRef(null);return P.useLayoutEffect(()=>{r||(i.current===null?n(lge(e)):i.current!==e&&n(cge({prev:i.current,next:e})),i.current=e)},[e,n,r]),P.useLayoutEffect(()=>()=>{i.current&&(n(uge(i.current)),i.current=null)},[n]),null}function sye(t){var{legendPayload:e}=t,n=Xn(),r=Na(),i=P.useRef(null);return P.useLayoutEffect(()=>{r||(i.current===null?n(r6(e)):i.current!==e&&n(i6({prev:i.current,next:e})),i.current=e)},[n,r,e]),P.useLayoutEffect(()=>()=>{i.current&&(n(a6(i.current)),i.current=null)},[n]),null}function oye(t){var{legendPayload:e}=t,n=Xn(),r=Ot(En),i=P.useRef(null);return P.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(i.current===null?n(r6(e)):i.current!==e&&n(i6({prev:i.current,next:e})),i.current=e)},[n,r,e]),P.useLayoutEffect(()=>()=>{i.current&&(n(a6(i.current)),i.current=null)},[n]),null}var ZS,lye=()=>{var[t]=P.useState(()=>Ad("uid-"));return t},cye=(ZS=Oj.useId)!==null&&ZS!==void 0?ZS:lye;function uye(t,e){var n=cye();return e||(t?"".concat(t,"-").concat(n):n)}var fye=P.createContext(void 0),Hz=t=>{var{id:e,type:n,children:r}=t,i=uye("recharts-".concat(n),e);return P.createElement(fye.Provider,{value:i},r(i))},hye={cartesianItems:[],polarItems:[]},Gz=ua({name:"graphicalItems",initialState:hye,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:ir()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Cs(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:ir()},removeCartesianGraphicalItem:{reducer(t,e){var n=Cs(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:ir()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:ir()},removePolarGraphicalItem:{reducer(t,e){var n=Cs(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:ir()}}}),{addCartesianGraphicalItem:dye,replaceCartesianGraphicalItem:pye,removeCartesianGraphicalItem:mye,addPolarGraphicalItem:vye,removePolarGraphicalItem:gye}=Gz.actions,xye=Gz.reducer,_ye=t=>{var e=Xn(),n=P.useRef(null);return P.useLayoutEffect(()=>{n.current===null?e(dye(t)):n.current!==t&&e(pye({prev:n.current,next:t})),n.current=t},[e,t]),P.useLayoutEffect(()=>()=>{n.current&&(e(mye(n.current)),n.current=null)},[e]),null},yye=P.memo(_ye);function Eye(t){var e=Xn();return P.useLayoutEffect(()=>(e(vye(t)),()=>{e(gye(t))}),[e,t]),null}var Sye=["key"],bye=["onMouseEnter","onClick","onMouseLeave"],Tye=["id"],wye=["id"];function qL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qL(Object(n),!0).forEach(function(r){Aye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Aye(t,e,n){return(e=Mye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mye(t){var e=Cye(t,"string");return typeof e=="symbol"?e:e+""}function Cye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cc(){return cc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cc.apply(null,arguments)}function u1(t,e){if(t==null)return{};var n,r,i=Rye(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Rye(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Oye(t){var e=P.useMemo(()=>cM(t.children,xp),[t.children]),n=Ot(r=>F_e(r,t.id,e));return n==null?null:P.createElement(oye,{legendPayload:n})}var Pye=P.memo(t=>{var{dataKey:e,nameKey:n,sectors:r,stroke:i,strokeWidth:a,fill:s,name:l,hide:u,tooltipType:f,id:h}=t,p={dataDefinedOnItem:r.map(m=>m.tooltipPayload),positions:r.map(m=>m.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:s,dataKey:e,nameKey:n,name:Px(l,e),hide:u,type:f,color:s,unit:"",graphicalItemId:h}};return P.createElement(jz,{tooltipEntrySettings:p})}),Dye=(t,e)=>t>e?"start":t<e?"end":"middle",Nye=(t,e,n)=>Ui(typeof e=="function"?e(t):e,n,n*.8),kye=(t,e,n)=>{var{top:r,left:i,width:a,height:s}=e,l=d6(a,s),u=i+Ui(t.cx,a,a/2),f=r+Ui(t.cy,s,s/2),h=Ui(t.innerRadius,l,0),p=Nye(n,t.outerRadius,l),m=t.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:u,cy:f,innerRadius:h,outerRadius:p,maxRadius:m}},Lye=(t,e)=>{var n=bi(e-t),r=Math.min(Math.abs(e-t),360);return n*r};function Iye(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var Fye=(t,e)=>{if(P.isValidElement(t))return P.cloneElement(t,e);if(typeof t=="function")return t(e);var n=Ln("recharts-pie-label-line",typeof t!="boolean"?t.className:""),{key:r}=e,i=u1(e,Sye);return P.createElement(Kw,cc({},i,{type:"linear",className:n}))},Uye=(t,e,n)=>{if(P.isValidElement(t))return P.cloneElement(t,e);var r=n;if(typeof t=="function"&&(r=t(e),P.isValidElement(r)))return r;var i=Ln("recharts-pie-label-text",Iye(t));return P.createElement(o1,cc({},e,{alignmentBaseline:"middle",className:i}),r)};function Bye(t){var{sectors:e,props:n,showLabels:r}=t,{label:i,labelLine:a,dataKey:s}=n;if(!r||!i||!e)return null;var l=eo(n),u=wd(i),f=wd(a),h=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,p=e.map((m,g)=>{var _=(m.startAngle+m.endAngle)/2,x=kr(m.cx,m.cy,m.outerRadius+h,_),y=mr(mr(mr(mr({},l),m),{},{stroke:"none"},u),{},{index:g,textAnchor:Dye(x.x,m.cx)},x),E=mr(mr(mr(mr({},l),m),{},{fill:"none",stroke:m.fill},f),{},{index:g,points:[kr(m.cx,m.cy,m.outerRadius,_),x],key:"line"});return P.createElement(so,{zIndex:Li.label,key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(g)},P.createElement(Ki,null,a&&Fye(a,E),Uye(i,y,Jn(m,s))))});return P.createElement(Ki,{className:"recharts-pie-labels"},p)}function zye(t){var{sectors:e,props:n,showLabels:r}=t,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?P.createElement(kz,{label:i}):P.createElement(Bye,{sectors:e,props:n,showLabels:r})}function jye(t){var{sectors:e,activeShape:n,inactiveShape:r,allOtherPieProps:i,shape:a,id:s}=t,l=Ot(yu),u=Ot(tM),f=Ot(Jge),{onMouseEnter:h,onClick:p,onMouseLeave:m}=i,g=u1(i,bye),_=uM(h,i.dataKey,s),x=fM(m),y=hM(p,i.dataKey,s);return e==null||e.length===0?null:P.createElement(P.Fragment,null,e.map((E,w)=>{if((E==null?void 0:E.startAngle)===0&&(E==null?void 0:E.endAngle)===0&&e.length!==1)return null;var b=f==null||f===s,M=String(w)===l&&(u==null||i.dataKey===u)&&b,A=l?r:null,C=n&&M?n:A,R=mr(mr({},E),{},{stroke:E.stroke,tabIndex:-1,[HB]:w,[GB]:s});return P.createElement(Ki,cc({key:"sector-".concat(E==null?void 0:E.startAngle,"-").concat(E==null?void 0:E.endAngle,"-").concat(E.midAngle,"-").concat(w),tabIndex:-1,className:"recharts-pie-sector"},Jd(g,E,w),{onMouseEnter:_(E,w),onMouseLeave:x(E,w),onClick:y(E,w)}),P.createElement(zz,cc({option:a??C,index:w,shapeType:"sector",isActive:M},R)))}))}function Hye(t){var e,{pieSettings:n,displayedData:r,cells:i,offset:a}=t,{cornerRadius:s,startAngle:l,endAngle:u,dataKey:f,nameKey:h,tooltipType:p}=n,m=Math.abs(n.minAngle),g=Lye(l,u),_=Math.abs(g),x=r.length<=1?0:(e=n.paddingAngle)!==null&&e!==void 0?e:0,y=r.filter(C=>Jn(C,f,0)!==0).length,E=(_>=360?y:y-1)*x,w=_-y*m-E,b=r.reduce((C,R)=>{var F=Jn(R,f,0);return C+(kt(F)?F:0)},0),M;if(b>0){var A;M=r.map((C,R)=>{var F=Jn(C,f,0),O=Jn(C,h,R),k=kye(n,a,C),D=(kt(F)?F:0)/b,U,Z=mr(mr({},C),i&&i[R]&&i[R].props);R?U=A.endAngle+bi(g)*x*(F!==0?1:0):U=l;var se=U+bi(g)*((F!==0?m:0)+D*w),oe=(U+se)/2,G=(k.innerRadius+k.outerRadius)/2,W=[{name:O,value:F,payload:Z,dataKey:f,type:p,graphicalItemId:n.id}],ee=kr(k.cx,k.cy,G,oe);return A=mr(mr(mr(mr({},n.presentationProps),{},{percent:D,cornerRadius:typeof s=="string"?parseFloat(s):s,name:O,tooltipPayload:W,midAngle:oe,middleRadius:G,tooltipPosition:ee},Z),k),{},{value:F,dataKey:f,startAngle:U,endAngle:se,payload:Z,paddingAngle:bi(g)*x}),A})}return M}function Gye(t){var{showLabels:e,sectors:n,children:r}=t,i=P.useMemo(()=>!e||!n?[]:n.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[n,e]);return P.createElement(E_e,{value:e?i:void 0},r)}function Vye(t){var{props:e,previousSectorsRef:n,id:r}=t,{sectors:i,isAnimationActive:a,animationBegin:s,animationDuration:l,animationEasing:u,activeShape:f,inactiveShape:h,onAnimationStart:p,onAnimationEnd:m}=e,g=Gx(e,"recharts-pie-"),_=n.current,[x,y]=P.useState(!1),E=P.useCallback(()=>{typeof m=="function"&&m(),y(!1)},[m]),w=P.useCallback(()=>{typeof p=="function"&&p(),y(!0)},[p]);return P.createElement(Gye,{showLabels:!x,sectors:i},P.createElement(Hx,{animationId:g,begin:s,duration:l,isActive:a,easing:u,onAnimationStart:w,onAnimationEnd:E,key:g},b=>{var M=[],A=i&&i[0],C=A==null?void 0:A.startAngle;return i==null||i.forEach((R,F)=>{var O=_&&_[F],k=F>0?mu(R,"paddingAngle",0):0;if(O){var D=Br(O.endAngle-O.startAngle,R.endAngle-R.startAngle,b),U=mr(mr({},R),{},{startAngle:C+k,endAngle:C+D+k});M.push(U),C=U.endAngle}else{var{endAngle:Z,startAngle:se}=R,oe=Br(0,Z-se,b),G=mr(mr({},R),{},{startAngle:C+k,endAngle:C+oe+k});M.push(G),C=G.endAngle}}),n.current=M,P.createElement(Ki,null,P.createElement(jye,{sectors:M,activeShape:f,inactiveShape:h,allOtherPieProps:e,shape:e.shape,id:r}))}),P.createElement(zye,{showLabels:!x,sectors:i,props:e}),e.children)}var Wye={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:Li.area};function Yye(t){var{id:e}=t,n=u1(t,Tye),{hide:r,className:i,rootTabIndex:a}=t,s=P.useMemo(()=>cM(t.children,xp),[t.children]),l=Ot(h=>U_e(h,e,s)),u=P.useRef(null),f=Ln("recharts-pie",i);return r||l==null?(u.current=null,P.createElement(Ki,{tabIndex:a,className:f})):P.createElement(so,{zIndex:t.zIndex},P.createElement(Pye,{dataKey:t.dataKey,nameKey:t.nameKey,sectors:l,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,tooltipType:t.tooltipType,id:e}),P.createElement(Ki,{tabIndex:a,className:f},P.createElement(Vye,{props:mr(mr({},n),{},{sectors:l}),previousSectorsRef:u,id:e})))}function Vz(t){var e=Ti(t,Wye),{id:n}=e,r=u1(e,wye),i=eo(r);return P.createElement(Hz,{id:n,type:"pie"},a=>P.createElement(P.Fragment,null,P.createElement(Eye,{type:"pie",id:a,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:e.maxRadius}),P.createElement(Oye,cc({},r,{id:a})),P.createElement(Yye,cc({},r,{id:a}))))}Vz.displayName="Pie";function KL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $L(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KL(Object(n),!0).forEach(function(r){Xye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xye(t,e,n){return(e=qye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qye(t){var e=Kye(t,"string");return typeof e=="symbol"?e:e+""}function Kye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Wz=0,$ye={xAxis:{},yAxis:{},zAxis:{}},Yz=ua({name:"cartesianAxis",initialState:$ye,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:ir()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:ir()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:ir()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:ir()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:ir()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:ir()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:ir()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:ir()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:ir()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-a[0])<=1)return;var s=[...a,r].slice(-3);t.yAxis[n]=$L($L({},t.yAxis[n]),{},{width:r,widthHistory:s})}}}}),{addXAxis:Zye,replaceXAxis:Jye,removeXAxis:Qye,addYAxis:eEe,replaceYAxis:tEe,removeYAxis:nEe,addZAxis:YTe,replaceZAxis:XTe,removeZAxis:qTe,updateYAxisWidth:rEe}=Yz.actions,iEe=Yz.reducer,aEe=De([Yr],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),sEe=De([aEe,sl,ol],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),Xz=()=>Ot(sEe),ZL=(t,e,n)=>{var r=n??t;if(!si(r))return Ui(r,e,0)},oEe=(t,e,n)=>{var r={},i=t.filter(Qx),a=t.filter(f=>f.stackId==null),s=i.reduce((f,h)=>(f[h.stackId]||(f[h.stackId]=[]),f[h.stackId].push(h),f),r),l=Object.entries(s).map(f=>{var[h,p]=f,m=p.map(_=>_.dataKey),g=ZL(e,n,p[0].barSize);return{stackId:h,dataKeys:m,barSize:g}}),u=a.map(f=>{var h=[f.dataKey].filter(m=>m!=null),p=ZL(e,n,f.barSize);return{stackId:void 0,dataKeys:h,barSize:p}});return[...l,...u]};function JL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JL(Object(n),!0).forEach(function(r){lEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lEe(t,e,n){return(e=cEe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cEe(t){var e=uEe(t,"string");return typeof e=="symbol"?e:e+""}function uEe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fEe(t,e,n,r,i){var a=r.length;if(!(a<1)){var s=Ui(t,n,0,!0),l,u=[];if(cr(r[0].barSize)){var f=!1,h=n/a,p=r.reduce((E,w)=>E+(w.barSize||0),0);p+=(a-1)*s,p>=n&&(p-=(a-1)*s,s=0),p>=n&&h>0&&(f=!0,h*=.9,p=a*h);var m=(n-p)/2>>0,g={offset:m-s,size:0};l=r.reduce((E,w)=>{var b,M={stackId:w.stackId,dataKeys:w.dataKeys,position:{offset:g.offset+g.size+s,size:f?h:(b=w.barSize)!==null&&b!==void 0?b:0}},A=[...E,M];return g=A[A.length-1].position,A},u)}else{var _=Ui(e,n,0,!0);n-2*_-(a-1)*s<=0&&(s=0);var x=(n-2*_-(a-1)*s)/a;x>1&&(x>>=0);var y=cr(i)?Math.min(x,i):x;l=r.reduce((E,w,b)=>[...E,{stackId:w.stackId,dataKeys:w.dataKeys,position:{offset:_+(x+s)*b+(x-y)/2,size:y}}],u)}return l}}var hEe=(t,e,n,r,i,a,s)=>{var l=si(s)?e:s,u=fEe(n,r,i!==a?i:a,t,l);return i!==a&&u!=null&&(u=u.map(f=>Pv(Pv({},f),{},{position:Pv(Pv({},f.position),{},{offset:f.position.offset-i/2})}))),u},dEe=(t,e)=>{var n=MA(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:a}=i;if(a)return a.find(s=>s.key===n)}}}};function pEe(t,e){return t&&typeof t=="object"&&"zIndex"in t&&typeof t.zIndex=="number"&&cr(t.zIndex)?t.zIndex:e}var qz=t=>{var{chartData:e}=t,n=Xn(),r=Na();return P.useEffect(()=>r?()=>{}:(n(oL(e)),()=>{n(oL(void 0))}),[e,n,r]),null},QL={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},Kz=ua({name:"brush",initialState:QL,reducers:{setBrushSettings(t,e){return e.payload==null?QL:e.payload}}}),{setBrushSettings:KTe}=Kz.actions,mEe=Kz.reducer;function vEe(t,e,n){return(e=gEe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gEe(t){var e=xEe(t,"string");return typeof e=="symbol"?e:e+""}function xEe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class dM{static create(e){return new dM(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(e)+a}default:return this.scale(e)}if(n){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+s}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}vEe(dM,"EPS",1e-4);function _Ee(t){return(t%180+180)%180}var yEe=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=_Ee(i),s=a*Math.PI/180,l=Math.atan(r/n),u=s>l&&s<Math.PI-l?r/Math.sin(s):n/Math.cos(s);return Math.abs(u)},EEe={dots:[],areas:[],lines:[]},$z=ua({name:"referenceElements",initialState:EEe,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=Cs(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=Cs(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=Cs(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:$Te,removeDot:ZTe,addArea:JTe,removeArea:QTe,addLine:e2e,removeLine:t2e}=$z.actions,SEe=$z.reducer,bEe=P.createContext(void 0),TEe=t=>{var{children:e}=t,[n]=P.useState("".concat(Ad("recharts"),"-clip")),r=Xz();if(r==null)return null;var{x:i,y:a,width:s,height:l}=r;return P.createElement(bEe.Provider,{value:n},P.createElement("defs",null,P.createElement("clipPath",{id:n},P.createElement("rect",{x:i,y:a,height:l,width:s}))),e)};function Zz(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e){var i=t[r];i!==void 0&&n.push(i)}return n}function wEe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return yEe(r,n)}function AEe(t,e,n){var r=n==="width",{x:i,y:a,width:s,height:l}=t;return e===1?{start:r?i:a,end:r?i+s:a+l}:{start:r?i+s:a+l,end:r?i:a}}function zd(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function MEe(t,e){return Zz(t,e+1)}function CEe(t,e,n,r,i){for(var a=(r||[]).slice(),{start:s,end:l}=e,u=0,f=1,h=s,p=function(){var _=r==null?void 0:r[u];if(_===void 0)return{v:Zz(r,f)};var x=u,y,E=()=>(y===void 0&&(y=n(_,x)),y),w=_.coordinate,b=u===0||zd(t,w,E,h,l);b||(u=0,h=s,f+=1),b&&(h=w+t*(E()/2+i),u+=f)},m;f<=a.length;)if(m=p(),m)return m.v;return[]}function REe(t,e,n,r,i){var a=(r||[]).slice(),s=a.length;if(s===0)return[];for(var{start:l,end:u}=e,f=1;f<=s;f++){for(var h=(s-1)%f,p=l,m=!0,g=function(){var w=r[_],b=_,M,A=()=>(M===void 0&&(M=n(w,b)),M),C=w.coordinate,R=_===h||zd(t,C,A,p,u);if(!R)return m=!1,1;R&&(p=C+t*(A()/2+i))},_=h;_<s&&!g();_+=f);if(m){for(var x=[],y=h;y<s;y+=f)x.push(r[y]);return x}}return[]}function eI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ri(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eI(Object(n),!0).forEach(function(r){OEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function OEe(t,e,n){return(e=PEe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PEe(t){var e=DEe(t,"string");return typeof e=="symbol"?e:e+""}function DEe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function NEe(t,e,n,r,i){for(var a=(r||[]).slice(),s=a.length,{start:l}=e,{end:u}=e,f=function(m){var g=a[m],_,x=()=>(_===void 0&&(_=n(g,m)),_);if(m===s-1){var y=t*(g.coordinate+t*x()/2-u);a[m]=g=Ri(Ri({},g),{},{tickCoord:y>0?g.coordinate-y*t:g.coordinate})}else a[m]=g=Ri(Ri({},g),{},{tickCoord:g.coordinate});if(g.tickCoord!=null){var E=zd(t,g.tickCoord,x,l,u);E&&(u=g.tickCoord-t*(x()/2+i),a[m]=Ri(Ri({},g),{},{isShow:!0}))}},h=s-1;h>=0;h--)f(h);return a}function kEe(t,e,n,r,i,a){var s=(r||[]).slice(),l=s.length,{start:u,end:f}=e;if(a){var h=r[l-1],p=n(h,l-1),m=t*(h.coordinate+t*p/2-f);if(s[l-1]=h=Ri(Ri({},h),{},{tickCoord:m>0?h.coordinate-m*t:h.coordinate}),h.tickCoord!=null){var g=zd(t,h.tickCoord,()=>p,u,f);g&&(f=h.tickCoord-t*(p/2+i),s[l-1]=Ri(Ri({},h),{},{isShow:!0}))}}for(var _=a?l-1:l,x=function(w){var b=s[w],M,A=()=>(M===void 0&&(M=n(b,w)),M);if(w===0){var C=t*(b.coordinate-t*A()/2-u);s[w]=b=Ri(Ri({},b),{},{tickCoord:C<0?b.coordinate-C*t:b.coordinate})}else s[w]=b=Ri(Ri({},b),{},{tickCoord:b.coordinate});if(b.tickCoord!=null){var R=zd(t,b.tickCoord,A,u,f);R&&(u=b.tickCoord+t*(A()/2+i),s[w]=Ri(Ri({},b),{},{isShow:!0}))}},y=0;y<_;y++)x(y);return s}function LEe(t,e,n){var{tick:r,ticks:i,viewBox:a,minTickGap:s,orientation:l,interval:u,tickFormatter:f,unit:h,angle:p}=t;if(!i||!i.length||!r)return[];if(kt(u)||jx.isSsr){var m;return(m=MEe(i,kt(u)?u:0))!==null&&m!==void 0?m:[]}var g=[],_=l==="top"||l==="bottom"?"width":"height",x=h&&_==="width"?sd(h,{fontSize:e,letterSpacing:n}):{width:0,height:0},y=(b,M)=>{var A=typeof f=="function"?f(b.value,M):b.value;return _==="width"?wEe(sd(A,{fontSize:e,letterSpacing:n}),x,p):sd(A,{fontSize:e,letterSpacing:n})[_]},E=i.length>=2?bi(i[1].coordinate-i[0].coordinate):1,w=AEe(a,E,_);return u==="equidistantPreserveStart"?CEe(E,w,y,i,s):u==="equidistantPreserveEnd"?REe(E,w,y,i,s):(u==="preserveStart"||u==="preserveStartEnd"?g=kEe(E,w,y,i,s,u==="preserveStartEnd"):g=NEe(E,w,y,i,s),g.filter(b=>b.isShow))}var IEe=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=t,s=0;if(e){Array.from(e).forEach(h=>{if(h){var p=h.getBoundingClientRect();p.width>s&&(s=p.width)}});var l=n?n.getBoundingClientRect().width:0,u=i+a,f=s+u+l+(n?r:0);return Math.round(f)}return 0},FEe=["axisLine","width","height","className","hide","ticks","axisType"];function UEe(t,e){if(t==null)return{};var n,r,i=BEe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function BEe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Eu(){return Eu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Eu.apply(null,arguments)}function tI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tI(Object(n),!0).forEach(function(r){zEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zEe(t,e,n){return(e=jEe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jEe(t){var e=HEe(t,"string");return typeof e=="symbol"?e:e+""}function HEe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iu={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Li.axis};function GEe(t){var{x:e,y:n,width:r,height:i,orientation:a,mirror:s,axisLine:l,otherSvgProps:u}=t;if(!l)return null;var f=Nr(Nr(Nr({},u),eo(l)),{},{fill:"none"});if(a==="top"||a==="bottom"){var h=+(a==="top"&&!s||a==="bottom"&&s);f=Nr(Nr({},f),{},{x1:e,y1:n+h*i,x2:e+r,y2:n+h*i})}else{var p=+(a==="left"&&!s||a==="right"&&s);f=Nr(Nr({},f),{},{x1:e+p*r,y1:n,x2:e+p*r,y2:n+i})}return P.createElement("line",Eu({},f,{className:Ln("recharts-cartesian-axis-line",mu(l,"className"))}))}function VEe(t,e,n,r,i,a,s,l,u){var f,h,p,m,g,_,x=l?-1:1,y=t.tickSize||s,E=kt(t.tickCoord)?t.tickCoord:t.coordinate;switch(a){case"top":f=h=t.coordinate,m=n+ +!l*i,p=m-x*y,_=p-x*u,g=E;break;case"left":p=m=t.coordinate,h=e+ +!l*r,f=h-x*y,g=f-x*u,_=E;break;case"right":p=m=t.coordinate,h=e+ +l*r,f=h+x*y,g=f+x*u,_=E;break;default:f=h=t.coordinate,m=n+ +l*i,p=m+x*y,_=p+x*u,g=E;break}return{line:{x1:f,y1:p,x2:h,y2:m},tick:{x:g,y:_}}}function WEe(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function YEe(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function XEe(t){var{option:e,tickProps:n,value:r}=t,i,a=Ln(n.className,"recharts-cartesian-axis-tick-value");if(P.isValidElement(e))i=P.cloneElement(e,Nr(Nr({},n),{},{className:a}));else if(typeof e=="function")i=e(Nr(Nr({},n),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(s=Ln(s,e==null?void 0:e.className)),i=P.createElement(o1,Eu({},n,{className:s}),r)}return i}var qEe=P.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:s,unit:l,padding:u,tickTextProps:f,orientation:h,mirror:p,x:m,y:g,width:_,height:x,tickSize:y,tickMargin:E,fontSize:w,letterSpacing:b,getTicksConfig:M,events:A,axisType:C}=t,R=LEe(Nr(Nr({},M),{},{ticks:n}),w,b),F=WEe(h,p),O=YEe(h,p),k=eo(M),D=wd(r),U={};typeof i=="object"&&(U=i);var Z=Nr(Nr({},k),{},{fill:"none"},U),se=R.map(W=>Nr({entry:W},VEe(W,m,g,_,x,h,y,p,E))),oe=se.map(W=>{var{entry:ee,line:Y}=W;return P.createElement(Ki,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(ee.value,"-").concat(ee.coordinate,"-").concat(ee.tickCoord)},i&&P.createElement("line",Eu({},Z,Y,{className:Ln("recharts-cartesian-axis-tick-line",mu(i,"className"))})))}),G=se.map((W,ee)=>{var{entry:Y,tick:pe}=W,z=Nr(Nr(Nr(Nr({textAnchor:F,verticalAnchor:O},k),{},{stroke:"none",fill:a},D),pe),{},{index:ee,payload:Y,visibleTicksCount:R.length,tickFormatter:s,padding:u},f);return P.createElement(Ki,Eu({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(Y.value,"-").concat(Y.coordinate,"-").concat(Y.tickCoord)},Jd(A,Y,ee)),r&&P.createElement(XEe,{option:r,tickProps:z,value:"".concat(typeof s=="function"?s(Y.value,ee):Y.value).concat(l||"")}))});return P.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(C,"-ticks")},G.length>0&&P.createElement(so,{zIndex:Li.label},P.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(C,"-tick-labels"),ref:e},G)),oe.length>0&&P.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(C,"-tick-lines")},oe))}),KEe=P.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:a,hide:s,ticks:l,axisType:u}=t,f=UEe(t,FEe),[h,p]=P.useState(""),[m,g]=P.useState(""),_=P.useRef(null);P.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var y;return IEe({ticks:_.current,label:(y=t.labelRef)===null||y===void 0?void 0:y.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var x=P.useCallback(y=>{if(y){var E=y.getElementsByClassName("recharts-cartesian-axis-tick-value");_.current=E;var w=E[0];if(w){var b=window.getComputedStyle(w),M=b.fontSize,A=b.letterSpacing;(M!==h||A!==m)&&(p(M),g(A))}}},[h,m]);return s||r!=null&&r<=0||i!=null&&i<=0?null:P.createElement(so,{zIndex:t.zIndex},P.createElement(Ki,{className:Ln("recharts-cartesian-axis",a)},P.createElement(GEe,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:eo(t)}),P.createElement(qEe,{ref:x,axisType:u,events:f,fontSize:h,getTicksConfig:t,height:t.height,letterSpacing:m,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:l,unit:t.unit,width:t.width,x:t.x,y:t.y}),P.createElement(Q1e,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},P.createElement(c_e,{label:t.label,labelRef:t.labelRef}),t.children)))}),pM=P.forwardRef((t,e)=>{var n=Ti(t,iu);return P.createElement(KEe,Eu({},n,{ref:e}))});pM.displayName="CartesianAxis";var $Ee={},Jz=ua({name:"errorBars",initialState:$Ee,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:n2e,replaceErrorBar:r2e,removeErrorBar:i2e}=Jz.actions,ZEe=Jz.reducer,JEe=["children"];function QEe(t,e){if(t==null)return{};var n,r,i=eSe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function eSe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var tSe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},nSe=P.createContext(tSe);function rSe(t){var{children:e}=t,n=QEe(t,JEe);return P.createElement(nSe.Provider,{value:n},e)}function Qz(t,e){var n,r,i=Ot(f=>ul(f,t)),a=Ot(f=>fl(f,e)),s=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:Qr.allowDataOverflow,l=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:ei.allowDataOverflow,u=s||l;return{needClip:u,needClipX:s,needClipY:l}}function iSe(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=Xz(),{needClipX:a,needClipY:s,needClip:l}=Qz(e,n);if(!l||!i)return null;var{x:u,y:f,width:h,height:p}=i;return P.createElement("clipPath",{id:"clipPath-".concat(r)},P.createElement("rect",{x:a?u:u-h/2,y:s?f:f-p/2,width:a?h:h*2,height:s?p:p*2}))}var JS={exports:{}},QS={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nI;function aSe(){if(nI)return QS;nI=1;var t=uc();function e(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,a=t.useEffect,s=t.useMemo,l=t.useDebugValue;return QS.useSyncExternalStoreWithSelector=function(u,f,h,p,m){var g=i(null);if(g.current===null){var _={hasValue:!1,value:null};g.current=_}else _=g.current;g=s(function(){function y(A){if(!E){if(E=!0,w=A,A=p(A),m!==void 0&&_.hasValue){var C=_.value;if(m(C,A))return b=C}return b=A}if(C=b,n(w,A))return C;var R=p(A);return m!==void 0&&m(C,R)?(w=A,C):(w=A,b=R)}var E=!1,w,b,M=h===void 0?null:h;return[function(){return y(f())},M===null?void 0:function(){return y(M())}]},[f,h,p,m]);var x=r(u,g[0],g[1]);return a(function(){_.hasValue=!0,_.value=x},[x]),l(x),x},QS}var rI;function sSe(){return rI||(rI=1,JS.exports=aSe()),JS.exports}sSe();function oSe(t){t()}function lSe(){let t=null,e=null;return{clear(){t=null,e=null},notify(){oSe(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var iI={notify(){},get:()=>[]};function cSe(t,e){let n,r=iI,i=0,a=!1;function s(x){h();const y=r.subscribe(x);let E=!1;return()=>{E||(E=!0,y(),p())}}function l(){r.notify()}function u(){_.onStateChange&&_.onStateChange()}function f(){return a}function h(){i++,n||(n=t.subscribe(u),r=lSe())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=iI)}function m(){a||(a=!0,h())}function g(){a&&(a=!1,p())}const _={addNestedSub:s,notifyNestedSubs:l,handleChangeWrapper:u,isSubscribed:f,trySubscribe:m,tryUnsubscribe:g,getListeners:()=>r};return _}var uSe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",fSe=uSe(),hSe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",dSe=hSe(),pSe=()=>fSe||dSe?P.useLayoutEffect:P.useEffect,mSe=pSe();function aI(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function vSe(t,e){if(aI(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!aI(t[n[i]],e[n[i]]))return!1;return!0}var eb=Symbol.for("react-redux-context"),tb=typeof globalThis<"u"?globalThis:{};function gSe(){if(!P.createContext)return{};const t=tb[eb]??(tb[eb]=new Map);let e=t.get(P.createContext);return e||(e=P.createContext(null),t.set(P.createContext,e)),e}var xSe=gSe();function _Se(t){const{children:e,context:n,serverState:r,store:i}=t,a=P.useMemo(()=>{const u=cSe(i);return{store:i,subscription:u,getServerState:r?()=>r:void 0}},[i,r]),s=P.useMemo(()=>i.getState(),[i]);mSe(()=>{const{subscription:u}=a;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),s!==i.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[a,s]);const l=n||xSe;return P.createElement(l.Provider,{value:a},e)}var ySe=_Se,ESe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function SSe(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function mM(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(ESe.has(r)){if(t[r]==null&&e[r]==null)continue;if(!vSe(t[r],e[r]))return!1}else if(!SSe(t[r],e[r]))return!1;return!0}function ku(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.xAxisId)!==null&&n!==void 0?n:Wz}function Lu(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.yAxisId)!==null&&n!==void 0?n:Wz}var bSe="Invariant failed";function TSe(t,e){throw new Error(bSe)}function i2(){return i2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i2.apply(null,arguments)}function ex(t){return P.createElement(zz,i2({shapeType:"rectangle",activeClassName:"recharts-active-bar"},t))}var wSe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(kt(e))return e;var a=kt(r)||si(r);return a?e(r,i):(a||TSe(),n)}},ASe=(t,e,n)=>n,MSe=(t,e)=>e,_p=De([OA,MSe],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),CSe=De([_p],t=>t==null?void 0:t.maxBarSize),RSe=(t,e,n,r)=>r,OSe=De([En,OA,ku,Lu,ASe],(t,e,n,r,i)=>e.filter(a=>t==="horizontal"?a.xAxisId===n:a.yAxisId===r).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),PSe=(t,e,n)=>{var r=En(t),i=ku(t,e),a=Lu(t,e);if(!(i==null||a==null))return r==="horizontal"?ZT(t,"yAxis",a,n):ZT(t,"xAxis",i,n)},DSe=(t,e)=>{var n=En(t),r=ku(t,e),i=Lu(t,e);if(!(r==null||i==null))return n==="horizontal"?Kk(t,"xAxis",r):Kk(t,"yAxis",i)},NSe=De([OSe,tve,DSe],oEe),kSe=(t,e,n)=>{var r,i,a=_p(t,e);if(a!=null){var s=ku(t,e),l=Lu(t,e);if(!(s==null||l==null)){var u=En(t),f=d8(t),{maxBarSize:h}=a,p=si(h)?f:h,m,g;return u==="horizontal"?(m=xh(t,"xAxis",s,n),g=gh(t,"xAxis",s,n)):(m=xh(t,"yAxis",l,n),g=gh(t,"yAxis",l,n)),(r=(i=Rg(m,g,!0))!==null&&i!==void 0?i:p)!==null&&r!==void 0?r:0}}},e9=(t,e,n)=>{var r=En(t),i=ku(t,e),a=Lu(t,e);if(!(i==null||a==null)){var s,l;return r==="horizontal"?(s=xh(t,"xAxis",i,n),l=gh(t,"xAxis",i,n)):(s=xh(t,"yAxis",a,n),l=gh(t,"yAxis",a,n)),Rg(s,l)}},LSe=De([NSe,d8,eve,p8,kSe,e9,CSe],hEe),ISe=(t,e,n)=>{var r=ku(t,e);if(r!=null)return xh(t,"xAxis",r,n)},FSe=(t,e,n)=>{var r=Lu(t,e);if(r!=null)return xh(t,"yAxis",r,n)},USe=(t,e,n)=>{var r=ku(t,e);if(r!=null)return gh(t,"xAxis",r,n)},BSe=(t,e,n)=>{var r=Lu(t,e);if(r!=null)return gh(t,"yAxis",r,n)},zSe=De([LSe,_p],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),jSe=De([PSe,_p],dEe),HSe=De([Yr,Ww,ISe,FSe,USe,BSe,zSe,En,Hme,e9,jSe,_p,RSe],(t,e,n,r,i,a,s,l,u,f,h,p,m)=>{var{chartData:g,dataStartIndex:_,dataEndIndex:x}=u;if(!(p==null||s==null||e==null||l!=="horizontal"&&l!=="vertical"||n==null||r==null||i==null||a==null||f==null)){var{data:y}=p,E;if(y!=null&&y.length>0?E=y:E=g==null?void 0:g.slice(_,x+1),E!=null)return gbe({layout:l,barSettings:p,pos:s,parentViewBox:e,bandSize:f,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,stackedData:h,displayedData:E,offset:t,cells:m,dataStartIndex:_})}}),GSe=["index"];function a2(){return a2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a2.apply(null,arguments)}function VSe(t,e){if(t==null)return{};var n,r,i=WSe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function WSe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var t9=P.createContext(void 0),YSe=t=>{var e=P.useContext(t9);if(e!=null)return e.stackId;if(t!=null)return Lfe(t)},XSe=(t,e)=>"recharts-bar-stack-clip-path-".concat(t,"-").concat(e),qSe=t=>{var e=P.useContext(t9);if(e!=null){var{stackId:n}=e;return"url(#".concat(XSe(n,t),")")}},KSe=t=>{var{index:e}=t,n=VSe(t,GSe),r=qSe(e);return P.createElement(Ki,a2({className:"recharts-bar-stack-layer",clipPath:r},n))},$Se=["onMouseEnter","onMouseLeave","onClick"],ZSe=["value","background","tooltipPosition"],JSe=["id"],QSe=["onMouseEnter","onClick","onMouseLeave"];function tl(){return tl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tl.apply(null,arguments)}function sI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sI(Object(n),!0).forEach(function(r){ebe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ebe(t,e,n){return(e=tbe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tbe(t){var e=nbe(t,"string");return typeof e=="symbol"?e:e+""}function nbe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tx(t,e){if(t==null)return{};var n,r,i=rbe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function rbe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ibe=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:r,value:Px(n,e),payload:t}]},abe=P.memo(t=>{var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:a,hide:s,unit:l,tooltipType:u,id:f}=t,h={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:Px(a,e),hide:s,type:u,color:i,unit:l,graphicalItemId:f}};return P.createElement(jz,{tooltipEntrySettings:h})});function sbe(t){var e=Ot(yu),{data:n,dataKey:r,background:i,allOtherBarProps:a}=t,{onMouseEnter:s,onMouseLeave:l,onClick:u}=a,f=tx(a,$Se),h=uM(s,r,a.id),p=fM(l),m=hM(u,r,a.id);if(!i||n==null)return null;var g=wd(i);return P.createElement(so,{zIndex:pEe(i,Li.barBackground)},n.map((_,x)=>{var{value:y,background:E,tooltipPosition:w}=_,b=tx(_,ZSe);if(!E)return null;var M=h(_,x),A=p(_,x),C=m(_,x),R=Yi(Yi(Yi(Yi(Yi({option:i,isActive:String(x)===e},b),{},{fill:"#eee"},E),g),Jd(f,_,x)),{},{onMouseEnter:M,onMouseLeave:A,onClick:C,dataKey:r,index:x,className:"recharts-bar-background-rectangle"});return P.createElement(ex,tl({key:"background-bar-".concat(x)},R))}))}function obe(t){var{showLabels:e,children:n,rects:r}=t,i=r==null?void 0:r.map(a=>{var s={x:a.x,y:a.y,width:a.width,lowerWidth:a.width,upperWidth:a.width,height:a.height};return Yi(Yi({},s),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:s,fill:a.fill})});return P.createElement(y_e,{value:e?i:void 0},n)}function lbe(t){var{shape:e,activeBar:n,baseProps:r,entry:i,index:a,dataKey:s}=t,l=Ot(yu),u=Ot(tM),f=n&&String(a)===l&&(u==null||s===u),h=f?n:e;return f?P.createElement(so,{zIndex:Li.activeBar},P.createElement(ex,tl({},r,{name:String(r.name)},i,{isActive:f,option:h,index:a,dataKey:s}))):P.createElement(ex,tl({},r,{name:String(r.name)},i,{isActive:f,option:h,index:a,dataKey:s}))}function cbe(t){var{shape:e,baseProps:n,entry:r,index:i,dataKey:a}=t;return P.createElement(ex,tl({},n,{name:String(n.name)},r,{isActive:!1,option:e,index:i,dataKey:a}))}function ube(t){var e,{data:n,props:r}=t,i=(e=eo(r))!==null&&e!==void 0?e:{},{id:a}=i,s=tx(i,JSe),{shape:l,dataKey:u,activeBar:f}=r,{onMouseEnter:h,onClick:p,onMouseLeave:m}=r,g=tx(r,QSe),_=uM(h,u,a),x=fM(m),y=hM(p,u,a);return n?P.createElement(P.Fragment,null,n.map((E,w)=>P.createElement(KSe,tl({index:w,key:"rectangle-".concat(E==null?void 0:E.x,"-").concat(E==null?void 0:E.y,"-").concat(E==null?void 0:E.value,"-").concat(w),className:"recharts-bar-rectangle"},Jd(g,E,w),{onMouseEnter:_(E,w),onMouseLeave:x(E,w),onClick:y(E,w)}),f?P.createElement(lbe,{shape:l,activeBar:f,baseProps:s,entry:E,index:w,dataKey:u}):P.createElement(cbe,{shape:l,baseProps:s,entry:E,index:w,dataKey:u})))):null}function fbe(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:a,animationBegin:s,animationDuration:l,animationEasing:u,onAnimationEnd:f,onAnimationStart:h}=e,p=n.current,m=Gx(e,"recharts-bar-"),[g,_]=P.useState(!1),x=!g,y=P.useCallback(()=>{typeof f=="function"&&f(),_(!1)},[f]),E=P.useCallback(()=>{typeof h=="function"&&h(),_(!0)},[h]);return P.createElement(obe,{showLabels:x,rects:r},P.createElement(Hx,{animationId:m,begin:s,duration:l,isActive:a,easing:u,onAnimationEnd:y,onAnimationStart:E,key:m},w=>{var b=w===1?r:r==null?void 0:r.map((M,A)=>{var C=p&&p[A];if(C)return Yi(Yi({},M),{},{x:Br(C.x,M.x,w),y:Br(C.y,M.y,w),width:Br(C.width,M.width,w),height:Br(C.height,M.height,w)});if(i==="horizontal"){var R=Br(0,M.height,w),F=Br(M.stackedBarStart,M.y,w);return Yi(Yi({},M),{},{y:F,height:R})}var O=Br(0,M.width,w),k=Br(M.stackedBarStart,M.x,w);return Yi(Yi({},M),{},{width:O,x:k})});return w>0&&(n.current=b??null),b==null?null:P.createElement(Ki,null,P.createElement(ube,{props:e,data:b}))}),P.createElement(kz,{label:e.label}),e.children)}function hbe(t){var e=P.useRef(null);return P.createElement(fbe,{previousRectanglesRef:e,props:t})}var n9=0,dbe=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:Jn(t,e)}};class pbe extends P.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:a,yAxisId:s,needClip:l,background:u,id:f}=this.props;if(e||n==null)return null;var h=Ln("recharts-bar",i),p=f;return P.createElement(Ki,{className:h,id:f},l&&P.createElement("defs",null,P.createElement(iSe,{clipPathId:p,xAxisId:a,yAxisId:s})),P.createElement(Ki,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(p,")"):void 0},P.createElement(sbe,{data:n,dataKey:r,background:u,allOtherBarProps:this.props}),P.createElement(hbe,this.props)))}}var mbe={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:n9,xAxisId:0,yAxisId:0,zIndex:Li.bar};function vbe(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:s,animationBegin:l,animationDuration:u,animationEasing:f,isAnimationActive:h}=t,{needClip:p}=Qz(e,n),m=rp(),g=Na(),_=cM(t.children,xp),x=Ot(w=>HSe(w,t.id,g,_));if(m!=="vertical"&&m!=="horizontal")return null;var y,E=x==null?void 0:x[0];return E==null||E.height==null||E.width==null?y=0:y=m==="vertical"?E.height/2:E.width/2,P.createElement(rSe,{xAxisId:e,yAxisId:n,data:x,dataPointFormatter:dbe,errorBarOffset:y},P.createElement(pbe,tl({},t,{layout:m,needClip:p,data:x,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:s,animationBegin:l,animationDuration:u,animationEasing:f,isAnimationActive:h})))}function gbe(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:a,xAxis:s,yAxis:l,xAxisTicks:u,yAxisTicks:f,stackedData:h,displayedData:p,offset:m,cells:g,parentViewBox:_,dataStartIndex:x}=t,y=e==="horizontal"?l:s,E=h?y.scale.domain():null,w=Ife({numericAxis:y}),b=y.scale(w);return p.map((M,A)=>{var C,R,F,O,k,D;if(h){var U=h[A+x];if(U==null)return null;C=Ofe(U,E)}else C=Jn(M,n),Array.isArray(C)||(C=[w,C]);var Z=wSe(r,n9)(C[1],A);if(e==="horizontal"){var se,[oe,G]=[l.scale(C[0]),l.scale(C[1])];R=JN({axis:s,ticks:u,bandSize:a,offset:i.offset,entry:M,index:A}),F=(se=G??oe)!==null&&se!==void 0?se:void 0,O=i.size;var W=oe-G;if(k=to(W)?0:W,D={x:R,y:m.top,width:O,height:m.height},Math.abs(Z)>0&&Math.abs(k)<Math.abs(Z)){var ee=bi(k||Z)*(Math.abs(Z)-Math.abs(k));F-=ee,k+=ee}}else{var[Y,pe]=[s.scale(C[0]),s.scale(C[1])];if(R=Y,F=JN({axis:l,ticks:f,bandSize:a,offset:i.offset,entry:M,index:A}),O=pe-Y,k=i.size,D={x:m.left,y:F,width:m.width,height:k},Math.abs(Z)>0&&Math.abs(O)<Math.abs(Z)){var z=bi(O||Z)*(Math.abs(Z)-Math.abs(O));O+=z}}if(R==null||F==null||O==null||k==null)return null;var I=Yi(Yi({},M),{},{stackedBarStart:b,x:R,y:F,width:O,height:k,value:h?C:C[1],payload:M,background:D,tooltipPosition:{x:R+O/2,y:F+k/2},parentViewBox:_},g&&g[A]&&g[A].props);return I}).filter(Boolean)}function xbe(t){var e=Ti(t,mbe),n=YSe(e.stackId),r=Na();return P.createElement(Hz,{id:e.id,type:"bar"},i=>P.createElement(P.Fragment,null,P.createElement(sye,{legendPayload:ibe(e)}),P.createElement(abe,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:i}),P.createElement(yye,{type:"bar",id:i,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:n,hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:r}),P.createElement(so,{zIndex:e.zIndex},P.createElement(vbe,tl({},e,{id:i})))))}var s2=P.memo(xbe,mM);s2.displayName="Bar";var _be=["domain","range"],ybe=["domain","range"];function oI(t,e){if(t==null)return{};var n,r,i=Ebe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ebe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function lI(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function r9(t,e){if(t===e)return!0;var{domain:n,range:r}=t,i=oI(t,_be),{domain:a,range:s}=e,l=oI(e,ybe);return!lI(n,a)||!lI(r,s)?!1:mM(i,l)}var Sbe=["dangerouslySetInnerHTML","ticks","scale"],bbe=["id","scale"];function o2(){return o2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o2.apply(null,arguments)}function cI(t,e){if(t==null)return{};var n,r,i=Tbe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Tbe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function wbe(t){var e=Xn(),n=P.useRef(null);return P.useLayoutEffect(()=>{n.current===null?e(Zye(t)):n.current!==t&&e(Jye({prev:n.current,next:t})),n.current=t},[t,e]),P.useLayoutEffect(()=>()=>{n.current&&(e(Qye(n.current)),n.current=null)},[e]),null}var Abe=t=>{var{xAxisId:e,className:n}=t,r=Ot(Ww),i=Na(),a="xAxis",s=Ot(E=>Y8(E,a,e,i)),l=Ot(E=>H8(E,e)),u=Ot(E=>Jve(E,e)),f=Ot(E=>b8(E,e));if(l==null||u==null||f==null)return null;var{dangerouslySetInnerHTML:h,ticks:p,scale:m}=t,g=cI(t,Sbe),{id:_,scale:x}=f,y=cI(f,bbe);return P.createElement(pM,o2({},g,y,{x:u.x,y:u.y,width:l.width,height:l.height,className:Ln("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:s,axisType:a}))},Mbe={allowDataOverflow:Qr.allowDataOverflow,allowDecimals:Qr.allowDecimals,allowDuplicatedCategory:Qr.allowDuplicatedCategory,angle:Qr.angle,axisLine:iu.axisLine,height:Qr.height,hide:!1,includeHidden:Qr.includeHidden,interval:Qr.interval,minTickGap:Qr.minTickGap,mirror:Qr.mirror,orientation:Qr.orientation,padding:Qr.padding,reversed:Qr.reversed,scale:Qr.scale,tick:Qr.tick,tickCount:Qr.tickCount,tickLine:iu.tickLine,tickSize:iu.tickSize,type:Qr.type,xAxisId:0},Cbe=t=>{var e=Ti(t,Mbe);return P.createElement(P.Fragment,null,P.createElement(wbe,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),P.createElement(Abe,e))},l2=P.memo(Cbe,r9);l2.displayName="XAxis";var Rbe=["dangerouslySetInnerHTML","ticks","scale"],Obe=["id","scale"];function c2(){return c2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c2.apply(null,arguments)}function uI(t,e){if(t==null)return{};var n,r,i=Pbe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Pbe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Dbe(t){var e=Xn(),n=P.useRef(null);return P.useLayoutEffect(()=>{n.current===null?e(eEe(t)):n.current!==t&&e(tEe({prev:n.current,next:t})),n.current=t},[t,e]),P.useLayoutEffect(()=>()=>{n.current&&(e(nEe(n.current)),n.current=null)},[e]),null}var Nbe=t=>{var{yAxisId:e,className:n,width:r,label:i}=t,a=P.useRef(null),s=P.useRef(null),l=Ot(Ww),u=Na(),f=Xn(),h="yAxis",p=Ot(C=>G8(C,e)),m=Ot(C=>ege(C,e)),g=Ot(C=>Y8(C,h,e,u)),_=Ot(C=>T8(C,e));if(P.useLayoutEffect(()=>{if(!(r!=="auto"||!p||sM(i)||P.isValidElement(i)||_==null)){var C=a.current;if(C){var R=C.getCalculatedWidth();Math.round(p.width)!==Math.round(R)&&f(rEe({id:e,width:R}))}}},[g,p,f,i,e,r,_]),p==null||m==null||_==null)return null;var{dangerouslySetInnerHTML:x,ticks:y,scale:E}=t,w=uI(t,Rbe),{id:b,scale:M}=_,A=uI(_,Obe);return P.createElement(pM,c2({},w,A,{ref:a,labelRef:s,x:m.x,y:m.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:p.width,height:p.height,className:Ln("recharts-".concat(h," ").concat(h),n),viewBox:l,ticks:g,axisType:h}))},kbe={allowDataOverflow:ei.allowDataOverflow,allowDecimals:ei.allowDecimals,allowDuplicatedCategory:ei.allowDuplicatedCategory,angle:ei.angle,axisLine:iu.axisLine,hide:!1,includeHidden:ei.includeHidden,interval:ei.interval,minTickGap:ei.minTickGap,mirror:ei.mirror,orientation:ei.orientation,padding:ei.padding,reversed:ei.reversed,scale:ei.scale,tick:ei.tick,tickCount:ei.tickCount,tickLine:iu.tickLine,tickSize:iu.tickSize,type:ei.type,width:ei.width,yAxisId:0},Lbe=t=>{var e=Ti(t,kbe);return P.createElement(P.Fragment,null,P.createElement(Dbe,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),P.createElement(Nbe,e))},u2=P.memo(Lbe,r9);u2.displayName="YAxis";var Ibe=(t,e)=>e,vM=De([Ibe,En,E8,qr,lz,hl,mxe,Yr],Sxe),gM=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},i9=os("mouseClick"),a9=tp();a9.startListening({actionCreator:i9,effect:(t,e)=>{var n=t.payload,r=vM(e.getState(),gM(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(pge({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var f2=os("mouseMove"),s9=tp(),Dv=null;s9.startListening({actionCreator:f2,effect:(t,e)=>{var n=t.payload;Dv!==null&&cancelAnimationFrame(Dv);var r=gM(n);Dv=requestAnimationFrame(()=>{var i=e.getState(),a=KA(i,i.tooltip.settings.shared);if(a==="axis"){var s=vM(i,r);(s==null?void 0:s.activeIndex)!=null?e.dispatch(ez({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):e.dispatch(Q8())}Dv=null})}});function Fbe(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":t==="children"&&typeof e=="object"&&e!==null?"<<CHILDREN>>":e}var fI={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},o9=ua({name:"rootProps",initialState:fI,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:fI.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),Ube=o9.reducer,{updateOptions:Bbe}=o9.actions,l9=ua({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:zbe}=l9.actions,jbe=l9.reducer,c9=os("keyDown"),u9=os("focus"),xM=tp();xM.startListening({actionCreator:c9,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=t.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=$A(i,Dh(n),dp(n),vp(n)),l=s==null?-1:Number(s);if(!(!Number.isFinite(l)||l<0)){var u=hl(n);if(a==="Enter"){var f=$g(n,"axis","hover",String(i.index));e.dispatch(QT({active:!i.active,activeIndex:i.index,activeCoordinate:f}));return}var h=ige(n),p=h==="left-to-right"?1:-1,m=a==="ArrowRight"?1:-1,g=l+m*p;if(!(u==null||g>=u.length||g<0)){var _=$g(n,"axis","hover",String(g));e.dispatch(QT({active:!0,activeIndex:g.toString(),activeCoordinate:_}))}}}}}});xM.startListening({actionCreator:u9,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",s=$g(n,"axis","hover",String(a));e.dispatch(QT({active:!0,activeIndex:a,activeCoordinate:s}))}}}});var $a=os("externalEvent"),f9=tp(),nb=new Map;f9.startListening({actionCreator:$a,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var i=r.type,a=nb.get(i);a!==void 0&&cancelAnimationFrame(a);var s=requestAnimationFrame(()=>{try{var l=e.getState(),u={activeCoordinate:exe(l),activeDataKey:tM(l),activeIndex:yu(l),activeLabel:fz(l),activeTooltipIndex:yu(l),isTooltipActive:txe(l)};n(u,r)}finally{nb.delete(i)}});nb.set(i,s)}}});var Hbe=De([Oh],t=>t.tooltipItemPayloads),Gbe=De([Hbe,mp,(t,e)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(l=>l.settings.graphicalItemId===r);if(i!=null){var{positions:a}=i;if(a!=null){var s=e(a,n);return s}}}),h9=os("touchMove"),d9=tp();d9.startListening({actionCreator:h9,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=KA(r,r.tooltip.settings.shared);if(i==="axis"){var a=n.touches[0];if(a==null)return;var s=vM(r,gM({clientX:a.clientX,clientY:a.clientY,currentTarget:n.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&e.dispatch(ez({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var l,u=n.touches[0];if(document.elementFromPoint==null||u==null)return;var f=document.elementFromPoint(u.clientX,u.clientY);if(!f||!f.getAttribute)return;var h=f.getAttribute(HB),p=(l=f.getAttribute(GB))!==null&&l!==void 0?l:void 0,m=Ph(r).find(x=>x.id===p);if(h==null||m==null||p==null)return;var{dataKey:g}=m,_=Gbe(r,h,p);e.dispatch(J8({activeDataKey:g,activeIndex:h,activeCoordinate:_,activeGraphicalItemId:p}))}}}});var Vbe=hB({brush:mEe,cartesianAxis:iEe,chartData:Qxe,errorBars:ZEe,graphicalItems:xye,layout:Tfe,legend:Nhe,options:qxe,polarAxis:P_e,polarOptions:jbe,referenceElements:SEe,rootProps:Ube,tooltip:mge,zIndex:Ixe}),Wbe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return Kue({reducer:Vbe,preloadedState:e,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([a9.middleware,s9.middleware,xM.middleware,f9.middleware,d9.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(MB({type:"raf"}))},devTools:{serialize:{replacer:Fbe},name:"recharts-".concat(n)}})};function p9(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=Na(),a=P.useRef(null);if(i)return n;a.current==null&&(a.current=Wbe(e,r));var s=Iw;return P.createElement(ySe,{context:s,store:a.current},n)}function Ybe(t){var{layout:e,margin:n}=t,r=Xn(),i=Na();return P.useEffect(()=>{i||(r(Efe(e)),r(yfe(n)))},[r,i,e,n]),null}var m9=P.memo(Ybe,mM);function v9(t){var e=Xn();return P.useEffect(()=>{e(Bbe(t))},[e,t]),null}function hI(t){var{zIndex:e,isPanorama:n}=t,r=P.useRef(null),i=Xn();return P.useLayoutEffect(()=>(r.current&&i(kxe({zIndex:e,element:r.current,isPanorama:n})),()=>{i(Lxe({zIndex:e,isPanorama:n}))}),[i,e,n]),P.createElement("g",{tabIndex:-1,ref:r})}function dI(t){var{children:e,isPanorama:n}=t,r=Ot(Txe);if(!r||r.length===0)return e;var i=r.filter(s=>s<0),a=r.filter(s=>s>0);return P.createElement(P.Fragment,null,i.map(s=>P.createElement(hI,{key:s,zIndex:s,isPanorama:n})),e,a.map(s=>P.createElement(hI,{key:s,zIndex:s,isPanorama:n})))}var Xbe=["children"];function qbe(t,e){if(t==null)return{};var n,r,i=Kbe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Kbe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function nx(){return nx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nx.apply(null,arguments)}var $be={width:"100%",height:"100%",display:"block"},Zbe=P.forwardRef((t,e)=>{var n=qB(),r=KB(),i=o6();if(!oc(n)||!oc(r))return null;var{children:a,otherAttributes:s,title:l,desc:u}=t,f,h;return s!=null&&(typeof s.tabIndex=="number"?f=s.tabIndex:f=i?0:void 0,typeof s.role=="string"?h=s.role:h=i?"application":void 0),P.createElement(Aw,nx({},s,{title:l,desc:u,role:h,tabIndex:f,width:n,height:r,style:$be,ref:e}),a)}),Jbe=t=>{var{children:e}=t,n=Ot(Lx);if(!n)return null;var{width:r,height:i,y:a,x:s}=n;return P.createElement(Aw,{width:r,height:i,x:s,y:a},e)},pI=P.forwardRef((t,e)=>{var{children:n}=t,r=qbe(t,Xbe),i=Na();return i?P.createElement(Jbe,null,P.createElement(dI,{isPanorama:!0},n)):P.createElement(Zbe,nx({ref:e},r),P.createElement(dI,{isPanorama:!1},n))});function Qbe(){var t=Xn(),[e,n]=P.useState(null),r=Ot(Hfe);return P.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),a=i.width/e.offsetWidth;cr(a)&&a!==r&&t(bfe(a))}},[e,t,r]),n}function mI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eTe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mI(Object(n),!0).forEach(function(r){tTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tTe(t,e,n){return(e=nTe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nTe(t){var e=rTe(t,"string");return typeof e=="symbol"?e:e+""}function rTe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Su(){return Su=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Su.apply(null,arguments)}var iTe=()=>(l1e(),null);function rx(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var aTe=P.forwardRef((t,e)=>{var n,r,i=P.useRef(null),[a,s]=P.useState({containerWidth:rx((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:rx((r=t.style)===null||r===void 0?void 0:r.height)}),l=P.useCallback((f,h)=>{s(p=>{var m=Math.round(f),g=Math.round(h);return p.containerWidth===m&&p.containerHeight===g?p:{containerWidth:m,containerHeight:g}})},[]),u=P.useCallback(f=>{if(typeof e=="function"&&e(f),f!=null&&typeof ResizeObserver<"u"){var{width:h,height:p}=f.getBoundingClientRect();l(h,p);var m=_=>{var{width:x,height:y}=_[0].contentRect;l(x,y)},g=new ResizeObserver(m);g.observe(f),i.current=g}},[e,l]);return P.useEffect(()=>()=>{var f=i.current;f!=null&&f.disconnect()},[l]),P.createElement(P.Fragment,null,P.createElement(Fx,{width:a.containerWidth,height:a.containerHeight}),P.createElement("div",Su({ref:u},t)))}),sTe=P.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,a]=P.useState({containerWidth:rx(n),containerHeight:rx(r)}),s=P.useCallback((u,f)=>{a(h=>{var p=Math.round(u),m=Math.round(f);return h.containerWidth===p&&h.containerHeight===m?h:{containerWidth:p,containerHeight:m}})},[]),l=P.useCallback(u=>{if(typeof e=="function"&&e(u),u!=null){var{width:f,height:h}=u.getBoundingClientRect();s(f,h)}},[e,s]);return P.createElement(P.Fragment,null,P.createElement(Fx,{width:i.containerWidth,height:i.containerHeight}),P.createElement("div",Su({ref:l},t)))}),oTe=P.forwardRef((t,e)=>{var{width:n,height:r}=t;return P.createElement(P.Fragment,null,P.createElement(Fx,{width:n,height:r}),P.createElement("div",Su({ref:e},t)))}),lTe=P.forwardRef((t,e)=>{var{width:n,height:r}=t;return Ko(n)||Ko(r)?P.createElement(sTe,Su({},t,{ref:e})):P.createElement(oTe,Su({},t,{ref:e}))});function cTe(t){return t===!0?aTe:lTe}var uTe=P.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:s,onDoubleClick:l,onMouseDown:u,onMouseEnter:f,onMouseLeave:h,onMouseMove:p,onMouseUp:m,onTouchEnd:g,onTouchMove:_,onTouchStart:x,style:y,width:E,responsive:w,dispatchTouchEvents:b=!0}=t,M=P.useRef(null),A=Xn(),[C,R]=P.useState(null),[F,O]=P.useState(null),k=Qbe(),D=Yw(),U=(D==null?void 0:D.width)>0?D.width:E,Z=(D==null?void 0:D.height)>0?D.height:i,se=P.useCallback(Q=>{k(Q),typeof e=="function"&&e(Q),R(Q),O(Q),Q!=null&&(M.current=Q)},[k,e,R,O]),oe=P.useCallback(Q=>{A(i9(Q)),A($a({handler:a,reactEvent:Q}))},[A,a]),G=P.useCallback(Q=>{A(f2(Q)),A($a({handler:f,reactEvent:Q}))},[A,f]),W=P.useCallback(Q=>{A(Q8()),A($a({handler:h,reactEvent:Q}))},[A,h]),ee=P.useCallback(Q=>{A(f2(Q)),A($a({handler:p,reactEvent:Q}))},[A,p]),Y=P.useCallback(()=>{A(u9())},[A]),pe=P.useCallback(Q=>{A(c9(Q.key))},[A]),z=P.useCallback(Q=>{A($a({handler:s,reactEvent:Q}))},[A,s]),I=P.useCallback(Q=>{A($a({handler:l,reactEvent:Q}))},[A,l]),V=P.useCallback(Q=>{A($a({handler:u,reactEvent:Q}))},[A,u]),X=P.useCallback(Q=>{A($a({handler:m,reactEvent:Q}))},[A,m]),te=P.useCallback(Q=>{A($a({handler:x,reactEvent:Q}))},[A,x]),J=P.useCallback(Q=>{b&&A(h9(Q)),A($a({handler:_,reactEvent:Q}))},[A,b,_]),fe=P.useCallback(Q=>{A($a({handler:g,reactEvent:Q}))},[A,g]),ae=cTe(w);return P.createElement(xz.Provider,{value:C},P.createElement(R5.Provider,{value:F},P.createElement(ae,{width:U??(y==null?void 0:y.width),height:Z??(y==null?void 0:y.height),className:Ln("recharts-wrapper",r),style:eTe({position:"relative",cursor:"default",width:U,height:Z},y),onClick:oe,onContextMenu:z,onDoubleClick:I,onFocus:Y,onKeyDown:pe,onMouseDown:V,onMouseEnter:G,onMouseLeave:W,onMouseMove:ee,onMouseUp:X,onTouchEnd:fe,onTouchMove:J,onTouchStart:te,ref:se},P.createElement(iTe,null),n)))}),fTe=["width","height","responsive","children","className","style","compact","title","desc"];function hTe(t,e){if(t==null)return{};var n,r,i=dTe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function dTe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var g9=P.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:a,className:s,style:l,compact:u,title:f,desc:h}=t,p=hTe(t,fTe),m=eo(p);return u?P.createElement(P.Fragment,null,P.createElement(Fx,{width:n,height:r}),P.createElement(pI,{otherAttributes:m,title:f,desc:h},a)):P.createElement(uTe,{className:s,style:l,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},P.createElement(pI,{otherAttributes:m,title:f,desc:h,ref:e},P.createElement(TEe,null,a)))});function h2(){return h2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},h2.apply(null,arguments)}var pTe={top:5,right:5,bottom:5,left:5},mTe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:pTe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},vTe=P.forwardRef(function(e,n){var r,i=Ti(e.categoricalChartProps,mTe),{chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:l,tooltipPayloadSearcher:u,categoricalChartProps:f}=e,h={chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:l,tooltipPayloadSearcher:u,eventEmitter:void 0};return P.createElement(p9,{preloadedState:{options:h},reduxStoreName:(r=f.id)!==null&&r!==void 0?r:a},P.createElement(qz,{chartData:f.data}),P.createElement(m9,{layout:i.layout,margin:i.margin}),P.createElement(v9,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),P.createElement(g9,h2({},i,{ref:n})))}),gTe=["axis","item"],vI=P.forwardRef((t,e)=>P.createElement(vTe,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:gTe,tooltipPayloadSearcher:_z,categoricalChartProps:t,ref:e}));function xTe(t){var e=Xn();return P.useEffect(()=>{e(zbe(t))},[e,t]),null}var _Te=["layout"];function d2(){return d2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},d2.apply(null,arguments)}function yTe(t,e){if(t==null)return{};var n,r,i=ETe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ETe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var STe={top:5,right:5,bottom:5,left:5},x9={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:STe,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},bTe=P.forwardRef(function(e,n){var r,i=Ti(e.categoricalChartProps,x9),{layout:a}=i,s=yTe(i,_Te),{chartName:l,defaultTooltipEventType:u,validateTooltipEventTypes:f,tooltipPayloadSearcher:h}=e,p={chartName:l,defaultTooltipEventType:u,validateTooltipEventTypes:f,tooltipPayloadSearcher:h,eventEmitter:void 0};return P.createElement(p9,{preloadedState:{options:p},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:l},P.createElement(qz,{chartData:i.data}),P.createElement(m9,{layout:a,margin:i.margin}),P.createElement(v9,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),P.createElement(xTe,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),P.createElement(g9,d2({},s,{ref:n})))});function gI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gI(Object(n),!0).forEach(function(r){TTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TTe(t,e,n){return(e=wTe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wTe(t){var e=ATe(t,"string");return typeof e=="symbol"?e:e+""}function ATe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var MTe=["item"],CTe=xI(xI({},x9),{},{layout:"centric",startAngle:0,endAngle:360}),RTe=P.forwardRef((t,e)=>{var n=Ti(t,CTe);return P.createElement(bTe,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:MTe,tooltipPayloadSearcher:_z,categoricalChartProps:n,ref:e})});const _I=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899"],OTe=({cables:t,nodes:e})=>{const n=t.length,r=e.length,i=t.reduce((g,_)=>g+(_.calculatedLength||_.length||0),0),a=t.filter(g=>g.calculatedPath&&g.calculatedPath.length>0).length,s=()=>{const g={};return t.forEach(_=>{const x=_.system||"Unknown";g[x]=(g[x]||0)+1}),Object.keys(g).map(_=>({name:_,value:g[_]}))},l=()=>{const g={};return t.forEach(_=>{const x=_.type||"Unknown";g[x]=(g[x]||0)+1}),Object.keys(g).map(_=>({name:_,count:g[_]})).sort((_,x)=>x.count-_.count).slice(0,10)},u=()=>{const g={};return t.forEach(_=>{_.fromNode&&(g[_.fromNode]=(g[_.fromNode]||0)+1),_.toNode&&(g[_.toNode]=(g[_.toNode]||0)+1)}),Object.keys(g).map(_=>({name:_,connections:g[_]})).sort((_,x)=>x.connections-_.connections).slice(0,10)},f=s(),h=l(),p=u(),m=({title:g,value:_,sub:x,icon:y,color:E})=>L.jsxs("div",{className:"bg-seastar-800 border border-seastar-700 p-4 rounded-lg shadow-lg flex items-center gap-4",children:[L.jsx("div",{className:`p-3 rounded-full bg-opacity-20 ${E.replace("text-","bg-")}`,children:L.jsx(y,{size:24,className:E})}),L.jsxs("div",{children:[L.jsx("div",{className:"text-2xl font-bold text-white",children:_}),L.jsx("div",{className:"text-xs text-gray-400 uppercase tracking-wider",children:g}),x&&L.jsx("div",{className:"text-[10px] text-gray-500 mt-1",children:x})]})]});return L.jsxs("div",{className:"flex flex-col h-full bg-seastar-900 overflow-y-auto p-4 custom-scrollbar",children:[L.jsxs("h2",{className:"text-xl font-bold text-seastar-cyan mb-4 flex items-center gap-2",children:[L.jsx(rb,{size:20})," PROJECT DASHBOARD"]}),L.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[L.jsx(m,{title:"Total Cables",value:n,icon:aH,color:"text-blue-400"}),L.jsx(m,{title:"Total Nodes",value:r,icon:kH,color:"text-green-400"}),L.jsx(m,{title:"Total Length",value:`${(i/1e3).toFixed(2)} km`,sub:`${i.toLocaleString()} m`,icon:CH,color:"text-yellow-400"}),L.jsx(m,{title:"Routed Cables",value:a,sub:`${((a/n||0)*100).toFixed(1)}%`,icon:rb,color:"text-pink-400"})]}),L.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 pb-6",children:[L.jsxs("div",{className:"glass-panel p-4 rounded-lg border border-seastar-700 h-80",children:[L.jsx("h3",{className:"text-sm font-bold text-gray-300 mb-4 uppercase",children:"Cables by System"}),L.jsx(bS,{width:"100%",height:"100%",children:L.jsxs(RTe,{children:[L.jsx(Vz,{data:f,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:f.map((g,_)=>L.jsx(xp,{fill:_I[_%_I.length]},`cell-${_}`))}),L.jsx(jS,{contentStyle:{backgroundColor:"#1e293b",borderColor:"#334155",color:"#fff"},itemStyle:{color:"#fff"}}),L.jsx(s6,{verticalAlign:"bottom",height:36})]})})]}),L.jsxs("div",{className:"glass-panel p-4 rounded-lg border border-seastar-700 h-80",children:[L.jsx("h3",{className:"text-sm font-bold text-gray-300 mb-4 uppercase",children:"Top 10 Cable Types"}),L.jsx(bS,{width:"100%",height:"100%",children:L.jsxs(vI,{data:h,layout:"vertical",margin:{left:20},children:[L.jsx(l2,{type:"number",stroke:"#94a3b8",fontSize:10}),L.jsx(u2,{dataKey:"name",type:"category",stroke:"#94a3b8",fontSize:10,width:80}),L.jsx(jS,{cursor:{fill:"rgba(255,255,255,0.05)"},contentStyle:{backgroundColor:"#1e293b",borderColor:"#334155",color:"#fff"}}),L.jsx(s2,{dataKey:"count",fill:"#3b82f6",radius:[0,4,4,0]})]})})]}),L.jsxs("div",{className:"glass-panel p-4 rounded-lg border border-seastar-700 h-80 lg:col-span-2",children:[L.jsx("h3",{className:"text-sm font-bold text-gray-300 mb-4 uppercase",children:"Top Connected Nodes (Congestion Analysis)"}),L.jsx(bS,{width:"100%",height:"100%",children:L.jsxs(vI,{data:p,children:[L.jsx(l2,{dataKey:"name",stroke:"#94a3b8",fontSize:10}),L.jsx(u2,{stroke:"#94a3b8",fontSize:10}),L.jsx(jS,{cursor:{fill:"rgba(255,255,255,0.05)"},contentStyle:{backgroundColor:"#1e293b",borderColor:"#334155",color:"#fff"}}),L.jsx(s2,{dataKey:"connections",fill:"#10b981",radius:[4,4,0,0],barSize:40})]})})]})]})]})},p2=[{id:"1",name:"A-1LS-01",type:"MY2",od:14.8,length:76,system:"CONT",fromDeck:"PR",fromNode:"PA056",fromEquip:"M-JB-A01",fromRoom:"FWD P/P RM",fromRest:3,toDeck:"SF",toNode:"PR028",toEquip:"FWD P/P RM(S)",toRoom:"FWD P/P RM(S)",toRest:12,supplyDeck:"PR",page:"43",weight:4200,remark:"WIR. DIA. Changed"},{id:"2",name:"A-1LT-01",type:"MYS2",od:14,length:21,system:"CONT",fromDeck:"PR",fromNode:"PR030F",fromEquip:"NO.1 BCS I/O",fromRoom:"FWD PIPE DUC",fromRest:4,toDeck:"SF",toNode:"PR030E",toEquip:"AMP FOR L.T",toRoom:"FWD P/P RM(S)",toRest:4,supplyDeck:"PR",page:"32",weight:6800},{id:"3",name:"N-CCTV-13",type:"CAT6",od:6.5,length:258,system:"COMM",fromDeck:"TO",fromNode:"TOSCTR",fromEquip:"CCTV RACK",fromRoom:"SERVER RM",fromRest:3,toDeck:"SF",toNode:"SF071",toEquip:"NO.13 CCTV CAM",toRoom:"OUTSIDE",toRest:31,supplyDeck:"TO",page:"12",weight:2100},{id:"4",name:"P-2GS-01",type:"TY95",od:45.5,length:154,system:"POWER",fromDeck:"TW",fromNode:"TWMPD1",fromEquip:"LV SWBD GROUP",fromRoom:"SWBD RM",fromRest:4,toDeck:"PR",toNode:"PR084",toEquip:"NO.3 BALLAST P/P",toRoom:"PUMP RM",toRest:3,supplyDeck:"TW",page:"15",weight:15580},{id:"5",name:"P-HF-03A",type:"TY150",od:54.5,length:268,system:"POWER",fromDeck:"TW",fromNode:"TW2HTR2",fromEquip:"NO.2 HV TR",fromRoom:"HV RM",fromRest:5,toDeck:"TW",toNode:"TWMPA",toEquip:"LV SWBD INCOM",toRoom:"SWBD RM",toRest:4,supplyDeck:"TW",page:"22",weight:24500},{id:"6",name:"FA-42",type:"FMY2",od:12.6,length:32,system:"FIRE",fromDeck:"TW",fromNode:"TWS59A",fromEquip:"MANUAL CALL",fromRoom:"CORRIDOR",fromRest:5,toDeck:"PR",toNode:"PR023",toEquip:"MANUAL CALL",toRoom:"CORRIDOR",toRest:2,supplyDeck:"TW",page:"55",weight:890}];for(let t=7;t<100;t++)p2.push({id:t.toString(),name:`CABLE-${1e3+t}`,type:t%3===0?"TY150":t%2===0?"MC":"D2",system:t%3===0?"POWER":"CONT",od:10+Math.floor(Math.random()*20),length:Math.floor(Math.random()*200)+20,fromDeck:["PR","TW","SF","UP"][Math.floor(Math.random()*4)],fromNode:`N${Math.floor(Math.random()*50)}`,fromEquip:`EQUIP-F-${t}`,fromRest:Math.floor(Math.random()*5),toDeck:["PR","TW","SF","UP"][Math.floor(Math.random()*4)],toNode:`N${Math.floor(Math.random()*50)}`,toEquip:`EQUIP-T-${t}`,toRest:Math.floor(Math.random()*5),supplyDeck:["PR","TW"][Math.floor(Math.random()*2)],weight:Math.floor(Math.random()*5e3)});const yI=[{name:"PA056",relation:"PR030,PR028",linkLength:1.1,deck:"PR"},{name:"PR030",relation:"PA056,PR030F,PR030E",linkLength:3.5,deck:"PR"},{name:"PR030F",relation:"PR030,PR084",linkLength:2.2,deck:"PR"},{name:"PR030E",relation:"PR030,PR028",linkLength:1.8,deck:"PR"},{name:"PR028",relation:"PA056,PR030E",linkLength:4.1,deck:"PR"},{name:"TOSCTR",relation:"TWMPD1",linkLength:5.5,deck:"TO"},{name:"SF071",relation:"TOSCTR",linkLength:8.2,deck:"SF"},{name:"TWMPD1",relation:"TOSCTR,TW2HTR2",linkLength:2.5,deck:"TW"},{name:"PR084",relation:"PR030F",linkLength:6,deck:"PR"},{name:"TW2HTR2",relation:"TWMPD1,TWMPA,TWS59A",linkLength:1.2,deck:"TW"},{name:"TWMPA",relation:"TW2HTR2",linkLength:3.3,deck:"TW"},{name:"TWS59A",relation:"TW2HTR2,PR023",linkLength:4.4,deck:"TW"},{name:"PR023",relation:"TWS59A",linkLength:2.1,deck:"PR"}],H0=[{TYPE_CODE:"5P1",TYPE_ABBR:"5P1",TYPE_SPEC:"5 X 1.5",TYPE_TYPE:"0.6/1KV 5PYC-1.5",TYPE_WEIGHT:205,TYPE_AREA:107.513,OUT_DIA:11.7,INSERT_BLOCK:"",DRUM_LEN:0,UOM:2,LOC_CLASS:1.5,BIND_GROUP:"POWER"},{TYPE_CODE:"CAT5",TYPE_ABBR:"CAT5",TYPE_SPEC:"8 x 1",TYPE_TYPE:"STP-CAT5",TYPE_WEIGHT:195,TYPE_AREA:132.732,OUT_DIA:13,INSERT_BLOCK:"",DRUM_LEN:0,UOM:8,LOC_CLASS:1,BIND_GROUP:"CATEGORI"},{TYPE_CODE:"CAT6",TYPE_ABBR:"CAT6",TYPE_SPEC:"8 x 1",TYPE_TYPE:"STP-CAT6",TYPE_WEIGHT:195,TYPE_AREA:153.938,OUT_DIA:14,INSERT_BLOCK:"",DRUM_LEN:0,UOM:8,LOC_CLASS:1,BIND_GROUP:"CATEGORI"},{TYPE_CODE:"D1",TYPE_ABBR:"D1",TYPE_SPEC:"2 x 1.5",TYPE_TYPE:"0.6/1KV DPYC-1.5",TYPE_WEIGHT:205,TYPE_AREA:107.513,OUT_DIA:11.7,INSERT_BLOCK:"",DRUM_LEN:0,UOM:2,LOC_CLASS:1.5,BIND_GROUP:"POWER"},{TYPE_CODE:"D10",TYPE_ABBR:"D10",TYPE_SPEC:"2 x 10",TYPE_TYPE:"0.6/1KV DPYC-10",TYPE_WEIGHT:490,TYPE_AREA:229.658,OUT_DIA:17.1,INSERT_BLOCK:"",DRUM_LEN:0,UOM:2,LOC_CLASS:10,BIND_GROUP:"POWER"},{TYPE_CODE:"D120",TYPE_ABBR:"D120",TYPE_SPEC:"2 x 120",TYPE_TYPE:"0.6/1KV DPYC-120",TYPE_WEIGHT:3600,TYPE_AREA:1432.009,OUT_DIA:42.7,INSERT_BLOCK:"",DRUM_LEN:0,UOM:2,LOC_CLASS:120,BIND_GROUP:"POWER"},{TYPE_CODE:"D16",TYPE_ABBR:"D16",TYPE_SPEC:"2 x 16",TYPE_TYPE:"0.6/1KV DPYC-16",TYPE_WEIGHT:660,TYPE_AREA:295.592,OUT_DIA:19.4,INSERT_BLOCK:"",DRUM_LEN:0,UOM:2,LOC_CLASS:16,BIND_GROUP:"POWER"},{TYPE_CODE:"D2",TYPE_ABBR:"D2",TYPE_SPEC:"2 x 2.5",TYPE_TYPE:"0.6/1KV DPYC-2.5",TYPE_WEIGHT:250,TYPE_AREA:128.68,OUT_DIA:12.8,INSERT_BLOCK:"",DRUM_LEN:0,UOM:2,LOC_CLASS:2.5,BIND_GROUP:"POWER"},{TYPE_CODE:"D25",TYPE_ABBR:"D25",TYPE_SPEC:"2 x 25",TYPE_TYPE:"0.6/1KV DPYC-25",TYPE_WEIGHT:945,TYPE_AREA:415.476,OUT_DIA:23,INSERT_BLOCK:"",DRUM_LEN:0,UOM:2,LOC_CLASS:25,BIND_GROUP:"POWER"},{TYPE_CODE:"D35",TYPE_ABBR:"D35",TYPE_SPEC:"2 x 35",TYPE_TYPE:"0.6/1KV DPYC-35",TYPE_WEIGHT:1200,TYPE_AREA:510.705,OUT_DIA:25.5,INSERT_BLOCK:"",DRUM_LEN:0,UOM:2,LOC_CLASS:35,BIND_GROUP:"POWER"},{TYPE_CODE:"D4",TYPE_ABBR:"D4",TYPE_SPEC:"2 x 4",TYPE_TYPE:"0.6/1KV DPYC-4",TYPE_WEIGHT:300,TYPE_AREA:151.747,OUT_DIA:13.9,INSERT_BLOCK:"",DRUM_LEN:0,UOM:2,LOC_CLASS:4,BIND_GROUP:"POWER"},{TYPE_CODE:"D50",TYPE_ABBR:"D50",TYPE_SPEC:"2 x 50",TYPE_TYPE:"0.6/1KV DPYC-50",TYPE_WEIGHT:1580,TYPE_AREA:678.867,OUT_DIA:29.4,INSERT_BLOCK:"",DRUM_LEN:0,UOM:2,LOC_CLASS:50,BIND_GROUP:"POWER"},{TYPE_CODE:"D6",TYPE_ABBR:"D6",TYPE_SPEC:"2 x 6",TYPE_TYPE:"0.6/1KV DPYC-6",TYPE_WEIGHT:370,TYPE_AREA:181.458,OUT_DIA:15.2,INSERT_BLOCK:"",DRUM_LEN:0,UOM:2,LOC_CLASS:6,BIND_GROUP:"POWER"},{TYPE_CODE:"D70",TYPE_ABBR:"D70",TYPE_SPEC:"2 x 70",TYPE_TYPE:"0.6/1KV DPYC-70",TYPE_WEIGHT:2210,TYPE_AREA:891.969,OUT_DIA:33.7,INSERT_BLOCK:"",DRUM_LEN:0,UOM:2,LOC_CLASS:70,BIND_GROUP:"POWER"},{TYPE_CODE:"D95",TYPE_ABBR:"D95",TYPE_SPEC:"2 x 95",TYPE_TYPE:"0.6/1KV DPYC-95",TYPE_WEIGHT:2960,TYPE_AREA:1200.725,OUT_DIA:39.1,INSERT_BLOCK:"",DRUM_LEN:0,UOM:2,LOC_CLASS:95,BIND_GROUP:"POWER"},{TYPE_CODE:"DS1",TYPE_ABBR:"DS1",TYPE_SPEC:"2 x 1.5(S)",TYPE_TYPE:"0.6/1KV DPYCS-1.5",TYPE_WEIGHT:215,TYPE_AREA:111.22,OUT_DIA:11.9,INSERT_BLOCK:"",DRUM_LEN:0,UOM:2,LOC_CLASS:1.5,BIND_GROUP:"POWER"},{TYPE_CODE:"DS10",TYPE_ABBR:"DS10",TYPE_SPEC:"2 x 10(S)",TYPE_TYPE:"0.6/1KV DPYCS-10",TYPE_WEIGHT:580,TYPE_AREA:235.062,OUT_DIA:17.3,INSERT_BLOCK:"",DRUM_LEN:0,UOM:2,LOC_CLASS:10,BIND_GROUP:"POWER"},{TYPE_CODE:"DS16",TYPE_ABBR:"DS16",TYPE_SPEC:"2 x 16(S)",TYPE_TYPE:"0.6/1KV DPYCS-16",TYPE_WEIGHT:760,TYPE_AREA:301.719,OUT_DIA:19.6,INSERT_BLOCK:"",DRUM_LEN:0,UOM:2,LOC_CLASS:16,BIND_GROUP:"POWER"},{TYPE_CODE:"DS2",TYPE_ABBR:"DS2",TYPE_SPEC:"2X12.5(S)",TYPE_TYPE:"0.6/1KV DPYCS-2.5",TYPE_WEIGHT:260,TYPE_AREA:132.732,OUT_DIA:13,INSERT_BLOCK:"",DRUM_LEN:0,UOM:2,LOC_CLASS:2.5,BIND_GROUP:"POWER"},{TYPE_CODE:"DS25",TYPE_ABBR:"DS25",TYPE_SPEC:"2 x 25(S)",TYPE_TYPE:"0.6/1KV DPYCS-25",TYPE_WEIGHT:1080,TYPE_AREA:422.733,OUT_DIA:23.2,INSERT_BLOCK:"",DRUM_LEN:0,UOM:2,LOC_CLASS:25,BIND_GROUP:"aa"},{TYPE_CODE:"DS35",TYPE_ABBR:"DS35",TYPE_SPEC:"2 x 35(S)",TYPE_TYPE:"0.6/1KV DPYCS-35",TYPE_WEIGHT:1350,TYPE_AREA:518.748,OUT_DIA:25.7,INSERT_BLOCK:"",DRUM_LEN:0,UOM:2,LOC_CLASS:35,BIND_GROUP:"POWER"},{TYPE_CODE:"DS4",TYPE_ABBR:"DS4",TYPE_SPEC:"2 x 4(S)",TYPE_TYPE:"0.6/1KV DPYCS-4",TYPE_WEIGHT:310,TYPE_AREA:156.145,OUT_DIA:14.1,INSERT_BLOCK:"",DRUM_LEN:0,UOM:2,LOC_CLASS:4,BIND_GROUP:"POWER"},{TYPE_CODE:"DS50",TYPE_ABBR:"DS50",TYPE_SPEC:"2 x 50(S)",TYPE_TYPE:"0.6/1KV DPYCS-50",TYPE_WEIGHT:1730,TYPE_AREA:688.135,OUT_DIA:29.6,INSERT_BLOCK:"",DRUM_LEN:0,UOM:2,LOC_CLASS:50,BIND_GROUP:"POWER"},{TYPE_CODE:"DS6",TYPE_ABBR:"DS6",TYPE_SPEC:"2 x 6(S)",TYPE_TYPE:"0.6/1KV DPYCS-6",TYPE_WEIGHT:450,TYPE_AREA:186.265,OUT_DIA:15.4,INSERT_BLOCK:"",DRUM_LEN:0,UOM:2,LOC_CLASS:6,BIND_GROUP:"POWER"},{TYPE_CODE:"DS70",TYPE_ABBR:"DS70",TYPE_SPEC:"2 x 70(S)",TYPE_TYPE:"0.6/1KV DPYCS-70",TYPE_WEIGHT:2440,TYPE_AREA:902.587,OUT_DIA:33.9,INSERT_BLOCK:"",DRUM_LEN:0,UOM:2,LOC_CLASS:70,BIND_GROUP:"POWER"},{TYPE_CODE:"DS95",TYPE_ABBR:"DS95",TYPE_SPEC:"2 x 95(S)",TYPE_TYPE:"0.6/1KV DPYCS-95",TYPE_WEIGHT:3170,TYPE_AREA:1213.04,OUT_DIA:39.3,INSERT_BLOCK:"",DRUM_LEN:0,UOM:2,LOC_CLASS:95,BIND_GROUP:"POWER"},{TYPE_CODE:"DY1",TYPE_ABBR:"DY1",TYPE_SPEC:"2 x 1.5",TYPE_TYPE:"0.6/1KV DPYCY-1.5",TYPE_WEIGHT:260,TYPE_AREA:147.411,OUT_DIA:13.7,INSERT_BLOCK:"",DRUM_LEN:0,UOM:2,LOC_CLASS:1.5,BIND_GROUP:"POWER"},{TYPE_CODE:"DY10",TYPE_ABBR:"DY10",TYPE_SPEC:"2 x 10",TYPE_TYPE:"0.6/1KV DPYCY-10",TYPE_WEIGHT:575,TYPE_AREA:292.553,OUT_DIA:19.3,INSERT_BLOCK:"",DRUM_LEN:0,UOM:2,LOC_CLASS:10,BIND_GROUP:"POWER"},{TYPE_CODE:"DY120",TYPE_ABBR:"DY120",TYPE_SPEC:"2 x 120",TYPE_TYPE:"0.6/1KV DPYCY-120",TYPE_WEIGHT:3970,TYPE_AREA:1698.227,OUT_DIA:46.5,INSERT_BLOCK:"",DRUM_LEN:0,UOM:2,LOC_CLASS:120,BIND_GROUP:"POWER"},{TYPE_CODE:"DY16",TYPE_ABBR:"DY16",TYPE_SPEC:"2 x 16",TYPE_TYPE:"0.6/1KV DPYCY-16",TYPE_WEIGHT:765,TYPE_AREA:373.253,OUT_DIA:21.8,INSERT_BLOCK:"",DRUM_LEN:0,UOM:2,LOC_CLASS:16,BIND_GROUP:"POWER"},{TYPE_CODE:"DY2",TYPE_ABBR:"DY2",TYPE_SPEC:"2 x 2.5",TYPE_TYPE:"0.6/1KV DPYCY-2.5",TYPE_WEIGHT:305,TYPE_AREA:172.034,OUT_DIA:14.8,INSERT_BLOCK:"",DRUM_LEN:0,UOM:2,LOC_CLASS:2.5,BIND_GROUP:"POWER"},{TYPE_CODE:"DY25",TYPE_ABBR:"DY25",TYPE_SPEC:"2 x 25",TYPE_TYPE:"0.6/1KV DPYCY-25",TYPE_WEIGHT:1080,TYPE_AREA:514.719,OUT_DIA:25.6,INSERT_BLOCK:"",DRUM_LEN:0,UOM:2,LOC_CLASS:25,BIND_GROUP:"POWER"},{TYPE_CODE:"DY35",TYPE_ABBR:"DY35",TYPE_SPEC:"2 x 35",TYPE_TYPE:"0.6/1KV DPYCY-35",TYPE_WEIGHT:1350,TYPE_AREA:620.158,OUT_DIA:28.1,INSERT_BLOCK:"",DRUM_LEN:0,UOM:2,LOC_CLASS:35,BIND_GROUP:"POWER"},{TYPE_CODE:"DY4",TYPE_ABBR:"DY4",TYPE_SPEC:"2 x 4",TYPE_TYPE:"0.6/1KV DPYCY-4",TYPE_WEIGHT:365,TYPE_AREA:198.556,OUT_DIA:15.9,INSERT_BLOCK:"",DRUM_LEN:0,UOM:2,LOC_CLASS:4,BIND_GROUP:"POWER"},{TYPE_CODE:"DY50",TYPE_ABBR:"DY50",TYPE_SPEC:"2 x 50",TYPE_TYPE:"0.6/1KV DPYCY-50",TYPE_WEIGHT:1770,TYPE_AREA:814.332,OUT_DIA:32.2,INSERT_BLOCK:"",DRUM_LEN:0,UOM:2,LOC_CLASS:50,BIND_GROUP:"POWER"},{TYPE_CODE:"DY6",TYPE_ABBR:"DY6",TYPE_SPEC:"2 x 6",TYPE_TYPE:"0.6/1KV DPYCY-6",TYPE_WEIGHT:445,TYPE_AREA:237.787,OUT_DIA:17.4,INSERT_BLOCK:"",DRUM_LEN:0,UOM:2,LOC_CLASS:6,BIND_GROUP:"POWER"},{TYPE_CODE:"DY70",TYPE_ABBR:"DY70",TYPE_SPEC:"2 x 70",TYPE_TYPE:"0.6/1KV DPYCY-70",TYPE_WEIGHT:2440,TYPE_AREA:1057.845,OUT_DIA:36.7,INSERT_BLOCK:"",DRUM_LEN:0,UOM:2,LOC_CLASS:70,BIND_GROUP:"POWER"},{TYPE_CODE:"DY95",TYPE_ABBR:"DY95",TYPE_SPEC:"2 x 95",TYPE_TYPE:"0.6/1KV DPYCY-95",TYPE_WEIGHT:3280,TYPE_AREA:1432.009,OUT_DIA:42.7,INSERT_BLOCK:"",DRUM_LEN:0,UOM:2,LOC_CLASS:95,BIND_GROUP:"POWER"},{TYPE_CODE:"FD1",TYPE_ABBR:"FD1",TYPE_SPEC:"2 x 1.5(F)",TYPE_TYPE:"0.6/1KV FR-DPYC-1.5",TYPE_WEIGHT:270,TYPE_AREA:134.782,OUT_DIA:13.1,INSERT_BLOCK:"",DRUM_LEN:1e3,UOM:2,LOC_CLASS:1.5,BIND_GROUP:"POWER"},{TYPE_CODE:"FD10",TYPE_ABBR:"FD10",TYPE_SPEC:"2 x 10(F)",TYPE_TYPE:"0.6/1KV FR-DPYC-10",TYPE_WEIGHT:575,TYPE_AREA:274.646,OUT_DIA:18.7,INSERT_BLOCK:"",DRUM_LEN:0,UOM:2,LOC_CLASS:10,BIND_GROUP:"POWER"},{TYPE_CODE:"FD2",TYPE_ABBR:"FD2",TYPE_SPEC:"2 x 2.5(F)",TYPE_TYPE:"0.6/1KV FR-DPYC-2.5",TYPE_WEIGHT:320,TYPE_AREA:156.145,OUT_DIA:14.1,INSERT_BLOCK:"",DRUM_LEN:0,UOM:2,LOC_CLASS:2.5,BIND_GROUP:"POWER"},{TYPE_CODE:"FD4",TYPE_ABBR:"FD4",TYPE_SPEC:"2 x 4(F)",TYPE_TYPE:"0.6/1KV FR-DPYC-4",TYPE_WEIGHT:375,TYPE_AREA:186.265,OUT_DIA:15.4,INSERT_BLOCK:"",DRUM_LEN:0,UOM:2,LOC_CLASS:4,BIND_GROUP:"POWER"},{TYPE_CODE:"FD6",TYPE_ABBR:"FD6",TYPE_SPEC:"2 x 6(F)",TYPE_TYPE:"0.6/1KV FR-DPYC-6",TYPE_WEIGHT:440,TYPE_AREA:216.424,OUT_DIA:16.6,INSERT_BLOCK:"",DRUM_LEN:0,UOM:2,LOC_CLASS:6,BIND_GROUP:"POWER"},{TYPE_CODE:"FT1",TYPE_ABBR:"FT1",TYPE_SPEC:"3 x 1.5(F)",TYPE_TYPE:"0.6/1KV FR-TPYC-1.5",TYPE_WEIGHT:270,TYPE_AREA:153.938,OUT_DIA:14,INSERT_BLOCK:"",DRUM_LEN:0,UOM:3,LOC_CLASS:1.5,BIND_GROUP:"POWER"},{TYPE_CODE:"FT10",TYPE_ABBR:"FT10",TYPE_SPEC:"3 x 10(F)",TYPE_TYPE:"0.6/1KV FR-TPYC-10",TYPE_WEIGHT:575,TYPE_AREA:314.159,OUT_DIA:20,INSERT_BLOCK:"",DRUM_LEN:0,UOM:3,LOC_CLASS:10,BIND_GROUP:"POWER"},{TYPE_CODE:"FT16",TYPE_ABBR:"FT16",TYPE_SPEC:"3 x 16(F)",TYPE_TYPE:"0.6/1KV FR-TPYC-16",TYPE_WEIGHT:440,TYPE_AREA:397.608,OUT_DIA:22.5,INSERT_BLOCK:"",DRUM_LEN:0,UOM:3,LOC_CLASS:16,BIND_GROUP:"POWER"},{TYPE_CODE:"FT2",TYPE_ABBR:"FT2",TYPE_SPEC:"3 x 2.5(F)",TYPE_TYPE:"0.6/1KV FR-TPYC-2.5",TYPE_WEIGHT:375,TYPE_AREA:174.366,OUT_DIA:14.9,INSERT_BLOCK:"",DRUM_LEN:0,UOM:3,LOC_CLASS:2.5,BIND_GROUP:"POWER"},{TYPE_CODE:"MC",TYPE_ABBR:"MC",TYPE_SPEC:"x",TYPE_TYPE:"MC",TYPE_WEIGHT:0,TYPE_AREA:0,OUT_DIA:15,INSERT_BLOCK:"",DRUM_LEN:0,UOM:0,LOC_CLASS:0,BIND_GROUP:""},{TYPE_CODE:"MYS2",TYPE_ABBR:"MYS2",TYPE_SPEC:"2 x 1(S)",TYPE_TYPE:"MPYCYS-2",TYPE_WEIGHT:200,TYPE_AREA:113.097,OUT_DIA:12,INSERT_BLOCK:"",DRUM_LEN:0,UOM:2,LOC_CLASS:1,BIND_GROUP:"CONT"},{TYPE_CODE:"MYS4",TYPE_ABBR:"MYS4",TYPE_SPEC:"4 x 1(S)",TYPE_TYPE:"MPYCYS-4",TYPE_WEIGHT:260,TYPE_AREA:141.026,OUT_DIA:13.4,INSERT_BLOCK:"",DRUM_LEN:0,UOM:4,LOC_CLASS:1,BIND_GROUP:"CONT"},{TYPE_CODE:"S1",TYPE_ABBR:"S1",TYPE_SPEC:"1 x 1.5",TYPE_TYPE:"SPYC-1.5",TYPE_WEIGHT:135,TYPE_AREA:40.715,OUT_DIA:7.2,INSERT_BLOCK:"",DRUM_LEN:0,UOM:1,LOC_CLASS:1.5,BIND_GROUP:"POWER"},{TYPE_CODE:"S2",TYPE_ABBR:"S2",TYPE_SPEC:"1 x 2.5",TYPE_TYPE:"SPYC-2.5",TYPE_WEIGHT:150,TYPE_AREA:45.365,OUT_DIA:7.6,INSERT_BLOCK:"",DRUM_LEN:0,UOM:1,LOC_CLASS:2.5,BIND_GROUP:"POWER"},{TYPE_CODE:"T1",TYPE_ABBR:"T1",TYPE_SPEC:"3 x 1.5",TYPE_TYPE:"TPYC-1.5",TYPE_WEIGHT:245,TYPE_AREA:122.719,OUT_DIA:12.5,INSERT_BLOCK:"",DRUM_LEN:0,UOM:3,LOC_CLASS:1.5,BIND_GROUP:"POWER"},{TYPE_CODE:"T10",TYPE_ABBR:"T10",TYPE_SPEC:"3 x 10",TYPE_TYPE:"TPYC-10",TYPE_WEIGHT:625,TYPE_AREA:263.022,OUT_DIA:18.3,INSERT_BLOCK:"",DRUM_LEN:0,UOM:3,LOC_CLASS:10,BIND_GROUP:"POWER"},{TYPE_CODE:"T2",TYPE_ABBR:"T2",TYPE_SPEC:"3 x 2.5",TYPE_TYPE:"TPYC-2.5",TYPE_WEIGHT:295,TYPE_AREA:143.139,OUT_DIA:13.5,INSERT_BLOCK:"",DRUM_LEN:0,UOM:3,LOC_CLASS:2.5,BIND_GROUP:"POWER"},{TYPE_CODE:"T4",TYPE_ABBR:"T4",TYPE_SPEC:"3 x 4",TYPE_TYPE:"TPYC-4",TYPE_WEIGHT:365,TYPE_AREA:169.717,OUT_DIA:14.7,INSERT_BLOCK:"",DRUM_LEN:0,UOM:3,LOC_CLASS:4,BIND_GROUP:"POWER"},{TYPE_CODE:"TTY2",TYPE_ABBR:"TTY2",TYPE_SPEC:"2Pair x 0.75",TYPE_TYPE:"TTYCY-2",TYPE_WEIGHT:300,TYPE_AREA:183.854,OUT_DIA:15.3,INSERT_BLOCK:"",DRUM_LEN:0,UOM:4,LOC_CLASS:.75,BIND_GROUP:"CONT"},{TYPE_CODE:"TY1",TYPE_ABBR:"TY1",TYPE_SPEC:"3 x 1.5",TYPE_TYPE:"TPYCY-1.5",TYPE_WEIGHT:300,TYPE_AREA:165.13,OUT_DIA:14.5,INSERT_BLOCK:"",DRUM_LEN:0,UOM:3,LOC_CLASS:1,BIND_GROUP:"POWER"},{TYPE_CODE:"TY10",TYPE_ABBR:"TY10",TYPE_SPEC:"3 x 10",TYPE_TYPE:"TPYCY-10",TYPE_WEIGHT:725,TYPE_AREA:336.535,OUT_DIA:20.7,INSERT_BLOCK:"",DRUM_LEN:0,UOM:3,LOC_CLASS:10,BIND_GROUP:"POWER"},{TYPE_CODE:"TY16",TYPE_ABBR:"TY16",TYPE_SPEC:"3 x 16",TYPE_TYPE:"TPYCY-16",TYPE_WEIGHT:970,TYPE_AREA:422.733,OUT_DIA:23.2,INSERT_BLOCK:"",DRUM_LEN:0,UOM:3,LOC_CLASS:16,BIND_GROUP:"POWER"},{TYPE_CODE:"TY2",TYPE_ABBR:"TY2",TYPE_SPEC:"3 x 2.5",TYPE_TYPE:"TPYCY-2",TYPE_WEIGHT:355,TYPE_AREA:188.692,OUT_DIA:15.5,INSERT_BLOCK:"",DRUM_LEN:0,UOM:3,LOC_CLASS:2.5,BIND_GROUP:"POWER"},{TYPE_CODE:"TY4",TYPE_ABBR:"TY4",TYPE_SPEC:"3 x 4",TYPE_TYPE:"TPYCY-4",TYPE_WEIGHT:440,TYPE_AREA:224.318,OUT_DIA:16.9,INSERT_BLOCK:"",DRUM_LEN:0,UOM:3,LOC_CLASS:4,BIND_GROUP:"POWER"},{TYPE_CODE:"TY95",TYPE_ABBR:"TY95",TYPE_SPEC:"3 x 95",TYPE_TYPE:"TPYCY-95",TYPE_WEIGHT:4310,TYPE_AREA:1625.971,OUT_DIA:45.5,INSERT_BLOCK:"",DRUM_LEN:0,UOM:3,LOC_CLASS:95,BIND_GROUP:"POWER"},{TYPE_CODE:"Y/G6",TYPE_ABBR:"Y/G6",TYPE_SPEC:"1 x 6",TYPE_TYPE:"1 x 6",TYPE_WEIGHT:195,TYPE_AREA:153.938,OUT_DIA:14,INSERT_BLOCK:"",DRUM_LEN:0,UOM:1,LOC_CLASS:1,BIND_GROUP:""}];class PTe{constructor(e){this.graph={},this.buildGraph(e)}buildGraph(e){this.graph={},e.forEach(n=>{this.graph[n.name]||(this.graph[n.name]={}),n.relation&&n.relation.split(",").map(i=>i.trim()).filter(i=>i).forEach(i=>{this.graph[n.name][i]=n.linkLength||1,this.graph[i]||(this.graph[i]={}),this.graph[i][n.name]=n.linkLength||1})})}findRoute(e,n,r){const i=r?r.split(",").map(a=>a.trim()).filter(a=>a):[];return i.length>0?this.calculatePathWithWaypoints(e,n,i):this.dijkstra(e,n)}calculatePathWithWaypoints(e,n,r){const i=[e];let a=0,s=e;for(const u of r){const f=this.dijkstra(s,u);if(f.distance<0)return{path:[],distance:-1,error:`Cannot reach waypoint ${u} from ${s}`};i.push(...f.path.slice(1)),a+=f.distance,s=u}const l=this.dijkstra(s,n);return l.distance<0?{path:[],distance:-1,error:`Cannot reach destination ${n} from last waypoint ${s}`}:(i.push(...l.path.slice(1)),a+=l.distance,{path:i,distance:a})}dijkstra(e,n){if(!this.graph[e]||!this.graph[n])return{path:[],distance:-1,error:"Start or End node not found in graph"};if(e===n)return{path:[e],distance:0};const r={},i={},a=new DTe;r[e]=0,a.push(e,0);const s=new Set;for(;!a.isEmpty();){const{node:p,dist:m}=a.pop();if(p===n)break;if(s.has(p)||(s.add(p),m>(r[p]??1/0)))continue;const g=this.graph[p];for(const _ in g){const x=r[_]??1/0,y=m+g[_];y<x&&(r[_]=y,i[_]=p,a.push(_,y))}}if(r[n]===void 0||r[n]===1/0)return{path:[],distance:-1,error:"Target unreachable"};const l=[];let u=n,f=0;const h=1e4;for(;u&&f<h;){if(l.unshift(u),u=i[u]||null,u===e){l.unshift(u);break}f++}return{path:l,distance:r[n]}}}class DTe{constructor(){this.heap=[]}push(e,n){this.heap.push({node:e,dist:n}),this.bubbleUp(this.heap.length-1)}pop(){if(this.heap.length===0)return;const e=this.heap[0],n=this.heap.pop();return this.heap.length>0&&n&&(this.heap[0]=n,this.bubbleDown(0)),e}isEmpty(){return this.heap.length===0}bubbleUp(e){let n=e;for(;n>0;){const r=Math.floor((n-1)/2);if(this.heap[n].dist>=this.heap[r].dist)break;[this.heap[n],this.heap[r]]=[this.heap[r],this.heap[n]],n=r}}bubbleDown(e){let n=e;const r=this.heap.length;for(;;){let i=2*n+1,a=2*n+2,s=n;if(i<r&&this.heap[i].dist<this.heap[s].dist&&(s=i),a<r&&this.heap[a].dist<this.heap[s].dist&&(s=a),s===n)break;[this.heap[n],this.heap[s]]=[this.heap[s],this.heap[n]],n=s}}}const Nv={TO:4,SF:3,TW:2,PR:1,UP:0},NTe=[{id:"S1001_35K_FD",name:"S1001 - 35K Product Carrier"},{id:"S1002_LNG",name:"S1002 - 174K LNG Carrier"},{id:"H5500_CONT",name:"H5500 - 16K TEU Container"},{id:"K2024_FERRY",name:"K2024 - Passenger Ferry"}],kTe=[{id:"file",title:"File",items:[{label:"Open Project",action:"Open Project"},{label:"Save Project",action:"Save Project",restricted:!0},{label:"Export",action:"Export"},{label:"Exit",action:"Exit"}]},{id:"master",title:"Master",items:[{label:"Master Data",action:"Master Data",disabled:!0},{label:"DB Update",action:"DB Update",disabled:!0},{label:"Test",action:"Test",disabled:!0}]},{id:"cabletype",title:"CableType",items:[{label:"Cable Type",action:"Cable Type"},{label:"Tray Spec",action:"Tray Spec",disabled:!0},{label:"Cable Binding",action:"Cable Binding",disabled:!0}]},{id:"user",title:"User",items:[{label:"User Mgmt",action:"User Mgmt",disabled:!0},{label:"Switch User Role",action:"Switch Role"},{label:"Log",action:"Log",disabled:!0}]},{id:"ship",title:"Ship",items:[{label:"Ship Select",action:"Ship Select",restricted:!0},{label:"Ship Definition",action:"Ship Definition",disabled:!0},{label:"Deck Code",action:"Deck Code"},{label:"Equip Code",action:"Equip Code",disabled:!0}]},{id:"schedule",title:"Schedule",items:[{label:"Schedule",action:"Schedule"},{label:"CableGroup",action:"CableGroup",disabled:!0}]},{id:"report",title:"Report",items:[{label:"Cable List",action:"Cable List"},{label:"Node List",action:"Node List"},{label:"Cable Requirement",action:"Cable Requirement"},{label:"Tray Analysis",action:"Tray Analysis"},{label:"Cable Drum Inquiry",action:"Cable Drum Inquiry"},{label:"Terminal Qty",action:"Terminal Qty",disabled:!0}]},{id:"data",title:"Data Transfer",items:[{label:"Import",action:"Import",disabled:!0},{label:"Export",action:"Export"}]},{id:"option",title:"Option",items:[{label:"Settings",action:"Settings",disabled:!0},{label:"3D Config",action:"3D Config"}]}],LTe=()=>{const[t,e]=P.useState(cn.DASHBOARD),[n,r]=P.useState(p2),[i,a]=P.useState(yI),[s,l]=P.useState(H0),[u,f]=P.useState(Nv),[h,p]=P.useState([]),[m,g]=P.useState(""),[_,x]=P.useState([]),[y,E]=P.useState(null),[w,b]=P.useState(null),[M,A]=P.useState(!1),[C,R]=P.useState(!1),[F,O]=P.useState("S1001_35K_FD"),[k,D]=P.useState(!1),[U,Z]=P.useState("ADMIN"),se=P.useRef(null);P.useEffect(()=>{oe(F)},[F]);const oe=async ae=>{D(!0);const Q=localStorage.getItem(`SEASTAR_DATA_${ae}`);if(Q)try{const de=JSON.parse(Q);r(de.cables||[]),a(de.nodes||[]),l(de.cableTypes&&de.cableTypes.length>0?de.cableTypes:H0),f(de.deckHeights||Nv),D(!1);return}catch(de){console.error("Failed to load saved data",de)}if(ae==="S1001_35K_FD")try{console.log(" Auto-loading 35K data from Excel files...");const de=await fetch("/data/35k_node.xlsx");if(de.ok){const j=await de.blob(),We=new File([j],"35k_node.xlsx"),Le=await js.importFromExcel(We),Je=js.mapRawToNode(Le);a(Je),console.log(` Loaded ${Je.length} nodes with POINT coordinates`)}const Ae=await fetch("/data/35k_sch.xlsx");if(Ae.ok){const j=await Ae.blob(),We=new File([j],"35k_sch.xlsx"),Le=await js.importFromExcel(We),Je=js.mapRawToCable(Le);r(Je),console.log(` Loaded ${Je.length} cables`)}l(H0),f(Nv)}catch(de){console.error("Auto-load failed, using mock data:",de),r(p2),a(yI),l(H0)}else r([]),a([]),l(H0);f(Nv),D(!1)},G=()=>{if(U!=="ADMIN"){alert("Access Denied: You do not have permission to save data.");return}const ae={cables:n,nodes:i,cableTypes:s,deckHeights:u};localStorage.setItem(`SEASTAR_DATA_${F}`,JSON.stringify(ae)),alert(`Project saved for Ship ${F} successfully.`)};P.useEffect(()=>{const ae=new PTe(i);E(ae)},[i]);const W=ae=>{a(ae)},ee=ae=>{if(!y){alert("Routing Engine not ready. Please load Node data.");return}const Q=y.findRoute(ae.fromNode,ae.toNode,ae.checkNode);if(Q.path.length>0){x(Q.path);const de=n.map(Ae=>Ae.id===ae.id?{...Ae,calculatedPath:Q.path,calculatedLength:Q.distance,path:Q.path.join(",")}:Ae);r(de)}else alert(`Routing failed: ${Q.error||"No connection found between nodes."}`)},Y=ae=>{const Q=ae||n;if(!y){ae||alert("Routing Engine not ready.");return}D(!0),setTimeout(()=>{let de=0;const Ae=Q.map(We=>{if(We.fromNode&&We.toNode){const Le=y.findRoute(We.fromNode,We.toNode,We.checkNode);if(Le.path.length>0){de++;const Je=parseFloat(String(We.fromRest||0))||0,Xe=parseFloat(String(We.toRest||0))||0,Ge=Le.distance+Je+Xe;return{...We,calculatedPath:Le.path,calculatedLength:Ge,length:Ge,path:Le.path.join(",")}}}return We});r(Ae);const j={cables:Ae,nodes:i,cableTypes:s,deckHeights:u};localStorage.setItem(`SEASTAR_DATA_${F}`,JSON.stringify(j)),D(!1),(!ae||de>0)&&console.log(`Auto-routed ${de} cables.`)},100)},pe=ae=>{if(!y){alert("Routing Engine not ready.");return}if(ae.length===0){alert("No cables selected.");return}D(!0),setTimeout(()=>{let Q=0;const de=new Set(ae.map(j=>j.id)),Ae=n.map(j=>{if(de.has(j.id)&&j.fromNode&&j.toNode){const We=y.findRoute(j.fromNode,j.toNode,j.checkNode);if(We.path.length>0){Q++;const Le=parseFloat(String(j.fromRest||0))||0,Je=parseFloat(String(j.toRest||0))||0,Xe=We.distance+Le+Je;return{...j,calculatedPath:We.path,calculatedLength:Xe,length:Xe,path:We.path.join(",")}}}return j});r(Ae),D(!1),alert(`Selected Route Generation Complete. ${Q} of ${ae.length} routes updated.`)},100)},z=ae=>{if(!ae.calculatedPath&&ae.path){const Q=ae.path.split(",").map(de=>de.trim());x(Q)}else if(ae.calculatedPath)x(ae.calculatedPath);else if(y){const Q=y.findRoute(ae.fromNode,ae.toNode,ae.checkNode);x(Q.path)}e(cn.THREE_D)},I=(ae,Q)=>{f(de=>({...de,[ae]:parseFloat(Q)||0}))},V=()=>{se.current&&se.current.click()},X=async ae=>{var de;const Q=(de=ae.target.files)==null?void 0:de[0];Q&&(D(!0),setTimeout(async()=>{try{const Ae=await js.importFromExcel(Q),j=Object.keys(Ae[0]||{}),We=js.detectFileType(j);if(We==="CABLE"){const Le=js.mapRawToCable(Ae),Je=new Map(n.map(rt=>[rt.name,rt]));let Xe=0,Ge=0;const ce=Le.map(rt=>{const ie=Je.get(rt.name);return ie?ie.fromNode!==rt.fromNode||ie.toNode!==rt.toNode||ie.checkNode!==rt.checkNode?(Xe++,{...rt,calculatedPath:void 0,calculatedLength:void 0,length:0,path:""}):(Ge++,{...rt,calculatedPath:ie.calculatedPath,calculatedLength:ie.calculatedLength,length:ie.length||rt.length,path:ie.path||rt.path}):rt});r(ce);const Ft={cables:ce,nodes:i,cableTypes:s,deckHeights:u};localStorage.setItem(`SEASTAR_DATA_${F}`,JSON.stringify(Ft)),e(cn.SCHEDULE),y&&i.length>0?Y(ce):console.warn("Auto-routing skipped: Routing Engine not ready or no nodes.");let Ct=`Imported ${ce.length} Cables.`;Xe>0&&(Ct+=`
 ${Xe} cable(s) had node changes - route data RESET!`),Ge>0&&(Ct+=`
 ${Ge} cable(s) route data preserved.`);const Nt=ce.filter(rt=>!rt.length||rt.length===0).length;Nt>0&&(Ct+=`
 ${Nt} cable(s) have NO length calculated!`),alert(Ct)}else if(We==="NODE"){const Le=js.mapRawToNode(Ae);a(Le);const Je={cables:n,nodes:Le,cableTypes:s,deckHeights:u};localStorage.setItem(`SEASTAR_DATA_${F}`,JSON.stringify(Je)),e(cn.REPORT_NODE),alert(`Imported ${Le.length} Nodes successfully. Graph Updated and saved to Ship DB.`)}else if(We==="TYPE"){l(Ae);const Le={cables:n,nodes:i,cableTypes:Ae,deckHeights:u};localStorage.setItem(`SEASTAR_DATA_${F}`,JSON.stringify(Le)),e(cn.CABLE_TYPE),alert(`Imported ${Ae.length} Cable Types and saved.`)}else p(Ae),g(`Data: ${Q.name}`),e(cn.GENERIC_GRID),alert(`Imported ${Ae.length} records as Generic Data.`)}catch(Ae){console.error(Ae),alert("Failed to import Excel file. Please check the file format.")}finally{D(!1),se.current&&(se.current.value="")}},500))},te=()=>{D(!0),setTimeout(()=>{try{let ae=[],Q=`${F}_Export`;switch(t){case cn.SCHEDULE:ae=n,Q+="_Schedule";break;case cn.CABLE_TYPE:ae=s,Q+="_CableTypes";break;case cn.GENERIC_GRID:ae=h,Q+=`_${m.replace(/\s/g,"")}`;break;case cn.REPORT_NODE:ae=i,Q+="_Nodes";break;case cn.REPORT_BOM:ae=n,Q+="_RequirementCalculation";break;default:ae=n,Q+="_Data"}if(ae.length===0){alert("No data to export in current view.");return}js.exportToExcel(ae,Q)}catch(ae){console.error(ae),alert("Export Failed")}finally{D(!1)}},500)},J=ae=>{switch(b(null),ae){case"Open Project":V();break;case"Save Project":G();break;case"Export":te();break;case"Exit":confirm("Reload Application?")&&window.location.reload();break;case"Switch Role":const Q=U==="ADMIN"?"GUEST":"ADMIN";Z(Q),alert(`Switched to ${Q} role.`);break;case"Cable Type":e(cn.CABLE_TYPE);break;case"Ship Select":U==="ADMIN"?R(!0):alert("Access Denied.");break;case"Deck Code":A(!0);break;case"Schedule":e(cn.SCHEDULE);break;case"Node List":e(cn.REPORT_NODE);break;case"Cable Requirement":e(cn.REPORT_BOM);break;case"Tray Analysis":e(cn.TRAY_ANALYSIS);break;case"Cable Drum Inquiry":const de=n.reduce((Ae,j)=>{const We=`${j.type}-DRUM-AUTO`;return Ae[We]||(Ae[We]={DrumNo:We,CableType:j.type,TotalLen:0,Count:0}),Ae[We].TotalLen+=j.length,Ae[We].Count+=1,Ae},{});g("Cable Drum Schedule"),p(Object.values(de)),e(cn.GENERIC_GRID);break;case"Cable List":e(cn.SCHEDULE);break;case"3D Config":e(cn.THREE_D);break;default:console.log("Action not implemented:",ae)}};P.useEffect(()=>{const ae=()=>b(null);return window.addEventListener("click",ae),()=>window.removeEventListener("click",ae)},[]);const fe=({group:ae})=>L.jsxs("div",{className:"relative",onClick:Q=>{Q.stopPropagation(),b(w===ae.id?null:ae.id)},children:[L.jsxs("button",{className:`px-3 py-1 text-sm hover:bg-seastar-700 rounded flex items-center gap-1 ${w===ae.id?"bg-seastar-700 text-white":"text-gray-300"}`,children:[ae.title," ",L.jsx(m2,{size:10})]}),w===ae.id&&L.jsx("div",{className:"absolute top-full left-0 w-56 bg-seastar-800 border border-seastar-600 shadow-xl rounded-b-lg z-50 animate-in fade-in slide-in-from-top-2 duration-100",children:ae.items.map((Q,de)=>!Q.restricted||U==="ADMIN"?L.jsxs("div",{className:`px-4 py-2 text-xs border-b border-seastar-700/50 last:border-0 
                                ${Q.disabled?"text-gray-600 cursor-not-allowed":"text-gray-300 hover:bg-seastar-cyan hover:text-seastar-900 cursor-pointer"}`,onClick:Ae=>{Q.disabled||J(Q.action),Ae.stopPropagation()},children:[Q.label,Q.restricted&&L.jsx(xH,{size:10,className:"inline ml-2 text-yellow-500"})]},de):null)})]});return L.jsxs("div",{className:"flex flex-col h-screen bg-seastar-900 text-gray-100 overflow-hidden font-sans",children:[L.jsx("input",{type:"file",ref:se,onChange:X,accept:".xlsx, .xls, .csv",className:"hidden"}),L.jsxs("div",{className:"h-10 bg-seastar-900 border-b border-seastar-700 flex items-center px-4 select-none shadow-md z-50",children:[L.jsxs("div",{className:"font-bold text-seastar-cyan mr-6 flex items-center gap-2 text-sm tracking-wider cursor-pointer",onClick:()=>e(cn.DASHBOARD),children:[L.jsx(rb,{size:16})," SEASTAR V5"]}),L.jsxs("div",{className:"flex items-center gap-1",children:[L.jsxs("button",{className:`px-3 py-1 text-sm hover:bg-seastar-700 rounded flex items-center gap-1 ${t===cn.DASHBOARD?"bg-seastar-700 text-seastar-neon font-bold":"text-gray-300"}`,onClick:()=>e(cn.DASHBOARD),children:[L.jsx(dH,{size:12})," Dashboard"]}),L.jsx("div",{className:"h-4 w-px bg-seastar-700 mx-1"}),kTe.map(ae=>L.jsx(fe,{group:ae},ae.id)),L.jsx("div",{className:"h-4 w-px bg-seastar-700 mx-2"}),L.jsx("button",{onClick:V,className:"p-1 hover:text-seastar-neon",title:"Open Excel",children:L.jsx(jH,{size:16})}),L.jsx("button",{onClick:te,className:"p-1 hover:text-seastar-neon",title:"Export Excel",children:L.jsx(ix,{size:16})}),L.jsx("button",{className:`ml-4 px-3 py-1 text-xs font-bold rounded border ${t===cn.THREE_D?"bg-seastar-pink text-seastar-900 border-seastar-pink":"border-seastar-700 text-seastar-pink hover:bg-seastar-800"}`,onClick:()=>e(t===cn.THREE_D?cn.SCHEDULE:cn.THREE_D),children:t===cn.THREE_D?"BACK TO GRID":"3D VIEW"})]})]}),L.jsx("main",{className:"flex-1 flex flex-col overflow-hidden bg-seastar-900 relative",children:L.jsxs("div",{className:"flex-1 p-2 overflow-hidden flex flex-col",children:[t===cn.DASHBOARD&&L.jsx(OTe,{cables:n,nodes:i}),t===cn.SCHEDULE&&L.jsx(KK,{cables:n,isLoading:k,onSelectCable:()=>{},onCalculateRoute:ee,onCalculateAll:Y,onCalculateSelected:pe,onView3D:z,triggerImport:V,onExport:te}),t===cn.CABLE_TYPE&&L.jsx(ZK,{data:s}),t===cn.REPORT_NODE&&L.jsx(JK,{nodes:i,onUpdateNodes:W,triggerImport:V,onExport:te}),t===cn.REPORT_BOM&&L.jsx(tle,{cables:n}),t===cn.TRAY_ANALYSIS&&L.jsx(cle,{cables:n,nodes:i}),t===cn.GENERIC_GRID&&L.jsx($K,{title:m,data:h}),t===cn.THREE_D&&L.jsx("div",{className:"flex-1 border border-seastar-700 rounded-lg overflow-hidden relative shadow-2xl",children:L.jsx(GK,{nodes:i,highlightPath:_,deckHeights:u})})]})}),L.jsxs("div",{className:"h-6 bg-seastar-800 border-t border-seastar-700 flex items-center px-4 text-[10px] text-gray-400 select-none justify-between",children:[L.jsxs("div",{className:"flex items-center gap-6",children:[L.jsxs("span",{className:"flex items-center gap-1 text-seastar-cyan font-bold",children:[L.jsx(FH,{size:10})," Developer: designsir@seastargo.com"]}),L.jsxs("span",{className:"flex items-center gap-1 cursor-pointer hover:text-white",children:[L.jsx(GH,{size:10})," User: ",L.jsx("span",{className:U==="ADMIN"?"text-yellow-400 font-bold":"text-gray-400",children:U==="ADMIN"?"kbj (Admin)":"Guest"})]}),L.jsxs("span",{className:"flex items-center gap-1",children:[L.jsx(c3,{size:10})," Ship: ",L.jsx("span",{className:"text-yellow-400 font-mono",children:F})]}),L.jsxs("span",{children:["Cables: ",L.jsx("span",{className:"text-white",children:n.length})]})]}),L.jsx("div",{className:"flex items-center gap-4",children:k&&L.jsxs("span",{className:"flex items-center gap-1 text-yellow-400 animate-pulse font-bold",children:[L.jsx(vH,{size:10,className:"animate-spin"})," PROCESSING..."]})})]}),C&&L.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm",children:L.jsxs("div",{className:"bg-seastar-800 border border-seastar-600 rounded-lg shadow-2xl w-[500px] p-6 animate-in zoom-in-95",children:[L.jsxs("div",{className:"flex justify-between items-center mb-4 border-b border-seastar-700 pb-2",children:[L.jsxs("h3",{className:"text-lg font-bold text-white flex items-center gap-2",children:[L.jsx(c3,{size:18,className:"text-seastar-neon"})," Select Vessel"]}),L.jsx("button",{onClick:()=>R(!1),className:"text-gray-400 hover:text-white",children:L.jsx(Xv,{size:18})})]}),L.jsx("div",{className:"grid gap-2 mb-6",children:NTe.map(ae=>L.jsxs("button",{className:`flex items-center justify-between p-4 rounded border text-left transition-all
                                ${F===ae.id?"bg-seastar-700 border-seastar-neon shadow-[0_0_10px_rgba(0,243,255,0.2)]":"bg-seastar-900 border-seastar-700 hover:bg-seastar-700/50 hover:border-gray-500"}`,onClick:()=>{O(ae.id),R(!1)},children:[L.jsxs("div",{children:[L.jsx("div",{className:`font-bold ${F===ae.id?"text-seastar-neon":"text-white"}`,children:ae.id}),L.jsx("div",{className:"text-xs text-gray-400",children:ae.name})]}),F===ae.id&&L.jsx("div",{className:"text-seastar-neon text-xs font-bold",children:"ACTIVE"})]},ae.id))}),L.jsx("div",{className:"text-xs text-gray-500 text-center",children:"Switching ships will load the corresponding dataset from the database."})]})}),M&&L.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:L.jsxs("div",{className:"bg-seastar-800 border border-seastar-600 rounded-lg shadow-2xl w-96 p-6 animate-in zoom-in-95",children:[L.jsxs("div",{className:"flex justify-between items-center mb-4 border-b border-seastar-700 pb-2",children:[L.jsxs("h3",{className:"text-lg font-bold text-white flex items-center gap-2",children:[L.jsx(DH,{size:18,className:"text-seastar-pink"})," Deck Configuration"]}),L.jsx("button",{onClick:()=>A(!1),className:"text-gray-400 hover:text-white",children:L.jsx(Xv,{size:18})})]}),L.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto pr-2 mb-4",children:Object.keys(u).map(ae=>L.jsxs("div",{className:"flex items-center justify-between bg-seastar-900 p-2 rounded border border-seastar-700",children:[L.jsx("span",{className:"font-mono text-seastar-cyan font-bold w-12",children:ae}),L.jsxs("div",{className:"flex items-center gap-2",children:[L.jsx("span",{className:"text-xs text-gray-500",children:"Level:"}),L.jsx("input",{type:"number",step:"0.5",className:"w-20 bg-seastar-800 border border-seastar-600 rounded px-2 py-1 text-sm text-right focus:border-seastar-neon outline-none",value:u[ae],onChange:Q=>I(ae,Q.target.value)})]})]},ae))}),L.jsx("div",{className:"flex justify-end gap-2",children:L.jsx("button",{onClick:()=>A(!1),className:"px-4 py-2 bg-seastar-cyan hover:bg-cyan-400 text-seastar-900 font-bold rounded text-sm shadow-lg shadow-cyan-900/50",children:"Apply"})})]})})]})},_9=document.getElementById("root");if(!_9)throw new Error("Could not find root element to mount to");const ITe=Fj.createRoot(_9);ITe.render(L.jsx(nh.StrictMode,{children:L.jsx(LTe,{})}));
